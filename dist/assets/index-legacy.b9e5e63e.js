!function(){function e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}System.register(["./vendor-legacy.59c63cb5.js","./index-legacy.01f15e5d.js","./index-legacy.e59665c7.js"],(function(n){"use strict";var t,o,i,s,a,r,c,d,u,l,h,m,p,w,f,g,v,L,b,k,y,E,U;return{setters:[function(e){t=e.R,o=e.x,i=e.w,s=e.I,a=e.J},function(e){r=e.aQ,c=e.bX,d=e.bY,u=e.ad,l=e.bZ,h=e.bS,m=e.N,p=e.aK,w=e.y,f=e.ag,g=e.$,v=e.b_},function(e){L=e.i,b=e.e,k=e.a,y=e.B,E=e.c,U=e.W}],execute:function(){function S(e){return async(n,t)=>{const o=r(t()),i=c(t(),o.id),s=i.automaticTimezone!==e;if(i.useAutomaticTimezone&&s){const s={useAutomaticTimezone:"true",automaticTimezone:e,manualTimezone:i.manualTimezone},a={...o,timezone:s};d(a)(n,t)}return{}}}const z=u.dispatch,B=u.getState;class T extends t.PureComponent{constructor(n){super(n),e(this,"onDesktopMessageListener",(e=>{const{origin:n,data:{type:t,message:o={}}={}}=e;if(this.props.currentUser&&n===window.location.origin)switch(t){case"register-desktop":{const{version:e}=o;window.desktop||(window.desktop={}),window.desktop.version=i.valid(i.coerce(e));break}case"user-activity-update":{const{userIsActive:e,manual:n}=o;!0!==e&&!1!==e||U.userUpdateActiveStatus(e,n);break}case"notification-clicked":{const{channel:e,teamId:n}=o;window.focus(),this.props.actions.getChannelURLAction(e,n);break}}})),e(this,"handleBackSpace",(e=>{8!==e.which||["input","textarea"].includes(e.target.tagName.toLowerCase())||e.preventDefault()})),e(this,"handleBeforeUnload",(()=>{window.removeEventListener("beforeunload",this.handleBeforeUnload),document.cookie.indexOf(`${m.COOKIE.SESSION_USER}=`)>-1&&p("",this.props.currentChannelId||"")(z,B),E()}));const t=document.getElementById("u3-chatting");t&&(t.className+=" channel-view")}isValidState(){return null!=this.props.currentUser}componentDidMount(){const{currentUser:e,enableTimezone:n,actions:t,location:o}=this.props;L(),n&&t.autoUpdateTimezone(l()),window.addEventListener("beforeunload",this.handleBeforeUnload),window.addEventListener("focus",this.onFocusListener),window.addEventListener("blur",this.onBlurListener),document.hasFocus()||b(!1),window.addEventListener("message",this.onDesktopMessageListener),window.postMessage({type:"webapp-ready"},window.location.origin),e||k("/error?type=no-auth&redirect_to="+encodeURIComponent(o.pathname),!0,!1),window.addEventListener("keydown",this.handleBackSpace),this.isValidState()&&y.signalLogin()}componentWillUnmount(){E(),window.removeEventListener("keydown",this.handleBackSpace),window.removeEventListener("focus",this.onFocusListener),window.removeEventListener("blur",this.onBlurListener),window.removeEventListener("message",this.onDesktopMessageListener)}render(){return this.isValidState()?this.props.children:o(h,{message:"Xác thực tài khoản"})}onFocusListener(){b(!0)}onBlurListener(){b(!1)}}var I=T;const x=(e,n)=>(t,o)=>g.push(v(o(),e,n));n("default",s((function(e){const n=w(e);return{currentUser:r(e),currentChannelId:f(e),enableTimezone:"true"===n.ExperimentalTimezone}}),(function(e){return{actions:a({autoUpdateTimezone:S,getChannelURLAction:x},e)}}))(I))}}}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtbGVnYWN5LmI5ZTVlNjNlLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMveC9wYWNrYWdlcy9jaGF0dGluZy1yZWR1eC9zcmMvYWN0aW9ucy90aW1lem9uZS50cyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0xvZ2dlZEluL0xvZ2dlZEluLnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0xvZ2dlZEluL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbmltcG9ydCB7Z2V0Q3VycmVudFVzZXJ9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy91c2Vycyc7XG5pbXBvcnQge2dldFVzZXJUaW1lem9uZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3RpbWV6b25lJztcblxuaW1wb3J0IHtBY3Rpb25GdW5jLCBEaXNwYXRjaEZ1bmMsIEdldFN0YXRlRnVuY30gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvYWN0aW9ucyc7XG5cbmltcG9ydCB7dXBkYXRlTWV9IGZyb20gJy4vdXNlcnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXV0b1VwZGF0ZVRpbWV6b25lKGRldmljZVRpbWV6b25lOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaDogRGlzcGF0Y2hGdW5jLCBnZXRTdGF0ZTogR2V0U3RhdGVGdW5jKSA9PiB7XG4gICAgY29uc3QgY3VycmVudFVlciA9IGdldEN1cnJlbnRVc2VyKGdldFN0YXRlKCkpO1xuICAgIGNvbnN0IGN1cnJlbnRUaW1lem9uZSA9IGdldFVzZXJUaW1lem9uZShnZXRTdGF0ZSgpLCBjdXJyZW50VWVyLmlkKTtcbiAgICBjb25zdCBuZXdUaW1lem9uZUV4aXN0cyA9IGN1cnJlbnRUaW1lem9uZS5hdXRvbWF0aWNUaW1lem9uZSAhPT0gZGV2aWNlVGltZXpvbmU7XG5cbiAgICBpZiAoY3VycmVudFRpbWV6b25lLnVzZUF1dG9tYXRpY1RpbWV6b25lICYmIG5ld1RpbWV6b25lRXhpc3RzKSB7XG4gICAgICBjb25zdCB0aW1lem9uZSA9IHtcbiAgICAgICAgdXNlQXV0b21hdGljVGltZXpvbmU6ICd0cnVlJyxcbiAgICAgICAgYXV0b21hdGljVGltZXpvbmU6IGRldmljZVRpbWV6b25lLFxuICAgICAgICBtYW51YWxUaW1lem9uZTogY3VycmVudFRpbWV6b25lLm1hbnVhbFRpbWV6b25lLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSB7XG4gICAgICAgIC4uLmN1cnJlbnRVZXIsXG4gICAgICAgIHRpbWV6b25lLFxuICAgICAgfTtcblxuICAgICAgdXBkYXRlTWUodXBkYXRlZFVzZXIpKGRpc3BhdGNoLCBnZXRTdGF0ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHt9O1xuICB9O1xufVxuIiwiLyoqXG4gKiBGaWxlOiBMb2dnZWRJbi50c3hcbiAqIFByb2plY3Q6IGNoYXR0aW5nLW1pbmltYWxcbiAqIEZpbGUgQ3JlYXRlZDogMzAgU2VwIDIwMjEgMTA6NTM6NTFcbiAqIEF1dGhvcjogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIExhc3QgTW9kaWZpZWQ6IDA3IE9jdCAyMDIxIDIyOjM3OjE3XG4gKiBNb2RpZmllZCBCeTogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAyMSB1bmQzZmluZWQuY29tXG4gKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBzZW12ZXIgZnJvbSAnc2VtdmVyJztcblxuaW1wb3J0IHt2aWV3Q2hhbm5lbH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9jaGFubmVscyc7XG5pbXBvcnQgR2VuZXJhbCBmcm9tICdjaGF0dGluZy1yZWR1eC9jb25zdGFudHMvZ2VuZXJhbCc7XG5cbmltcG9ydCAqIGFzIEdsb2JhbEFjdGlvbnMgZnJvbSAnJGFjdGlvbnMvZ2xvYmFsX2FjdGlvbnMnO1xuaW1wb3J0ICogYXMgV2ViU29ja2V0QWN0aW9ucyBmcm9tICckYWN0aW9ucy93ZWJzb2NrZXRfYWN0aW9ucy5qc3gnO1xuaW1wb3J0IHtnZXRCcm93c2VyVGltZXpvbmV9IGZyb20gJyR1dGlscy90aW1lem9uZS5qc3gnO1xuaW1wb3J0IHN0b3JlIGZyb20gJyRzdG9yZXMvcmVkdXhfc3RvcmUuanN4JztcbmltcG9ydCBXZWJTb2NrZXRDbGllbnQgZnJvbSAnJGNsaWVudC93ZWJfd2Vic29ja2V0X2NsaWVudC5qc3gnO1xuaW1wb3J0IEJyb3dzZXJTdG9yZSBmcm9tICckc3RvcmVzL2Jyb3dzZXJfc3RvcmUnO1xuXG5pbXBvcnQgTG9hZGluZ1NjcmVlbiBmcm9tICdAY29tcG9uZW50cy9Mb2FkaW5nU2NyZWVuJztcblxuaW1wb3J0IHR5cGUge1N0YXRlLCBQcm9wc30gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge0Rpc3BhdGNoRnVuY30gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvYWN0aW9ucyc7XG5cbmNvbnN0IGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG5jb25zdCBnZXRTdGF0ZSA9IHN0b3JlLmdldFN0YXRlO1xuXG5jb25zdCBCQUNLU1BBQ0VfQ0hBUiA9IDg7XG5cbmNsYXNzIExvZ2dlZEluIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1My1jaGF0dGluZycpO1xuICAgIGlmIChyb290KSB7XG4gICAgICByb290LmNsYXNzTmFtZSArPSAnIGNoYW5uZWwtdmlldyc7XG4gICAgfVxuICB9XG5cbiAgaXNWYWxpZFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmN1cnJlbnRVc2VyICE9IG51bGw7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCB7Y3VycmVudFVzZXIsIGVuYWJsZVRpbWV6b25lLCBhY3Rpb25zLCBsb2NhdGlvbn0gPSB0aGlzLnByb3BzO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB3ZWJzb2NrZXRcbiAgICBXZWJTb2NrZXRBY3Rpb25zLmluaXRpYWxpemUoKTtcblxuICAgIGlmIChlbmFibGVUaW1lem9uZSkge1xuICAgICAgYWN0aW9ucy5hdXRvVXBkYXRlVGltZXpvbmUoZ2V0QnJvd3NlclRpbWV6b25lKCkpO1xuICAgIH1cblxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgd2Vic29ja2V0cyBjbG9zZSBhbmQgcmVzZXQgdmVyc2lvblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLmhhbmRsZUJlZm9yZVVubG9hZCk7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIGZvY3VzZWQgdGFiL3dpbmRvdyBzdGF0ZVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMub25Gb2N1c0xpc3RlbmVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMub25CbHVyTGlzdGVuZXIpO1xuICAgIGlmICghZG9jdW1lbnQuaGFzRm9jdXMoKSkge1xuICAgICAgR2xvYmFsQWN0aW9ucy5lbWl0QnJvd3NlckZvY3VzKGZhbHNlKTtcbiAgICB9XG5cbiAgICAvLyBMaXN0ZW4gZm9yIG1lc3NhZ2VzIGZyb20gdGhlIGRlc2t0b3AgYXBwXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9uRGVza3RvcE1lc3NhZ2VMaXN0ZW5lcik7XG5cbiAgICAvLyBUZWxsIHRoZSBkZXNrdG9wIGFwcCB0aGUgd2ViYXBwIGlzIHJlYWR5XG4gICAgd2luZG93LnBvc3RNZXNzYWdlKHt0eXBlOiAnd2ViYXBwLXJlYWR5J30sIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO1xuXG4gICAgaWYgKCFjdXJyZW50VXNlcikge1xuICAgICAgR2xvYmFsQWN0aW9ucy5lbWl0VXNlckxvZ2dlZE91dEV2ZW50KFxuICAgICAgICAnL2Vycm9yP3R5cGU9bm8tYXV0aCZyZWRpcmVjdF90bz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLnBhdGhuYW1lKSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gUHJldmVudCBiYWNrc3BhY2UgZnJvbSBuYXZpZ2F0aW5nIGJhY2sgYSBwYWdlXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUJhY2tTcGFjZSk7XG5cbiAgICBpZiAodGhpcy5pc1ZhbGlkU3RhdGUoKSkge1xuICAgICAgQnJvd3NlclN0b3JlLnNpZ25hbExvZ2luKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgV2ViU29ja2V0QWN0aW9ucy5jbG9zZSgpO1xuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUJhY2tTcGFjZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5vbkZvY3VzTGlzdGVuZXIpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5vbkJsdXJMaXN0ZW5lcik7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9uRGVza3RvcE1lc3NhZ2VMaXN0ZW5lcik7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWRTdGF0ZSgpKSB7XG4gICAgICByZXR1cm4gPExvYWRpbmdTY3JlZW4gbWVzc2FnZT0nWMOhYyB0aOG7sWMgdMOgaSBraG/huqNuJyAvPjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgfVxuXG4gIG9uRm9jdXNMaXN0ZW5lcigpIHtcbiAgICBHbG9iYWxBY3Rpb25zLmVtaXRCcm93c2VyRm9jdXModHJ1ZSk7XG4gIH1cblxuICBvbkJsdXJMaXN0ZW5lcigpIHtcbiAgICBHbG9iYWxBY3Rpb25zLmVtaXRCcm93c2VyRm9jdXMoZmFsc2UpO1xuICB9XG5cbiAgLy8gbGlzdGVuIGZvciBtZXNzYWdlcyBmcm9tIHRoZSBkZXNrdG9wIGFwcFxuICBvbkRlc2t0b3BNZXNzYWdlTGlzdGVuZXIgPSAoZXY6IE1lc3NhZ2VFdmVudDxhbnk+KSA9PiB7XG4gICAgY29uc3Qge29yaWdpbiwgZGF0YToge3R5cGUsIG1lc3NhZ2UgPSB7fX0gPSB7fX0gPSBldjtcblxuICAgIGlmICghdGhpcy5wcm9wcy5jdXJyZW50VXNlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob3JpZ2luICE9PSB3aW5kb3cubG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdyZWdpc3Rlci1kZXNrdG9wJzoge1xuICAgICAgICBjb25zdCB7dmVyc2lvbn0gPSBtZXNzYWdlO1xuICAgICAgICBpZiAoIXdpbmRvdy5kZXNrdG9wKSB7XG4gICAgICAgICAgd2luZG93LmRlc2t0b3AgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuZGVza3RvcC52ZXJzaW9uID0gc2VtdmVyLnZhbGlkKHNlbXZlci5jb2VyY2UodmVyc2lvbikpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3VzZXItYWN0aXZpdHktdXBkYXRlJzoge1xuICAgICAgICBjb25zdCB7dXNlcklzQWN0aXZlLCBtYW51YWx9ID0gbWVzc2FnZTtcblxuICAgICAgICAvLyB1cGRhdGUgdGhlIHNlcnZlciB3aXRoIHRoZSB1c2VycyBjdXJyZW50IGF3YXkgc3RhdHVzXG4gICAgICAgIGlmICh1c2VySXNBY3RpdmUgPT09IHRydWUgfHwgdXNlcklzQWN0aXZlID09PSBmYWxzZSkge1xuICAgICAgICAgIFdlYlNvY2tldENsaWVudC51c2VyVXBkYXRlQWN0aXZlU3RhdHVzKHVzZXJJc0FjdGl2ZSwgbWFudWFsKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ25vdGlmaWNhdGlvbi1jbGlja2VkJzoge1xuICAgICAgICBjb25zdCB7Y2hhbm5lbCwgdGVhbUlkfSA9IG1lc3NhZ2U7XG4gICAgICAgIHdpbmRvdy5mb2N1cygpO1xuXG4gICAgICAgIC8vIG5hdmlnYXRlIHRvIHRoZSBhcHByb3ByaWF0ZSBjaGFubmVsXG4gICAgICAgIHRoaXMucHJvcHMuYWN0aW9ucy5nZXRDaGFubmVsVVJMQWN0aW9uKGNoYW5uZWwsIHRlYW1JZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBoYW5kbGVCYWNrU3BhY2UgPSAoZTogYW55KSA9PiB7XG4gICAgY29uc3QgZXhjbHVkZWRFbGVtZW50cyA9IFsnaW5wdXQnLCAndGV4dGFyZWEnXTtcblxuICAgIGlmIChlLndoaWNoID09PSBCQUNLU1BBQ0VfQ0hBUiAmJiAhZXhjbHVkZWRFbGVtZW50cy5pbmNsdWRlcyhlLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZUJlZm9yZVVubG9hZCA9ICgpID0+IHtcbiAgICAvLyByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIHRvIHByZXZlbnQgZ2V0dGluZyBzdHVjayBpbiBhIGxvb3BcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5oYW5kbGVCZWZvcmVVbmxvYWQpO1xuXG4gICAgaWYgKGRvY3VtZW50LmNvb2tpZS5pbmRleE9mKGAke0dlbmVyYWwuQ09PS0lFLlNFU1NJT05fVVNFUn09YCkgPiAtMSkge1xuICAgICAgdmlld0NoYW5uZWwoJycsIHRoaXMucHJvcHMuY3VycmVudENoYW5uZWxJZCB8fCAnJykoZGlzcGF0Y2ggYXMgRGlzcGF0Y2hGdW5jLCBnZXRTdGF0ZSk7XG4gICAgfVxuICAgIFdlYlNvY2tldEFjdGlvbnMuY2xvc2UoKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VkSW47XG4iLCIvKipcbiAqIEZpbGU6IGluZGV4LnRzXG4gKiBQcm9qZWN0OiBjaGF0dGluZy1taW5pbWFsXG4gKiBGaWxlIENyZWF0ZWQ6IDMwIFNlcCAyMDIxIDEwOjUzOjQxXG4gKiBBdXRob3I6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBMYXN0IE1vZGlmaWVkOiAwNyBPY3QgMjAyMSAxNjo1Mzo1MFxuICogTW9kaWZpZWQgQnk6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgdW5kM2ZpbmVkLmNvbVxuICovXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7YmluZEFjdGlvbkNyZWF0b3JzLCBEaXNwYXRjaH0gZnJvbSAncmVkdXgnO1xuXG5pbXBvcnQge2F1dG9VcGRhdGVUaW1lem9uZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy90aW1lem9uZSc7XG5pbXBvcnQge2dldEN1cnJlbnRDaGFubmVsSWR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy9jaGFubmVscyc7XG5pbXBvcnQge2dldENvbmZpZ30gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2dlbmVyYWwnO1xuaW1wb3J0IHtnZXRDdXJyZW50VXNlcn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3VzZXJzJztcbmltcG9ydCB7IEdlbmVyaWNBY3Rpb24gfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcblxuaW1wb3J0IHticm93c2VySGlzdG9yeX0gZnJvbSAnJHV0aWxzL2Jyb3dzZXJfaGlzdG9yeSc7XG5pbXBvcnQge2dldENoYW5uZWxVUkx9IGZyb20gJyR1dGlscy91dGlscyc7XG5cbmltcG9ydCBMb2dnZWRJbiBmcm9tICcuL0xvZ2dlZEluJztcbmltcG9ydCB7IEdsb2JhbFN0YXRlIH0gZnJvbSAnJHR5cGVzL3N0b3JlJztcbmltcG9ydCB7U3RhdGVQcm9wcywgRGlzcGF0Y2hQcm9wcywgT3duUHJvcHMgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IENoYW5uZWwgfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9jaGFubmVscyc7XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZTogR2xvYmFsU3RhdGUpOiBTdGF0ZVByb3BzIHtcbiAgY29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKHN0YXRlKTtcblxuICByZXR1cm4ge1xuICAgIGN1cnJlbnRVc2VyOiBnZXRDdXJyZW50VXNlcihzdGF0ZSksXG4gICAgY3VycmVudENoYW5uZWxJZDogZ2V0Q3VycmVudENoYW5uZWxJZChzdGF0ZSksXG4gICAgZW5hYmxlVGltZXpvbmU6IGNvbmZpZy5FeHBlcmltZW50YWxUaW1lem9uZSA9PT0gJ3RydWUnLFxuICB9O1xufVxuXG5jb25zdCBnZXRDaGFubmVsVVJMQWN0aW9uID0gKGNoYW5uZWw6IENoYW5uZWwsIHRlYW1JZDogc3RyaW5nKSA9PiAoZGlzcGF0Y2g6IERpc3BhdGNoLCBnZXRTdGF0ZTogKCkgPT4gR2xvYmFsU3RhdGUpID0+IGJyb3dzZXJIaXN0b3J5LnB1c2goZ2V0Q2hhbm5lbFVSTChnZXRTdGF0ZSgpLCBjaGFubmVsLCB0ZWFtSWQpKTtcblxuZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoOiBEaXNwYXRjaDxHZW5lcmljQWN0aW9uPikge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbnM6IGJpbmRBY3Rpb25DcmVhdG9ycyhcbiAgICAgIHtcbiAgICAgICAgYXV0b1VwZGF0ZVRpbWV6b25lLFxuICAgICAgICBnZXRDaGFubmVsVVJMQWN0aW9uLFxuICAgICAgfSxcbiAgICAgIGRpc3BhdGNoXG4gICAgKSxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdDxTdGF0ZVByb3BzLCBEaXNwYXRjaFByb3BzLCBPd25Qcm9wcywgR2xvYmFsU3RhdGU+KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShMb2dnZWRJbik7XG4iXSwibmFtZXMiOlsiZGV2aWNlVGltZXpvbmUiLCJkaXNwYXRjaCIsImdldFN0YXRlIiwiY3VycmVudFVlciIsImdldEN1cnJlbnRVc2VyIiwiY3VycmVudFRpbWV6b25lIiwiZ2V0VXNlclRpbWV6b25lIiwiaWQiLCJuZXdUaW1lem9uZUV4aXN0cyIsImF1dG9tYXRpY1RpbWV6b25lIiwidXNlQXV0b21hdGljVGltZXpvbmUiLCJ0aW1lem9uZSIsIm1hbnVhbFRpbWV6b25lIiwidXBkYXRlZFVzZXIiLCJzdG9yZSIsIlJlYWN0IiwiUHVyZUNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJfZGVmaW5lUHJvcGVydHkiLCJldiIsIm9yaWdpbiIsImRhdGEiLCJ0eXBlIiwibWVzc2FnZSIsInRoaXMiLCJjdXJyZW50VXNlciIsIndpbmRvdyIsImxvY2F0aW9uIiwidmVyc2lvbiIsImRlc2t0b3AiLCJzZW12ZXIiLCJ2YWxpZCIsImNvZXJjZSIsInVzZXJJc0FjdGl2ZSIsIm1hbnVhbCIsInVzZXJVcGRhdGVBY3RpdmVTdGF0dXMiLCJjaGFubmVsIiwidGVhbUlkIiwiZm9jdXMiLCJhY3Rpb25zIiwiZ2V0Q2hhbm5lbFVSTEFjdGlvbiIsImUiLCJ3aGljaCIsImluY2x1ZGVzIiwidGFyZ2V0IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlQmVmb3JlVW5sb2FkIiwiZG9jdW1lbnQiLCJjb29raWUiLCJpbmRleE9mIiwiR2VuZXJhbCIsIkNPT0tJRSIsIlNFU1NJT05fVVNFUiIsImN1cnJlbnRDaGFubmVsSWQiLCJyb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc05hbWUiLCJpc1ZhbGlkU3RhdGUiLCJjb21wb25lbnREaWRNb3VudCIsImVuYWJsZVRpbWV6b25lIiwiYXV0b1VwZGF0ZVRpbWV6b25lIiwiZ2V0QnJvd3NlclRpbWV6b25lIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uRm9jdXNMaXN0ZW5lciIsIm9uQmx1ckxpc3RlbmVyIiwiaGFzRm9jdXMiLCJvbkRlc2t0b3BNZXNzYWdlTGlzdGVuZXIiLCJwb3N0TWVzc2FnZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInBhdGhuYW1lIiwiaGFuZGxlQmFja1NwYWNlIiwic2lnbmFsTG9naW4iLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbmRlciIsImNoaWxkcmVuIiwiTG9hZGluZ1NjcmVlbiIsIkxvZ2dlZEluIiwiYnJvd3Nlckhpc3RvcnkiLCJwdXNoIiwiZ2V0Q2hhbm5lbFVSTCIsImNvbm5lY3QiLCJzdGF0ZSIsImNvbmZpZyIsImdldENvbmZpZyIsImdldEN1cnJlbnRDaGFubmVsSWQiLCJFeHBlcmltZW50YWxUaW1lem9uZSIsImJpbmRBY3Rpb25DcmVhdG9ycyJdLCJtYXBwaW5ncyI6Im1pQkFTbUNBLGdCQUNuQkMsRUFBd0JDLFdBQzlCQyxFQUFhQyxFQUFlRixLQUM1QkcsRUFBa0JDLEVBQWdCSixJQUFZQyxFQUFXSSxJQUN6REMsRUFBb0JILEVBQWdCSSxvQkFBc0JULEtBRTVESyxFQUFnQkssc0JBQXdCRixFQUFtQixPQUN2REcsRUFBVyxDQUNmRCxxQkFBc0IsT0FDdEJELGtCQUFtQlQsRUFDbkJZLGVBQWdCUCxFQUFnQk8sZ0JBRzVCQyxFQUFjLElBQ2ZWLEVBQ0hRLFNBQUFBLEtBR09FLEdBQWFaLEVBQVVDLFNBRzNCLElDQVgsTUFBTUQs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
