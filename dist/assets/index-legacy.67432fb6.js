!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t=document.createElement("style");t.innerHTML=".u3-cxx-2eca89dd{display:inline-flex;width:100%;justify-content:center;border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgba(0,0,0,var(--tw-bg-opacity));--tw-bg-opacity: .2}.u3-cxx-2eca89dd:hover{--tw-bg-opacity: .3}.u3-cxx-2eca89dd{padding:.125rem;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.u3-cxx-2eca89dd:focus{outline:2px solid transparent;outline-offset:2px}.u3-cxx-286d3fce{position:absolute;right:0px;margin-top:.5rem;width:10rem;transform-origin:top right}.u3-cxx-286d3fce>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse));--tw-divide-opacity: 1;border-color:rgba(245,245,245,var(--tw-divide-opacity))}.u3-cxx-286d3fce{border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-shadow: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.u3-cxx-286d3fce:focus{outline:2px solid transparent;outline-offset:2px}.u3-cxx-286d3fce{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgba(0, 0, 0, var(--tw-ring-opacity));--tw-ring-opacity: .05;z-index:50}.u3-cxx-f9aed0ee{display:flex;height:2rem;width:100%;flex-direction:row;align-items:center;justify-content:space-between;background-color:var(--u3-chat-primary-color);padding-left:.5rem;padding-right:.5rem;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.u3-cxx-f9aed0ee .u3-cxx-3b27c386{position:relative;display:inline-flex;flex-grow:1;flex-direction:row;align-items:center}.u3-cxx-f9aed0ee .u3-cxx-3b27c386>span{margin-right:.25rem}.u3-cxx-f9aed0ee .u3-cxx-3b27c386 h3{font-size:.875rem!important;line-height:1.25rem!important;font-weight:700!important}.u3-cxx-f9aed0ee .u3-cxx-3b27c386 .u3-cxx-d95bf1e3{position:absolute;top:0px;left:-.125rem;height:.5rem;width:.5rem;border-radius:9999px;background-color:transparent;opacity:.8}.u3-cxx-f9aed0ee .u3-cxx-3b27c386 .u3-cxx-d95bf1e3.u3-cxx-94c03c1e{--tw-bg-opacity: 1;background-color:rgba(217,119,6,var(--tw-bg-opacity))}.u3-cxx-f9aed0ee .u3-cxx-3b27c386 .u3-cxx-d95bf1e3.u3-cxx-6db5bde9{--tw-bg-opacity: 1;background-color:rgba(220,38,38,var(--tw-bg-opacity))}.u3-cxx-f9aed0ee .u3-cxx-3b27c386 .u3-cxx-d95bf1e3.u3-cxx-1f6ae2bf{opacity:1}.u3-cxx-f9aed0ee .u3-cxx-51f29819{display:flex;flex-direction:row;align-items:baseline}.u3-cxx-f9aed0ee .u3-cxx-51f29819>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.u3-cxx-f9aed0ee .u3-cxx-51f29819 .u3-cxx-36d27ec1{height:1rem;width:1rem}.u3-cxx-f9aed0ee .u3-cxx-51f29819 .u3-cxx-6962ecaf{height:.875rem;width:.875rem;border-radius:9999px;background-color:var(--u3-chat-secondary-color)}.u3-cxx-e957fb9b{display:flex;width:100%;flex-grow:1;flex-direction:column;align-items:center;justify-content:center}.u3-cxx-7cfe02fb{height:0px;overflow:hidden}\n",document.head.appendChild(t),System.register(["./vendor-legacy.59c63cb5.js","./index-legacy.90961ca2.js"],(function(t,n){"use strict";var a,s,o,i,r,l,c,d,u,m,h,p,_,g,f,b,v,y,w,E,C,S,T,k,A,x,I,N,D,R,L,M,O,P,U,F,G,H,j,B,V,Y,W,q,z,J,$,K,Q,X,Z,ee,te,ne,ae,se,oe,ie,re,le,ce,de,ue,me,he,pe,_e,ge,fe,be,ve,ye,we,Ee,Ce,Se,Te,ke,Ae,xe,Ie,Ne,De,Re,Le,Me,Oe,Pe,Ue,Fe,Ge,He,je,Be,Ve,Ye,We,qe,ze,Je,$e,Ke,Qe,Xe,Ze,et,tt,nt,at,st,ot,it,rt,lt,ct,dt,ut,mt,ht,pt,_t,gt,ft,bt,vt,yt,wt,Et,Ct,St,Tt,kt,At,xt,It,Nt,Dt,Rt,Lt,Mt,Ot,Pt,Ut,Ft,Gt,Ht,jt,Bt,Vt,Yt,Wt,qt,zt,Jt,$t,Kt,Qt,Xt,Zt,en,tn,nn,an,sn,on,rn,ln,cn,dn,un,mn,hn,pn,_n,gn,fn,bn,vn,yn,wn,En,Cn,Sn,Tn,kn,An,xn,In,Nn,Dn,Rn,Ln,Mn,On,Pn,Un;return{setters:[function(e){a=e.q,s=e.E,o=e.F,i=e.a,r=e.R,l=e.B,c=e.x,d=e.G,u=e.I,m=e.J,h=e.K,p=e.A,_=e.y,g=e.S,f=e.C,b=e.L,v=e.M,y=e.N,w=e.O},function(e){E=e.g,C=e.a,S=e.b,T=e.c,k=e.f,A=e.d,x=e.e,I=e.C,N=e.l,D=e.h,R=e.i,L=e.j,M=e.k,O=e.m,P=e.n,U=e.o,F=e.t,G=e.P,H=e.p,j=e.s,B=e.q,V=e.r,Y=e.u,W=e.v,q=e.L,z=e.w,J=e.x,$=e.A,K=e.y,Q=e.z,X=e.B,Z=e.D,ee=e.E,te=e.F,ne=e.U,ae=e.G,se=e.H,oe=e.I,ie=e.J,re=e.K,le=e.M,ce=e.N,de=e.O,ue=e.Q,me=e.R,he=e.S,pe=e.T,_e=e.V,ge=e.W,fe=e.X,be=e.Y,ve=e.Z,ye=e._,we=e.$,Ee=e.a0,Ce=e.a1,Se=e.a2,Te=e.a3,ke=e.a4,Ae=e.a5,xe=e.a6,Ie=e.a7,Ne=e.a8,De=e.a9,Re=e.aa,Le=e.ab,Me=e.ac,Oe=e.ad,Pe=e.ae,Ue=e.af,Fe=e.ag,Ge=e.ah,He=e.ai,je=e.aj,Be=e.ak,Ve=e.al,Ye=e.am,We=e.an,qe=e.ao,ze=e.ap,Je=e.aq,$e=e.ar,Ke=e.as,Qe=e.at,Xe=e.au,Ze=e.av,et=e.aw,tt=e.ax,nt=e.ay,at=e.az,st=e.aA,ot=e.aB,it=e.aC,rt=e.aD,lt=e.aE,ct=e.aF,dt=e.aG,ut=e.aH,mt=e.aI,ht=e.aJ,pt=e.aK,_t=e.aL,gt=e.aM,ft=e.aN,bt=e.aO,vt=e.aP,yt=e.aQ,wt=e.aR,Et=e.aS,Ct=e.aT,St=e.aU,Tt=e.aV,kt=e.aW,At=e.aX,xt=e.aY,It=e.aZ,Nt=e.a_,Dt=e.a$,Rt=e.b0,Lt=e.b1,Mt=e.b2,Ot=e.b3,Pt=e.b4,Ut=e.b5,Ft=e.b6,Gt=e.b7,Ht=e.b8,jt=e.b9,Bt=e.ba,Vt=e.bb,Yt=e.bc,Wt=e.bd,qt=e.be,zt=e.bf,Jt=e.bg,$t=e.bh,Kt=e.bi,Qt=e.bj,Xt=e.bk,Zt=e.bl,en=e.bm,tn=e.bn,nn=e.bo,an=e.bp,sn=e.bq,on=e.br,rn=e.bs,ln=e.bt,cn=e.bu,dn=e.bv,un=e.bw,mn=e.bx,hn=e.by,pn=e.bz,_n=e.bA,gn=e.bB,fn=e.bC,bn=e.bD,vn=e.bE,yn=e.bF,wn=e.bG,En=e.bH,Cn=e.bI,Sn=e.bJ,Tn=e.bK,kn=e.bL,An=e.bM,xn=e.bN,In=e.bO,Nn=e.bP,Dn=e.bQ,Rn=e.bR,Ln=e.bS,Mn=e.bT,On=e.bU,Pn=e.bV,Un=e.bW}],execute:function(){function Fn(e){return async(t,n)=>{const s=n(),o=O(s),i=B(o,e),r=P(s,i);if(!r)return t(U(o,e));F("api","api_channels_join_direct");const l=Date.now(),c={category:G.CATEGORY_DIRECT_CHANNEL_SHOW,name:e,value:"true"},d={category:G.CATEGORY_CHANNEL_OPEN_TIME,name:r.id,value:l.toString()},u=[{type:H.RECEIVED_PREFERENCES,data:[c]},{type:H.RECEIVED_PREFERENCES,data:[d]}];return t(a(u)),t(j(o,[{user_id:o,...c},{user_id:o,...d}])),{data:r}}}function Gn(){return async(e,t)=>{const n=t(),a=E(n),s=C(n,a),o=S(n,s?s.id:"all",s?s.type:"").filter((e=>!T(n,e)));await e(k(A(n),o));const i=x(n);for(const r of i){const t=T(n,r);t&&t.type===I.DM_CHANNEL?e(N(t.id)):t&&t.type===I.GM_CHANNEL&&e(D(t.id))}return await R(),{data:!0}}}function Hn(){return document.getElementById("u3-chatting")}function jn(){return{clientId:Bn("u3:secret")||"",userToken:Bn("u3:session")||""}}function Bn(e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)if(t[n].getAttribute("property")===e)return t[n].getAttribute("content");return""}t({$:function(e,t=Date.now()){return{type:$.UPDATE_CHANNEL_LAST_VIEWED_AT,channel_id:e,last_viewed_at:t}},A:function(e){Sa.handleViewAction({type:$.TOGGLE_GET_PUBLIC_LINK_MODAL,value:!0,fileId:e})},C:Ls,E:function(e){Sa.handleViewAction({type:$.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL,value:e})},G:function(e){return async(t,n)=>{const a=n(),s=O(a);return Ee(a).forEach((t=>{const n=q.getPreviousChannelName(s,t.id,a),o=q.getPenultimateChannelName(s,t.id,a);e===n?q.removePreviousChannelName(s,t.id,a):e===o&&q.removePenultimateChannelName(s,t.id,a)})),{data:!0}}},H:function(e,t){return async(n,a)=>{const s=a(),o=De(s,e);if(!s.entities.posts.postsInChannel[e]||!o)return t&&await new Promise((e=>setTimeout(e,t))),n(aa(e,!0));const i=Re(s,o);return n(sa(e,i.create_at,!0))}},I:Gn,J:Fn,L:function(e){function t(e){const t=Ia(),n=O(t),s=e.team_id||A(t),o=bn(t),i=vn(t)===yn.PIN,r=vn(t)===yn.CHANNEL_FILES,l=wn(t,e.id),c=Fe(t);xa(it(e.id));const d=q.getPreviousChannelName(n,s);d!==e.name&&(q.setPenultimateChannelName(n,s,d),q.setPreviousChannelName(n,s,e.name)),o&&i&&xa(En(yn.PIN,e.id)),o&&r&&xa(En(yn.CHANNEL_FILES,e.id)),c&&R(),xa(a([{type:ot.SELECT_CHANNEL,data:e.id},{type:$.SELECT_CHANNEL_WITH_MEMBER,data:e.id,channel:e,member:l||{}}])),Xn(t)&&xa(Zn(n,e.id))}e.fake?async function(e,t,n){const a=Ia(),s=O(a),o=fn(e),i=await U(s,o)(xa,Ia);"data"in i?t(i.data):n()}(e,(e=>{t(e)}),(()=>{we.push("/")})):t(e)},M:Fa,O:function(){xa(At())},Q:function(e){return t=>{t({type:$.UPDATE_TOAST_STATUS,data:e})}},R:aa,T:eo,U:function({channelId:e,postId:t,type:n}){return async s=>{const o=I.POST_CHUNK_SIZE/2;s({type:$.LOADING_POSTS,data:!0,channelId:e});let i;i=n===xe.BEFORE_ID?await s(Ie(e,t,0,o)):await s(Ne(e,t,0,o));const{data:r}=i,l=[{type:$.LOADING_POSTS,data:!1,channelId:e}];return i.error?{error:i.error,moreToLoad:!0}:(l.push({type:$.INCREASE_POST_VISIBILITY,data:e,amount:r.order.length}),s(a(l)),{moreToLoad:n===xe.BEFORE_ID?""!==r.prev_post_id:""!==r.next_post_id})}},V:function(e){return async t=>{const n=Date.now(),{data:a,error:s}=await t(ke(e,0,Ae.POST_CHUNK_SIZE/2));return s?{error:s,atLatestMessage:!1,atOldestmessage:!1}:(t({type:$.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:n}),{data:a,atLatestMessage:""===a.next_post_id,atOldestmessage:""===a.prev_post_id})}},X:function(e,t){return async n=>{const{data:a,error:s}=await n(Te(e,t,Ae.POST_CHUNK_SIZE/2));return s?{error:s,atLatestMessage:!1,atOldestmessage:!1}:(n({type:$.INCREASE_POST_VISIBILITY,data:e,amount:a.order.length}),{atLatestMessage:""===a.next_post_id,atOldestmessage:""===a.prev_post_id})}},Y:function(){return e=>{e({type:$.UPDATE_MOBILE_VIEW,data:he()})}},Z:sa,_:Wa,a:Da,a0:na,a1:function(e,t){const n=na();return async(a,s)=>{const o=s(),i=A(o),r=await a(Ce(e,i,t)),l=r.data;return l?{...r,data:{...l,users:n(o,l.users||[]),out_of_channel:n(o,l.out_of_channel||[])}}:r}},a2:function(e,t,n){return async(a,s)=>{const o=s(),i=A(o);if(!i)return{data:!1};const{data:r,error:l}=await a(M(i,e));return r&&t?t(r):l&&n&&n({id:l.server_error_id,...l}),{data:!0}}},a3:function(e){Sa.handleViewAction({type:$.TOGGLE_CHANNEL_NAME_UPDATE_MODAL,value:!0,channel:e})},a4:function(e,t){return xa((async(n,a)=>{const s=a(),o=K(s),i=Date.now(),r=cn(s),l=r?r.member_count:0,c=dn(o.TimeBetweenUserTypingUpdatesMilliseconds),d=dn(o.MaxNotificationsPerChannel);return i-Na>c&&l<d&&"true"===o.EnableUserTypingMessages&&(ia.userTyping(e,t),Na=i),{data:!0}}))},a5:function(){Sa.handleViewAction({type:$.TOGGLE_SHORTCUTS_MODAL,value:!0})},a6:function(){return()=>{Le.emit(Me.POST_LIST_SCROLL_TO_BOTTOM)}},a7:function(){return async(e,t)=>{const n=t(),a=pe(n)||{},s=_e(n),o=ge(n),i=Object.assign({},s,o);let r=fe(i,(e=>{const t=O(e),n=A(e);return q.getPreviousChannelName(t,n)})(n));return a.id===r.id&&(r=fe(i,be(n,A(n)))),e((l=r,async(e,t)=>{const n=t(),a=ve(n);if(l.fake||l.userId){const t=l.userId?l.name:l.display_name,s=ye(n,t);if(!s)return{error:!0};if((await e(Fn(s.id))).error)return{error:!0};we.push(`${a}/messages/@${l.name}`)}else if(l.type===I.GM_CHANNEL){const e=T(n,l.id);we.push(`${a}/group/${e.name}`)}else we.push(`${a}/group/${l.name}`);return{data:!0}}));var l}},a8:Hn,a9:ma,b:Ra,c:ua,e:function(e){xa({type:$.BROWSER_CHANGE_FOCUS,focus:e})},f:$a,g:jn,h:ps,i:da,j:function(e){null==e||e.focus({preventScroll:!0})},k:function(e,t){var n=Array.isArray(e)?e:function(e){void 0===e&&(e=document.body);return null==e?[]:Array.from(e.querySelectorAll(hs))}(e),a=document.activeElement,s=function(){if(t&(cs.First|cs.Next))return us.Next;if(t&(cs.Previous|cs.Last))return us.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),o=function(){if(t&cs.First)return 0;if(t&cs.Previous)return Math.max(0,n.indexOf(a))-1;if(t&cs.Next)return Math.max(0,n.indexOf(a))+1;if(t&cs.Last)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),i=t&cs.NoScroll?{preventScroll:!0}:{},r=0,l=n.length,c=void 0;do{var d;if(r>=l||r+l<=0)return ds.Error;var u=o+r;if(t&cs.WrapAround)u=(u+l)%l;else{if(u<0)return ds.Underflow;if(u>=l)return ds.Overflow}c=n[u],null==(d=c)||d.focus(i),r+=s}while(c!==document.activeElement);c.hasAttribute("tabindex")||c.setAttribute("tabindex","0");return ds.Success},m:ls,n:za,o:rs,p:Ya,s:Qa,t:as,u:ns,v:ss,w:ws,x:Ja,y:function(){return l.exports.useContext(Ma)}});var Vn={"about.buildnumber":"Build Number:","about.cloudEdition":"Cloud","about.copyright":"Copyright 2015 - {currentYear} Gomlo, Inc. All rights reserved","about.database":"Database:","about.date":"Build Date:","about.dbversion":"Database Schema Version:","about.enterpriseEditione1":"Enterprise Edition","about.enterpriseEditionLearn":"Learn more about Enterprise Edition at ","about.enterpriseEditionSst":"High trust messaging for the enterprise","about.enterpriseEditionSt":"Modern communication from behind your firewall.","about.hash":"Build Hash:","about.hashee":"EE Build Hash:","about.hashwebapp":"Webapp Build Hash:","about.licensed":"Licensed to:","about.notice":"Gomlo is made possible by the open source software used in our [server](!https://about.chatting.gomlo.me/platform-notice-txt/), [desktop](!https://about.chatting.gomlo.me/desktop-notice-txt/) and [mobile](!https://about.chatting.gomlo.me/mobile-notice-txt/) apps.","about.privacy":"Privacy Policy","about.teamEditionLearn":"Join the Gomlo community at ","about.teamEditionSt":"All your team communication in one place, instantly searchable and accessible anywhere.","about.teamEditiont0":"Team Edition","about.teamEditiont1":"Enterprise Edition","about.title":"About {appTitle}","about.tos":"Terms of Service","about.version":"Gomlo Version:","access_history.title":"Access History","accessibility.button.attachment":"attachment","accessibility.button.dialog":"{dialogName} dialog","accessibility.button.Info":"Info","accessibility.button.Search":"Search","accessibility.sections.centerContent":"message list main region","accessibility.sections.centerFooter":"message input complimentary region","accessibility.sections.channelHeader":"channel header region","accessibility.sections.lhsHeader":"team menu region","accessibility.sections.lhsList":"channel sidebar region","accessibility.sections.lhsNavigator":"channel navigator region","accessibility.sections.rhs":"{regionTitle} complimentary region","accessibility.sections.rhsContent":"message details complimentary region","accessibility.sections.rhsFooter":"reply input region","accessibility.sidebar.types.mention":"mention","accessibility.sidebar.types.mentions":"mentions","accessibility.sidebar.types.private":"private channel","accessibility.sidebar.types.public":"public channel","accessibility.sidebar.types.shared":"shared","accessibility.sidebar.types.unread":"unread","activity_log_modal.android":"Android","activity_log_modal.androidNativeApp":"Android Native App","activity_log_modal.androidNativeClassicApp":"Android Native Classic App","activity_log_modal.desktop":"Native Desktop App","activity_log_modal.iphoneNativeApp":"iPhone Native App","activity_log_modal.iphoneNativeClassicApp":"iPhone Native Classic App","activity_log.activeSessions":"Active Sessions","activity_log.browser":"Browser: {browser}","activity_log.firstTime":"First time active: {date}, {time}","activity_log.lastActivity":"Last activity: {date}, {time}","activity_log.logout":"Log Out","activity_log.moreInfo":"More info","activity_log.os":"OS: {os}","activity_log.sessionId":"Session ID: {id}","activity_log.sessionsDescription":"Sessions are created when you log in through a new browser on a device. Sessions let you use Gomlo without having to log in again for a time period specified by the System Admin. To end the session sooner, use the 'Log Out' button.","add_channels_to_scheme.title":"Add Channels to **Channel Selection** List","add_groups_to_channel.title":"Add New Groups to {channelName} Channel","add_groups_to_team.title":"Add New Groups to {teamName} Team","add_teams_to_scheme.confirmation.accept":"Yes, Move Team","add_teams_to_scheme.confirmation.message":"This team is already selected in another team scheme, are you sure you want to move it to this team scheme?","add_teams_to_scheme.confirmation.title":"Team Override Scheme Change?","add_teams_to_scheme.title":"Add Teams to **Team Selection** List","add_user_to_channel_modal.add":"Add","add_user_to_channel_modal.cancel":"Cancel","add_user_to_channel_modal.help":"Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.","add_user_to_channel_modal.membershipExistsError":"{name} is already a member of that channel","add_user_to_channel_modal.title":"Add {name} to a Channel","add_users_to_role.title":"Add users to {roleName}","add_users_to_team.title":"Add New Members to {teamName} Team","announcement_bar.error.email_verification_required":"Check your email inbox to verify the address.","announcement_bar.error.past_grace":"Enterprise license is expired and some features may be disabled. Please contact your System Administrator for details.","announcement_bar.error.preview_mode":"Preview Mode: Email notifications have not been configured.","announcement_bar.error.warn_metric_status.link":"Learn more","announcement_bar.notification.email_verified":"Email verified","announcement_bar.number_active_users_warn_metric_status.text":"You now have over {limit} users. We strongly recommend using advanced features for large-scale servers.","announcement_bar.number_of_posts_warn_metric_status.text":"You now have over {limit} posts. We strongly advise using advanced features to avoid degraded performance.","announcement_bar.warn_metric_status_ack.text":"Thank you for contacting Gomlo. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_posts_ack.text":"Thank you for contacting Gomlo. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_posts.text":"You now have over 2,000,000 posts. We strongly advise using advanced features to avoid degraded performance.","announcement_bar.warn_metric_status.number_of_users_ack.text":"Thank you for contacting Gomlo. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_users.text":"You now have over 500 users. We strongly recommend using advanced features for large-scale servers.","announcement_bar.warn.contact_support_text":"To renew your license, contact support at support@chatting.gomlo.me.","announcement_bar.warn.email_support":"[Contact support](!{email}).","announcement_bar.warn.no_internet_connection":"Looks like you do not have access to the internet.","api.channel.add_guest.added":"{addedUsername} added to the channel as a guest by {username}.","api.channel.add_member.added":"{addedUsername} added to the channel by {username}.","api.channel.delete_channel.archived":"{username} archived the channel.","api.channel.guest_join_channel.post_and_forget":"{username} joined the channel as a guest.","api.channel.join_channel.post_and_forget":"{username} joined the channel.","api.channel.leave.left":"{username} left the channel.","api.channel.post_convert_channel_to_private.updated_from":"{username} converted the channel from public to private","api.channel.post_update_channel_displayname_message_and_forget.updated_from":"{username} updated the channel display name from: {old} to: {new}","api.channel.post_update_channel_header_message_and_forget.removed":"{username} removed the channel header (was: {old})","api.channel.post_update_channel_header_message_and_forget.updated_from":"{username} updated the channel header <br></br><strong>From:</strong> {old} <br></br><strong>To:</strong> {new}","api.channel.post_update_channel_header_message_and_forget.updated_to":"{username} updated the channel header to: {new}","api.channel.remove_member.removed":"{removedUsername} was removed from the channel","api.channel.restore_channel.unarchived":"{username} unarchived the channel.","api.team.add_member.added":"{addedUsername} added to the team by {username}","api.team.join_team.post_and_forget":"{username} joined the team.","api.team.leave.left":"{username} left the team.","api.team.remove_user_from_team.removed":"{removedUsername} was removed from the team.","app.channel.post_update_channel_purpose_message.removed":"{username} removed the channel purpose (was: {old})","app.channel.post_update_channel_purpose_message.updated_from":"{username} updated the channel purpose from: {old} to: {new}","app.channel.post_update_channel_purpose_message.updated_to":"{username} updated the channel purpose to: {new}","app.plugin.marketplace_plugins.app_error":"Error connecting to the marketplace server. Please check your settings in the [System Console]({siteURL}/admin_console/plugins/plugin_management).","apps.error":"Error: {error}","apps.error.command.field_missing":"Required fields missing: `{fieldName}`.","apps.error.command.unknown_channel":"Unknown channel for field `{fieldName}`: `{option}`.","apps.error.command.unknown_option":"Unknown option for field `{fieldName}`: `{option}`.","apps.error.command.unknown_user":"Unknown user for field `{fieldName}`: `{option}`.","apps.error.form.no_call":"`call` is not defined.","apps.error.form.no_form":"`form` is not defined.","apps.error.form.refresh":"There has been an error updating the modal. Contact the app developer. Details: {details}","apps.error.form.refresh_no_refresh":"Called refresh on no refresh field.","apps.error.form.submit.pretext":"There has been an error submitting the modal. Contact the app developer. Details: {details}","apps.error.lookup.error_preparing_request":"Error preparing lookup request: {errorMessage}","apps.error.parser":"Parsing error: {error}","apps.error.parser.empty_value":"empty values are not allowed","apps.error.parser.missing_call":"Missing binding call.","apps.error.parser.missing_field_value":"Field value is missing.","apps.error.parser.missing_quote":"Matching double quote expected before end of input.","apps.error.parser.missing_tick":"Matching tick quote expected before end of input.","apps.error.parser.multiple_equal":"Multiple `=` signs are not allowed.","apps.error.parser.no_argument_pos_x":"Unable to identify argument.","apps.error.parser.no_bindings":"No command bindings.","apps.error.parser.no_match":"`{command}`: No matching command found in this workspace.","apps.error.parser.no_slash_start":"Command must start with a `/`.","apps.error.parser.unexpected_error":"Unexpected error.","apps.error.parser.unexpected_flag":"Command does not accept flag `{flagName}`.","apps.error.parser.unexpected_state":"Unreachable: Unexpected state in matchBinding: `{state}`.","apps.error.parser.unexpected_whitespace":"Unreachable: Unexpected whitespace.","apps.error.responses.form.no_form":"Response type is `form`, but no form was included in response.","apps.error.responses.navigate.no_submit":"Response type is `navigate`, but the call was not a submission.","apps.error.responses.navigate.no_url":"Response type is `navigate`, but no url was included in response.","apps.error.responses.unexpected_error":"Received an unexpected error.","apps.error.responses.unexpected_type":"App response type was not expected. Response type: {type}","apps.error.responses.unknown_type":"App response type not supported. Response type: {type}.","apps.error.unknown":"Unknown error occurred.","apps.suggestion.dynamic.error":"Dynamic select error","apps.suggestion.errors.parser_error":"Parsing error","apps.suggestion.no_dynamic":"No data was returned for dynamic suggestions","apps.suggestion.no_static":"No matching options.","apps.suggestion.no_suggestion":"No matching suggestions.",archivedChannelMessage:"You are viewing an **archived channel**. New messages cannot be posted.","atmos/camo":"atmos/camo","authorize.access":"Allow **{appName}** access?","authorize.allow":"Allow","authorize.app":"The app **{appName}** would like the ability to access and modify your basic information.","authorize.deny":"Deny","authorize.title":"Authorize **{appName}** to Connect to Your **Gomlo** User Account","avatars.overflowUnnamedOnly":"{overflowUnnamedCount, plural, =1 {one other} other {# others}}","avatars.overflowUsers":"{overflowUnnamedCount, plural, =0 {{names}} =1 {{names} and one other} other {{names} and # others}}","backstage_list.search":"Search","backstage_navbar.backToGomlo":"Back to {siteName}","backstage_sidebar.bots":"Bot Accounts","backstage_sidebar.emoji":"Custom Emoji","backstage_sidebar.integrations":"Integrations","backstage_sidebar.integrations.commands":"Slash Commands","backstage_sidebar.integrations.incoming_webhooks":"Incoming Webhooks","backstage_sidebar.integrations.oauthApps":"OAuth 2.0 Applications","backstage_sidebar.integrations.outgoing_webhooks":"Outgoing Webhooks","call_button.menuAriaLabel":"Call type selector","center_panel.archived.closeChannel":"Close Channel","center_panel.direct.closeDirectMessage":"Close Direct Message","center_panel.direct.closeGroupMessage":"Close Group Message","channel_header.addChannelHeader":"Add a channel description","channel_header.channelFiles":"Channel files","channel_header.channelHasGuests":"This channel has guests","channel_header.channelMembers":"Members","channel_header.convert":"Convert to Private Channel","channel_header.delete":"Archive Channel","channel_header.directchannel.you":"{displayname} (you) ","channel_header.editLink":"Edit","channel_header.flagged":"Saved posts","channel_header.groupConstrained":"Members managed by linked groups.","channel_header.groupMessageHasGuests":"This group message has guests","channel_header.leave":"Leave Channel","channel_header.manageMembers":"Manage Members","channel_header.menuAriaLabel":"Channel Menu","channel_header.mute":"Mute Channel","channel_header.pinnedPosts":"Pinned posts","channel_header.recentMentions":"Recent mentions","channel_header.rename":"Rename","channel_header.search":"Search","channel_header.setHeader":"Edit Banner","channel_header.setPurpose":"Edit Purpose","channel_header.unarchive":"Unarchive Group","channel_header.unmute":"Unmute Group","channel_header.userHelpGuide":"Help","channel_header.viewMembers":"View Members","channel_info.about":"About","channel_info.header":"Header:","channel_info.id":"ID: ","channel_info.notFound":"No Channel Found","channel_info.purpose":"Purpose:","channel_info.url":"URL:","channel_invite.addNewMembers":"Add people to {channel}","channel_loader.posted":"Posted","channel_loader.postedImage":" posted an image","channel_loader.socketError":"Please check connection, Gomlo unreachable. If issue persists, ask administrator to check WebSocket port.","channel_loader.someone":"Someone","channel_loader.something":" did something new","channel_loader.unknown_error":"We received an unexpected status code from the server.","channel_loader.uploadedFile":" uploaded a file","channel_loader.uploadedImage":" uploaded an image","channel_members_dropdown.channel_admin":"Admin","channel_members_dropdown.channel_admins":"Group Admins","channel_members_dropdown.channel_mod":"Mod","channel_members_dropdown.channel_mods":"Group Mods","channel_members_dropdown.channel_guest":"Guest","channel_members_dropdown.channel_member":"Member","channel_members_dropdown.channel_members":"Group Members","channel_members_dropdown.make_channel_admin":"Make as Admin","channel_members_dropdown.make_channel_admins":"Make as Admins","channel_members_dropdown.make_channel_mod":"Make as Mod","channel_members_dropdown.make_channel_mods":"Make as Mods","channel_members_dropdown.make_channel_member":"Make as Member","channel_members_dropdown.make_channel_members":"Make as Members","channel_members_dropdown.menuAriaLabel":"Change the role of channel member","channel_members_dropdown.remove_from_channel":"Kick user","channel_members_dropdown.shared_member":"Shared Member","channel_members_modal.addNew":" Add Members","channel_members_modal.members":" Members","channel_modal.cancel":"Cancel","channel_modal.createNew":"Create Channel","channel_modal.descriptionHelp":"Describe how this channel should be used.","channel_modal.displayNameError":"Display name must have at least 2 characters.","channel_modal.edit":"Edit","channel_modal.header":"Header","channel_modal.headerEx":'E.g.: "[Link Title](http://example.com)"',"channel_modal.headerHelp":"Set text that will appear in the header of the channel beside the channel name. For example, include frequently used links by typing [Link Title](http://example.com).","channel_modal.modalTitle":"New Channel","channel_modal.name":"Name","channel_modal.nameEx":'E.g.: "Bugs", "Marketing", "客户支持"',"channel_modal.optional":"(optional)","channel_modal.privateHint":" - Only invited members can join this channel","channel_modal.privateName":"Private","channel_modal.publicHint":" - Anyone can join this channel","channel_modal.publicName":"Public","channel_modal.purpose":"Purpose","channel_modal.purposeEx":'E.g.: "A channel to file bugs and improvements"',"channel_modal.type":"Type","channel_notifications.allActivity":"For all activity","channel_notifications.globalDefault":"Global default ({notifyLevel})","channel_notifications.ignoreChannelMentions":"Ignore mentions for @group, @here and @all","channel_notifications.ignoreChannelMentions.help":"When enabled, @group, @here and @all will not trigger mentions or mention notifications in this channel.","channel_notifications.ignoreChannelMentions.off.title":"Off","channel_notifications.ignoreChannelMentions.on.title":"On","channel_notifications.levels.all":"All","channel_notifications.levels.default":"Default","channel_notifications.levels.mention":"Mention","channel_notifications.levels.none":"None","channel_notifications.muteChannel.help":"Muting turns off desktop, email and push notifications for this channel. The channel will not be marked as unread unless you're mentioned.","channel_notifications.muteChannel.off.title":"Off","channel_notifications.muteChannel.on.title":"On","channel_notifications.muteChannel.on.title.collapse":"Mute is enabled. Desktop, email and push notifications will not be sent for this channel.","channel_notifications.muteChannel.settings":"Mute channel","channel_notifications.never":"Never","channel_notifications.onlyMentions":"Only for mentions","channel_notifications.override":'Selecting an option other than "Default" will override the global notification settings. Desktop notifications are available on Firefox, Safari, and Chrome.',"channel_notifications.overridePush":'Selecting an option other than "Global default" will override the global notification settings for mobile push notifications in account settings. Push notifications must be enabled by the System Admin.',"channel_notifications.preferences":"Notification Preferences for ","channel_notifications.push":"Send mobile push notifications","channel_notifications.sendDesktop":"Send desktop notifications","channel_select.placeholder":"--- Select a channel ---","channel_switch_modal.deactivated":"Deactivated","channel_switch_modal.title":"Switch a chat","channel_toggle_button.private":"Private","channel_toggle_button.public":"Public","channelHeader.addToFavorites":"Add to Favorites","channelHeader.removeFromFavorites":"Remove from Favorites","channelHeader.unmute":"Unmute","cloud.upgrade.notrightnow":"Not right now","combined_system_message.added_to_channel.many_expanded":"{users} and {lastUser} were **added to the channel** by {actor}.","combined_system_message.added_to_channel.one":"{firstUser} **added to the channel** by {actor}.","combined_system_message.added_to_channel.one_you":"You were **added to the channel** by {actor}.","combined_system_message.added_to_channel.two":"{firstUser} and {secondUser} **added to the channel** by {actor}.","combined_system_message.added_to_team.many_expanded":"{users} and {lastUser} were **added to the team** by {actor}.","combined_system_message.added_to_team.one":"{firstUser} **added to the team** by {actor}.","combined_system_message.added_to_team.one_you":"You were **added to the team** by {actor}.","combined_system_message.added_to_team.two":"{firstUser} and {secondUser} **added to the team** by {actor}.","combined_system_message.joined_channel.many_expanded":"{users} and {lastUser} **joined the channel**.","combined_system_message.joined_channel.one":"{firstUser} **joined the channel**.","combined_system_message.joined_channel.one_you":"You **joined the channel**.","combined_system_message.joined_channel.two":"{firstUser} and {secondUser} **joined the channel**.","combined_system_message.joined_team.many_expanded":"{users} and {lastUser} **joined the team**.","combined_system_message.joined_team.one":"{firstUser} **joined the team**.","combined_system_message.joined_team.one_you":"You **joined the team**.","combined_system_message.joined_team.two":"{firstUser} and {secondUser} **joined the team**.","combined_system_message.left_channel.many_expanded":"{users} and {lastUser} **left the channel**.","combined_system_message.left_channel.one":"{firstUser} **left the channel**.","combined_system_message.left_channel.one_you":"You **left the channel**.","combined_system_message.left_channel.two":"{firstUser} and {secondUser} **left the channel**.","combined_system_message.left_team.many_expanded":"{users} and {lastUser} **left the team**.","combined_system_message.left_team.one":"{firstUser} **left the team**.","combined_system_message.left_team.one_you":"You **left the team**.","combined_system_message.left_team.two":"{firstUser} and {secondUser} **left the team**.","combined_system_message.removed_from_channel.many_expanded":"{users} and {lastUser} were **removed from the channel**.","combined_system_message.removed_from_channel.one":"{firstUser} was **removed from the channel**.","combined_system_message.removed_from_channel.one_you":"You were **removed from the channel**.","combined_system_message.removed_from_channel.two":"{firstUser} and {secondUser} were **removed from the channel**.","combined_system_message.removed_from_team.many_expanded":"{users} and {lastUser} were **removed from the team**.","combined_system_message.removed_from_team.one":"{firstUser} was **removed from the team**.","combined_system_message.removed_from_team.one_you":"You were **removed from the team**.","combined_system_message.removed_from_team.two":"{firstUser} and {secondUser} were **removed from the team**.","combined_system_message.you":"You","confirm_modal.cancel":"Cancel","confirm.notification_sent_to_admin.modal_body":"A notification has been sent to your administrator.","confirm.notification_sent_to_admin.modal_done":"Done","confirm.notification_sent_to_admin.modal_title":"Thank you!","convert_channel.cancel":"No, cancel","convert_channel.confirm":"Yes, convert to private channel","convert_channel.question1":"When you convert **{display_name}** to a private channel, history and membership are preserved. Publicly shared files remain accessible to anyone with the link. Membership in a private channel is by invitation only.","convert_channel.question2":"The change is permanent and cannot be undone.","convert_channel.question3":"Are you sure you want to convert **{display_name}** to a private channel?","convert_channel.title":"Convert {display_name} to a Private Channel?","copy_url_context_menu.getChannelLink":"Copy Link","create_category_modal.create":"Create","create_category_modal.createCategory":"Create New Category","create_comment.addComment":"Add a comment...","create_comment.comment":"Add Comment","create_comment.commentTitle":"Comment","create_comment.file":"File uploading","create_comment.files":"Files uploading","create_post.comment":"Comment","create_post.deactivated":"You are viewing an archived channel with a **deactivated user**. New messages cannot be posted.","create_post.error_message":"Your message is too long. Character count: {length}/{limit}","create_post.fileProcessing":"Processing...","create_post.icon":"Create a post","create_post.post":"Post","create_post.read_only":"This channel is read-only. Only members with permission can post here.","create_post.send_message":"Send a message","create_post.shortcutsNotSupported":"Keyboard shortcuts are not supported on your device.","create_post.tutorialTip.title":"Sending Messages","create_post.tutorialTip1":"Type here to write a message and press **Enter** to post it.","create_post.tutorialTip2":"Click the **Attachment** button to upload an image or a file.","create_post.write":"Write to {channelDisplayName}","custom_emoji.header":"Custom Emoji","custom_status.modal_cancel":"Clear Status","custom_status.modal_confirm":"Set Status","custom_status.set_status":"Set a status","custom_status.suggestions.in_a_meeting":"In a meeting","custom_status.suggestions.on_a_vacation":"On a vacation","custom_status.suggestions.out_for_lunch":"Out for lunch","custom_status.suggestions.out_sick":"Out sick","custom_status.suggestions.recent_title":"RECENT","custom_status.suggestions.title":"SUGGESTIONS","custom_status.suggestions.working_from_home":"Working from home","date_separator.today":"Today","date_separator.yesterday":"Yesterday","deactivate_member_modal.deactivate":"Deactivate","deactivate_member_modal.desc":"This action deactivates {username}. They will be logged out and not have access to any teams or channels on this system.\n","deactivate_member_modal.desc.confirm":" Are you sure you want to deactivate {username}?","deactivate_member_modal.desc.for_users_with_bot_accounts":"This action deactivates {username}.\n \n * They will be logged out and not have access to any teams or channels on this system.\n * Bot accounts they manage will be disabled along with their integrations. To enable them again, go to [Integrations > Bot Accounts]({siteURL}/_redirect/integrations/bots). [Learn more about bot accounts](!https://chatting.gomlo.me/pl/default-bot-accounts).\n \n \n","deactivate_member_modal.sso_warning":"You must also deactivate this user in the SSO provider or they will be reactivated on next login or sync.","deactivate_member_modal.title":"Deactivate {username}","default_channel.purpose":"Post messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.","delete_category_modal.delete":"Delete","delete_category_modal.deleteCategory":"Delete this category?","delete_category_modal.helpText":"Channels in **{category_name}** will move back to the Channels and Direct messages categories. You're not removed from any channels.","delete_channel.cancel":"Cancel","delete_channel.confirm":"Confirm ARCHIVE Channel","delete_channel.del":"Archive","delete_channel.question":"This will archive the channel from the team and remove it from the user interface. Archived channels can be unarchived if needed again. \n \nAre you sure you wish to archive the {display_name} channel?","delete_channel.viewArchived.question":"This will archive the channel from the team. Channel contents will still be accessible by channel members.\n \nAre you sure you wish to archive the **{display_name}** channel?","delete_post.cancel":"Cancel","delete_post.comment":"Comment","delete_post.confirm":"Confirm {term} Delete","delete_post.del":"Delete","delete_post.post":"Post","delete_post.question":"Are you sure you want to delete this {term}?","delete_post.warning":"This post has {count, number} {count, plural, one {comment} other {comments}} on it.","demote_to_user_modal.demote":"Demote","demote_to_user_modal.desc":"This action demotes the user {username} to a guest. It will restrict the user's ability to join public channels and interact with users outside of the channels they are currently members of. Are you sure you want to demote user {username} to guest?","demote_to_user_modal.title":"Demote User {username} to Guest","device_icons.android":"Android Icon","device_icons.apple":"Apple Icon","device_icons.linux":"Linux Icon","device_icons.windows":"Windows Icon","discard_changes_modal.leave":"Yes, Discard","discard_changes_modal.message":"You have unsaved changes, are you sure you want to discard them?","discard_changes_modal.title":"Discard Changes?","dnd_custom_time_picker_modal.date":"Date","dnd_custom_time_picker_modal.defaultMsg":"Disable notifications until","dnd_custom_time_picker_modal.submitButton":"Disable Notifications","dnd_custom_time_picker_modal.time":"Time","edit_category_modal.helpText":"Drag channels into this category to organize your sidebar.","edit_category_modal.placeholder":"Name your category","edit_channel_header_modal.cancel":"Cancel","edit_channel_header_modal.description":"Edit the text appearing next to the channel name in the channel header.","edit_channel_header_modal.error":"The text entered exceeds the character limit. The channel header is limited to {maxLength} characters.","edit_channel_header_modal.save":"Save","edit_channel_header_modal.title":"Edit Header for {channel}","edit_channel_header_modal.title_dm":"Edit Header","edit_channel_header.editHeader":"Edit the Channel Header...","edit_channel_header.previewHeader":"Edit Header","edit_channel_private_purpose_modal.body":'This text appears in the "View Info" modal of the private channel.',"edit_channel_purpose_modal.body":'Describe how this channel should be used. This text appears in the channel list in the "More..." menu and helps others decide whether to join.',"edit_channel_purpose_modal.cancel":"Cancel","edit_channel_purpose_modal.save":"Save","edit_channel_purpose_modal.title1":"Edit Purpose","edit_channel_purpose_modal.title2":"Edit Purpose for ","edit_command.update":"Update","edit_command.updating":"Updating...","edit_post.cancel":"Cancel","edit_post.edit":"Edit {title}","edit_post.editPost":"Edit the post...","edit_post.save":"Save","edit_post.time_limit_button.for_n_seconds":"For {n} seconds","edit_post.time_limit_button.no_limit":"Anytime","edit_post.time_limit_modal.description":'Setting a time limit **applies to all users** who have the "Edit Post" permissions in any permission scheme.',"edit_post.time_limit_modal.invalid_time_limit":"Invalid time limit","edit_post.time_limit_modal.option_label_anytime":"Anytime","edit_post.time_limit_modal.option_label_time_limit.postinput":"seconds after posting","edit_post.time_limit_modal.option_label_time_limit.preinput":"Can edit for","edit_post.time_limit_modal.save_button":"Save Edit Time","edit_post.time_limit_modal.subscript":"Set the length of time users have to edit their messages after posting.","edit_post.time_limit_modal.title":"Configure Global Edit Post Time Limit","email_verify.almost":"{siteName}: You are almost done","email_verify.failed":" Failed to send verification email.","email_verify.notVerifiedBody":"Please verify your email address. Check your inbox for an email.","email_verify.resend":"Resend Email","email_verify.sent":" Verification email sent.","emoji_list.actions":"Actions","emoji_list.add":"Add Custom Emoji","emoji_list.creator":"Creator","emoji_list.delete":"Delete","emoji_list.delete.confirm.button":"Delete","emoji_list.delete.confirm.msg":"This action permanently deletes the custom emoji. Are you sure you want to delete it?","emoji_list.delete.confirm.title":"Delete Custom Emoji","emoji_list.empty":"No Custom Emoji Found","emoji_list.header":"Custom Emoji","emoji_list.help":"Custom emoji are available to everyone on your server. Type ':' followed by two characters in a message box to bring up the emoji selection menu.","emoji_list.help2":"Tip: If you add #, ##, or ### as the first character on a new line containing emoji, you can use larger sized emoji. To try it out, send a message such as: '# :smile:'.","emoji_list.image":"Image","emoji_list.name":"Name","emoji_list.search":"Search Custom Emoji","emoji_picker_item.emoji_aria_label":"{emojiName} emoji","emoji_picker.activity":"Activity","emoji_picker.close":"Close","emoji_picker.custom":"Custom","emoji_picker.emojiPicker":"Emoji Picker","emoji_picker.flags":"Flags","emoji_picker.foods":"Foods","emoji_picker.header":"Emoji Picker","emoji_picker.nature":"Nature","emoji_picker.objects":"Objects","emoji_picker.people":"People","emoji_picker.places":"Places","emoji_picker.recent":"Recently Used","emoji_picker.search":"Search emojis","emoji_picker.search_emoji":"Search for an emoji","emoji_picker.searchResults":"Search Results","emoji_picker.symbols":"Symbols","error.channel_not_found.message":"The channel you're requesting is private or does not exist. Please contact an Administrator to be added to the channel.","error.channel_not_found.message_guest":"Your guest account has no channels assigned. Please contact an administrator.","error.channel_not_found.title":"Channel Not Found","error.channelNotFound.guest_link":"Back","error.channelNotFound.link":"Back to {defaultChannelName}","error.generic.link":"Back to {siteName}","error.generic.link_login":"Back to Login Page","error.generic.message":"An error has occurred.","error.generic.title":"Error","error.local_storage.help1":"Enable cookies","error.local_storage.help2":"Turn off private browsing","error.local_storage.help3":"Use a supported browser (IE 11, Chrome 61+, Firefox 60+, Safari 12+, Edge 42+)","error.local_storage.message":"Gomlo was unable to load because a setting in your browser prevents the use of its local storage features. To allow Gomlo to load, try the following actions:","error.local_storage.title":"Cannot Load Gomlo","error.maxFreeUsersReached.description":"New users cannot be added to this workspace because it has reached the user limit for the free version of Gomlo Cloud. The system administrator has been notified","error.maxFreeUsersReached.title":"This workspace has reached the user limit.","error.not_found.message":"The page you were trying to reach does not exist","error.not_found.title":"Page Not Found","error.oauth_access_denied":"You must authorize Gomlo to log in with {service}.","error.oauth_access_denied.title":"Authorization Error","error.oauth_invalid_param.title":"OAuth Parameter Error","error.oauth_missing_code":"The service provider {service} did not provide an authorization code in the redirect URL.","error.oauth_missing_code.forum":"If you reviewed the above and are still having trouble with configuration, you may post in our {link} where we'll be happy to help with issues during setup.","error.oauth_missing_code.forum.link":"Troubleshooting forum","error.oauth_missing_code.gitlab":"For {link} please make sure you followed the setup instructions.","error.oauth_missing_code.gitlab.link":"GitLab","error.oauth_missing_code.google":"For {link} make sure your administrator enabled the Google+ API.","error.oauth_missing_code.google.link":"Google Apps","error.oauth_missing_code.office365":"For {link} make sure the administrator of your Microsoft organization has enabled the Gomlo app.","error.oauth_missing_code.office365.link":"Office 365","error.oauth_missing_code.title":"Gomlo Needs Your Help","error.plugin_not_found.desc":"The plugin you are looking for does not exist.","error.plugin_not_found.title":"Plugin Not Found","error.team_not_found.message":"The team you're requesting is private or does not exist. Please contact your Administrator for an invitation.","error.team_not_found.title":"Team Not Found","file_attachment.thumbnail":"file thumbnail","file_info_preview.size":"Size ","file_info_preview.type":"File type ","file_search_result_item.copy_link":"Copy link","file_search_result_item.download":"Download","file_search_result_item.more_actions":"More Actions","file_search_result_item.open_in_channel":"Open in channel","file_upload.disabled":"File attachments are disabled.","file_upload.drag_folder":"Folders cannot be uploaded. Please drag all files separately.","file_upload.fileAbove":"File above {max}MB cannot be uploaded: {filename}","file_upload.filesAbove":"Files above {max}MB cannot be uploaded: {filenames}","file_upload.generic_error":"There was a problem uploading your files.","file_upload.limited":"Uploads limited to {count, number} files maximum. Please use additional posts for more files.","file_upload.menuAriaLabel":"Upload type selector","file_upload.pasted":"Image Pasted at ","file_upload.upload_files":"Upload files","file_upload.zeroBytesFile":"You are uploading an empty file: {filename}","file_upload.zeroBytesFiles":"You are uploading empty files: {filenames}","filtered_channels_list.search":"Search channels","filtered_user_list.countTotal":"{count, number} {count, plural, one {member} other {members}} of {total, number} total","filtered_user_list.countTotalPage":"{startCount, number} - {endCount, number} {count, plural, one {member} other {members}} of {total, number} total","filtered_user_list.next":"Next","filtered_user_list.prev":"Previous","filtered_user_list.search":"Search users","filtered_user_list.team":"Team:","filtered_user_list.userStatus":"User Status:","flag_post.flag":"Save","flag_post.unflag":"Remove from Saved","full_screen_modal.back":"Back","full_screen_modal.close":"Close","general_button.close":"Close","general_button.esc":"Esc","generic_icons.add":"Add Icon","generic_icons.add-mail":"Add Mail Icon","generic_icons.add-reaction":"Add Reaction Icon","generic_icons.adminOnlyIcon":"Admin View Only Icon","generic_icons.alert":"Alert Icon","generic_icons.archive":"Archive Icon","generic_icons.arrow.down":"Down Arrow Icon","generic_icons.attach":"Attachment Icon","generic_icons.back":"Back Icon","generic_icons.bot":"Bot Icon","generic_icons.breadcrumb":"Breadcrumb Icon","generic_icons.camera":"Camera Icon","generic_icons.channel.arrow-right":"Arrow right","generic_icons.channel.draft":"Channel Draft Icon","generic_icons.channel.private":"Private Channel Icon","generic_icons.channel.public":"Public Channel Icon","generic_icons.close":"Close Icon","generic_icons.collapse":"Collapse Icon","generic_icons.download":"Download Icon","generic_icons.dropdown":"Dropdown Icon","generic_icons.edit":"Edit Icon","generic_icons.elipsisHorizontalIcon":"Ellipsis Horizontal Icon","generic_icons.expand":"Expand Icon","generic_icons.fail":"Faliure Icon","generic_icons.flag":"Save Icon","generic_icons.flagged":"Saved Icon","generic_icons.info":"Info Icon","generic_icons.invite":"Invite Icon","generic_icons.invite_members":"Invite Members Icon","generic_icons.link":"Link Icon","generic_icons.loading":"Loading Icon","generic_icons.logout":"Logout Icon","generic_icons.mail":"Mail Icon","generic_icons.chatting":"Gomlo Logo","generic_icons.member":"Member Icon","generic_icons.mention":"Mention Icon","generic_icons.menu":"Menu Icon","generic_icons.message":"Message Icon","generic_icons.muted":"Muted Icon","generic_icons.next":"Next Icon","generic_icons.pin":"Pin Icon","generic_icons.plugin":"Plugin Icon","generic_icons.plugins":"Plugins","generic_icons.previous":"Previous Icon","generic_icons.reload":"Reload Icon","generic_icons.remove":"Remove Icon","generic_icons.reply":"Reply Icon","generic_icons.search":"Search Icon","generic_icons.select":"Select Icon","generic_icons.settings":"Settings Icon","generic_icons.success":"Success Icon","generic_icons.upload":"Upload Icon","generic_icons.userGuide":"Help","generic_icons.warning":"Warning Icon","generic_modal.cancel":"Cancel","generic_modal.confirm":"Confirm","generic.done":"Done","generic.next":"Next","generic.previous":"Previous","get_link.clipboard":" Link copied","get_link.close":"Close","get_link.copy":"Copy Link","get_public_link_modal.help":"The link below allows anyone to see this file without being registered on this server.","get_public_link_modal.title":"Copy Public Link","gif_picker.gfycat":"Search Gfycat","globalThreads.heading":"Followed threads","globalThreads.noThreads.subtitle":"Any threads you are mentioned in or have participated in will show here along with any threads you have followed.","globalThreads.noThreads.title":"No followed threads yet","globalThreads.sidebarLink":"Threads","globalThreads.subtitle":"Threads you’re participating in will automatically show here","globalThreads.threadList.noUnreadThreads":"No unread threads","globalThreads.threadPane.unselectedTitle":"{numUnread, plural, =0 {Looks like you’re all caught up} other {Catch up on your threads}}","globalThreads.title":"{prefix}Threads - {displayName} {siteName}","group_list_modal.addGroupButton":"Add Groups","group_list_modal.removeGroupButton":"Remove Group",groups:"{team} Groups","inProduct_notices.adminOnlyMessage":"Visible to Admins only","input.clear":"Clear","integrations.add":"Add","integrations.command.description":"Slash commands send events to external integrations","integrations.command.title":"Slash Commands","integrations.delete.confirm.button":"Delete","integrations.delete.confirm.title":"Delete Integration","integrations.done":"Done","integrations.edit":"Edit","integrations.header":"Integrations","integrations.help":"Visit the {appDirectory} to find self-hosted, third-party apps and integrations for Gomlo.","integrations.help.appDirectory":"App Directory","integrations.incomingWebhook.description":"Incoming webhooks allow external integrations to send messages","integrations.incomingWebhook.title":"Incoming Webhooks","integrations.oauthApps.description":"OAuth 2.0 allows external applications to make authorized requests to the Gomlo API","integrations.oauthApps.title":"OAuth 2.0 Applications","integrations.outgoingWebhook.description":"Outgoing webhooks allow external integrations to receive and respond to messages","integrations.outgoingWebhook.title":"Outgoing Webhooks","integrations.successful":"Setup Successful","interactive_dialog.cancel":"Cancel","interactive_dialog.element.optional":"(optional)","interactive_dialog.submit":"Submit","interactive_dialog.submitting":"Submitting...","intro_messages.addGroupsToTeam":"Add other groups to this team","intro_messages.anyMember":" Any member can join and read this channel.","intro_messages.beginning":"Beginning of {name}","intro_messages.creator":"This is the start of the {name} channel, created by {creator} on {date}.","intro_messages.creatorPrivate":"This is the start of the {name} private channel, created by {creator} on {date}.","intro_messages.default":"**Welcome to {display_name}!**\n \nPost messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.","intro_messages.DM":"This is the start of your direct message history with {teammate}.\nDirect messages and files shared here are not shown to people outside this area.","intro_messages.GM":"This is the start of your group message history with {names}.\nMessages and files shared here are not shown to people outside this area.","intro_messages.group_message":"This is the start of your group message history with these teammates. Messages and files shared here are not shown to people outside this area.","intro_messages.inviteGropusToChannel.button":"Add groups to this private channel","intro_messages.inviteMembersToChannel.button":"Add members to this channel","intro_messages.inviteMembersToPrivateChannel.button":"Add members to this private channel","intro_messages.inviteOthers":"Invite others to this team","intro_messages.inviteOthersToWorkspace.button":"Invite others to the workspace","intro_messages.inviteOthersToWorkspace.title":"Let’s add some people to the workspace!","intro_messages.noCreator":"This is the start of the {name} channel, created on {date}.","intro_messages.noCreatorPrivate":"This is the start of the {name} private channel, created on {date}.","intro_messages.offTopic":"This is the start of {display_name}, a channel for non-work-related conversations.","intro_messages.onlyInvited":" Only invited members can see this private channel.","intro_messages.purpose":" This channel's purpose is: {purpose}","intro_messages.purposePrivate":" This private channel's purpose is: {purpose}","intro_messages.readonly.default":"**Welcome to {display_name}!**\n \nMessages can only be posted by system admins. Everyone automatically becomes a permanent member of this channel when they join the team.","intro_messages.setHeader":"Set a Header","intro_messages.teammate":"This is the start of your direct message history with this teammate. Direct messages and files shared here are not shown to people outside this area.","invitation_modal.confirm.done":"Done","invitation_modal.confirm.guests_title":"**Guests** Invited to **{teamName}**","invitation_modal.confirm.members_subtitle":"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited, and **{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent","invitation_modal.confirm.members_subtitle_without_not_sent":"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited","invitation_modal.confirm.members_subtitle_without_sent":"**{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent","invitation_modal.confirm.members_subtitle_without_sent_and_not_sent":"No invitation sent","invitation_modal.confirm.members_title":"**Members** Invited to **{teamName}**","invitation_modal.confirm.not-sent-header":"Invitations Not Sent","invitation_modal.confirm.sent-header":"Successful Invites","invitation_modal.guests.add_channels.placeholder":"Search and add channels","invitation_modal.guests.add_channels.title":"Search and Add Channels","invitation_modal.guests.add_people.description":"Add existing guests or send email invites to new guests.","invitation_modal.guests.add_people.description-email-disabled":"Add existing guests.","invitation_modal.guests.add_people.title":"Invite People","invitation_modal.guests.add-channels.description":"Specify the channels the guests have access to.","invitation_modal.guests.custom-message.description":"Create a custom message to make your invite more personal.","invitation_modal.guests.custom-message.link":"Set a custom message","invitation_modal.guests.custom-message.title":"Custom message","invitation_modal.guests.invite_button":"Invite Guests","invitation_modal.guests.search-and-add.placeholder":"Add guests or email addresses","invitation_modal.guests.search-and-add.placeholder-email-disabled":"Add guests","invitation_modal.guests.title":"Invite **Guests** to {teamName}","invitation_modal.guests.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email to invite","invitation_modal.guests.users_emails_input.no_user_found_matching-email-disabled":"No one found matching **{text}**","invitation_modal.guests.users_emails_input.valid_email":"Invite **{email}** as a guest","invitation_modal.invite_guests.description":"Invite guests to one or more channels. Guests only have access to messages, files, and people in the channels they are members of.","invitation_modal.invite_guests.title":"Invite **Guests**","invitation_modal.invite_members.description":"Invite new team members with a link or by email. Team members have access to messages and files in open teams and public channels.","invitation_modal.invite_members.description-email-disabled":"Invite new team members with a link. Team members have access to messages and files in open teams and public channels.","invitation_modal.invite_members.exceeded_max_add_members_batch":"No more than **{text}** people can be invited at once","invitation_modal.invite_members.hit_cloud_user_limit":"You can only invite **{num} more {num, plural, one {member} other {members}}** to the team on the free tier.","invitation_modal.invite_members.title":"Invite **Members**","invitation_modal.invite.more":"Invite More People","invitation_modal.members.invite_button":"Invite Members","invitation_modal.members.or":"OR","invitation_modal.members.search_and_add.title":"Add or Invite People","invitation_modal.members.search-and-add.description":"Add existing members or send email invites to new members.","invitation_modal.members.search-and-add.description-email-disabled":"Add existing members to this team.","invitation_modal.members.search-and-add.placeholder":"Add members or email addresses","invitation_modal.members.search-and-add.placeholder-email-disabled":"Add members","invitation_modal.members.share_link.copy_button":"Copy Link","invitation_modal.members.share_link.description":"Share this link to invite people to this team.","invitation_modal.members.share_link.input":"team invite link","invitation_modal.members.share_link.link_copied":"Link Copied","invitation_modal.members.share_link.title":"Share This Link","invitation_modal.members.title":"Invite **Members** to {teamName}","invitation_modal.members.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email to invite","invitation_modal.members.users_emails_input.no_user_found_matching-email-disabled":"No one found matching **{text}**","invitation_modal.members.users_emails_input.valid_email":"Invite **{email}** as a team member","invitation_modal.title":"Invite people to **{teamName}**","invitation-modal.confirm.details-header":"Details","invitation-modal.confirm.not-valid-channel":"Does not match a valid channel name.","invitation-modal.confirm.not-valid-user-or-email":"Does not match a valid user or email.","invitation-modal.confirm.people-header":"People","invitation-modal.discard-changes.button":"Yes, Discard","invitation-modal.discard-changes.message":"You have unsent invitations, are you sure you want to discard them?","invitation-modal.discard-changes.title":"Discard Changes","invitation-modal.notify-admin.failed":"Failed. Try again later.","invitation-modal.notify-admin.notify":"Notify the admin.","invitation-modal.notify-admin.sending":"Sending...","invitation-modal.notify-admin.sent":"Sent!","invite.guests.added-to-channel":"An invitation email has been sent.","invite.guests.already-all-channels-member":"This person is already a member of all the channels.","invite.guests.already-some-channels-member":"This person is already a member of some of the channels.","invite.guests.new-member":"This guest has been added to the team and {count, plural, one {channel} other {channels}}.","invite.guests.unable-to-add-the-user-to-the-channels":"Unable to add the guest to the channels.","invite.members.added-to-team":"This member has been added to the team.","invite.members.already-member":"This person is already a team member.","invite.members.invite-sent":"An invitation email has been sent.","invite.members.unable-to-add-the-user-to-the-team":"Unable to add the user to the team.","invite.members.user-is-guest":"Contact your admin to make this guest a full member.","invite.members.user-is-not-guest":"This person is already a member.","invite.rate-limit-exceeded":"Invite emails rate limit exceeded.",join_team_group_constrained_denied:"You need to be a member of a linked group to join this team.",join_team_group_constrained_denied_admin:"You need to be a member of a linked group to join this team. You can add a group to this team [here]({siteURL}/admin_console/user_management/groups).","katex.error":"Couldn't compile your Latex code. Please review the syntax and try again.","last_users_message.added_to_channel.type":"were **added to the channel** by {actor}.","last_users_message.added_to_team.type":"were **added to the team** by {actor}.","last_users_message.first":"{firstUser} and ","last_users_message.joined_channel.type":"**joined the channel**.","last_users_message.joined_team.type":"**joined the team**.","last_users_message.left_channel.type":"**left the channel**.","last_users_message.left_team.type":"**left the team**.","last_users_message.others":"{numOthers} others ","last_users_message.removed_from_channel.type":"were **removed from the channel**.","last_users_message.removed_from_team.type":"were **removed from the team**.","leave_private_channel_modal.leave":"Yes, leave channel","leave_private_channel_modal.message":"Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.","leave_private_channel_modal.title":"Leave Private Channel {channel}","leave_team_modal_guest_only_private.desc":"**You will be removed from {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** You won't be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_guest_only_public.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} on this team.** You won't be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_guest.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} and {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** You won't be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_private.desc":"**You will be removed from {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels} } on this team.** If the team is private you won't be able to rejoin it the team without an invitation from another team member. Are you sure?","leave_team_modal_public.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels} } on this team.** Are you sure?","leave_team_modal.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} and {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** If the team is private you won't be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal.no":"No","leave_team_modal.title":"Leave the team?","leave_team_modal.yes":"Yes","list_modal.paginatorCount":"{startCount, number} - {endCount, number} of {total, number} total","loading_screen.loading":"Loading",local:"local","manage_channel_groups_modal.search_placeholder":"Search groups","manage_team_groups_modal.search_placeholder":"Search groups","members_popover.button.message":"message","members_popover.manageMembers":"Manage Members","members_popover.title":"Channel Members","members_popover.viewMembers":"View Members","message_submit_error.invalidCommand":"Command with a trigger of ''{command}'' not found. ","message_submit_error.sendAsMessageLink":"Click here to send as a message.","mobile.set_status.away.icon":"Away Icon","mobile.set_status.dnd.icon":"Do Not Disturb Icon","mobile.set_status.offline.icon":"Offline Icon","mobile.set_status.online.icon":"Online Icon","modal.manual_status.ask":"Do not ask me again","modal.manual_status.auto_responder.message_":'Would you like to switch your status to "{status}" and disable Automatic Replies?',"modal.manual_status.auto_responder.message_away":'Would you like to switch your status to "Away" and disable Automatic Replies?',"modal.manual_status.auto_responder.message_dnd":'Would you like to switch your status to "Do Not Disturb" and disable Automatic Replies?',"modal.manual_status.auto_responder.message_offline":'Would you like to switch your status to "Offline" and disable Automatic Replies?',"modal.manual_status.auto_responder.message_online":'Would you like to switch your status to "Online" and disable Automatic Replies?',"modal.manual_status.button_":'Yes, set my status to "{status}"',"modal.manual_status.button_away":'Yes, set my status to "Away"',"modal.manual_status.button_dnd":'Yes, set my status to "Do Not Disturb"',"modal.manual_status.button_offline":'Yes, set my status to "Offline"',"modal.manual_status.button_online":'Yes, set my status to "Online"',"modal.manual_status.cancel_":'No, keep it as "{status}"',"modal.manual_status.cancel_away":'No, keep it as "Away"',"modal.manual_status.cancel_dnd":'No, keep it as "Do Not Disturb"',"modal.manual_status.cancel_offline":'No, keep it as "Offline"',"modal.manual_status.cancel_ooo":'No, keep it as "Out of Office"',"modal.manual_status.message_":'Would you like to switch your status to "{status}"?',"modal.manual_status.message_away":'Would you like to switch your status to "Away"?',"modal.manual_status.message_dnd":'Would you like to switch your status to "Do Not Disturb"?',"modal.manual_status.message_offline":'Would you like to switch your status to "Offline"?',"modal.manual_status.message_online":'Would you like to switch your status to "Online"?',"modal.manual_status.title_":'Your Status is Set to "{status}"',"modal.manual_status.title_away":'Your Status is Set to "Away"',"modal.manual_status.title_dnd":'Your Status is Set to "Do Not Disturb"',"modal.manual_status.title_offline":'Your Status is Set to "Offline"',"modal.manual_status.title_ooo":'Your Status is Set to "Out of Office"',"more_channels.create":"Create Channel","more_channels.createClick":"Click 'Create New Channel' to make a new one","more_channels.joining":"Joining...","more_channels.next":"Next","more_channels.noMore":"No more channels to join","more_channels.prev":"Previous","more_channels.show_archived_channels":"Show: Archived Channels","more_channels.show_public_channels":"Show: Public Channels","more_channels.title":"More Channels","more_direct_channels.directchannel.deactivated":"{displayname} - Deactivated","more_direct_channels.directchannel.you":"{displayname} (you)","more_direct_channels.new_convo_note":"This will start a new conversation. If you're adding a lot of people, consider creating a private channel instead.","more_direct_channels.new_convo_note.full":"You've reached the maximum number of people for this conversation. Consider creating a private channel instead.","more_direct_channels.title":"Direct Messages","more_public_direct_channels.channels":"Channels","more_public_direct_channels.direct_messages":"Direct Messages","more_public_direct_channels.title":"Channels and Direct Messages","msg_typing.areTyping":"{users} and {last} are typing...","msg_typing.isTyping":"{user} is typing...","multiselect.add":"Add","multiselect.addChannelsPlaceholder":"Search and add channels","multiselect.addGroupsPlaceholder":"Search and add groups","multiselect.adding":"Adding...","multiselect.addTeamsPlaceholder":"Search and add teams","multiselect.go":"Go","multiselect.list.notFound":"No results found matching **{searchQuery}**","multiselect.loading":"Loading...","multiselect.numGroupsRemaining":"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {group} other {groups}}. ","multiselect.numMembers":"{memberOptions, number} of {totalCount, number} members","multiselect.numPeopleRemaining":"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {person} other {people}}. ","multiselect.numRemaining":"You can add {num, number} more","multiselect.placeholder":"Search for people","multiselect.selectChannels":"Use ↑↓ to browse, ↵ to select.","multiselect.selectTeams":"Use ↑↓ to browse, ↵ to select.","navbar_dropdown.about":"About {appTitle}","navbar_dropdown.accountSettings":"Account Settings","navbar_dropdown.addGroupsToTeam":"Add Groups to Team","navbar_dropdown.console":"System Console","navbar_dropdown.create":"Create a Team","navbar_dropdown.help":"Help","navbar_dropdown.logout":"Log Out","navbar_dropdown.menuAriaLabel":"main menu","navbar_dropdown.switchTo":"Switch to ","navbar_dropdown.teamSettings":"Team Settings","navbar_dropdown.viewMembers":"View Members","navbar.addGroups":"Add Groups","navbar.addMembers":"Add Members","navbar.click":"Click here","navbar.clickToAddHeader":"{clickHere} to add one.","navbar.noHeader":"No channel header yet.","navbar.preferences":"Notification Preferences","navbar.toggle2":"Toggle sidebar","navbar.viewInfo":"View Info","navbar.viewPinnedPosts":"View Pinned Posts","no_results.channel_files_filtered.subtitle":"This channel doesn't contains any file with the selected file format.","no_results.channel_files_filtered.title":"No files found","no_results.channel_files.subtitle":"Files posted in this channel will show here.","no_results.channel_files.title":"No files yet","no_results.channel_search.subtitle":"Check the spelling or try another search.","no_results.contact_search.subtitle":"Check the spelling or try another search.","no_results.channel_search.title":"No results for {channelName}","no_results.contact_search.title":"No contacts match with {channelName}","no_results.flagged_posts.subtitle":"Saved messages are only visible to you. Mark messages for follow-up or save something for later by clicking the {icon} to save them here.","no_results.flagged_posts.title":"No Saved posts yet","no_results.mentions.subtitle":"Messages where someone mentions you or includes your trigger words are saved here.","no_results.mentions.title":"No mentions yet","no_results.pinned_posts.subtitle":"Pin important messages which are visible to the whole channel. Open the context menu on a message and choose {text} to save it here.","no_results.pinned_posts.title":"No pinned posts yet","notification.dm":"Direct Message","notify_all.confirm":"Confirm","notify_all.question":"By using @all or @group you are about to send notifications to {totalMembers} people. Are you sure you want to do this?","notify_all.question_groups":"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people**. Are you sure you want to do this?","notify_all.question_one_group":"By using **{mention}** you are about to send notifications to **{totalMembers} people**. Are you sure you want to do this?","notify_all.question_timezone":"By using @all or @group you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.question_timezone_groups":"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.question_timezone_one_group":"By using **{mention}** you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.title.confirm":"Confirm Sending Notifications to Entire Channel","notify_all.title.confirm_groups":"Confirm sending notifications to groups",numMembers:"{num, number} {num, plural, one {member} other {members}}",passwordRequirements:"Password Requirements:","pending_post_actions.cancel":"Cancel","pending_post_actions.retry":"Retry","permalink.error.access":"Permalink belongs to a deleted message or to a channel to which you do not have access.","permalink.error.title":"Message Not Found","permalink.show_dialog_warn.description":"You are about to join {channel} without explicitly being added by the channel admin. Are you sure you wish to join this private channel?","permalink.show_dialog_warn.join":"Join","permalink.show_dialog_warn.title":"Join private channel","picture_selector.image.ariaLabel":"Picture selector image","picture_selector.remove_picture":"Remove picture","picture_selector.select_button.ariaLabel":"Select picture","post_body.check_for_out_of_channel_groups_mentions.message":"did not get notified by this mention because they are not in the channel. They cannot be added to the channel because they are not a member of the linked groups. To add them to this channel, they must be added to the linked groups.","post_body.check_for_out_of_channel_mentions.link.and":" and ","post_body.check_for_out_of_channel_mentions.link.private":"add them to this private channel","post_body.check_for_out_of_channel_mentions.link.public":"add them to the channel","post_body.check_for_out_of_channel_mentions.message_last":"? They will have access to all message history.","post_body.check_for_out_of_channel_mentions.message.multiple":"did not get notified by this mention because they are not in the channel. Would you like to ","post_body.check_for_out_of_channel_mentions.message.one":"did not get notified by this mention because they are not in the channel. Would you like to ","post_body.check_for_out_of_channel_mentions.others":"{numOthers} others","post_body.commentedOn":"Commented on {name}'s message: ","post_body.deleted":"(message deleted)","post_body.plusMore":" plus {count, number} other {count, plural, one {file} other {files}}","post_delete.notPosted":"Comment could not be posted","post_delete.okay":"Okay","post_delete.someone":"Someone deleted the message on which you tried to post a comment.","post_header.update_status":"Update your status","post_info.auto_responder":"AUTOMATIC REPLY","post_info.bot":"BOT","post_info.comment_icon.tooltip.reply":"Reply","post_info.del":"Delete","post_info.dot_menu.tooltip.more_actions":"More actions","post_info.edit":"Edit","post_info.guest":"GUEST","post_info.info.view_additional_info":"View additional info","post_info.menuAriaLabel":"Post extra options","post_info.message.show_less":"Show less","post_info.message.show_more":"Show more","post_info.message.visible":"(Only visible to you)","post_info.message.visible.compact":" (Only visible to you)","post_info.permalink":"Copy Link","post_info.pin":"Pin to Channel","post_info.reply":"Reply","post_info.submenu.icon":"submenu icon","post_info.submenu.mobile":"mobile submenu","post_info.system":"System","post_info.tooltip.add_reactions":"Add Reaction","post_info.unpin":"Unpin from Channel","post_info.unread":"Mark as Unread","post_message_view.edited":"(edited)","post_pre_header.flagged":"Saved","post_pre_header.pinned":"Pinned","post.ariaLabel.attachment":", 1 attachment","post.ariaLabel.attachmentMultiple":", {attachmentCount} attachments","post.ariaLabel.message":"At {time} {date}, {authorName} wrote, {message}","post.ariaLabel.messageIsFlagged":", message is saved","post.ariaLabel.messageIsFlaggedAndPinned":", message is saved and pinned","post.ariaLabel.messageIsPinned":", message is pinned","post.ariaLabel.reaction":", 1 reaction","post.ariaLabel.reactionMultiple":", {reactionCount} reactions","post.ariaLabel.replyMessage":"At {time} {date}, {authorName} replied, {message}","postlist.toast.history":"Viewing message history","postlist.toast.newMessages":"{count, number} new {count, plural, one {message} other {messages}}","postlist.toast.newMessagesSince":"{count, number} new {count, plural, one {message} other {messages}} {isToday, select, true {} other {since}} {date}","postlist.toast.scrollToBottom":"Jump to recents","postlist.toast.scrollToLatest":"Jump to new messages","postlist.toast.searchHint":"Tip: Try {searchShortcut} to search this channel","posts_view.loadMore":"Load More messages","posts_view.newMsg":"New Messages","promote_to_user_modal.desc":"This action promotes the guest {username} to a member. It will allow the user to join public channels and interact with users outside of the channels they are currently members of. Are you sure you want to promote guest {username} to member?","promote_to_user_modal.promote":"Promote","promote_to_user_modal.title":"Promote guest {username} to member","quick_switch_modal.channels":"Channels","quick_switch_modal.channelsShortcut.mac":"- ⌘K","quick_switch_modal.channelsShortcut.windows":"- CTRL+K","quick_switch_modal.help":"Start typing then use TAB to toggle channels/teams, **▲▼** to browse, **ENTER** to select, **ESC** to dismiss.","quick_switch_modal.help_mobile":"Type to find a channel.","quick_switch_modal.help_no_team":"Type to find a channel. Use **UP/DOWN** to browse, **ENTER** to select, **ESC** to dismiss.","quick_switch_modal.input":"quick switch input","quick_switch_modal.switchChannels":"Switch a chat","quick_switch_modal.teams":"Teams","quick_switch_modal.teamsShortcut.mac":"- ⌘⌥K","quick_switch_modal.teamsShortcut.windows":"- CTRL+ALT+K","reaction_list.addReactionTooltip":"Add a reaction","reaction.add.ariaLabel":"Add a reaction","reaction.clickToAdd":"(click to add)","reaction.clickToRemove":"(click to remove)","reaction.container.ariaLabel":"reactions","reaction.othersReacted":"{otherUsers, number} {otherUsers, plural, one {user} other {users}}","reaction.reacted":"{users} {reactionVerb} with {emoji}","reaction.reactionVerb.user":"reacted","reaction.reactionVerb.users":"reacted","reaction.reactionVerb.you":"reacted","reaction.reactionVerb.youAndUsers":"reacted","reaction.reactWidth.ariaLabel":"react with","reaction.removeReact.ariaLabel":"remove reaction","reaction.usersAndOthersReacted":"{users} and {otherUsers, number} other {otherUsers, plural, one {user} other {users}}","reaction.usersReacted":"{users} and {lastUser}","reaction.you":"You",remove_group_confirm_button:"Yes, Remove Group and {memberCount, plural, one {Member} other {Members}}",remove_group_confirm_message:"{memberCount, number} {memberCount, plural, one {member} other {members}} associated to this group will be removed from the team. Are you sure you wish to remove this group and {memberCount} {memberCount, plural, one {member} other {members}}?",remove_group_confirm_title:"Remove Group and {memberCount, number} {memberCount, plural, one {Member} other {Members}}","remove_next_steps_modal.confirm":"Remove","remove_next_steps_modal.header":"Remove {title}?","remove_next_steps_modal.helpText":"Access {title} any time through the Main Menu","remove_next_steps_modal.mainText":"This will remove this section from your sidebar, but you can access it later in the Help section of the Main Menu.","removed_channel.channelName":"the channel","removed_channel.from":"Removed from ","removed_channel.okay":"Okay","removed_channel.remover":"{remover} removed you from {channel}","removed_channel.someone":"Someone","rename_category_modal.rename":"Rename","rename_category_modal.renameCategory":"Rename Category","rename_channel.cancel":"Cancel","rename_channel.defaultError":" - Cannot be changed for the default channel","rename_channel.displayName":"Display Name","rename_channel.displayNameHolder":"Enter display name","rename_channel.maxLength":"This field must be less than {maxLength, number} characters","rename_channel.minLength":"Display name must have at least {minLength, number} characters.","rename_channel.save":"Save","rename_channel.title":"Rename Channel","rename_channel.url":"URL","revoke_user_sessions_modal.desc":"This action revokes all sessions for {username}. They will be logged out from all devices. Are you sure you want to revoke all sessions for {username}?","revoke_user_sessions_modal.revoke":"Revoke","revoke_user_sessions_modal.title":"Revoke Sessions for {username}","rhs_card.jump":"Jump","rhs_card.message_by":"Message by {avatar} {user}","rhs_comment.comment":"Comment","rhs_header.backToFlaggedTooltip":"Back to saved posts","rhs_header.backToPinnedTooltip":"Back to pinned posts","rhs_header.backToResultsTooltip":"Back to search results","rhs_header.closeSidebarTooltip":"Close","rhs_header.closeTooltip.icon":"Close Sidebar Icon","rhs_header.collapseSidebarTooltip":"Collapse Sidebar","rhs_header.collapseSidebarTooltip.icon":"Collapse Sidebar Icon","rhs_header.details":"Thread","rhs_header.expandSidebarTooltip":"Expand Sidebar","rhs_header.expandSidebarTooltip.icon":"Expand Sidebar Icon","rhs_root.mobile.add_reaction":"Add Reaction","rhs_root.mobile.flag":"Save","rhs_root.mobile.unflag":"Remove from Saved","rhs_thread.rootPostDeletedMessage.body":"Part of this thread has been deleted due to a data retention policy. You can no longer reply to this thread.","save_button.save":"Save","save_button.saving":"Saving","search_bar.files_tab":"Files","search_bar.messages_tab":"Messages","search_bar.search":"Search","search_bar.search_types.files":"FILES","search_bar.search_types.messages":"MESSAGES","search_bar.usage.search_type_files":"Files","search_bar.usage.search_type_messages":"Messages","search_bar.usage.search_type_question":"What are you searching for?","search_bar.usage.title":"Search options","search_bar.usage.title_files":"File search options","search_bar.usage.title_messages":"Message search options","search_files_list_option.after":"Files after a date","search_files_list_option.before":"Files before a date","search_files_list_option.exclude":"Exclude search terms","search_files_list_option.ext":"Files with a extension","search_files_list_option.from":"Files from a user","search_files_list_option.in":"Files in a channel","search_files_list_option.on":"Files on a date","search_files_list_option.phrases":"Files with phrases","search_header.loading":"Searching...","search_header.title5":"Extra Information","search_item.channelArchived":"Archived","search_item.direct":"Direct Message (with {username})","search_item.file_badge.direct_message":"Direct Message","search_item.file_badge.group_message":"Group Message","search_item.jump":"Jump","search_list_option.after":"Messages after a date","search_list_option.before":"Messages before a date","search_list_option.exclude":"Exclude search terms","search_list_option.from":"Messages from a user","search_list_option.in":"Messages in a channel","search_list_option.on":"Messages on a date","search_list_option.phrases":"Messages with phrases","search_results.channel-files-header":"Recent files","search_results.usage.dataRetention":"Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.","select_team.icon":"Select Team Icon","select_team.join.icon":"Join Team Icon","select_team.private.icon":"Private Team","setting_item_max.cancel":"Cancel","setting_item_min.edit":"Edit","setting_picture.cancel":"Cancel","setting_picture.help.profile":"Upload a picture in BMP, JPG or PNG format. Maximum file size: {max}","setting_picture.help.team":"Upload a team icon in BMP, JPG or PNG format.\nSquare images with a solid background color are recommended.","setting_picture.remove":"Remove This Icon","setting_picture.remove_profile_picture":"Remove Profile Picture","setting_picture.save":"Save","setting_picture.select":"Select","setting_picture.uploading":"Uploading...","setting_upload.import":"Import","setting_upload.noFile":"No file selected.","setting_upload.select":"Select file","shared_channel_indicator.tooltip":"Shared with trusted organizations","shared_user_indicator.tooltip":"From a trusted organization","sidebar_header.tutorial.body1":"The **Main Menu** is where you can **Invite New Members**, access your **Account Settings** and set your **Theme Color**.","sidebar_header.tutorial.body2":"Team administrators can also access their **Team Settings** from this menu.","sidebar_header.tutorial.body3":"System administrators will find a **System Console** option to administrate the entire system.","sidebar_header.tutorial.title":"Main Menu","sidebar_left.add_channel_dropdown.browseChannels":"Browse Channels","sidebar_left.add_channel_dropdown.browseOrCreateChannels":"Browse or create channels","sidebar_left.add_channel_dropdown.createCategory":"Create New Category","sidebar_left.add_channel_dropdown.createNewChannel":"Create New Channel","sidebar_left.add_channel_dropdown.dropdownAriaLabel":"Add Channel Dropdown","sidebar_left.channel_filter.filterByUnread":"Filter by unread","sidebar_left.channel_filter.showAllChannels":"Show all channels","sidebar_left.channel_navigator.channelSwitcherLabel":"Channel Switcher","sidebar_left.channel_navigator.goBackLabel":"Back","sidebar_left.channel_navigator.goForwardLabel":"Forward","sidebar_left.channel_navigator.jumpTo":"Find contacts or chat","sidebar_left.sidebar_category_menu.createCategory":"Create New Category","sidebar_left.sidebar_category_menu.deleteCategory":"Delete Category","sidebar_left.sidebar_category_menu.dropdownAriaLabel":"Edit category menu","sidebar_left.sidebar_category_menu.editCategory":"Category options","sidebar_left.sidebar_category_menu.muteCategory":"Mute Category","sidebar_left.sidebar_category_menu.renameCategory":"Rename Category","sidebar_left.sidebar_category_menu.unmuteCategory":"Unmute Category","sidebar_left.sidebar_category.newDropBoxLabel":"Drag channels here...","sidebar_left.sidebar_category.newLabel":"new","sidebar_left.sidebar_channel_menu.addMembers":"Add Members","sidebar_left.sidebar_channel_menu.copyLink":"Copy Link","sidebar_left.sidebar_channel_menu.dropdownAriaLabel":"Edit channel menu","sidebar_left.sidebar_channel_menu.editChannel":"Channel options","sidebar_left.sidebar_channel_menu.favoriteChannel":"Favorite","sidebar_left.sidebar_channel_menu.leaveChannel":"Leave Channel","sidebar_left.sidebar_channel_menu.leaveConversation":"Close Conversation","sidebar_left.sidebar_channel_menu.markAsRead":"Mark as Read","sidebar_left.sidebar_channel_menu.moveTo":"Move to","sidebar_left.sidebar_channel_menu.moveToNewCategory":"New Category","sidebar_left.sidebar_channel_menu.muteChannel":"Mute Channel","sidebar_left.sidebar_channel_menu.muteConversation":"Mute Conversation","sidebar_left.sidebar_channel_menu.unfavoriteChannel":"Unfavorite","sidebar_left.sidebar_channel_menu.unmuteChannel":"Unmute Channel","sidebar_left.sidebar_channel_menu.unmuteConversation":"Unmute Conversation","sidebar_left.sidebar_channel.selectedCount":"{count} selected","sidebar_next_steps.gettingStarted":"Getting Started","sidebar_next_steps.otherAreasToExplore":"A few other areas to explore","sidebar_next_steps.stepsComplete":"{complete} / {total} steps complete","sidebar_next_steps.tipsAndNextSteps":"Tips & Next Steps","sidebar_right_menu.console":"System Console","sidebar_right_menu.flagged":"Saved Posts","sidebar_right_menu.recentMentions":"Recent Mentions","sidebar.allDirectMessages":"All direct messages","sidebar.browseChannelDirectChannel":"Browse channels and direct messages","sidebar.createChannel":"Create a public channel","sidebar.createDirectMessage":"Write a direct message","sidebar.createGroup":"Create a private channel","sidebar.createPublicPrivateChannel":"Create a public or private channel","sidebar.directchannel.you":"{displayname} (you)","sidebar.leave":"Leave the channel","sidebar.moreDmAria":"See more direct messages","sidebar.moreElips":"More...","sidebar.morePublicAria":"See more public channels","sidebar.morePublicDmAria":"See more public channels and direct messages","sidebar.openDirectMessage":"Open a Direct Message","sidebar.removeList":"Remove from this list","sidebar.show":"Show","sidebar.sort":"Sort","sidebar.sortedByRecencyLabel":"Recent activity","sidebar.sortedManually":"Manually","sidebar.team_select":"{siteName} - Join a team","sidebar.types.alpha":"Groups","sidebar.types.channels":"Groups","sidebar.types.direct":"Direct messages","sidebar.types.direct_messages":"Direct messages","sidebar.types.favorite":"Favorite channel","sidebar.types.favorites":"Favorites","sidebar.types.private":"Private groups","sidebar.types.public":"Public groups","sidebar.types.recent":"Recent activity","sidebar.types.unreads":"Unreads","sidebar.unreads":"More unreads","someting.string":"defaultString","status_dropdown.custom_status.tooltip_clear":"Clear","status_dropdown.dnd_sub_menu_header":"Disable notifications until:","status_dropdown.menuAriaLabel":"set status","status_dropdown.set_away":"Away","status_dropdown.set_custom":"Set a Custom Status","status_dropdown.set_dnd":"Do Not Disturb","status_dropdown.set_dnd.extra":"Disables all notifications","status_dropdown.set_offline":"Offline","status_dropdown.set_online":"Online","status_dropdown.set_ooo":"Out of Office","status_dropdown.set_ooo.extra":"Automatic Replies are enabled","status_dropdown.set_your_status":"Set your status","string.id":"default message","suggestion_list.no_matches":"No items match __{value}__","suggestion.archive":"Archived Channels","suggestion.mention.all":"Notifies everyone in this channel","suggestion.mention.channel":"Notifies everyone in this channel","suggestion.mention.channels":"My Channels","suggestion.mention.groups":"Group Mentions","suggestion.mention.here":"Notifies everyone online in this channel","suggestion.mention.members":"Channel Members","suggestion.mention.morechannels":"Other Channels","suggestion.mention.moremembers":"Other Members","suggestion.mention.nonmembers":"Not in Channel","suggestion.mention.special":"Special Mentions","suggestion.mention.unread.channels":"Unread Channels","suggestion.search.direct":"Direct Messages","suggestion.search.private":"Private Channels","suggestion.search.public":"Public Channels","suggestion.user.isCurrent":"(you)","textbox.bold":"**bold**","textbox.edit":"Edit message","textbox.help":"Help","textbox.inlinecode":"`inline code`","textbox.italic":"*italic*","textbox.preformatted":"```preformatted```","textbox.preview":"Preview","textbox.quote":">quote","textbox.strike":"strike","threading.filters.allThreads":"All your threads","threading.filters.unreads":"Unreads","threading.following":"Following","threading.footer.lastReplyAt":"Last reply {formatted}","threading.header.heading":"Thread","threading.notFollowing":"Follow","threading.numNewMessages":"{newReplies, plural, =0 {No unread messages} =1 {One unread message} other {# unread messages}}","threading.numNewReplies":"{newReplies, plural, =1 {# new reply} other {# new replies}}","threading.numReplies":"{totalReplies, plural, =0 {Reply} =1 {# reply} other {# replies}}","threading.threadHeader.menu":"More Actions","threading.threadItem.menu":"Actions","threading.threadList.markRead":"Mark all as read","threading.threadMenu.copy":"Copy link","threading.threadMenu.follow":"Follow thread","threading.threadMenu.followExtra":"You will be notified about replies","threading.threadMenu.markRead":"Mark as read","threading.threadMenu.markUnread":"Mark as unread","threading.threadMenu.openInChannel":"Open in channel","threading.threadMenu.save":"Save","threading.threadMenu.unfollow":"Unfollow thread","threading.threadMenu.unfollowExtra":"You won’t be notified about replies","threading.threadMenu.unsave":"Unsave","timestamp.datetime":"{relativeOrDate} at {time}","upload_overlay.info":"Drop a file to upload it.","user_list.notFound":"No users found","user_profile.account.editSettings":"Edit Account Settings","user_profile.account.localTime":"Local Time","user_profile.account.post_was_created":"This post was created by an integration from","user_profile.add_user_to_channel":"Add to a Channel","user_profile.add_user_to_channel.icon":"Add User to Channel Icon","user_profile.custom_status":"Status","user_profile.custom_status.set_status":"Set a status","user_profile.send.dm":"Send Message","user_profile.send.dm.icon":"Send Message Icon","user.settings.advance.confirmDeactivateAccountTitle":"Confirm Deactivation","user.settings.advance.confirmDeactivateDesc":"Are you sure you want to deactivate your account? This can only be reversed by your System Administrator.","user.settings.advance.deactivate_member_modal.deactivateButton":"Yes, deactivate my account","user.settings.advance.deactivateAccountTitle":"Deactivate Account","user.settings.advance.deactivateDesc":"Deactivating your account removes your ability to log in to this server and disables all email and mobile notifications. To reactivate your account, contact your System Administrator.","user.settings.advance.deactivateDescShort":"Click 'Edit' to deactivate your account","user.settings.advance.enabledFeatures":"{count, number} {count, plural, one {Feature} other {Features}} Enabled","user.settings.advance.formattingDesc":"If enabled, posts will be formatted to create links, show emoji, style the text, and add line breaks. By default, this setting is enabled.","user.settings.advance.formattingTitle":"Enable Post Formatting","user.settings.advance.icon":"Advanced Settings Icon","user.settings.advance.joinLeaveDesc":'When "On", System Messages saying a user has joined or left a channel will be visible. When "Off", the System Messages about joining or leaving a channel will be hidden. A message will still show up when you are added to a channel, so you can receive a notification.',"user.settings.advance.joinLeaveTitle":"Enable Join/Leave Messages","user.settings.advance.markdown_preview":"Show markdown preview option in message input box","user.settings.advance.off":"Off","user.settings.advance.on":"On","user.settings.advance.onForAllMessages":"On for all messages","user.settings.advance.onForCode":"On only for code blocks starting with ```","user.settings.advance.preReleaseDesc":"Check any pre-released features you'd like to preview.  You may also need to refresh the page before the setting will take effect.","user.settings.advance.preReleaseTitle":"Preview Pre-release Features","user.settings.advance.sendDesc":"When enabled, CTRL + ENTER will send the message and ENTER inserts a new line.","user.settings.advance.sendDesc.mac":"When enabled, ⌘ + ENTER will send the message and ENTER inserts a new line.","user.settings.advance.sendTitle":"Send Messages on CTRL+ENTER","user.settings.advance.sendTitle.mac":"Send Messages on ⌘+ENTER","user.settings.advance.title":"Advanced Settings","user.settings.custom_theme.awayIndicator":"Away Indicator","user.settings.custom_theme.buttonBg":"Button BG","user.settings.custom_theme.buttonColor":"Button Text","user.settings.custom_theme.centerChannelBg":"Center Channel BG","user.settings.custom_theme.centerChannelColor":"Center Channel Text","user.settings.custom_theme.centerChannelTitle":"Center Channel Styles","user.settings.custom_theme.codeTheme":"Code Theme","user.settings.custom_theme.copied":"✔ Copied","user.settings.custom_theme.copyPaste":"Copy and paste to share theme colors:","user.settings.custom_theme.copyThemeColors":"Copy Theme Colors","user.settings.custom_theme.dndIndicator":"Do Not Disturb Indicator","user.settings.custom_theme.errorTextColor":"Error Text Color","user.settings.custom_theme.linkButtonTitle":"Link and Button Styles","user.settings.custom_theme.linkColor":"Link Color","user.settings.custom_theme.mentionBg":"Mention Jewel BG","user.settings.custom_theme.mentionColor":"Mention Jewel Text","user.settings.custom_theme.mentionHighlightBg":"Mention Highlight BG","user.settings.custom_theme.mentionHighlightLink":"Mention Highlight Link","user.settings.custom_theme.newMessageSeparator":"New Message Separator","user.settings.custom_theme.onlineIndicator":"Online Indicator","user.settings.custom_theme.sidebarBg":"Sidebar BG","user.settings.custom_theme.sidebarHeaderBg":"Sidebar Header BG","user.settings.custom_theme.sidebarHeaderTextColor":"Sidebar Header Text","user.settings.custom_theme.sidebarTeamBarBg":"Team Sidebar BG","user.settings.custom_theme.sidebarText":"Sidebar Text","user.settings.custom_theme.sidebarTextActiveBorder":"Sidebar Text Active Border","user.settings.custom_theme.sidebarTextActiveColor":"Sidebar Text Active Color","user.settings.custom_theme.sidebarTextHoverBg":"Sidebar Text Hover BG","user.settings.custom_theme.sidebarTitle":"Sidebar Styles","user.settings.custom_theme.sidebarUnreadText":"Sidebar Unread Text","user.settings.display.channeldisplaymode":"Select the width of the center channel.","user.settings.display.channelDisplayTitle":"Channel Display","user.settings.display.clockDisplay":"Clock Display","user.settings.display.collapseDesc":"Set whether previews of image links and image attachment thumbnails show as expanded or collapsed by default. This setting can also be controlled using the slash commands /expand and /collapse.","user.settings.display.collapseDisplay":"Default Appearance of Image Previews","user.settings.display.collapsedReplyThreadsDescription":"When enabled, reply messages are not shown in the channel view. You can still read and reply to threads in the right-hand sidebar. You'll be notified about threads you're following in a new \"Threads\" item in the channel sidebar.","user.settings.display.collapsedReplyThreadsOff":"Off","user.settings.display.collapsedReplyThreadsOn":"On","user.settings.display.collapsedReplyThreadsTitle":"Collapsed Reply Threads (Beta)","user.settings.display.collapseOff":"Collapsed","user.settings.display.collapseOn":"Expanded","user.settings.display.fixedWidthCentered":"Fixed width, centered","user.settings.display.fullScreen":"Full width","user.settings.display.icon":"Display Settings Icon","user.settings.display.language":"Language","user.settings.display.linkPreviewDesc":"When available, the first web link in a message will show a preview of the website content below the message.","user.settings.display.linkPreviewDisplay":"Website Link Previews","user.settings.display.linkPreviewOff":"Off","user.settings.display.linkPreviewOn":"On","user.settings.display.messageDisplayClean":"Standard","user.settings.display.messageDisplayCleanDes":"Easy to scan and read.","user.settings.display.messageDisplayCompact":"Compact","user.settings.display.messageDisplayCompactDes":"Fit as many messages on the screen as we can.","user.settings.display.messageDisplayDescription":"Select how messages in a channel should be displayed.","user.settings.display.messageDisplayTitle":"Message Display","user.settings.display.militaryClock":"24-hour clock (example: 16:00)","user.settings.display.normalClock":"12-hour clock (example: 4:00 PM)","user.settings.display.preferTime":"Select how you prefer time displayed.","user.settings.display.teammateNameDisplay":"This field is handled through your System Administrator. If you want to change it, you need to do so through your System Administrator.","user.settings.display.teammateNameDisplayDescription":"Set how to display other user's names in posts and the Direct Messages list.","user.settings.display.teammateNameDisplayFullname":"Show first and last name","user.settings.display.teammateNameDisplayNicknameFullname":"Show nickname if one exists, otherwise show first and last name","user.settings.display.teammateNameDisplayTitle":"Teammate Name Display","user.settings.display.teammateNameDisplayUsername":"Show username","user.settings.display.theme.applyToAllTeams":"Apply new theme to all my teams","user.settings.display.theme.customTheme":"Custom Theme","user.settings.display.theme.describe":"Open to manage your theme","user.settings.display.theme.import":"Import theme colors from Slack","user.settings.display.theme.otherThemes":"See other themes","user.settings.display.theme.themeColors":"Theme Colors","user.settings.display.theme.title":"Theme","user.settings.display.timezone":"Timezone","user.settings.display.title":"Display Settings","user.settings.general.close":"Close","user.settings.general.confirmEmail":"Confirm Email","user.settings.general.currentEmail":"Current Email","user.settings.general.currentPassword":"Current Password","user.settings.general.email":"Email","user.settings.general.emailGitlabCantUpdate":"Login occurs through GitLab. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailGoogleCantUpdate":"Login occurs through Google. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailHelp1":"Email is used for sign-in, notifications, and password reset. Email requires verification if changed.","user.settings.general.emailHelp3":"Email is used for sign-in, notifications, and password reset.","user.settings.general.emailLdapCantUpdate":"Login occurs through AD/LDAP. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailMatch":"The new emails you entered do not match.","user.settings.general.emailOffice365CantUpdate":"Login occurs through Office 365. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailOpenIdCantUpdate":"Login occurs through OpenID Connect. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailSamlCantUpdate":"Login occurs through SAML. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emptyName":"Click 'Edit' to add your full name","user.settings.general.emptyNickname":"Click 'Edit' to add a nickname","user.settings.general.emptyPassword":"Please enter your current password.","user.settings.general.emptyPosition":"Click 'Edit' to add your job title / position","user.settings.general.field_handled_externally":"This field is handled through your login provider. If you want to change it, you need to do so through your login provider.","user.settings.general.firstName":"First Name","user.settings.general.fullName":"Full Name","user.settings.general.icon":"General Settings Icon","user.settings.general.imageTooLarge":"Unable to upload profile image. File is too large.","user.settings.general.imageUpdated":"Image last updated {date}","user.settings.general.incorrectPassword":"Your password is incorrect.","user.settings.general.lastName":"Last Name","user.settings.general.loginGitlab":"Login done through GitLab ({email})","user.settings.general.loginGoogle":"Login done through Google ({email})","user.settings.general.loginLdap":"Login done through AD/LDAP ({email})","user.settings.general.loginOffice365":"Login done through Office 365 ({email})","user.settings.general.loginSaml":"Login done through SAML ({email})","user.settings.general.mobile.emptyName":"Click to add your full name","user.settings.general.mobile.emptyNickname":"Click to add a nickname","user.settings.general.mobile.emptyPosition":"Click to add your job title / position","user.settings.general.mobile.uploadImage":"Click to upload an image","user.settings.general.newEmail":"New Email","user.settings.general.nickname":"Nickname","user.settings.general.nicknameExtra":"Use Nickname for a name you might be called that is different from your first name and username. This is most often used when two or more people have similar sounding names and usernames.","user.settings.general.notificationsExtra":"By default, you will receive mention notifications when someone types your first name. Go to {notify} settings to change this default.","user.settings.general.notificationsLink":"Notifications","user.settings.general.position":"Position","user.settings.general.positionExtra":"Use Position for your role or job title. This will be shown in your profile popover.","user.settings.general.profilePicture":"Avatar","user.settings.general.sendAgain":"Send again","user.settings.general.sending":"Sending","user.settings.general.title":"General Settings","user.settings.general.uploadImage":"Click 'Edit' to upload an image.","user.settings.general.username":"Username","user.settings.general.usernameInfo":"Pick something easy for teammates to recognize and recall.","user.settings.general.usernameReserved":"This username is reserved, please choose a new one.","user.settings.general.usernameRestrictions":"Username must begin with a letter, and contain between {min} to {max} lowercase characters made up of numbers, letters, and the symbols '.', '-', and '_'.","user.settings.general.validEmail":"Please enter a valid email address","user.settings.general.validImage":"Only BMP, JPG or PNG images may be used for profile pictures","user.settings.import_theme.cancel":"Cancel","user.settings.import_theme.importBody":'To import a theme, go to a Slack team and look for "Preferences -> Sidebar Theme". Open the custom theme option, copy the theme color values and paste them here:',"user.settings.import_theme.importHeader":"Import Slack Theme","user.settings.import_theme.submit":"Submit","user.settings.import_theme.submitError":"Invalid format, please try copying and pasting in again.","user.settings.languages.change":"Change interface language","user.settings.languages.promote":"Select which language Gomlo displays in the user interface.\n \nWould you like to help with translations? Join the [Gomlo Translation Server](!http://translate.chatting.gomlo.me/) to contribute.","user.settings.mfa.add":"Add MFA to Account","user.settings.mfa.addHelp":"Adding multi-factor authentication will make your account more secure by requiring a code from your mobile phone each time you sign in.","user.settings.mfa.remove":"Remove MFA from Account","user.settings.mfa.removeHelp":"Removing multi-factor authentication means you will no longer require a phone-based passcode to sign-in to your account.","user.settings.mfa.requiredHelp":"Multi-factor authentication is required on this server. Resetting is only recommended when you need to switch code generation to a new mobile device. You will be required to set it up again immediately.","user.settings.mfa.reset":"Reset MFA on Account","user.settings.mfa.title":"Multi-factor Authentication","user.settings.modal.advanced":"Advanced","user.settings.modal.confirmBtns":"Yes, Discard","user.settings.modal.confirmMsg":"You have unsaved changes, are you sure you want to discard them?","user.settings.modal.confirmTitle":"Discard Changes?","user.settings.modal.display":"Display","user.settings.modal.general":"General","user.settings.modal.notifications":"Notifications","user.settings.modal.security":"Security","user.settings.modal.sidebar":"Sidebar","user.settings.modal.title":"Account Settings","user.settings.notifications.allActivity":"For all activity","user.settings.notifications.autoResponder":"Automatic Direct Message Replies","user.settings.notifications.autoResponderDefault":"Hello, I am out of office and unable to respond to messages.","user.settings.notifications.autoResponderDisabled":"Disabled","user.settings.notifications.autoResponderEnabled":"Enabled","user.settings.notifications.autoResponderHint":"Set a custom message that will be automatically sent in response to Direct Messages. Mentions in Public and Private Channels will not trigger the automated reply. Enabling Automatic Replies sets your status to Out of Office and disables email and push notifications.","user.settings.notifications.autoResponderPlaceholder":"Message","user.settings.notifications.channelWide":'Channel-wide mentions "@group", "@all", "@here"',"user.settings.notifications.comments":"Reply notifications","user.settings.notifications.commentsAny":"Trigger notifications on messages in reply threads that I start or participate in","user.settings.notifications.commentsInfo":"In addition to notifications for when you're mentioned, select if you would like to receive notifications on reply threads.","user.settings.notifications.commentsNever":"Do not trigger notifications on messages in reply threads unless I'm mentioned","user.settings.notifications.commentsRoot":"Trigger notifications on messages in threads that I start","user.settings.notifications.desktop":"Send desktop notifications","user.settings.notifications.desktop.allNoSound":"For all activity, without sound","user.settings.notifications.desktop.allSound":"For all activity, with sound","user.settings.notifications.desktop.allSoundHidden":"For all activity","user.settings.notifications.desktop.mentionsNoSound":"For mentions and direct messages, without sound","user.settings.notifications.desktop.mentionsSound":"For mentions and direct messages, with sound","user.settings.notifications.desktop.mentionsSoundHidden":"For mentions and direct messages","user.settings.notifications.desktop.sound":"Notification sound","user.settings.notifications.desktop.title":"Desktop Notifications","user.settings.notifications.email.disabled":"Email notifications are not enabled","user.settings.notifications.email.disabled_long":"Email notifications have not been enabled by your System Administrator.","user.settings.notifications.email.everyHour":"Every hour","user.settings.notifications.email.everyXMinutes":"Every {count, plural, one {minute} other {{count, number} minutes}}","user.settings.notifications.email.immediately":"Immediately","user.settings.notifications.email.never":"Never","user.settings.notifications.email.send":"Send email notifications","user.settings.notifications.emailBatchingInfo":"Notifications received over the time period selected are combined and sent in a single email.","user.settings.notifications.emailInfo":"Email notifications are sent for mentions and direct messages when you are offline or away for more than 5 minutes.","user.settings.notifications.emailNotifications":"Email Notifications","user.settings.notifications.header":"Notifications","user.settings.notifications.icon":"Notification Settings Icon","user.settings.notifications.info":"Desktop notifications are available on Edge, Firefox, Safari, Chrome and Gomlo Desktop Apps.","user.settings.notifications.mentionsInfo":'Mentions trigger when someone sends a message that includes your username ("@{username}") or any of the options selected above.',"user.settings.notifications.never":"Never","user.settings.notifications.noWords":"No words configured","user.settings.notifications.off":"Off","user.settings.notifications.on":"On","user.settings.notifications.onlyMentions":"Only for mentions and direct messages","user.settings.notifications.push":"Mobile Push Notifications","user.settings.notifications.push_notification.status":"Trigger push notifications when","user.settings.notifications.sensitiveName":'Your case-sensitive first name "{first_name}"',"user.settings.notifications.sensitiveUsername":'Your non case-sensitive username "{username}"',"user.settings.notifications.sensitiveWords":"Other non case-sensitive words, separated by commas:","user.settings.notifications.soundConfig":"Please configure notification sounds in your browser settings","user.settings.notifications.sounds_info":"Notification sounds are available on Firefox, Edge, Safari, Chrome and Gomlo Desktop Apps.","user.settings.notifications.title":"Notification Settings","user.settings.notifications.wordsTrigger":"Words That Trigger Mentions","user.settings.push_notification.allActivity":"For all activity","user.settings.push_notification.allActivityAway":"For all activity when away or offline","user.settings.push_notification.allActivityOffline":"For all activity when offline","user.settings.push_notification.allActivityOnline":"For all activity when online, away or offline","user.settings.push_notification.away":"Away or offline","user.settings.push_notification.disabled":"Push notifications are not enabled","user.settings.push_notification.disabled_long":"Push notifications have not been enabled by your System Administrator.","user.settings.push_notification.info":"Notification alerts are pushed to your mobile device when there is activity in Gomlo.","user.settings.push_notification.offline":"Offline","user.settings.push_notification.online":"Online, away or offline","user.settings.push_notification.onlyMentions":"For mentions and direct messages","user.settings.push_notification.onlyMentionsAway":"For mentions and direct messages when away or offline","user.settings.push_notification.onlyMentionsOffline":"For mentions and direct messages when offline","user.settings.push_notification.onlyMentionsOnline":"For mentions and direct messages when online, away or offline","user.settings.push_notification.send":"Send mobile push notifications","user.settings.push_notification.status_info":"Notification alerts are only pushed to your mobile device when your availability matches the selection above.","user.settings.security.active":"Active","user.settings.security.close":"Close","user.settings.security.currentPassword":"Current Password","user.settings.security.currentPasswordError":"Please enter your current password.","user.settings.security.deauthorize":"Deauthorize","user.settings.security.emailPwd":"Email and Password","user.settings.security.gitlab":"GitLab","user.settings.security.google":"Google","user.settings.security.icon":"Security Settings Icon","user.settings.security.inactive":"Inactive","user.settings.security.lastUpdated":"Last updated {date} at {time}","user.settings.security.ldap":"AD/LDAP","user.settings.security.loginGitlab":"Login done through GitLab","user.settings.security.loginGoogle":"Login done through Google Apps","user.settings.security.loginLdap":"Login done through AD/LDAP","user.settings.security.loginOffice365":"Login done through Office 365","user.settings.security.loginSaml":"Login done through SAML","user.settings.security.logoutActiveSessions":"View and Log Out of Active Sessions","user.settings.security.logoutActiveSessions.icon":"Active Sessions Icon","user.settings.security.method":"Sign-in Method","user.settings.security.newPassword":"New Password","user.settings.security.noApps":"No OAuth 2.0 Applications are authorized.","user.settings.security.oauthApps":"OAuth 2.0 Applications","user.settings.security.oauthAppsDescription":"Click 'Edit' to manage your OAuth 2.0 Applications","user.settings.security.oauthAppsHelp":"Applications act on your behalf to access your data based on the permissions you grant them.","user.settings.security.office365":"Office 365","user.settings.security.oneSignin":"You may only have one sign-in method at a time. Switching sign-in method will send an email notifying you if the change was successful.","user.settings.security.openid":"OpenID","user.settings.security.password":"Password","user.settings.security.passwordError":"Your password must contain between {min} and {max} characters.","user.settings.security.passwordErrorLowercase":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter.","user.settings.security.passwordErrorLowercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one number.","user.settings.security.passwordErrorLowercaseNumberSymbol":'Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one number, and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorLowercaseSymbol":'Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorLowercaseUppercase":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one uppercase letter.","user.settings.security.passwordErrorLowercaseUppercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, and at least one number.","user.settings.security.passwordErrorLowercaseUppercaseNumberSymbol":'Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, at least one number, and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorLowercaseUppercaseSymbol":'Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorNumber":"Your password must contain between {min} and {max} characters made up of at least one number.","user.settings.security.passwordErrorNumberSymbol":'Your password must contain between {min} and {max} characters made up of at least one number and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorSymbol":'Your password must contain between {min} and {max} characters made up of at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorUppercase":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter.","user.settings.security.passwordErrorUppercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter and at least one number.","user.settings.security.passwordErrorUppercaseNumberSymbol":'Your password must contain between {min} and {max} characters made up of at least one uppercase letter, at least one number, and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorUppercaseSymbol":'Your password must contain between {min} and {max} characters made up of at least one uppercase letter and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordGitlabCantUpdate":"Login occurs through GitLab. Password cannot be updated.","user.settings.security.passwordGoogleCantUpdate":"Login occurs through Google Apps. Password cannot be updated.","user.settings.security.passwordLdapCantUpdate":"Login occurs through AD/LDAP. Password cannot be updated.","user.settings.security.passwordMatchError":"The new passwords you entered do not match.","user.settings.security.passwordMinLength":"Invalid minimum length, cannot show preview.","user.settings.security.passwordOffice365CantUpdate":"Login occurs through Office 365. Password cannot be updated.","user.settings.security.passwordSamlCantUpdate":"This field is handled through your login provider. If you want to change it, you need to do so through your login provider.","user.settings.security.retypePassword":"Retype New Password","user.settings.security.saml":"SAML","user.settings.security.switchEmail":"Switch to Using Email and Password","user.settings.security.switchGitlab":"Switch to Using GitLab SSO","user.settings.security.switchGoogle":"Switch to Using Google SSO","user.settings.security.switchLdap":"Switch to Using AD/LDAP","user.settings.security.switchOffice365":"Switch to Using Office 365 SSO","user.settings.security.switchOpenId":"Switch to Using OpenID SSO","user.settings.security.switchSaml":"Switch to Using SAML SSO","user.settings.security.title":"Security Settings","user.settings.security.viewHistory":"View Access History","user.settings.security.viewHistory.icon":"Access History Icon","user.settings.sidebar.after_seven_days":"After 7 days with no new messages","user.settings.sidebar.autoCloseDMDesc":"Direct Message conversations can be reopened with the “+” button in the sidebar or using the Channel Switcher (CTRL+K).","user.settings.sidebar.autoCloseDMTitle":"Automatically Close Direct Messages","user.settings.sidebar.channelSwitcherSectionDesc.mac":"The channel switcher is shown at the bottom of the sidebar and is used to jump between channels quickly. It can also be accessed using CMD + K.","user.settings.sidebar.channelSwitcherSectionDesc.windows":"The channel switcher is shown at the bottom of the sidebar and is used to jump between channels quickly. It can also be accessed using CTRL + K.","user.settings.sidebar.channelSwitcherSectionTitle":"Channel Switcher","user.settings.sidebar.favorites":"Favorites grouped separately","user.settings.sidebar.favoritesDesc":"Channels marked as favorites will be grouped separately.","user.settings.sidebar.favoritesShort":"Favorites grouped separately","user.settings.sidebar.groupAndSortChannelsTitle":"Channel Grouping and Sorting","user.settings.sidebar.groupByNone":"Combine all channel types","user.settings.sidebar.groupByNoneShort":"No grouping","user.settings.sidebar.groupByType":"Channels grouped by type","user.settings.sidebar.groupByTypeShort":"Group by channel type","user.settings.sidebar.groupChannelsTitle":"Channel grouping","user.settings.sidebar.groupDesc":"Group channels by type, or combine all types into a list.","user.settings.sidebar.icon":"Sidebar Settings Icon","user.settings.sidebar.limitVisibleGMsDMs.allDirectMessages":"All Direct Messages","user.settings.sidebar.limitVisibleGMsDMsDesc":"You can also change these settings in the direct messages sidebar menu.","user.settings.sidebar.limitVisibleGMsDMsTitle":"Number of direct messages to show","user.settings.sidebar.never":"Never","user.settings.sidebar.off":"Off","user.settings.sidebar.on":"On","user.settings.sidebar.recent":"Recent activity","user.settings.sidebar.showUnreadsCategoryDesc":"When enabled, all unread channels and direct messages will be grouped together in the sidebar.","user.settings.sidebar.showUnreadsCategoryTitle":"Group unread channels separately","user.settings.sidebar.sortAlpha":"Alphabetically","user.settings.sidebar.sortAlphaShort":"sorted alphabetically","user.settings.sidebar.sortChannelsTitle":"Channel sorting","user.settings.sidebar.sortDesc":"Sort channels alphabetically, or by most recent post.","user.settings.sidebar.sortRecent":"Recency","user.settings.sidebar.sortRecentShort":"sorted by recency","user.settings.sidebar.title":"Sidebar Settings","user.settings.sidebar.unreads":"Unreads grouped separately","user.settings.sidebar.unreadsDesc":"Group unread channels separately until read.","user.settings.sidebar.unreadsFavoritesShort":"Unreads and favorites grouped separately","user.settings.sidebar.unreadsShort":"Unreads grouped separately","user.settings.timezones.automatic":"Automatic","user.settings.timezones.promote":"Select the timezone used for timestamps in the user interface and email notifications.","user.settings.tokens.activate":"Enable","user.settings.tokens.cancel":"Cancel","user.settings.tokens.clickToEdit":"Click 'Edit' to manage your personal access tokens","user.settings.tokens.confirmCopyButton":"Yes, I have copied the token","user.settings.tokens.confirmCopyMessage":"Make sure you have copied and saved the access token below. You won't be able to see it again!","user.settings.tokens.confirmCopyTitle":"Copied Your Token?","user.settings.tokens.confirmCreateButton":"Yes, Create","user.settings.tokens.confirmCreateMessage":"You are generating a personal access token with System Admin permissions. Are you sure want to create this token?","user.settings.tokens.confirmCreateTitle":"Create System Admin Personal Access Token","user.settings.tokens.confirmDeleteButton":"Yes, Delete","user.settings.tokens.confirmDeleteMessage":"Any integrations using this token will no longer be able to access the Gomlo API. You cannot undo this action. \n \nAre you sure want to delete the **{description}** token?","user.settings.tokens.confirmDeleteTitle":"Delete Token?","user.settings.tokens.copy":"Please copy the access token below. You won't be able to see it again!","user.settings.tokens.create":"Create Token","user.settings.tokens.deactivate":"Disable","user.settings.tokens.deactivatedWarning":"(Disabled)","user.settings.tokens.delete":"Delete","user.settings.tokens.description":"[Personal access tokens](!https://about.chatting.gomlo.me/default-user-access-tokens) function similarly to session tokens and can be used by integrations to [authenticate against the REST API](!https://about.chatting.gomlo.me/default-api-authentication).","user.settings.tokens.description_mobile":"[Personal access tokens](!https://about.chatting.gomlo.me/default-user-access-tokens) function similarly to session tokens and can be used by integrations to [authenticate against the REST API](!https://about.chatting.gomlo.me/default-api-authentication). Create new tokens on your desktop.","user.settings.tokens.id":"Token ID: ","user.settings.tokens.name":"Token Description: ","user.settings.tokens.nameHelp":"Enter a description for your token to remember what it does.","user.settings.tokens.nameRequired":"Please enter a description.","user.settings.tokens.save":"Save","user.settings.tokens.title":"Personal Access Tokens","user.settings.tokens.token":"Access Token: ","user.settings.tokens.tokenDesc":"Token Description: ","user.settings.tokens.tokenId":"Token ID: ","user.settings.tokens.tokenLoading":"Loading...","user.settings.tokens.userAccessTokensNone":"No personal access tokens.","userGuideHelp.askTheCommunity":"Ask the community","userGuideHelp.helpResources":"Help resources","userGuideHelp.keyboardShortcuts":"Keyboard shortcuts","userGuideHelp.reportAProblem":"Report a problem","version_bar.new":"A new version of Gomlo is available.","version_bar.refresh":"Refresh the app now","view_image_popover.download":"Download","view_image_popover.file":"File {count, number} of {total, number}","view_image_popover.open":"Open","view_image_popover.publicLink":"Get a public link","view_image.loading":"Loading ","view_image.zoom_in":"Zoom In","view_image.zoom_out":"Zoom Out","view_image.zoom_reset":"Reset Zoom","web.footer.about":"About","web.footer.help":"Help","web.footer.privacy":"Privacy","web.footer.terms":"Terms","web.header.back":"Back","web.header.logout":"Logout","web.root.signup_info":"All team communication in one place, searchable and accessible anywhere","widgets.channels_input.empty":"No channels found","widgets.channels_input.loading":"Loading","widgets.users_emails_input.loading":"Loading","widgets.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email address","widgets.users_emails_input.valid_email":"Add **{email}**",yourcomputer:"Your computer"};function Yn(e){return async t=>{const n=[t(V()),t(Y()),t(W())],a=await Promise.all(n);return q.getUserId(e)&&a.push(await t(z())),a}}const Wn={};function qn(e,t){return async n=>{const a={...Vn};if(Object.values(Wn).forEach((t=>{Object.assign(a,t(e))})),"en"!==e)try{const e=await J.getTranslations(t);Object.assign(a,e)}catch(s){console.error(s)}n({type:$.RECEIVED_TRANSLATIONS,data:{locale:e,translations:a}})}}var zn={exports:{}};!function(e){!function(){
/**
               * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
               *
               * @codingstandard ftlabs-jsv2
               * @copyright The Financial Times Limited [All Rights Reserved]
               * @license MIT License (see LICENSE.txt)
               */
function t(e,n){var s;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=e,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!t.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],i=this,r=0,l=o.length;r<l;r++)i[o[r]]=c(i[o[r]],i);a&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,a){var s=Node.prototype.removeEventListener;"click"===t?s.call(e,t,n.hijacked||n,a):s.call(e,t,n,a)},e.addEventListener=function(t,n,a){var s=Node.prototype.addEventListener;"click"===t?s.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),a):s.call(e,t,n,a)}),"function"==typeof e.onclick&&(s=e.onclick,e.addEventListener("click",(function(e){s(e)}),!1),e.onclick=null)}function c(e,t){return function(){return e.apply(t,arguments)}}}var n=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!n,s=/iP(ad|hone|od)/.test(navigator.userAgent)&&!n,o=s&&/OS 4_\d(_\d)?/.test(navigator.userAgent),i=s&&/OS [6-7]_\d/.test(navigator.userAgent),r=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(s&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},t.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},t.prototype.sendClick=function(e,t){var n,a;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),a=t.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},t.prototype.determineEventType=function(e){return a&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(e){var t;s&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},t.prototype.updateScrollParent=function(e){var t,n;if(!(t=e.fastClickScrollParent)||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},t.prototype.onTouchStart=function(e){var t,n,a;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],s){if((a=window.getSelection()).rangeCount&&!a.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},t.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},t.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(e){var t,n,r,l,c,d=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,i&&(c=e.changedTouches[0],(d=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||d).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(r=d.tagName.toLowerCase())){if(t=this.findControl(d)){if(this.focus(d),a)return!1;d=t}}else if(this.needsFocus(d))return e.timeStamp-n>100||s&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(d),this.sendClick(d,e),s&&"select"===r||(this.targetElement=null,e.preventDefault()),!1);return!(!s||o||!(l=d.fastClickScrollParent)||l.fastClickLastScrollTop===l.scrollTop)||(this.needsClick(d)||(e.preventDefault(),this.sendClick(d,e)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},t.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},t.prototype.destroy=function(){var e=this.layer;a&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(e){var t,n,s;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(r&&(s=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&s[2]>=3&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},t.attach=function(e,n){return new t(e,n)},e.exports?(e.exports=t.attach,e.exports.FastClick=t):window.FastClick=t}()}(zn);var Jn=zn.exports,$n=t("r",s(o)),Kn=$n.jsx;var Qn=function(e){return Kn("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e),children:Kn("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})};const Xn=t("P",i((e=>K(e)),(e=>{const t=e?.FeatureFlagAppsEnabled;return"true"===t})));function Zn(e,t){return async(n,a)=>{const s=T(a(),t)?.team_id||"";return n(Q({clientFunc:()=>J.getAppsBindings(e,t,s),onSuccess:X.RECEIVED_APP_BINDINGS}))}}function ea(){return async(e,t)=>{const n=t();let a;try{const t=await e(ee());a=new Set(t.data)}catch(r){return{error:r}}a.add(O(n));const s=Object.keys(te(n)),o=new Set(s.filter((e=>!a.has(e)))),i=[];for(const l of o.values())i.push({type:ne.PROFILE_NO_LONGER_VISIBLE,data:{user_id:l}});return i.length>0&&e(ae(i)),{data:!0}}}function ta(e=""){return function(e,t=""){return async(n,a)=>{let s;n({type:se.GET_ANALYTICS_REQUEST,data:null});try{s=await J.getAnalytics(e,t)}catch(i){return oe(i,n,a),n(ae([{type:se.GET_ANALYTICS_FAILURE,error:i},ie(i)])),{error:i}}const o=[{type:se.GET_ANALYTICS_SUCCESS,data:null}];return""===t?o.push({type:se.RECEIVED_SYSTEM_ANALYTICS,data:s,name:e}):o.push({type:se.RECEIVED_TEAM_ANALYTICS,data:s,name:e,teamId:t}),n(ae(o)),{data:s}}}("standard",e)}function na(){return i(O,re,le,((e,t)=>t),((e,t,n,a)=>{const s=Object.values(n).reduce(((e,t)=>t.type===ce.DM_CHANNEL?{...e,[t.name]:t}:e),{});return a.map((n=>{const a=de(e,n.id),o=s[a],i=o?t[o.id]:null;return{...n,last_viewed_at:o&&i?i.last_viewed_at:0}}))}))}t("aa",(e=>{const t=O(e);return q.getPreviousTeamId(t)})),t("N",(e=>e.views.channel.toastStatus));function aa(e,t=!1){return async n=>{const s=Date.now();t&&n({type:$.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:ue.STARTED});const{data:o,error:i}=await n(Se(e));if(i)return t&&n({type:$.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:ue.FAILURE}),{error:i,atLatestMessage:!1,atOldestmessage:!1};const r=[];return r.push({type:$.INCREASE_POST_VISIBILITY,data:e,amount:o.order.length}),t&&r.push({type:$.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:ue.SUCCESS}),""===o.next_post_id&&r.push({type:$.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:s}),n(a(r)),{atLatestMessage:""===o.next_post_id,atOldestmessage:""===o.prev_post_id}}}function sa(e,t,n=!1){return async(s,o)=>{const i=Date.now(),r=o(),l=(e=>e.websocket)(r);let c=t;const d=((e,t)=>e.views.channel.lastGetPosts[t])(r,e),u=[];d&&d<l.lastDisconnectAt&&(c=d),n&&s({type:$.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:ue.STARTED});const{data:m,error:h}=await s(me(e,c));return m&&u.push({type:$.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:i}),n&&(h?u.push({type:$.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:ue.FAILURE}):u.push({type:$.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:ue.SUCCESS})),s(a(u)),{data:m,error:h}}}const oa=3e5;var ia=t("W",new class{constructor(){e(this,"conn",void 0),e(this,"connectionUrl",void 0),e(this,"responseSequence",void 0),e(this,"serverSequence",void 0),e(this,"connectFailCount",void 0),e(this,"eventCallback",void 0),e(this,"responseCallbacks",void 0),e(this,"firstConnectCallback",void 0),e(this,"reconnectCallback",void 0),e(this,"missedEventCallback",void 0),e(this,"errorCallback",void 0),e(this,"closeCallback",void 0),e(this,"connectionId",void 0),this.conn=null,this.connectionUrl=null,this.responseSequence=1,this.serverSequence=0,this.connectFailCount=0,this.eventCallback=null,this.responseCallbacks={},this.firstConnectCallback=null,this.reconnectCallback=null,this.missedEventCallback=null,this.errorCallback=null,this.closeCallback=null,this.connectionId=""}initialize(e=this.connectionUrl,t){if(this.conn)return;if(null==e)return;this.connectFailCount,this.conn=new WebSocket(`${e}?connection_id=${this.connectionId}&sequence_number=${this.serverSequence}`),this.connectionUrl=e;const n="true"===K(Oe.getState()).EnableReliableWebSockets;this.conn.onopen=()=>{n||(this.serverSequence=0),t&&this.sendMessage("authentication_challenge",{token:t}),this.connectFailCount>0?!n&&this.reconnectCallback&&this.reconnectCallback():this.firstConnectCallback&&this.firstConnectCallback(),this.connectFailCount=0},this.conn.onclose=()=>{this.conn=null,this.responseSequence=1,this.connectFailCount,this.connectFailCount++,this.closeCallback&&this.closeCallback(this.connectFailCount);let n=3e3;this.connectFailCount>7&&(n=3e3*this.connectFailCount*this.connectFailCount,n>oa&&(n=oa)),setTimeout((()=>{this.initialize(e,t)}),n)},this.conn.onerror=e=>{this.connectFailCount,this.errorCallback&&this.errorCallback(e)},this.conn.onmessage=e=>{const t=JSON.parse(e.data);if(t.seq_reply)t.error,this.responseCallbacks[t.seq_reply]&&(this.responseCallbacks[t.seq_reply](t),Reflect.deleteProperty(this.responseCallbacks,t.seq_reply));else if(this.eventCallback){if(n){if(t.event===Pe.HELLO&&this.missedEventCallback&&(""!==this.connectionId&&this.connectionId!==t.data.connection_id&&(this.missedEventCallback(),this.serverSequence=0),this.connectionId=t.data.connection_id),t.seq!==this.serverSequence)return this.connectFailCount=0,this.responseSequence=1,void this.conn?.close()}else t.seq!==this.serverSequence&&this.missedEventCallback&&this.missedEventCallback();this.serverSequence=t.seq+1,this.eventCallback(t)}}}setEventCallback(e){this.eventCallback=e}setFirstConnectCallback(e){this.firstConnectCallback=e}setReconnectCallback(e){this.reconnectCallback=e}setMissedEventCallback(e){this.missedEventCallback=e}setErrorCallback(e){this.errorCallback=e}setCloseCallback(e){this.closeCallback=e}close(){this.connectFailCount=0,this.responseSequence=1,this.conn&&this.conn.readyState===WebSocket.OPEN&&(this.conn.onclose=()=>{},this.conn.close(),this.conn=null)}sendMessage(e,t,n){const a={action:e,seq:this.responseSequence++,data:t};n&&(this.responseCallbacks[a.seq]=n),this.conn&&this.conn.readyState===WebSocket.OPEN?this.conn.send(JSON.stringify(a)):this.conn&&this.conn.readyState!==WebSocket.CLOSED||(this.conn=null,this.initialize())}userTyping(e,t,n){const a={channel_id:e,parent_id:t};this.sendMessage("user_typing",a,n)}userUpdateActiveStatus(e,t,n){const a={user_is_active:e,manual:t};this.sendMessage("user_update_active_status",a,n)}getStatuses(e){this.sendMessage("get_statuses",null,e)}getStatusesByIds(e,t){const n={user_ids:e};this.sendMessage("get_statuses_by_ids",n,t)}});const ra=Oe.dispatch,la=Oe.getState,ca={};function da(){if(!window.WebSocket)return void console.log("Browser does not support websocket");const e=K(la());let t="";if(e.WebsocketURL)t=e.WebsocketURL;else{t=new URL("https://gomlo.me"),"https:"===t.protocol?t.protocol="wss:":t.protocol="ws:",/:\d+$/.test(t.host)||("wss:"===t.protocol?t.host+=":"+e.WebsocketSecurePort:t.host+=":"+e.WebsocketPort),t=t.toString()}t.length>0&&"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t+=J.getUrlVersion()+"/websocket",ia.setEventCallback(_a),ia.setFirstConnectCallback(ha),ia.setReconnectCallback((()=>ma(!1))),ia.setMissedEventCallback((()=>ma(!1))),ia.setCloseCallback(pa),ia.initialize(t,J.getToken())}function ua(){ia.close()}function ma(e=!0){e&&(ua(),da()),ra({type:Ue.WEBSOCKET_SUCCESS,timestamp:Date.now()});const t=la();if(t.entities.teams.currentTeamId){const e=Fe(t),n=De(t,e),a=Re(t,n);ra(Gn()),ra(va()),ra(a?sa(e,a.create_at):ke(e)),ra(Ge())}t.websocket.lastDisconnectAt&&ra(He()),ra((async e=>{e({type:$.RESET_WS_ERROR_COUNT})})),ra(je())}function ha(){ra(a([{type:Ue.WEBSOCKET_SUCCESS,timestamp:Date.now()},je()]))}function pa(e){e>7&&ra(ie({type:"critical",message:Be.WEBSOCKET_PORT_ERROR},!0)),ra(a([{type:Ue.WEBSOCKET_FAILURE,timestamp:Date.now()},async e=>{e({type:$.INCREMENT_WS_ERROR_COUNT})}]))}function _a(e){switch(e.event){case Pe.POSTED:case Pe.EPHEMERAL_MESSAGE:ga(e);break;case Pe.POST_EDITED:!function(e){const t=JSON.parse(e.data.post);ra(ht(t)),dt([t],ra,la);const n=Fe(la());n===e.broadcast.channel_id&&(ra(it(n)),window.isActive&&ra(pt(n)))}(e);break;case Pe.POST_DELETED:!function(e){const t=JSON.parse(e.data.post);ra(_t(t)),t.is_pinned&&ra(it(t.channel_id))}(e);break;case Pe.POST_UNREAD:!function(e){ra({type:$.POST_UNREAD_SUCCESS,data:{lastViewedAt:e.data.last_viewed_at,channelId:e.broadcast.channel_id,msgCount:e.data.msg_count,mentionCount:e.data.mention_count}})}(e);break;case Pe.LEAVE_TEAM:!function(e){const t=la(),n=[{type:ne.RECEIVED_PROFILE_NOT_IN_TEAM,data:{id:e.data.team_id,user_id:e.data.user_id}},{type:bt.REMOVE_MEMBER_FROM_TEAM,data:{team_id:e.data.team_id,user_id:e.data.user_id}}],s=vt(t),o=s&&s[e.data.team_id]||[];for(const a of o)n.push({type:ot.REMOVE_MEMBER_FROM_CHANNEL,data:{id:a,user_id:e.data.user_id}});ra(a(n));const i=yt(t);if(i.id===e.data.user_id)ra({type:bt.LEAVE_TEAM,data:{id:e.data.team_id}}),A(t)===e.data.team_id&&(global.location.pathname.startsWith("/admin_console")||Ra()),wt(i)&&ra(ea());else{const n=Et(t,e.data.team_id),s=Ct(t),o=Object.values(s).some((t=>t[e.data.user_id]));n&&wt(i)&&!o&&ra(a([{type:ne.PROFILE_NO_LONGER_VISIBLE,data:{user_id:e.data.user_id}},{type:bt.REMOVE_MEMBER_FROM_TEAM,data:{team_id:n.id,user_id:e.data.user_id}}]))}}(e);break;case Pe.UPDATE_TEAM:!function(e){ra({type:bt.UPDATED_TEAM,data:JSON.parse(e.data.team)})}(e);break;case Pe.UPDATE_TEAM_SCHEME:ra(ft());break;case Pe.DELETE_TEAM:!function(e){const t=JSON.parse(e.data.team),n=Oe.getState(),{teams:s}=n.entities.teams;if(t&&s&&s[t.id]&&0===s[t.id].delete_at){const{currentUserId:e}=n.entities.users,{currentTeamId:s,myMembers:o}=n.entities.teams,i=Object.values(o),r=i.find((t=>t.user_id===e&&t.team_id===s));let l="";if(t&&r&&t.id===r.team_id){const e={};St(n).forEach((t=>{e[t.id]=t}));for(let n=0;n<i.length;n++){const a=i[n].team_id;if(e&&e[a]&&0===e[a].delete_at&&t.id!==a){l=a;break}}}if(ra(a([{type:bt.RECEIVED_TEAM_DELETED,data:{id:t.id}},{type:bt.UPDATED_TEAM,data:t}])),l){ra({type:bt.SELECT_TEAM,data:l});const e=la(),t=be(e,l);we.push(`${Tt(e)}/group/${t}`)}else we.push("/")}}(e);break;case Pe.ADDED_TO_TEAM:!async function(e){await ra(gt(e.data.team_id)),await ra(ft()),await ra(Ge())}(e);break;case Pe.USER_ADDED:ra(function(e){return async(t,n)=>{const a=n(),s=K(a),o=$e(a),i="true"===s.ExperimentalTimezone,r=Fe(a);r===e.broadcast.channel_id&&(t(it(r)),t({type:ne.RECEIVED_PROFILE_IN_CHANNEL,data:{id:e.broadcast.channel_id,user_id:e.data.user_id}}),"true"===o?.IsLicensed&&"true"===o?.LDAPGroups&&t(rt(r,i)));const l=A(n()),c=O(n());l===e.data.team_id&&c===e.data.user_id&&t(fa(e.broadcast.channel_id)),"true"===o.Cloud&&Ke(n())&&t(ta())}}(e));break;case Pe.USER_REMOVED:!async function(e){const t=la(),n=pe(t)||{},s=yt(t),o=K(t),i=$e(t),r="true"===o.ExperimentalTimezone;if(e.broadcast.user_id===s.id){ra((async(e,t)=>{const n=t(),a=x(n);await e(L(A(n)));for(const s of a){const t=T(n,s);t&&t.type===I.DM_CHANNEL?e(N(t.id)):t&&t.type===I.GM_CHANNEL&&e(D(t.id))}R()}));const a=kt(t);if(e.data.channel_id===a&&ra(At()),e.data.channel_id===n.id)if(e.data.remover_id===e.broadcast.user_id)we.push(ve(t)),await ra({type:ot.LEAVE_CHANNEL,data:{id:e.data.channel_id,user_id:e.broadcast.user_id}});else{xt(t,e.data.remover_id)||ra(It(e.data.remover_id)),console.info("handleUserRemovedEvent"),await ra({type:ot.LEAVE_CHANNEL,data:{id:e.data.channel_id,user_id:e.broadcast.user_id}}),Ra()}wt(s)&&ra(ea())}else e.broadcast.channel_id===n.id&&(ra(it(n.id)),ra({type:ne.RECEIVED_PROFILE_NOT_IN_CHANNEL,data:{id:e.broadcast.channel_id,user_id:e.data.user_id}}),"true"===i?.IsLicensed&&"true"===i?.LDAPGroups&&ra(rt(n.id,r)));if(e.broadcast.user_id!==s.id){const n=T(t,e.broadcast.channel_id),o=Ct(t),i=Object.values(o).some((t=>t[e.data.user_id]));if(n&&wt(s)&&!i){const t=[{type:ne.PROFILE_NO_LONGER_VISIBLE,data:{user_id:e.data.user_id}},{type:bt.REMOVE_MEMBER_FROM_TEAM,data:{team_id:n.team_id,user_id:e.data.user_id}}];ra(a(t))}}const l=e.broadcast.channel_id||e.data.channel_id,c=e.broadcast.user_id||e.data.user_id,d=T(t,l);!d||Nt(t,{permission:Dt.VIEW_MEMBERS})||Rt(t,{permission:Dt.VIEW_MEMBERS,team:d.team_id})||ra(a([{type:ne.RECEIVED_PROFILE_NOT_IN_TEAM,data:{id:d.team_id,user_id:c}},{type:bt.REMOVE_MEMBER_FROM_TEAM,data:{team_id:d.team_id,user_id:c}}]))}(e);break;case Pe.USER_UPDATED:!async function(e){const t=la(),n=yt(t),a=e.data.user,s=K(t),o=$e(t),i=wt(a),r="true"===s.ExperimentalTimezone,l="true"===o?.IsLicensed&&"true"===o?.LDAPGroups;if(i||r&&l){let e=Lt(t);const n=Fe(t);let s=e&&e[a.id];s||(await ra(Mt(n,a.id)),e=Lt(la()),s=e&&e[a.id]),s&&(l&&r&&ra(rt(n,!0)),wt(a)&&ra(it(n)))}n.id===a.id?a.update_at>n.update_at&&Ot()(ra,la):ra({type:ne.RECEIVED_PROFILE,data:a})}(e);break;case Pe.ROLE_ADDED:!function(e){const t=JSON.parse(e.data.role);ra({type:Pt.RECEIVED_ROLE,data:t})}(e);break;case Pe.ROLE_REMOVED:!function(e){const t=JSON.parse(e.data.role);ra({type:Pt.ROLE_DELETED,data:t})}(e);break;case Pe.CHANNEL_SCHEME_UPDATED:!function(e){ra(Ut(e.broadcast.channel_id))}(e);break;case Pe.MEMBERROLE_UPDATED:!function(e){const t=JSON.parse(e.data.member),n=t.roles.split(" ");ra(lt(n)),ra({type:bt.RECEIVED_MY_TEAM_MEMBER,data:t})}(e);break;case Pe.ROLE_UPDATED:!function(e){const t=JSON.parse(e.data.role);ra({type:Pt.RECEIVED_ROLE,data:t})}(e);break;case Pe.CHANNEL_CREATED:ra(function(e){return async(t,n)=>{const a=e.data.channel_id,s=e.data.team_id,o=n();if(A(o)===s){let e=T(o,a);e||(await t(at(a)),e=T(n(),a)),t(st(e,!1))}}}(e));break;case Pe.CHANNEL_DELETED:!function(e){const t=la(),n="true"===K(t).ExperimentalViewArchivedChannels;if(Fe(t)===e.data.channel_id&&!n){const e=ve(t),n=A(t),a=be(t,n);we.push(e+"/group/"+a)}ra({type:ot.RECEIVED_CHANNEL_DELETED,data:{id:e.data.channel_id,team_id:e.broadcast.team_id,deleteAt:e.data.delete_at,viewArchivedChannels:n}})}(e);break;case Pe.CHANNEL_UNARCHIVED:!function(e){const t=la(),n="true"===K(t).ExperimentalViewArchivedChannels;ra({type:ot.RECEIVED_CHANNEL_UNARCHIVED,data:{id:e.data.channel_id,team_id:e.broadcast.team_id,viewArchivedChannels:n}})}(e);break;case Pe.CHANNEL_CONVERTED:!function(e){const t=e.data.channel_id;if(t){const e=T(la(),t);e&&ra({type:ot.RECEIVED_CHANNEL,data:{...e,type:ce.PRIVATE_CHANNEL}})}}(e);break;case Pe.CHANNEL_UPDATED:ra(function(e){return(t,n)=>{const a=JSON.parse(e.data.channel);t({type:ot.RECEIVED_CHANNEL,data:a});const s=n();a.id===Fe(s)&&we.replace(`${ve(s)}/group/${a.name}`)}}(e));break;case Pe.CHANNEL_MEMBER_UPDATED:!function(e){const t=JSON.parse(e.data.channelMember),n=t.roles.split(" ");ra(lt(n)),ra({type:ot.RECEIVED_MY_CHANNEL_MEMBER,data:t})}(e);break;case Pe.DIRECT_ADDED:case Pe.GROUP_ADDED:ra(function(e){return fa(e.broadcast.channel_id)}(e));break;case Pe.PREFERENCE_CHANGED:!function(e){const t=JSON.parse(e.data.preference);ra({type:H.RECEIVED_PREFERENCES,data:[t]}),ba(t)&&R()}(e);break;case Pe.PREFERENCES_CHANGED:!function(e){const t=JSON.parse(e.data.preferences);ra({type:H.RECEIVED_PREFERENCES,data:t}),-1!==t.findIndex(ba)&&R()}(e);break;case Pe.PREFERENCES_DELETED:!function(e){const t=JSON.parse(e.data.preferences);ra({type:H.DELETED_PREFERENCES,data:t})}(e);break;case Pe.TYPING:ra(function(e){return async(t,n)=>{const a=n(),s=K(a),o=O(a),i=e.data.user_id,r={id:e.broadcast.channel_id+e.data.parent_id,userId:i,now:Date.now()};if(t({type:Ze.TYPING,data:r}),setTimeout((()=>{t({type:Ze.STOP_TYPING,data:r})}),parseInt(s.TimeBetweenUserTypingUpdatesMilliseconds,10)),i!==o){const e=await t(et([i]));if(e.data&&e.data.length>0)return}tt(a,i)!==ce.ONLINE&&t(nt([i]))}}(e));break;case Pe.STATUS_CHANGED:!function(e){ra({type:ne.RECEIVED_STATUSES,data:[{user_id:e.data.user_id,status:e.data.status}]})}(e);break;case Pe.HELLO:!function(e){Ft(e.data.server_version)(ra,la)}(e);break;case Pe.REACTION_ADDED:!function(e){const t=JSON.parse(e.data.reaction);ra(Gt(t.emoji_name)),ra({type:Ht.RECEIVED_REACTION,data:t})}(e);break;case Pe.REACTION_REMOVED:!function(e){const t=JSON.parse(e.data.reaction);ra({type:Ht.REACTION_DELETED,data:t})}(e);break;case Pe.EMOJI_ADDED:!function(e){const t=JSON.parse(e.data.emoji);ra({type:jt.RECEIVED_CUSTOM_EMOJI,data:t})}(e);break;case Pe.CHANNEL_VIEWED:!function(e){window.isActive&&Fe(la())===e.data.channel_id||O(la())!==e.broadcast.user_id||ra(Bt(e.data.channel_id,"",!1))}(e);break;case Pe.PLUGIN_ENABLED:case Pe.PLUGIN_DISABLED:!function(e){e.data.manifest}(e);break;case Pe.USER_ROLE_UPDATED:!function(e){const t=Oe.getState().entities.users.profiles[e.data.user_id];if(t){const n=e.data.roles,a=n.split(" "),s=t.roles.includes(I.PERMISSIONS_SYSTEM_ADMIN)&&!n.includes(I.PERMISSIONS_SYSTEM_ADMIN);Oe.dispatch({type:ne.RECEIVED_PROFILE,data:{...t,roles:n}}),ra(lt(a)),s&&global.location.pathname.startsWith("/admin_console")&&Ra()}}(e);break;case Pe.CONFIG_CHANGED:!function(e){Oe.dispatch({type:Ue.CLIENT_CONFIG_RECEIVED,data:e.data.config})}(e);break;case Pe.LICENSE_CHANGED:!function(e){Oe.dispatch({type:Ue.CLIENT_LICENSE_RECEIVED,data:e.data.license})}(e);break;case Pe.PLUGIN_STATUSES_CHANGED:!function(e){Oe.dispatch({type:se.RECEIVED_PLUGIN_STATUSES,data:e.data.plugin_statuses})}(e);break;case Pe.OPEN_DIALOG:!function(e){const t=e.data&&e.data.dialog||{},n=JSON.parse(t);Oe.dispatch({type:Vt.RECEIVED_DIALOG,data:n});const a=la().entities.integrations.dialogTriggerId;if(n.trigger_id!==a)return;console.info("handleOpenDialogEvent",e)}(e);break;case Pe.RECEIVED_GROUP:!function(e){const t=JSON.parse(e.data.group);ra(a([{type:Yt.RECEIVED_GROUP,data:t},{type:Yt.RECEIVED_MY_GROUPS,data:[t]}]))}(e);break;case Pe.RECEIVED_GROUP_ASSOCIATED_TO_TEAM:!function(e){Oe.dispatch({type:Yt.RECEIVED_GROUP_ASSOCIATED_TO_TEAM,data:{teamID:e.broadcast.team_id,groups:[{id:e.data.group_id}]}})}(e);break;case Pe.RECEIVED_GROUP_NOT_ASSOCIATED_TO_TEAM:!function(e){Oe.dispatch({type:Yt.RECEIVED_GROUP_NOT_ASSOCIATED_TO_TEAM,data:{teamID:e.broadcast.team_id,groups:[{id:e.data.group_id}]}})}(e);break;case Pe.RECEIVED_GROUP_ASSOCIATED_TO_CHANNEL:!function(e){Oe.dispatch({type:Yt.RECEIVED_GROUP_ASSOCIATED_TO_CHANNEL,data:{channelID:e.broadcast.channel_id,groups:[{id:e.data.group_id}]}})}(e);break;case Pe.RECEIVED_GROUP_NOT_ASSOCIATED_TO_CHANNEL:!function(e){Oe.dispatch({type:Yt.RECEIVED_GROUP_NOT_ASSOCIATED_TO_CHANNEL,data:{channelID:e.broadcast.channel_id,groups:[{id:e.data.group_id}]}})}(e);break;case Pe.WARN_METRIC_STATUS_RECEIVED:!function(e){var t=JSON.parse(e.data.warnMetricStatus);let n;t.id===Wt.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?n=Be.WARN_METRIC_STATUS_NUMBER_OF_USERS:t.id===Wt.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(n=Be.WARN_METRIC_STATUS_NUMBER_OF_POSTS);Oe.dispatch(a([{type:Ue.WARN_METRIC_STATUS_RECEIVED,data:t},{type:$.SHOW_NOTICE,data:[n]}]))}(e);break;case Pe.WARN_METRIC_STATUS_REMOVED:!function(e){Oe.dispatch({type:Ue.WARN_METRIC_STATUS_REMOVED,data:{id:e.data.warnMetricId}})}(e);break;case Pe.SIDEBAR_CATEGORY_CREATED:ra(function(e){return(t,n)=>{const a=n();e.broadcast.team_id===A(a)&&t(Xe(e.broadcast.team_id))}}(e));break;case Pe.SIDEBAR_CATEGORY_UPDATED:ra(function(e){return(t,n)=>{const a=n();e.broadcast.team_id===A(a)&&t(Xe(e.broadcast.team_id))}}(e));break;case Pe.SIDEBAR_CATEGORY_DELETED:ra(function(e){return(t,n)=>{const a=n();e.broadcast.team_id===A(a)&&t(Xe(e.broadcast.team_id))}}(e));break;case Pe.SIDEBAR_CATEGORY_ORDER_UPDATED:ra(function(e){return Qe(e.broadcast.team_id,e.data.order)}(e));break;case Pe.USER_ACTIVATION_STATUS_CHANGED:ra(((e,t)=>{const n=t();"true"===$e(n).Cloud&&(Ke(n)&&e(ta()),e(Q({clientFunc:J.getSubscriptionStats,onSuccess:Z.RECEIVED_CLOUD_SUBSCRIPTION_STATS})))}));break;case Pe.CLOUD_PAYMENT_STATUS_UPDATED:ra((e=>e(Q({clientFunc:J.getSubscription,onSuccess:[Z.RECEIVED_CLOUD_SUBSCRIPTION]}))));break;case Pe.FIRST_ADMIN_VISIT_MARKETPLACE_STATUS_RECEIVED:!function(e){const t=JSON.parse(e.data.firstAdminVisitMarketplaceStatus);Oe.dispatch({type:Ue.FIRST_ADMIN_VISIT_MARKETPLACE_STATUS_RECEIVED,data:t})}(e);break;case Pe.THREAD_FOLLOW_CHANGED:ra(function(e){return async(t,n)=>{const a=n();!qe(a,e.data.thread_id)&&e.data.state&&await t(ze(O(a),A(a),e.data.thread_id,!0)),Je(t,e.data.thread_id,e.broadcast.team_id,e.data.state)}}(e));break;case Pe.THREAD_READ_CHANGED:ra(function(e){return(t,n)=>{if(e.data.thread_id){const a=n().entities.threads.threads?.[e.data.thread_id];a&&Ye(t,e.data.thread_id,e.broadcast.team_id,e.data.channel_id,{lastViewedAt:e.data.timestamp,prevUnreadMentions:a.unread_mentions,newUnreadMentions:e.data.unread_mentions,prevUnreadReplies:a.unread_replies,newUnreadReplies:e.data.unread_replies})}else We(t,e.broadcast.team_id)}}(e));break;case Pe.THREAD_UPDATED:ra(function(e){return(t,n)=>{try{const a=JSON.parse(e.data.thread);Ve(t,n,a,e.broadcast.team_id)}catch{}}}(e));break;case Pe.CONTACT_CHANGED:!function(e){const t=e.data.contact;"created"===e.data.event?ra({type:qt.NEW_CONTACT,data:t}):ra({type:qt.RECEIVED_PROFILE,data:t})}(e);break;case Pe.APPS_FRAMEWORK_REFRESH_BINDINGS:ra(va())}Object.values(ca).forEach((t=>{t&&t.hasOwnProperty(e.event)&&"function"==typeof t[e.event]&&t[e.event](e)}))}const ga=function(e){let t,n=[],s=0;const o=()=>{t=null,n.length>0&&ra(function(e){return(t,n)=>{const s=e.map((e=>JSON.parse(e.data.post))),o=zt(n()),i=s.map((e=>Jt(e,o)));t(a(i)),t($t(s)),dt(s,t,n)}}(n)),n=[],s=0};return function(a){t&&s>4?(n.push(a)>200&&(n=[],console.log("channel broken because of too many incoming messages")),clearTimeout(t),t=setTimeout(o,e)):(s+=1,ra(function(e){return(t,n)=>{const a=JSON.parse(e.data.post);t(ct(a,e)),dt([a],t,n),a.user_id!==O(n())&&!ut(n(),a.user_id)&&e.data.set_online&&t({type:ne.RECEIVED_STATUSES,data:[{user_id:a.user_id,status:mt.ONLINE}]})}}(a)),clearTimeout(t),t=setTimeout(o,e))}}(100);function fa(e){return async t=>{const{data:n,error:a}=await t(at(e));a||t(st(n.channel))}}function ba(e){return e.category===I.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW&&"true"===e.value}function va(){return(e,t)=>{const n=t();return Xn(n)&&e(Zn(O(n),Fe(n))),{data:!0}}}function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wa=function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;(o=new Error(t.replace(/%s/g,(function(){return String(a[i++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}},Ea=function(){function e(){ya(this,"_callbacks",void 0),ya(this,"_isDispatching",void 0),ya(this,"_isHandled",void 0),ya(this,"_isPending",void 0),ya(this,"_lastID",void 0),ya(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var t=e.prototype;return t.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},t.unregister=function(e){this._callbacks[e]||wa(!1),delete this._callbacks[e]},t.waitFor=function(e){this._isDispatching||wa(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||wa(!1):(this._callbacks[n]||wa(!1),this._invokeCallback(n))}},t.dispatch=function(e){this._isDispatching&&wa(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},t.isDispatching=function(){return this._isDispatching},t._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},t._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},t._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();const Ca=I.PayloadSources,Sa=Object.assign(new Ea,{handleServerAction:function(e){e.type||console.warn("handleServerAction called with undefined action type");var t={source:Ca.SERVER_ACTION,action:e};this.dispatch(t)},handleViewAction:function(e){e.type||console.warn("handleViewAction called with undefined action type");var t={source:Ca.VIEW_ACTION,action:e};this.dispatch(t)}}),Ta=Oe.dispatch,ka=Oe.getState;const Aa=t("B",new class{constructor(){e(this,"hasCheckedLocalStorage",void 0),e(this,"localStorageSupported",void 0)}setItem(e,t){Ta(Kt(e,t))}getItem(e,t){return Qt(e,t)(ka())}removeItem(e){Ta(Xt(e))}setGlobalItem(e,t){Ta(Zt(e,t))}getGlobalItem(e,t=null){return en(e,t)(ka())}removeGlobalItem(e){Ta(tn(e))}signalLogout(){if(this.isLocalStorageSupported()){const e=nn();an(sn.ANNOUNCEMENT),sessionStorage.setItem(sn.LOGOUT,e),localStorage.setItem(sn.LOGOUT,e),localStorage.removeItem(sn.LOGOUT)}}isSignallingLogout(e){return e===sessionStorage.getItem(sn.LOGOUT)}signalLogin(){if(this.isLocalStorageSupported()){const e=nn();sessionStorage.setItem(sn.LOGIN,e),localStorage.setItem(sn.LOGIN,e),localStorage.removeItem(sn.LOGIN)}}isSignallingLogin(e){return e===sessionStorage.getItem(sn.LOGIN)}clear(e){Ta(on(e))}isLocalStorageSupported(){if(this.hasCheckedLocalStorage)return this.localStorageSupported;this.localStorageSupported=!1;try{localStorage.setItem("__testLocal__","1"),"1"===localStorage.getItem("__testLocal__")&&(this.localStorageSupported=!0),localStorage.removeItem("__testLocal__")}catch(e){this.localStorageSupported=!1}try{sessionStorage.setItem("__testSession__","1"),sessionStorage.removeItem("__testSession__")}catch(e){we.push("/error?type="+rn.LOCAL_STORAGE)}return this.hasCheckedLocalStorage=!0,this.localStorageSupported}hasSeenLandingPage(){return localStorage.getItem(sn.LANDING_PAGE_SEEN)}setLandingPageSeen(e){localStorage.setItem(sn.LANDING_PAGE_SEEN,String(e))}getLandingPreference(e){return localStorage.getItem(sn.LANDING_PREFERENCE+String(e))}setLandingPreferenceToMattermostApp(e){localStorage.setItem(sn.LANDING_PREFERENCE+String(e),ln.MATTERMOSTAPP)}setLandingPreferenceToBrowser(e){localStorage.setItem(sn.LANDING_PREFERENCE+String(e),ln.BROWSER)}clearLandingPreference(e){localStorage.removeItem(sn.LANDING_PREFERENCE+String(e))}});const xa=Oe.dispatch,Ia=Oe.getState;let Na=0;function Da(e="#/",t=!0,n=!0,a){n&&q.setWasLoggedIn(!1),0!==e.indexOf("#")&&(e=`#${e}`),xa(un()).then((()=>{t&&Aa.signalLogout(),Aa.clear(),mn(),ua(),hn(),(a||we).push(e)})).catch((()=>{(a||we).push(e)}))}async function Ra(e){let t=Ia(),n=yt(t);if((pn(_n(t))||!n)&&(await xa(z()),t=Ia(),n=yt(t)),!n)return;const a=gn(t),s=q.getPreviousTeamId(n.id);let o,i=St(t);if(0!==i.length)if(s&&(o=Et(t,s)),o&&0===o.delete_at)La(e||we,`/${o.name}`,!e);else{i=function(e,t,n=""){if(!e)return[];const a=n.split(",");return[...e.filter((e=>null!==e&&a.includes(e.id))).sort(((e,t)=>a.indexOf(e.id)-a.indexOf(t.id))),...e.filter((e=>null!==e&&!a.includes(e.id))).sort(((e,n)=>function(e,t,n){return null!==t.display_name&&t.display_name!==n.display_name?t.display_name.localeCompare(n.display_name,e,{numeric:!0}):t.name.localeCompare(n.name,e,{numeric:!0})}(t,e,n)))].filter((e=>e&&!e.delete_at>0&&null!=e.display_name))}(i,a);for(const t of i)return void La(e||we,`/${t.name}`,!e);La(e||we,"/pick-team",!e)}else La(e||we,"/join",!e)}function La(e,t,n){t=n?`#${t}`:t,e.replace(t)}const Ma=r.createContext({setTitle:()=>{},selectDot:()=>{}}),Oa=Ma.Provider;class Pa extends r.PureComponent{constructor(...t){super(...t),e(this,"handleLocaleChange",(e=>{J.setAcceptLanguage(e),this.loadTranslationsIfNecessary(e)})),e(this,"loadTranslationsIfNecessary",(e=>{const{translations:t,actions:n}=this.props;if(t)return;const a=Sn(e);a&&n.loadTranslations(e,a.url)}))}componentDidMount(){Cn(),Tn(kn),this.handleLocaleChange(this.props.locale)}componentDidUpdate(e){e.locale!==this.props.locale&&this.handleLocaleChange(this.props.locale)}render(){const{locale:e,translations:t,children:n}=this.props;return t?c(d,{locale:e,messages:t,textComponent:"span",wrapRichTextChunksInFragment:!1,children:n},e):null}}var Ua=u((function(e){const t=gn(e);return{locale:t,translations:An(e,t)}}),(function(e){return{actions:m({loadTranslations:qn},e)}}))(Pa);function Fa(e){const{formatMessage:t}=h();return c("span",{...e,children:c("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.className,x:"0px",y:"0px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",role:"img",fill:"currentColor","aria-label":t({id:"generic_icons.gomlo",defaultMessage:"Gomlo Logo"}),children:p("g",{children:[c("path",{d:"M413.84 122.759C433.616 106.181 433.565 75.576 411.018 63.0267C376.991 44.0888 337.986 31.8955 296.975 27.6627C238.402 21.6172 179.099 32.157 128.492 57.6067C77.8856 83.0564 38.8794 121.956 17.6739 168.121C-3.53157 214.286 -5.7194 265.069 11.4582 312.396C28.6358 359.724 64.193 400.88 112.478 429.323C160.763 457.767 219.005 471.865 277.945 469.377C336.886 466.888 393.143 447.957 437.775 415.591C468.009 393.666 491.732 366.429 507.442 336.051C519.483 312.766 502.332 287.122 476.469 282.846V282.846C452.952 278.959 430.986 294.585 418.424 314.841C408.382 331.033 394.723 345.606 378.035 357.707C348.803 378.905 311.957 391.305 273.353 392.935C234.749 394.564 196.603 385.33 164.978 366.701C133.353 348.072 110.064 321.116 98.8134 290.118C87.5627 259.12 88.9956 225.86 102.884 195.623C116.773 165.386 142.321 139.909 175.467 123.24C208.612 106.572 247.454 99.6683 285.817 103.628C311.85 106.315 336.648 113.899 358.441 125.656C376.142 135.206 398.426 135.679 413.84 122.759V122.759Z",style:Ga}),c("path",{style:Ga,d:"M64.7395 393.165C64.8585 393.263 64.977 393.363 65.095 393.464C85.9559 411.246 83.1645 450.984 59.9564 486C106.088 475.852 167.616 469.657 235.184 469.657C245.142 469.657 254.969 469.792 264.635 470.054V396.357C257.318 398.835 249.092 400.226 240.398 400.226C226.274 400.226 213.388 396.555 203.621 390.517H114.703V393.165H64.7395Z"}),c("ellipse",{rx:"42.3825",ry:"44.0261",transform:"matrix(0.968445 0.249228 -0.229831 0.97323 468.384 215.272)",style:Ga}),c("ellipse",{rx:"34.7662",ry:"36.1144",transform:"matrix(0.968445 0.249228 -0.229831 0.97323 365.788 240.744)",style:Ga}),c("ellipse",{rx:"28.255",ry:"29.3508",transform:"matrix(0.968445 0.249228 -0.229831 0.97323 276.722 263.097)",style:Ga})]})})})}const Ga={fillRule:"evenodd",clipRule:"evenodd"};var Ha,ja,Ba=e=>c("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.className,viewBox:"0 0 20 20",fill:"currentColor",children:c("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),Va=e=>c("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.className,viewBox:"0 0 20 20",fill:"currentColor",children:c("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})});function Ya(){return t("p",Ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),Ya.apply(this,arguments)}function Wa(e,t){if(null==e)return{};var n,a,s={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}function qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function za(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qa(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Ja(e,t){if(e in t){for(var n=t[e],a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];return"function"==typeof n?n.apply(void 0,s):n}var i=new Error('Tried to handle "'+e+'" but there is no handler defined. Only defined handlers are: '+Object.keys(t).map((function(e){return'"'+e+'"'})).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(i,Ja),i}function $a(e){var t=e.props,n=e.slot,a=e.defaultTag,s=e.features,o=e.visible,i=void 0===o||o,r=e.name;if(i)return Ka(t,n,a,r);var l=null!=s?s:Ha.None;if(l&Ha.Static){var c=t.static,d=void 0!==c&&c,u=Wa(t,["static"]);if(d)return Ka(u,n,a,r)}if(l&Ha.RenderStrategy){var m,h=t.unmount,p=void 0===h||h,_=Wa(t,["unmount"]);return Ja(p?ja.Unmount:ja.Hidden,((m={})[ja.Unmount]=function(){return null},m[ja.Hidden]=function(){return Ka(Ya({},_,{hidden:!0,style:{display:"none"}}),n,a,r)},m))}return Ka(t,n,a,r)}function Ka(e,t,n,a){var s;void 0===t&&(t={});var o=Xa(e,["unmount","static"]),i=o.as,r=void 0===i?n:i,c=o.children,d=o.refName,u=void 0===d?"ref":d,m=Wa(o,["as","children","refName"]),h=void 0!==e.ref?((s={})[u]=e.ref,s):{},p="function"==typeof c?c(t):c;if(m.className&&"function"==typeof m.className&&(m.className=m.className(t)),r===l.exports.Fragment&&Object.keys(m).length>0){if(!l.exports.isValidElement(p)||Array.isArray(p)&&p.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <"+a+' /> is rendering a "Fragment".',"However we need to passthrough the following props:",Object.keys(m).map((function(e){return"  - "+e})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - "+e})).join("\n")].join("\n"));return l.exports.cloneElement(p,Object.assign({},function(e,t,n){for(var a,s=Object.assign({},e),o=function(){var n,o=a.value;void 0!==e[o]&&void 0!==t[o]&&Object.assign(s,((n={})[o]=function(n){n.defaultPrevented||e[o](n),n.defaultPrevented||t[o](n)},n))},i=za(n);!(a=i()).done;)o();return s}(function(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}(Xa(m,["ref"])),p.props,["onClick"]),h))}return l.exports.createElement(r,Object.assign({},Xa(m,["ref"]),r!==l.exports.Fragment&&h),p)}function Qa(e){var t;return Object.assign(l.exports.forwardRef(e),{displayName:null!=(t=e.displayName)?t:e.name})}function Xa(e,t){void 0===t&&(t=[]);for(var n,a=Object.assign({},e),s=za(t);!(n=s()).done;){var o=n.value;o in a&&delete a[o]}return a}t("q",Ha),function(e){e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static"}(Ha||t("q",Ha={})),function(e){e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden"}(ja||(ja={}));var Za,es=t("d","undefined"!=typeof window?l.exports.useLayoutEffect:l.exports.useEffect),ts={serverHandoffComplete:!1};function ns(){var e=l.exports.useState(ts.serverHandoffComplete),t=e[0],n=e[1];return l.exports.useEffect((function(){!0!==t&&n(!0)}),[t]),l.exports.useEffect((function(){!1===ts.serverHandoffComplete&&(ts.serverHandoffComplete=!0)}),[]),t}function as(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=l.exports.useRef(t);return l.exports.useEffect((function(){a.current=t}),[t]),l.exports.useCallback((function(e){for(var t,n=za(a.current);!(t=n()).done;){var s=t.value;null!=s&&("function"==typeof s?s(e):s.current=e)}}),[a])}function ss(e){for(var t,n,a=e.parentElement,s=null;a&&!(a instanceof HTMLFieldSetElement);)a instanceof HTMLLegendElement&&(s=a),a=a.parentElement;var o=null!=(t=""===(null==(n=a)?void 0:n.getAttribute("disabled")))&&t;return(!o||!function(e){if(!e)return!1;var t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(s))&&o}t("K",Za),function(e){e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab"}(Za||t("K",Za={}));var os=0;function is(){return++os}function rs(){var e=ns(),t=l.exports.useState(e?is:null),n=t[0],a=t[1];return es((function(){null===n&&a(is())}),[n]),null!=n?""+n:void 0}function ls(e,t,n){var a=l.exports.useRef(t);a.current=t,l.exports.useEffect((function(){function t(e){a.current.call(window,e)}return window.addEventListener(e,t,n),function(){return window.removeEventListener(e,t,n)}}),[e,n])}var cs,ds,us,ms,hs=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return e+":not([tabindex='-1'])"})).join(",");function ps(){var e=l.exports.useRef(!1);return l.exports.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e}t("F",cs),function(e){e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll"}(cs||t("F",cs={})),t("l",ds),function(e){e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow"}(ds||t("l",ds={})),function(e){e[e.Previous=-1]="Previous",e[e.Next=1]="Next"}(us||(us={})),function(e){e[e.Strict=0]="Strict",e[e.Loose=1]="Loose"}(ms||(ms={}));var _s,gs,fs,bs,vs,ys=l.exports.createContext(null);function ws(){return l.exports.useContext(ys)}function Es(e){var t=e.value,n=e.children;return c(ys.Provider,{value:t,children:n})}function Cs(e){var t;if(e.type)return e.type;var n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function Ss(e,t){var n=l.exports.useState((function(){return Cs(e)})),a=n[0],s=n[1];return es((function(){s(Cs(e))}),[e.type,e.as]),es((function(){a||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&s("button")}),[a,t]),a}function Ts(){var e=[],t={requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);t.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.requestAnimationFrame((function(){t.requestAnimationFrame.apply(t,n)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);t.add((function(){return clearTimeout(e)}))})),add:function(t){e.push(t)},dispose:function(){for(var t,n=za(e.splice(0));!(t=n()).done;){var a=t.value;a()}}};return t}function ks(){var e=l.exports.useState(Ts)[0];return l.exports.useEffect((function(){return function(){return e.dispose()}}),[e]),e}function As(e,t){var n=t.resolveItems();if(n.length<=0)return null;var a=t.resolveActiveIndex(),s=null!=a?a:-1,o=function(){switch(e.focus){case gs.First:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case gs.Previous:var a=n.slice().reverse().findIndex((function(e,n,a){return!(-1!==s&&a.length-n-1>=s)&&!t.resolveDisabled(e)}));return-1===a?a:n.length-1-a;case gs.Next:return n.findIndex((function(e,n){return!(n<=s)&&!t.resolveDisabled(e)}));case gs.Last:var o=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===o?o:n.length-1-o;case gs.Specific:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case gs.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===o?a:o}ys.displayName="OpenClosedContext",t("S",_s),function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(_s||t("S",_s={})),function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(gs||(gs={})),function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(bs||(bs={})),function(e){e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem"}(vs||(vs={}));var xs=((fs={})[vs.CloseMenu]=function(e){return e.menuState===bs.Closed?e:Ya({},e,{activeItemIndex:null,menuState:bs.Closed})},fs[vs.OpenMenu]=function(e){return e.menuState===bs.Open?e:Ya({},e,{menuState:bs.Open})},fs[vs.GoToItem]=function(e,t){var n=As(t,{resolveItems:function(){return e.items},resolveActiveIndex:function(){return e.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeItemIndex===n?e:Ya({},e,{searchQuery:"",activeItemIndex:n})},fs[vs.Search]=function(e,t){var n=e.searchQuery+t.value.toLowerCase(),a=e.items.findIndex((function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled}));return-1===a||a===e.activeItemIndex?Ya({},e,{searchQuery:n}):Ya({},e,{searchQuery:n,activeItemIndex:a})},fs[vs.ClearSearch]=function(e){return""===e.searchQuery?e:Ya({},e,{searchQuery:""})},fs[vs.RegisterItem]=function(e,t){return Ya({},e,{items:[].concat(e.items,[{id:t.id,dataRef:t.dataRef}])})},fs[vs.UnregisterItem]=function(e,t){var n=e.items.slice(),a=null!==e.activeItemIndex?n[e.activeItemIndex]:null,s=n.findIndex((function(e){return e.id===t.id}));return-1!==s&&n.splice(s,1),Ya({},e,{items:n,activeItemIndex:s===e.activeItemIndex||null===a?null:n.indexOf(a)})},fs),Is=l.exports.createContext(null);function Ns(e){var t=l.exports.useContext(Is);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+Ls.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Ns),n}return t}function Ds(e,t){return Ja(t.type,xs,e,t)}Is.displayName="MenuContext";var Rs=l.exports.Fragment;function Ls(e){var t,n=l.exports.useReducer(Ds,{menuState:bs.Closed,buttonRef:l.exports.createRef(),itemsRef:l.exports.createRef(),items:[],searchQuery:"",activeItemIndex:null}),a=n[0],s=a.menuState,o=a.itemsRef,i=a.buttonRef,r=n[1];ls("mousedown",(function(e){var t,n,a,l=e.target;s===bs.Open&&((null==(t=i.current)?void 0:t.contains(l))||(null==(n=o.current)?void 0:n.contains(l))||(r({type:vs.CloseMenu}),function(e,t){var n;return void 0===t&&(t=ms.Strict),e!==document.body&&Ja(t,((n={})[ms.Strict]=function(){return e.matches(hs)},n[ms.Loose]=function(){for(var t=e;null!==t;){if(t.matches(hs))return!0;t=t.parentElement}return!1},n))}(l,ms.Loose)||(e.preventDefault(),null==(a=i.current)||a.focus())))}));var d=l.exports.useMemo((function(){return{open:s===bs.Open}}),[s]);return c(Is.Provider,{value:n,children:c(Es,{value:Ja(s,(t={},t[bs.Open]=_s.Open,t[bs.Closed]=_s.Closed,t)),children:$a({props:e,slot:d,defaultTag:Rs,name:"Menu"})})})}var Ms,Os=Qa((function e(t,n){var a,s=Ns([Ls.name,e.name].join(".")),o=s[0],i=s[1],r=as(o.buttonRef,n),c="headlessui-menu-button-"+rs(),d=ks(),u=l.exports.useCallback((function(e){switch(e.key){case Za.Space:case Za.Enter:case Za.ArrowDown:e.preventDefault(),e.stopPropagation(),i({type:vs.OpenMenu}),d.nextFrame((function(){return i({type:vs.GoToItem,focus:gs.First})}));break;case Za.ArrowUp:e.preventDefault(),e.stopPropagation(),i({type:vs.OpenMenu}),d.nextFrame((function(){return i({type:vs.GoToItem,focus:gs.Last})}))}}),[i,d]),m=l.exports.useCallback((function(e){switch(e.key){case Za.Space:e.preventDefault()}}),[]),h=l.exports.useCallback((function(e){if(ss(e.currentTarget))return e.preventDefault();t.disabled||(o.menuState===bs.Open?(i({type:vs.CloseMenu}),d.nextFrame((function(){var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),e.stopPropagation(),i({type:vs.OpenMenu})))}),[i,d,o,t.disabled]),p=l.exports.useMemo((function(){return{open:o.menuState===bs.Open}}),[o]);return $a({props:Ya({},t,{ref:r,id:c,type:Ss(t,o.buttonRef),"aria-haspopup":!0,"aria-controls":null==(a=o.itemsRef.current)?void 0:a.id,"aria-expanded":t.disabled?void 0:o.menuState===bs.Open,onKeyDown:u,onKeyUp:m,onClick:h}),slot:p,defaultTag:"button",name:"Menu.Button"})})),Ps=Ha.RenderStrategy|Ha.Static,Us=Qa((function e(t,n){var a,s,o,i,r,c,d,u,m,h,p=Ns([Ls.name,e.name].join(".")),_=p[0],g=p[1],f=as(_.itemsRef,n),b="headlessui-menu-items-"+rs(),v=ks(),y=ws(),w=null!==y?y===_s.Open:_.menuState===bs.Open;l.exports.useEffect((function(){var e=_.itemsRef.current;e&&_.menuState===bs.Open&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[_.menuState,_.itemsRef]),o={container:_.itemsRef.current,enabled:_.menuState===bs.Open,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}},i=o.container,r=o.accept,c=o.walk,d=o.enabled,u=void 0===d||d,m=l.exports.useRef(r),h=l.exports.useRef(c),l.exports.useEffect((function(){m.current=r,h.current=c}),[r,c]),es((function(){if(i&&u)for(var e=m.current,t=h.current,n=Object.assign((function(t){return e(t)}),{acceptNode:e}),a=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,n,!1);a.nextNode();)t(a.currentNode)}),[i,u,m,h]);var E=l.exports.useCallback((function(e){switch(v.dispose(),e.key){case Za.Space:if(""!==_.searchQuery)return e.preventDefault(),e.stopPropagation(),g({type:vs.Search,value:e.key});case Za.Enter:if(e.preventDefault(),e.stopPropagation(),g({type:vs.CloseMenu}),null!==_.activeItemIndex){var t,n=_.items[_.activeItemIndex].id;null==(t=document.getElementById(n))||t.click()}Ts().nextFrame((function(){var e;return null==(e=_.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case Za.ArrowDown:return e.preventDefault(),e.stopPropagation(),g({type:vs.GoToItem,focus:gs.Next});case Za.ArrowUp:return e.preventDefault(),e.stopPropagation(),g({type:vs.GoToItem,focus:gs.Previous});case Za.Home:case Za.PageUp:return e.preventDefault(),e.stopPropagation(),g({type:vs.GoToItem,focus:gs.First});case Za.End:case Za.PageDown:return e.preventDefault(),e.stopPropagation(),g({type:vs.GoToItem,focus:gs.Last});case Za.Escape:e.preventDefault(),e.stopPropagation(),g({type:vs.CloseMenu}),Ts().nextFrame((function(){var e;return null==(e=_.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case Za.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(g({type:vs.Search,value:e.key}),v.setTimeout((function(){return g({type:vs.ClearSearch})}),350))}}),[g,v,_]),C=l.exports.useCallback((function(e){switch(e.key){case Za.Space:e.preventDefault()}}),[]),S=l.exports.useMemo((function(){return{open:_.menuState===bs.Open}}),[_]);return $a({props:Ya({},t,{"aria-activedescendant":null===_.activeItemIndex||null==(a=_.items[_.activeItemIndex])?void 0:a.id,"aria-labelledby":null==(s=_.buttonRef.current)?void 0:s.id,id:b,onKeyDown:E,onKeyUp:C,role:"menu",tabIndex:0,ref:f}),slot:S,defaultTag:"div",features:Ps,visible:w,name:"Menu.Items"})})),Fs=l.exports.Fragment;function Gs(){var e=l.exports.useRef(!0);return l.exports.useEffect((function(){e.current=!1}),[]),e.current}function Hs(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];e&&a.length>0&&(t=e.classList).add.apply(t,a)}function js(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];e&&a.length>0&&(t=e.classList).remove.apply(t,a)}function Bs(e,t,n,a,s,o){var i=Ts(),r=void 0!==o?function(e){var t={called:!1};return function(){if(!t.called)return t.called=!0,e.apply(void 0,arguments)}}(o):function(){};return js.apply(void 0,[e].concat(s)),Hs.apply(void 0,[e].concat(t,n)),i.nextFrame((function(){js.apply(void 0,[e].concat(n)),Hs.apply(void 0,[e].concat(a)),i.add(function(e,t){var n=Ts();if(!e)return n.dispose;var a=getComputedStyle(e),s=[a.transitionDuration,a.transitionDelay].map((function(e){var t=e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e}))[0];return void 0===t?0:t})),o=s[0],i=s[1];return 0!==o?n.setTimeout((function(){t(Ms.Finished)}),o+i):t(Ms.Finished),n.add((function(){return t(Ms.Cancelled)})),n.dispose}(e,(function(n){return js.apply(void 0,[e].concat(a,t)),Hs.apply(void 0,[e].concat(s)),r(n)})))})),i.add((function(){return js.apply(void 0,[e].concat(t,n,a,s))})),i.add((function(){return r(Ms.Cancelled)})),i.dispose}function Vs(e){return void 0===e&&(e=""),l.exports.useMemo((function(){return e.split(" ").filter((function(e){return e.trim().length>1}))}),[e])}Ls.Button=Os,Ls.Items=Us,Ls.Item=function e(t){var n=t.disabled,a=void 0!==n&&n,s=t.onClick,o=Wa(t,["disabled","onClick"]),i=Ns([Ls.name,e.name].join(".")),r=i[0],c=i[1],d="headlessui-menu-item-"+rs(),u=null!==r.activeItemIndex&&r.items[r.activeItemIndex].id===d;es((function(){if(r.menuState===bs.Open&&u){var e=Ts();return e.nextFrame((function(){var e;return null==(e=document.getElementById(d))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})})),e.dispose}}),[d,u,r.menuState]);var m=l.exports.useRef({disabled:a});es((function(){m.current.disabled=a}),[m,a]),es((function(){var e,t;m.current.textValue=null==(e=document.getElementById(d))||null==(t=e.textContent)?void 0:t.toLowerCase()}),[m,d]),es((function(){return c({type:vs.RegisterItem,id:d,dataRef:m}),function(){return c({type:vs.UnregisterItem,id:d})}}),[m,d]);var h=l.exports.useCallback((function(e){return a?e.preventDefault():(c({type:vs.CloseMenu}),Ts().nextFrame((function(){var e;return null==(e=r.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),s?s(e):void 0)}),[c,r.buttonRef,a,s]),p=l.exports.useCallback((function(){if(a)return c({type:vs.GoToItem,focus:gs.Nothing});c({type:vs.GoToItem,focus:gs.Specific,id:d})}),[a,d,c]),_=l.exports.useCallback((function(){a||u||c({type:vs.GoToItem,focus:gs.Specific,id:d})}),[a,u,d,c]),g=l.exports.useCallback((function(){a||u&&c({type:vs.GoToItem,focus:gs.Nothing})}),[a,u,c]),f=l.exports.useMemo((function(){return{active:u,disabled:a}}),[u,a]);return $a({props:Ya({},o,{id:d,role:"menuitem",tabIndex:!0===a?void 0:-1,"aria-disabled":!0===a||void 0,disabled:void 0,onClick:h,onFocus:p,onPointerMove:_,onMouseMove:_,onPointerLeave:g,onMouseLeave:g}),slot:f,defaultTag:Fs,name:"Menu.Item"})},function(e){e.Finished="finished",e.Cancelled="cancelled"}(Ms||(Ms={}));var Ys,Ws=l.exports.createContext(null);Ws.displayName="TransitionContext",function(e){e.Visible="visible",e.Hidden="hidden"}(Ys||(Ys={}));var qs=l.exports.createContext(null);function zs(e){return"children"in e?zs(e.children):e.current.filter((function(e){return e.state===Ys.Visible})).length>0}function Js(e){var t=l.exports.useRef(e),n=l.exports.useRef([]),a=ps();l.exports.useEffect((function(){t.current=e}),[e]);var s=l.exports.useCallback((function(e,s){var o;void 0===s&&(s=ja.Hidden);var i=n.current.findIndex((function(t){return t.id===e}));-1!==i&&(Ja(s,((o={})[ja.Unmount]=function(){n.current.splice(i,1)},o[ja.Hidden]=function(){n.current[i].state=Ys.Hidden},o)),!zs(n)&&a.current&&(null==t.current||t.current()))}),[t,a,n]),o=l.exports.useCallback((function(e){var t=n.current.find((function(t){return t.id===e}));return t?t.state!==Ys.Visible&&(t.state=Ys.Visible):n.current.push({id:e,state:Ys.Visible}),function(){return s(e,ja.Unmount)}}),[n,s]);return l.exports.useMemo((function(){return{children:n,register:o,unregister:s}}),[o,s,n])}function $s(){}qs.displayName="NestingContext";var Ks=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Qs(e){for(var t,n={},a=za(Ks);!(t=a()).done;){var s,o=t.value;n[o]=null!=(s=e[o])?s:$s}return n}var Xs=Ha.RenderStrategy;function Zs(e){var t,n=e.beforeEnter,a=e.afterEnter,s=e.beforeLeave,o=e.afterLeave,i=e.enter,r=e.enterFrom,d=e.enterTo,u=e.entered,m=e.leave,h=e.leaveFrom,p=e.leaveTo,_=Wa(e,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),g=l.exports.useRef(null),f=l.exports.useState(Ys.Visible),b=f[0],v=f[1],y=_.unmount?ja.Unmount:ja.Hidden,w=function(){var e=l.exports.useContext(Ws);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),E=w.show,C=w.appear,S=function(){var e=l.exports.useContext(qs);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),T=S.register,k=S.unregister,A=Gs(),x=rs(),I=l.exports.useRef(!1),N=Js((function(){I.current||(v(Ys.Hidden),k(x),F.current.afterLeave())}));es((function(){if(x)return T(x)}),[T,x]),es((function(){var e;y===ja.Hidden&&x&&(E&&b!==Ys.Visible?v(Ys.Visible):Ja(b,((e={})[Ys.Hidden]=function(){return k(x)},e[Ys.Visible]=function(){return T(x)},e)))}),[b,x,T,k,E,y]);var D=Vs(i),R=Vs(r),L=Vs(d),M=Vs(u),O=Vs(m),P=Vs(h),U=Vs(p),F=function(e){var t=l.exports.useRef(Qs(e));return l.exports.useEffect((function(){t.current=Qs(e)}),[e]),t}({beforeEnter:n,afterEnter:a,beforeLeave:s,afterLeave:o}),G=ns();l.exports.useEffect((function(){if(G&&b===Ys.Visible&&null===g.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[g,b,G]);var H=A&&!C;es((function(){var e=g.current;if(e&&!H)return I.current=!0,E&&F.current.beforeEnter(),E||F.current.beforeLeave(),E?Bs(e,D,R,L,M,(function(e){I.current=!1,e===Ms.Finished&&F.current.afterEnter()})):Bs(e,O,P,U,M,(function(e){I.current=!1,e===Ms.Finished&&(zs(N)||(v(Ys.Hidden),k(x),F.current.afterLeave()))}))}),[F,x,I,k,N,g,H,E,D,R,L,O,P,U]);var j={ref:g},B=_;return c(qs.Provider,{value:N,children:c(Es,{value:Ja(b,(t={},t[Ys.Visible]=_s.Open,t[Ys.Hidden]=_s.Closed,t)),children:$a({props:Ya({},B,j),defaultTag:"div",features:Xs,visible:b===Ys.Visible,name:"Transition.Child"})})})}function eo(e){var t,n=e.show,a=e.appear,s=void 0!==a&&a,o=e.unmount,i=Wa(e,["show","appear","unmount"]),r=ws();void 0===n&&null!==r&&(n=Ja(r,((t={})[_s.Open]=!0,t[_s.Closed]=!1,t)));if(![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var d=l.exports.useState(n?Ys.Visible:Ys.Hidden),u=d[0],m=d[1],h=Js((function(){m(Ys.Hidden)})),p=Gs(),_=l.exports.useMemo((function(){return{show:n,appear:s||!p}}),[n,s,p]);l.exports.useEffect((function(){n?m(Ys.Visible):zs(h)||m(Ys.Hidden)}),[n,h]);var g={unmount:o};return c(qs.Provider,{value:h,children:c(Ws.Provider,{value:_,children:$a({props:Ya({},g,{as:l.exports.Fragment,children:c(Zs,{...Object.assign({},g,i)})}),defaultTag:l.exports.Fragment,features:Xs,visible:u===Ys.Visible,name:"Transition"})})})}eo.Child=function(e){var t=null!==l.exports.useContext(Ws),n=null!==ws();return c(!t&&n?eo:Zs,{...Object.assign({},e)})},eo.Root=eo;var to=$n.jsx;var no=function(e){return to("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},e),children:to("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})},ao=t("D",(({children:e})=>c(eo,{as:l.exports.Fragment,enter:"u3-transition u3-ease-out u3-duration-100",enterFrom:"u3-transform u3-opacity-0 u3-scale-95",enterTo:"u3-transform u3-opacity-100 u3-scale-100",leave:"u3-transition u3-ease-in u3-duration-75",leaveFrom:"u3-transform u3-opacity-100 u3-scale-100",leaveTo:"u3-transform u3-opacity-0 u3-scale-95",children:e}))),so=e=>{const t=e.className||"u3-group u3-text-gray-900 u3-flex u3-rounded-md u3-items-center u3-w-full u3-px-2 u3-py-1 u3-text-sm",n=e.classActive||"u3-bg-primary u3-text-white";return c(Ls.Item,{children:({active:a})=>p("button",{onClick:e.onClick,className:_(t,{[n]:a}),children:[e.icon,e.name]})})};var oo="u3-cxx-2eca89dd",io="u3-cxx-286d3fce";var ro=u()((function({history:e}){return p(Ls,{as:"div",className:"u3-relative u3-inline-block",children:[c(Ls.Button,{className:oo,children:c(no,{className:"u3-w-4 u3-h-4 u3-text-violet-200 hover:text-violet-100","aria-hidden":"true"})}),c(ao,{children:c(Ls.Items,{className:io,children:c("div",{className:"u3-px-1 u3-py-1",children:c(so,{name:"Giới thiệu",onClick:()=>{return t="/about",void e.push(t);var t}})})})})]})}));const lo=r.lazy((()=>xn((()=>n.import("./index-legacy.d669be0b.js")),void 0))),co=r.lazy((()=>xn((()=>n.import("./index-legacy.e7f8701d.js")),void 0))),uo=r.lazy((()=>xn((()=>n.import("./index-legacy.35b797b2.js")),void 0))),mo=r.lazy((()=>xn((()=>n.import("./index-legacy.3163e044.js")),void 0))),ho=r.lazy((()=>xn((()=>n.import("./index-legacy.4963c3b2.js")),void 0))),po=r.lazy((()=>xn((()=>n.import("./index-legacy.3a033f73.js")),void 0))),_o=In(lo),go=In(co),fo=In(uo),bo=In(mo),vo=In(ho),yo=In(po),wo=({component:e,...t})=>c(f,{...t,render:t=>c(_o,{...t,children:c(e,{...t})})});var Eo=e=>p(g,{children:[c(f,{path:"/error",component:go}),c(f,{path:"/about",component:fo}),c(f,{path:"/connect",component:bo}),c(wo,{path:"/join",component:vo}),c(wo,{path:"/:team",component:yo}),c(b,{to:{...e.location,pathname:"/connect"}})]});var Co="u3-cxx-f9aed0ee",So="u3-cxx-3b27c386",To="u3-cxx-d95bf1e3",ko="u3-cxx-94c03c1e",Ao="u3-cxx-6db5bde9",xo="u3-cxx-1f6ae2bf",Io="u3-cxx-51f29819",No="u3-cxx-36d27ec1",Do="u3-cxx-6962ecaf",Ro="u3-cxx-e957fb9b",Lo=v,Mo=/\s/;var Oo=function(e){for(var t=e.length;t--&&Mo.test(e.charAt(t)););return t},Po=/^\s+/;var Uo=function(e){return e?e.slice(0,Oo(e)+1).replace(Po,""):e},Fo=y,Go=w,Ho=/^[-+]0x[0-9a-f]+$/i,jo=/^0b[01]+$/i,Bo=/^0o[0-7]+$/i,Vo=parseInt;var Yo=y,Wo=function(){return Lo.Date.now()},qo=function(e){if("number"==typeof e)return e;if(Go(e))return NaN;if(Fo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Fo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Uo(e);var n=jo.test(e);return n||Bo.test(e)?Vo(e.slice(2),n?2:8):Ho.test(e)?NaN:+e},zo=Math.max,Jo=Math.min;var $o=t("z",(function(e,t,n){var a,s,o,i,r,l,c=0,d=!1,u=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=a,o=s;return a=s=void 0,c=t,i=e.apply(o,n)}function p(e){return c=e,r=setTimeout(g,t),d?h(e):i}function _(e){var n=e-l;return void 0===l||n>=t||n<0||u&&e-c>=o}function g(){var e=Wo();if(_(e))return f(e);r=setTimeout(g,function(e){var n=t-(e-l);return u?Jo(n,o-(e-c)):n}(e))}function f(e){return r=void 0,m&&a?h(e):(a=s=void 0,i)}function b(){var e=Wo(),n=_(e);if(a=arguments,s=this,l=e,n){if(void 0===r)return p(l);if(u)return clearTimeout(r),r=setTimeout(g,t),h(l)}return void 0===r&&(r=setTimeout(g,t)),i}return t=qo(t)||0,Yo(n)&&(d=!!n.leading,o=(u="maxWait"in n)?zo(qo(n.maxWait)||0,t):o,m="trailing"in n?!!n.trailing:m),b.cancel=function(){void 0!==r&&clearTimeout(r),c=0,a=l=s=r=void 0},b.flush=function(){return void 0===r?i:f(Wo())},b})),Ko=y;var Qo=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Ko(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),$o(e,t,{leading:a,maxWait:t,trailing:s})};class Xo extends r.PureComponent{constructor(t){super(t),e(this,"mounted",void 0),e(this,"titleRef",void 0),e(this,"debounceReload",void 0),e(this,"handleConfigLoaded",(e=>{const{location:t,history:n,noAccounts:a,currentUserId:s}=this.props;(a||!s&&!e)&&n.push(`/connect?next=${encodeURIComponent(t.pathname)}`),this.setState({configLoaded:!0}),Rn()(Oe.dispatch,Oe.getState)})),e(this,"handleLogoutLoginSignal",(e=>{const t=e=>e.storageArea===localStorage&&e.newValue;if(e.key===sn.LOGOUT&&t(e)&&(console.log("detected logout from a different tab"),Da("#u3-app",!1,!1,this.props.history)),e.key===sn.LOGIN&&t(e)){let e=function(){location.reload()};if(yt(Oe.getState()))return;document.addEventListener("visibilitychange",e,!1)}})),e(this,"handleDndEvent",(e=>{e.preventDefault(),e.stopPropagation()})),e(this,"handleExpanned",(()=>{!0===this.state.expanded?Hn()?.classList.add("u3-collapsed"):Hn()?.classList.remove("u3-collapsed"),this.setState({expanded:!this.state.expanded})})),e(this,"handleReload",(()=>{this.debounceReload&&this.debounceReload.cancel(),this.setState({reload:!0}),this.debounceReload()})),e(this,"setTitle",(e=>{this.titleRef.current.innerHTML=e})),e(this,"selectDot",(e=>{this.setState({badge:e})})),this.mounted=!1,this.titleRef=r.createRef(),Nn(Mn()),On(Pn),window.addEventListener("storage",this.handleLogoutLoginSignal),Hn()?.addEventListener("drop",this.handleDndEvent),Hn()?.addEventListener("dragover",this.handleDndEvent),this.debounceReload=Qo((()=>{this.props.history.replace("/")}),5e3,{trailing:!1}),this.state={configLoaded:!!t.siteName,expanded:!0,reload:!1,badge:""}}async componentDidMount(){Jn(document.getElementById("u3-chatting")),Hn()?.style.setProperty("--u3-chatting-content-width",`${Hn()?.clientWidth||440}px`),Hn()?.classList.add("u3-chat-main"),this.mounted=!0;const e=this.props;if(e.clientId){const t=q.getToken(e.clientId),n=q.getCsrf(e.clientId);t&&n&&(J.setToken(t),J.setCSRF(n))}if(!e.siteName&&e.clientId){const[t,n,a,s]=await e.actions.loadMeAndConfig(e.clientId);"/"===e.location.pathname&&s&&s.data&&Ra(e.history),this.handleConfigLoaded(s&&s.data)}}componentDidUpdate(e){const{location:t,noAccounts:n,allowedDomains:a,clientValid:s}=this.props;!this.state.configLoaded||"/error"===t.pathname||s||-1!==a.indexOf(Dn())?"/"===t.pathname&&n&&!this.props.currentUserId&&e.history.replace("/connect"):e.history.replace("/error?type=client-invalid")}componentWillUnmount(){this.mounted=!1,window.removeEventListener("storage",this.handleLogoutLoginSignal)}render(){const{configLoaded:e,reload:t}=this.state;if(!e)return c(Ua,{children:c(Ln,{message:"Tải cài đặt"})});let n=c(Ba,{className:"u3-w-3.5 u3-h-3.5"});return this.state.expanded&&(n=c(Va,{className:"u3-w-3.5 u3-h-3.5"})),c(Ua,{children:p(Oa,{value:{setTitle:this.setTitle,selectDot:this.selectDot},children:[p("div",{className:Co,children:[p("div",{className:So,children:[c(Fa,{className:"u3-w-4 u3-h-4"}),c("div",{className:_(To,{[Ao]:"Unread"===this.state.badge,[ko]:"Mention"===this.state.badge,"u3-animate-ping":""!==this.state.badge})}),c("div",{className:_(To,xo,{[Ao]:"Unread"===this.state.badge,[ko]:"Mention"===this.state.badge})}),c("h3",{ref:this.titleRef,children:"U3 Chat"})]}),p("div",{className:Io,children:[c("button",{onClick:this.handleReload,className:No,children:c(Qn,{className:_("u3-h-4 u3-w-4 u3-text-white",{"u3-animate-spin":t})})}),c("button",{onClick:this.handleExpanned,className:Do,children:n}),c(ro,{history:this.props.history})]})]}),c("div",{className:_(Ro,{"u3-collapsed":!this.state.expanded}),children:c(Eo,{...this.props})})]})})}}var Zo=Xo;var ei=u((function(e){const t=jn(),n=K(e),a=Un(e),s=e.plugins.components.CustomRouteComponent,o=t.clientId===a.clientId,i=a.allowed,r=O(e),l=q.getPreviousTeamId(O(e)),c=Et(e,l);return{siteName:n.SiteName,noAccounts:"true"===n.NoAccounts,clientValid:o,clientId:t.clientId,allowedDomains:i,hasUserToken:!!t.userToken,permalinkRedirectTeamName:c?c.name:"",currentUserId:r,plugins:s}}),(function(e){return{actions:m({loadMeAndConfig:Yn},e)}}))(Zo),ti=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ei});t("ab",ti)}}}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtbGVnYWN5LjY3NDMyZmI2LmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMveC9hY3Rpb25zL2NoYW5uZWxfYWN0aW9ucy5qc3giLCIuLi8uLi9zcmMvdXRpbHMvaW50ZWdyYXRlLnRzIiwiLi4vLi4vc3JjL3gvYWN0aW9ucy9nbG9iYWxfYWN0aW9ucy50c3giLCIuLi8uLi9zcmMveC9hY3Rpb25zL3ZpZXdzL2NoYW5uZWwuanMiLCIuLi8uLi9zcmMveC9zZWxlY3RvcnMvbG9jYWxfc3RvcmFnZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L3V0aWxzL2ZvY3VzLW1hbmFnZW1lbnQuZXNtLmpzIiwiLi4vLi4vc3JjL3V0aWxzL0FwcENvbnRleHQudHMiLCIuLi8uLi9zcmMveC9hY3Rpb25zL3ZpZXdzL3Jvb3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZmFzdGNsaWNrQDEuMC42L25vZGVfbW9kdWxlcy9mYXN0Y2xpY2svbGliL2Zhc3RjbGljay5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVyb2ljb25zK3JlYWN0QDEuMC40X3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZXJvaWNvbnMvcmVhY3Qvb3V0bGluZS9SZWZyZXNoSWNvbi5qcyIsIi4uLy4uL3NyYy94L3BhY2thZ2VzL2NoYXR0aW5nLXJlZHV4L3NyYy9zZWxlY3RvcnMvZW50aXRpZXMvYXBwcy50cyIsIi4uLy4uL3NyYy94L3BhY2thZ2VzL2NoYXR0aW5nLXJlZHV4L3NyYy9hY3Rpb25zL2FwcHMudHMiLCIuLi8uLi9zcmMveC9wYWNrYWdlcy9jaGF0dGluZy1yZWR1eC9zcmMvYWN0aW9ucy93ZWJzb2NrZXQudHMiLCIuLi8uLi9zcmMveC9wYWNrYWdlcy9jaGF0dGluZy1yZWR1eC9zcmMvYWN0aW9ucy9hZG1pbi50cyIsIi4uLy4uL3NyYy94L3BhY2thZ2VzL2NoYXR0aW5nLXJlZHV4L3NyYy9zZWxlY3RvcnMvZW50aXRpZXMvdXRpbHMudHMiLCIuLi8uLi9zcmMveC9zZWxlY3RvcnMvdmlld3MvY2hhbm5lbC5qcyIsIi4uLy4uL3NyYy94L3NlbGVjdG9ycy92aWV3cy93ZWJzb2NrZXQuanMiLCIuLi8uLi9zcmMveC9jbGllbnQvd2Vic29ja2V0X2NsaWVudC50c3giLCIuLi8uLi9zcmMveC9jbGllbnQvd2ViX3dlYnNvY2tldF9jbGllbnQuanN4IiwiLi4vLi4vc3JjL3gvYWN0aW9ucy93ZWJzb2NrZXRfYWN0aW9ucy5qc3giLCIuLi8uLi9zcmMveC9hY3Rpb25zL3ZpZXdzL3N5c3RlbS5qcyIsIi4uLy4uL3NyYy94L3BhY2thZ2VzL2NoYXR0aW5nLXJlZHV4L3NyYy9hY3Rpb25zL2Nsb3VkLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZsdXhANC4wLjFfcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvZmx1eC9saWIvRGlzcGF0Y2hlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mYmpzQDMuMC4wL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pbnZhcmlhbnQuanMiLCIuLi8uLi9zcmMveC9kaXNwYXRjaGVyL2FwcF9kaXNwYXRjaGVyLmpzeCIsIi4uLy4uL3NyYy94L3N0b3Jlcy9icm93c2VyX3N0b3JlLnRzeCIsIi4uLy4uL3NyYy94L3V0aWxzL3RlYW1fdXRpbHMuanN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvSW50bFByb3ZpZGVyL0ludGxQcm92aWRlci50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9JbnRsUHJvdmlkZXIvaW5kZXgudHMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9JY29ucy9Mb2dvLnRzeCIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L3V0aWxzL3JlbmRlci5lc20uanMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9JY29ucy9QbHVzU29pbGQudHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvSWNvbnMvTWludXNTb2lsZC50c3giLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9fdmlydHVhbC9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvdXRpbHMvbWF0Y2guZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvY29tcG9uZW50cy9rZXlib2FyZC5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9ob29rcy91c2UtaXNvLW1vcnBoaWMtZWZmZWN0LmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L2hvb2tzL3VzZS1zZXJ2ZXItaGFuZG9mZi1jb21wbGV0ZS5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9ob29rcy91c2Utc3luYy1yZWZzLmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L3V0aWxzL2J1Z3MuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvaG9va3MvdXNlLWlkLmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L2hvb2tzL3VzZS13aW5kb3ctZXZlbnQuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvaG9va3MvdXNlLWlzLW1vdW50ZWQuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvaW50ZXJuYWwvb3Blbi1jbG9zZWQuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvdXRpbHMvY2FsY3VsYXRlLWFjdGl2ZS1pbmRleC5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9jb21wb25lbnRzL21lbnUvbWVudS5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9ob29rcy91c2UtcmVzb2x2ZS1idXR0b24tdHlwZS5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC91dGlscy9kaXNwb3NhYmxlcy5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9ob29rcy91c2UtZGlzcG9zYWJsZXMuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvY29tcG9uZW50cy90cmFuc2l0aW9ucy91dGlscy90cmFuc2l0aW9uLmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L2hvb2tzL3VzZS10cmVlLXdhbGtlci5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9ob29rcy91c2UtaXMtaW5pdGlhbC1yZW5kZXIuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvdXRpbHMvb25jZS5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9jb21wb25lbnRzL3RyYW5zaXRpb25zL3RyYW5zaXRpb24uZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZXJvaWNvbnMrcmVhY3RAMS4wLjRfcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlcm9pY29ucy9yZWFjdC9zb2xpZC9NZW51SWNvbi5qcyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL3dpZGdldHMvVHJhbnNpdGlvbkRvd24vaW5kZXgudHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvd2lkZ2V0cy9NZW51L01lbnVJdGVtLnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL1Jvb3RNZW51L2luZGV4LnRzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvUm9vdE1lbnUvUm9vdE1lbnUudHN4IiwiLi4vLi4vc3JjL3BhZ2VzL1Jvb3QvUm91dGUucHJvZC50c3giLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9ub3cuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fdHJpbW1lZEVuZEluZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VUcmltLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvdG9OdW1iZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9kZWJvdW5jZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL3Rocm90dGxlLmpzIiwiLi4vLi4vc3JjL3BhZ2VzL1Jvb3QvUm9vdC50c3giLCIuLi8uLi9zcmMvcGFnZXMvUm9vdC9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCB7YmF0Y2hBY3Rpb25zfSBmcm9tICdyZWR1eC1iYXRjaGVkLWFjdGlvbnMnO1xuXG5pbXBvcnQge1ByZWZlcmVuY2VUeXBlcywgR2VuZXJhbFR5cGVzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25fdHlwZXMnO1xuaW1wb3J0ICogYXMgQ2hhbm5lbEFjdGlvbnMgZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9jaGFubmVscyc7XG5pbXBvcnQge3NhdmVQcmVmZXJlbmNlc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9wcmVmZXJlbmNlcyc7XG5pbXBvcnQge2dldE15Q2hhbm5lbE1lbWJlcnNoaXBzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvY29tbW9uJztcbmltcG9ydCB7Z2V0Q2hhbm5lbEJ5TmFtZSwgZ2V0VW5yZWFkQ2hhbm5lbElkcywgZ2V0Q2hhbm5lbCwgZ2V0Q2hhbm5lbElkc0luQ2F0ZWdvcnl9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy9jaGFubmVscyc7XG5pbXBvcnQge2dldEN1cnJlbnRUZWFtVXJsLCBnZXRDdXJyZW50VGVhbUlkfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdGVhbXMnO1xuaW1wb3J0IHtnZXRDdXJyZW50VXNlcklkfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdXNlcnMnO1xuXG5pbXBvcnQge3RyYWNrRXZlbnR9IGZyb20gJyRhY3Rpb25zL3RlbGVtZXRyeV9hY3Rpb25zLmpzeCc7XG5pbXBvcnQge2xvYWROZXdETUlmTmVlZGVkLCBsb2FkTmV3R01JZk5lZWRlZCwgbG9hZFByb2ZpbGVzRm9yU2lkZWJhcn0gZnJvbSAnJGFjdGlvbnMvdXNlcl9hY3Rpb25zLmpzeCc7XG5pbXBvcnQge2Jyb3dzZXJIaXN0b3J5fSBmcm9tICckdXRpbHMvYnJvd3Nlcl9oaXN0b3J5JztcbmltcG9ydCB7Q29uc3RhbnRzLCBQcmVmZXJlbmNlcywgTm90aWZpY2F0aW9uTGV2ZWxzfSBmcm9tICckdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCB7Z2V0RGlyZWN0Q2hhbm5lbE5hbWV9IGZyb20gJyR1dGlscy91dGlscyc7XG5pbXBvcnQge2dldEN1cnJlbnRDYXRlZ29yeX0gZnJvbSAnJHNlbGVjdG9ycy92aWV3cy9jaGFubmVsX3NpZGViYXInO1xuaW1wb3J0IHtnZXRDYXRlZ29yeX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2NoYW5uZWxfY2F0ZWdvcmllcyc7XG5pbXBvcnQge0NhdGVnb3J5VHlwZXN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2NvbnN0YW50cy9jaGFubmVsX2NhdGVnb3JpZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gb3BlbkRpcmVjdENoYW5uZWxUb1VzZXJJZCh1c2VySWQpIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBnZXRDdXJyZW50VXNlcklkKHN0YXRlKTtcbiAgICAgICAgY29uc3QgY2hhbm5lbE5hbWUgPSBnZXREaXJlY3RDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCB1c2VySWQpO1xuICAgICAgICBjb25zdCBjaGFubmVsID0gZ2V0Q2hhbm5lbEJ5TmFtZShzdGF0ZSwgY2hhbm5lbE5hbWUpO1xuXG4gICAgICAgIGlmICghY2hhbm5lbCkge1xuICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKENoYW5uZWxBY3Rpb25zLmNyZWF0ZURpcmVjdENoYW5uZWwoY3VycmVudFVzZXJJZCwgdXNlcklkKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFja0V2ZW50KCdhcGknLCAnYXBpX2NoYW5uZWxzX2pvaW5fZGlyZWN0Jyk7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHByZWZEaXJlY3QgPSB7XG4gICAgICAgICAgICBjYXRlZ29yeTogUHJlZmVyZW5jZXMuQ0FURUdPUllfRElSRUNUX0NIQU5ORUxfU0hPVyxcbiAgICAgICAgICAgIG5hbWU6IHVzZXJJZCxcbiAgICAgICAgICAgIHZhbHVlOiAndHJ1ZScsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHByZWZPcGVuVGltZSA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBQcmVmZXJlbmNlcy5DQVRFR09SWV9DSEFOTkVMX09QRU5fVElNRSxcbiAgICAgICAgICAgIG5hbWU6IGNoYW5uZWwuaWQsXG4gICAgICAgICAgICB2YWx1ZTogbm93LnRvU3RyaW5nKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBbe1xuICAgICAgICAgICAgdHlwZTogUHJlZmVyZW5jZVR5cGVzLlJFQ0VJVkVEX1BSRUZFUkVOQ0VTLFxuICAgICAgICAgICAgZGF0YTogW3ByZWZEaXJlY3RdLFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiBQcmVmZXJlbmNlVHlwZXMuUkVDRUlWRURfUFJFRkVSRU5DRVMsXG4gICAgICAgICAgICBkYXRhOiBbcHJlZk9wZW5UaW1lXSxcbiAgICAgICAgfV07XG4gICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhhY3Rpb25zKSk7XG5cbiAgICAgICAgZGlzcGF0Y2goc2F2ZVByZWZlcmVuY2VzKGN1cnJlbnRVc2VySWQsIFtcbiAgICAgICAgICAgIHt1c2VyX2lkOiBjdXJyZW50VXNlcklkLCAuLi5wcmVmRGlyZWN0fSxcbiAgICAgICAgICAgIHt1c2VyX2lkOiBjdXJyZW50VXNlcklkLCAuLi5wcmVmT3BlblRpbWV9LFxuICAgICAgICBdKSk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhOiBjaGFubmVsfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3Blbkdyb3VwQ2hhbm5lbFRvVXNlcklkcyh1c2VySWRzKSB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGlzcGF0Y2goQ2hhbm5lbEFjdGlvbnMuY3JlYXRlR3JvdXBDaGFubmVsKHVzZXJJZHMpKTtcblxuICAgICAgICBpZiAocmVzdWx0LmVycm9yKSB7XG4gICAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKGdldEN1cnJlbnRUZWFtVXJsKGdldFN0YXRlKCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRDaGFubmVsc0ZvckN1cnJlbnRVc2VyKCkge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgdW5yZWFkcyA9IGdldFVucmVhZENoYW5uZWxJZHMoc3RhdGUpO1xuXG4gICAgICAgIGF3YWl0IGRpc3BhdGNoKENoYW5uZWxBY3Rpb25zLmZldGNoTXlDaGFubmVsc0FuZE1lbWJlcnMoZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSkpKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHVucmVhZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWwgPSBnZXRDaGFubmVsKHN0YXRlLCBpZCk7XG4gICAgICAgICAgICBpZiAoY2hhbm5lbCAmJiBjaGFubmVsLnR5cGUgPT09IENvbnN0YW50cy5ETV9DSEFOTkVMKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2gobG9hZE5ld0RNSWZOZWVkZWQoY2hhbm5lbC5pZCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsICYmIGNoYW5uZWwudHlwZSA9PT0gQ29uc3RhbnRzLkdNX0NIQU5ORUwpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChsb2FkTmV3R01JZk5lZWRlZChjaGFubmVsLmlkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsb2FkUHJvZmlsZXNGb3JTaWRlYmFyKCk7XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRDaGFubmVsc0ZvckN1cnJlbnRVc2VyMigpIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBnZXRDdXJyZW50Q2F0ZWdvcnkoc3RhdGUpO1xuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGdldENhdGVnb3J5KHN0YXRlLCBjYXRlZ29yeUlkKTtcblxuICAgICAgICBjb25zdCBjaGFubmVsSWRzID0gZ2V0Q2hhbm5lbElkc0luQ2F0ZWdvcnkoc3RhdGUsIGNhdGVnb3J5ID8gY2F0ZWdvcnkuaWQgOiAnYWxsJywgY2F0ZWdvcnkgPyBjYXRlZ29yeS50eXBlIDogJycpO1xuICAgICAgICBjb25zdCBjaGFubmVsVW5sb2FkZWQgPSBjaGFubmVsSWRzLmZpbHRlcigoaWQpID0+ICFnZXRDaGFubmVsKHN0YXRlLCBpZCkpO1xuXG4gICAgICAgIGF3YWl0IGRpc3BhdGNoKENoYW5uZWxBY3Rpb25zLmZldGNoTXlDaGFubmVsc0J5SWRzKGdldEN1cnJlbnRUZWFtSWQoc3RhdGUpLCBjaGFubmVsVW5sb2FkZWQpKTtcbiAgICAgICAgY29uc3QgdW5yZWFkcyA9IGdldFVucmVhZENoYW5uZWxJZHMoc3RhdGUpO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgdW5yZWFkcykge1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbCA9IGdldENoYW5uZWwoc3RhdGUsIGlkKTtcbiAgICAgICAgICAgIGlmIChjaGFubmVsICYmIGNoYW5uZWwudHlwZSA9PT0gQ29uc3RhbnRzLkRNX0NIQU5ORUwpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChsb2FkTmV3RE1JZk5lZWRlZChjaGFubmVsLmlkKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWwgJiYgY2hhbm5lbC50eXBlID09PSBDb25zdGFudHMuR01fQ0hBTk5FTCkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKGxvYWROZXdHTUlmTmVlZGVkKGNoYW5uZWwuaWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IGxvYWRQcm9maWxlc0ZvclNpZGViYXIoKTtcblxuICAgICAgICByZXR1cm4ge2RhdGE6IHRydWV9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkTW9yZUNoYW5uZWxzRm9yQ3VycmVudFVzZXIoaW5kZXgsIGRvbmUpIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBnZXRDdXJyZW50Q2F0ZWdvcnkoc3RhdGUpO1xuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGdldENhdGVnb3J5KHN0YXRlLCBjYXRlZ29yeUlkKTtcbiAgICAgICAgY29uc3QgdGVhbUlkID0gZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSk7XG4gICAgICAgIGxldCBpc0VuZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChjYXRlZ29yeUlkID09PSAnYWxsJyB8fCAoY2F0ZWdvcnkgPyBjYXRlZ29yeS50eXBlID09PSBDYXRlZ29yeVR5cGVzLkRJUkVDVF9NRVNTQUdFUyA6IGZhbHNlKSkge1xuICAgICAgICAgICAgY29uc3Qge2RhdGEsIGVycm9yfSA9IGF3YWl0IGRpc3BhdGNoKENoYW5uZWxBY3Rpb25zLmZldGNoTXlDaGFubmVsSWRzKHRlYW1JZCwgY2F0ZWdvcnkgPyAnRCcgOiAnJywgaW5kZXgsIDIwKSk7XG4gICAgICAgICAgICBpZiAoIWVycm9yICYmIGRhdGEgJiYgZGF0YS5jaGFubmVsX2lkcy5sZW5ndGggPCAyMCkge1xuICAgICAgICAgICAgICAgIGlzRW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IGRpc3BhdGNoKGxvYWRDaGFubmVsc0ZvckN1cnJlbnRVc2VyMigpKTtcblxuICAgICAgICBkaXNwYXRjaCh7dHlwZTogR2VuZXJhbFR5cGVzLlNJREVCQVJfR0VUX01PUkUsIGRhdGE6IHt0eXBlOiBjYXRlZ29yeUlkLCBpbmRleDogaXNFbmQgPyAtMSA6IGluZGV4fX0pO1xuXG4gICAgICAgIGRvbmUoKTtcblxuICAgICAgICByZXR1cm4ge307XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRGaXJzdERpcmVjdCh0ZWFtSWQpIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgICAgIGF3YWl0IGRpc3BhdGNoKENoYW5uZWxBY3Rpb25zLmZldGNoTXlDaGFubmVsSWRzKHRlYW1JZCwgJ0QnLCAwLCAyMCkpO1xuICAgICAgICByZXR1cm4ge307XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRDaGFubmVsc0ZvckN1cnJlbnRDYXRlZ29yeShjYXRlZ29yeUlkKSB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGdldENhdGVnb3J5KHN0YXRlLCBjYXRlZ29yeUlkKTtcbiAgICAgICAgY29uc3QgdW5yZWFkcyA9IGdldFVucmVhZENoYW5uZWxJZHMoc3RhdGUpO1xuICAgICAgICBjb25zdCBjaGFubmVsVW5sb2FkZWQgPSBjYXRlZ29yeS5jaGFubmVsX2lkcy5maWx0ZXIoKGlkKSA9PiAhZ2V0Q2hhbm5lbChzdGF0ZSwgaWQpKTtcblxuICAgICAgICBhd2FpdCBkaXNwYXRjaChDaGFubmVsQWN0aW9ucy5mZXRjaE15Q2hhbm5lbHNCeUlkcyhnZXRDdXJyZW50VGVhbUlkKHN0YXRlKSwgY2hhbm5lbFVubG9hZGVkKSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiB1bnJlYWRzKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsID0gZ2V0Q2hhbm5lbChzdGF0ZSwgaWQpO1xuICAgICAgICAgICAgaWYgKGNoYW5uZWwgJiYgY2hhbm5lbC50eXBlID09PSBDb25zdGFudHMuRE1fQ0hBTk5FTCkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKGxvYWROZXdETUlmTmVlZGVkKGNoYW5uZWwuaWQpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbCAmJiBjaGFubmVsLnR5cGUgPT09IENvbnN0YW50cy5HTV9DSEFOTkVMKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2gobG9hZE5ld0dNSWZOZWVkZWQoY2hhbm5lbC5pZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgbG9hZFByb2ZpbGVzRm9yU2lkZWJhcigpO1xuXG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VhcmNoTW9yZUNoYW5uZWxzKHRlcm0sIHNob3dBcmNoaXZlZENoYW5uZWxzKSB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB0ZWFtSWQgPSBnZXRDdXJyZW50VGVhbUlkKHN0YXRlKTtcblxuICAgICAgICBpZiAoIXRlYW1JZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB0ZWFtIGlkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7ZGF0YSwgZXJyb3J9ID0gYXdhaXQgZGlzcGF0Y2goQ2hhbm5lbEFjdGlvbnMuc2VhcmNoQ2hhbm5lbHModGVhbUlkLCB0ZXJtLCBzaG93QXJjaGl2ZWRDaGFubmVscykpO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgbXlNZW1iZXJzID0gZ2V0TXlDaGFubmVsTWVtYmVyc2hpcHMoc3RhdGUpO1xuXG4gICAgICAgICAgICAvLyBXaGVuIHNlYXJjaGluZyBwdWJsaWMgY2hhbm5lbHMsIG9ubHkgZ2V0IGNoYW5uZWxzIHVzZXIgaXMgbm90IGEgbWVtYmVyIG9mXG4gICAgICAgICAgICBjb25zdCBjaGFubmVscyA9IHNob3dBcmNoaXZlZENoYW5uZWxzID8gZGF0YSA6IGRhdGEuZmlsdGVyKChjKSA9PiAhbXlNZW1iZXJzW2MuaWRdKTtcbiAgICAgICAgICAgIHJldHVybiB7ZGF0YTogY2hhbm5lbHN9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGF1dG9jb21wbGV0ZUNoYW5uZWxzKHRlcm0sIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB0ZWFtSWQgPSBnZXRDdXJyZW50VGVhbUlkKHN0YXRlKTtcbiAgICAgICAgaWYgKCF0ZWFtSWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7ZGF0YTogZmFsc2V9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge2RhdGEsIGVycm9yOiBlcnJ9ID0gYXdhaXQgZGlzcGF0Y2goQ2hhbm5lbEFjdGlvbnMuYXV0b2NvbXBsZXRlQ2hhbm5lbHModGVhbUlkLCB0ZXJtKSk7XG4gICAgICAgIGlmIChkYXRhICYmIHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHN1Y2Nlc3MoZGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyICYmIGVycm9yKSB7XG4gICAgICAgICAgICBlcnJvcih7aWQ6IGVyci5zZXJ2ZXJfZXJyb3JfaWQsIC4uLmVycn0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhOiB0cnVlfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXV0b2NvbXBsZXRlQ2hhbm5lbHNGb3JTZWFyY2godGVybSwgc3VjY2VzcywgZXJyb3IpIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHRlYW1JZCA9IGdldEN1cnJlbnRUZWFtSWQoc3RhdGUpO1xuXG4gICAgICAgIGlmICghdGVhbUlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7ZGF0YSwgZXJyb3I6IGVycn0gPSBhd2FpdCBkaXNwYXRjaChDaGFubmVsQWN0aW9ucy5hdXRvY29tcGxldGVDaGFubmVsc0ZvclNlYXJjaCh0ZWFtSWQsIHRlcm0pKTtcbiAgICAgICAgaWYgKGRhdGEgJiYgc3VjY2Vzcykge1xuICAgICAgICAgICAgc3VjY2VzcyhkYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChlcnIgJiYgZXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yKHtpZDogZXJyLnNlcnZlcl9lcnJvcl9pZCwgLi4uZXJyfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVXNlcnNUb0NoYW5uZWwoY2hhbm5lbElkLCB1c2VySWRzKSB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdHMgPSB1c2VySWRzLm1hcCgodUlkKSA9PiBkaXNwYXRjaChDaGFubmVsQWN0aW9ucy5hZGRDaGFubmVsTWVtYmVyKGNoYW5uZWxJZCwgdUlkKSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwocmVxdWVzdHMpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5tdXRlQ2hhbm5lbCh1c2VySWQsIGNoYW5uZWxJZCkge1xuICAgIHJldHVybiBDaGFubmVsQWN0aW9ucy51cGRhdGVDaGFubmVsTm90aWZ5UHJvcHModXNlcklkLCBjaGFubmVsSWQsIHtcbiAgICAgICAgbWFya191bnJlYWQ6IE5vdGlmaWNhdGlvbkxldmVscy5BTEwsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtdXRlQ2hhbm5lbCh1c2VySWQsIGNoYW5uZWxJZCkge1xuICAgIHJldHVybiBDaGFubmVsQWN0aW9ucy51cGRhdGVDaGFubmVsTm90aWZ5UHJvcHModXNlcklkLCBjaGFubmVsSWQsIHtcbiAgICAgICAgbWFya191bnJlYWQ6IE5vdGlmaWNhdGlvbkxldmVscy5NRU5USU9OLFxuICAgIH0pO1xufVxuIiwiLyoqXG4gKiBGaWxlOiBpbnRlZ3JhdGUudHNcbiAqIFByb2plY3Q6IGNoYXR0aW5nLW1pbmltYWxcbiAqIEZpbGUgQ3JlYXRlZDogMzAgU2VwIDIwMjEgMTQ6MDg6NDFcbiAqIEF1dGhvcjogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIExhc3QgTW9kaWZpZWQ6IDA3IE9jdCAyMDIxIDE1OjM4OjE1XG4gKiBNb2RpZmllZCBCeTogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAyMSB1bmQzZmluZWQuY29tXG4gKi9cbmltcG9ydCB0eXBlIHtJbnRlZ3JhdGV9IGZyb20gJyR0eXBlcy9pbnRlZ3JhdGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gcm9vdEVsZW1lbnQoKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1My1jaGF0dGluZycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5pdERhdGEoKTogSW50ZWdyYXRlIHtcbiAgY29uc3QgY2xpZW50SWQgPSBnZXRNZXRhKCd1MzpzZWNyZXQnKSB8fCAnJztcbiAgY29uc3QgdXNlclRva2VuID0gZ2V0TWV0YSgndTM6c2Vzc2lvbicpIHx8ICcnO1xuICBcblxuICByZXR1cm4ge1xuICAgIGNsaWVudElkLFxuICAgIHVzZXJUb2tlbixcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1ldGEobWV0YU5hbWU6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCBtZXRhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdtZXRhJyk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXRhcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChtZXRhc1tpXS5nZXRBdHRyaWJ1dGUoJ3Byb3BlcnR5JykgPT09IG1ldGFOYW1lKSB7XG4gICAgICByZXR1cm4gbWV0YXNbaV0uZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5pbXBvcnQge2JhdGNoQWN0aW9uc30gZnJvbSAncmVkdXgtYmF0Y2hlZC1hY3Rpb25zJztcblxuaW1wb3J0IHtcbiAgY3JlYXRlRGlyZWN0Q2hhbm5lbCxcbiAgZmV0Y2hNeUNoYW5uZWxzQW5kTWVtYmVycyxcbiAgZ2V0Q2hhbm5lbEJ5TmFtZUFuZFRlYW1OYW1lLFxuICBnZXRDaGFubmVsU3RhdHMsXG5cbiAgLy8gc2VsZWN0Q2hhbm5lbCxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9jaGFubmVscyc7XG5pbXBvcnQge2xvZ291dCwgbG9hZE1lfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3VzZXJzJztcbmltcG9ydCB7Z2V0Q29uZmlnfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvZ2VuZXJhbCc7XG5pbXBvcnQge1xuICBnZXRDdXJyZW50VGVhbUlkLFxuICBnZXRNeVRlYW1zLFxuICBnZXRUZWFtLFxuICBnZXRNeVRlYW1NZW1iZXIsXG4gIGdldFRlYW1NZW1iZXJzaGlwcyxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3RlYW1zJztcbmltcG9ydCB7Z2V0Q3VycmVudFVzZXIsIGdldEN1cnJlbnRVc2VySWR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy91c2Vycyc7XG5pbXBvcnQge1xuICBnZXRDdXJyZW50Q2hhbm5lbFN0YXRzLFxuICBnZXRDdXJyZW50Q2hhbm5lbElkLFxuICBnZXRNeUNoYW5uZWxNZW1iZXIsXG4gIGdldFJlZGlyZWN0Q2hhbm5lbE5hbWVGb3JUZWFtLFxuICBnZXRDaGFubmVsc05hbWVNYXBJblRlYW0sXG4gIGdldEFsbERpcmVjdENoYW5uZWxzLFxufSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvY2hhbm5lbHMnO1xuaW1wb3J0IHthcHBzRW5hYmxlZH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2FwcHMnO1xuaW1wb3J0IHtDaGFubmVsVHlwZXN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbl90eXBlcyc7XG5pbXBvcnQge2ZldGNoQXBwQmluZGluZ3N9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvYXBwcyc7XG5pbXBvcnQge0NoYW5uZWwsIENoYW5uZWxNZW1iZXJzaGlwfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9jaGFubmVscyc7XG5pbXBvcnQge1VzZXJQcm9maWxlfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy91c2Vycyc7XG5pbXBvcnQge0FjdGlvbiwgQWN0aW9uRnVuYywgRGlzcGF0Y2hGdW5jLCBHZXRTdGF0ZUZ1bmN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3R5cGVzL2FjdGlvbnMnO1xuaW1wb3J0IHtUZWFtfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy90ZWFtcyc7XG5cbmltcG9ydCB7YnJvd3Nlckhpc3Rvcnl9IGZyb20gJyR1dGlscy9icm93c2VyX2hpc3RvcnknO1xuaW1wb3J0IHtoYW5kbGVOZXdQb3N0fSBmcm9tICckYWN0aW9ucy9wb3N0X2FjdGlvbnMuanN4JztcbmltcG9ydCB7c3RvcFBlcmlvZGljU3RhdHVzVXBkYXRlc30gZnJvbSAnJGFjdGlvbnMvc3RhdHVzX2FjdGlvbnMuanN4JztcbmltcG9ydCB7bG9hZFByb2ZpbGVzRm9yU2lkZWJhcn0gZnJvbSAnJGFjdGlvbnMvdXNlcl9hY3Rpb25zLmpzeCc7XG5pbXBvcnQge2Nsb3NlUmlnaHRIYW5kU2lkZSwgY2xvc2VNZW51IGFzIGNsb3NlUmhzTWVudSwgdXBkYXRlUmhzU3RhdGV9IGZyb20gJyRhY3Rpb25zL3ZpZXdzL3Jocyc7XG5pbXBvcnQge2NsZWFyVXNlckNvb2tpZX0gZnJvbSAnJGFjdGlvbnMvdmlld3MvY29va2llJztcbmltcG9ydCB7Y2xvc2UgYXMgY2xvc2VMaHN9IGZyb20gJyRhY3Rpb25zL3ZpZXdzL2xocyc7XG5pbXBvcnQgKiBhcyBXZWJzb2NrZXRBY3Rpb25zIGZyb20gJyRhY3Rpb25zL3dlYnNvY2tldF9hY3Rpb25zLmpzeCc7XG5pbXBvcnQgQXBwRGlzcGF0Y2hlciBmcm9tICdAL3gvZGlzcGF0Y2hlci9hcHBfZGlzcGF0Y2hlci5qc3gnO1xuaW1wb3J0IHtnZXRDdXJyZW50TG9jYWxlfSBmcm9tICckc2VsZWN0b3JzL2kxOG4nO1xuaW1wb3J0IHtnZXRJc1Joc09wZW4sIGdldFJoc1N0YXRlfSBmcm9tICckc2VsZWN0b3JzL3Jocyc7XG5pbXBvcnQgQnJvd3NlclN0b3JlIGZyb20gJyRzdG9yZXMvYnJvd3Nlcl9zdG9yZSc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnJHN0b3Jlcy9yZWR1eF9zdG9yZS5qc3gnO1xuaW1wb3J0IExvY2FsU3RvcmFnZVN0b3JlIGZyb20gJyRzdG9yZXMvbG9jYWxfc3RvcmFnZV9zdG9yZSc7XG5pbXBvcnQgV2ViU29ja2V0Q2xpZW50IGZyb20gJyRjbGllbnQvd2ViX3dlYnNvY2tldF9jbGllbnQuanN4JztcblxuaW1wb3J0IHtBY3Rpb25UeXBlcywgQ29uc3RhbnRzLCBQb3N0VHlwZXMsIFJIU1N0YXRlcywgTW9kYWxJZGVudGlmaWVyc30gZnJvbSAnJHV0aWxzL2NvbnN0YW50cyc7XG5pbXBvcnQge2ZpbHRlckFuZFNvcnRUZWFtc0J5RGlzcGxheU5hbWV9IGZyb20gJyR1dGlscy90ZWFtX3V0aWxzLmpzeCc7XG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tICckdXRpbHMvdXRpbHMuanN4JztcbmltcG9ydCB7IEhhc2hIaXN0b3J5IH0gZnJvbSAnaGlzdG9yeSc7XG5cbmNvbnN0IGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG5jb25zdCBnZXRTdGF0ZSA9IHN0b3JlLmdldFN0YXRlO1xuXG5leHBvcnQgZnVuY3Rpb24gZW1pdENoYW5uZWxDbGlja0V2ZW50KGNoYW5uZWw6IENoYW5uZWwpIHtcbiAgYXN5bmMgZnVuY3Rpb24gdXNlclZpc2l0ZWRGYWtlQ2hhbm5lbChjaGFuOiBDaGFubmVsLCBzdWNjZXNzOiAocmVjZWl2ZWQ6IENoYW5uZWwpID0+IHZvaWQsIGZhaWw6ICgpID0+IHZvaWQpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgY3VycmVudFVzZXJJZCA9IGdldEN1cnJlbnRVc2VySWQoc3RhdGUpO1xuICAgIGNvbnN0IG90aGVyVXNlcklkID0gVXRpbHMuZ2V0VXNlcklkRnJvbUNoYW5uZWxOYW1lKGNoYW4pO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNyZWF0ZURpcmVjdENoYW5uZWwoY3VycmVudFVzZXJJZCwgb3RoZXJVc2VySWQpKGRpc3BhdGNoLCBnZXRTdGF0ZSk7XG4gICAgaWYgKCdkYXRhJyBpbiByZXMpIHtcbiAgICAgIHN1Y2Nlc3MocmVzLmRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmYWlsKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHN3aXRjaFRvQ2hhbm5lbChjaGFuOiBDaGFubmVsKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHVzZXJJZCA9IGdldEN1cnJlbnRVc2VySWQoc3RhdGUpO1xuICAgIGNvbnN0IHRlYW1JZCA9IGNoYW4udGVhbV9pZCB8fCBnZXRDdXJyZW50VGVhbUlkKHN0YXRlKTtcbiAgICBjb25zdCBpc1JIU09wZW5lZCA9IGdldElzUmhzT3BlbihzdGF0ZSk7XG4gICAgY29uc3QgaXNQaW5uZWRQb3N0c1Nob3dpbmcgPSBnZXRSaHNTdGF0ZShzdGF0ZSkgPT09IFJIU1N0YXRlcy5QSU47XG4gICAgY29uc3QgaXNDaGFubmVsRmlsZXNTaG93aW5nID0gZ2V0UmhzU3RhdGUoc3RhdGUpID09PSBSSFNTdGF0ZXMuQ0hBTk5FTF9GSUxFUztcbiAgICBjb25zdCBtZW1iZXIgPSBnZXRNeUNoYW5uZWxNZW1iZXIoc3RhdGUsIGNoYW4uaWQpO1xuICAgIGNvbnN0IGN1cnJlbnRDaGFubmVsSWQgPSBnZXRDdXJyZW50Q2hhbm5lbElkKHN0YXRlKTtcbiAgICBkaXNwYXRjaChnZXRDaGFubmVsU3RhdHMoY2hhbi5pZCkpO1xuXG4gICAgY29uc3QgcGVudWx0aW1hdGUgPSBMb2NhbFN0b3JhZ2VTdG9yZS5nZXRQcmV2aW91c0NoYW5uZWxOYW1lKHVzZXJJZCwgdGVhbUlkKTtcbiAgICBpZiAocGVudWx0aW1hdGUgIT09IGNoYW4ubmFtZSkge1xuICAgICAgTG9jYWxTdG9yYWdlU3RvcmUuc2V0UGVudWx0aW1hdGVDaGFubmVsTmFtZSh1c2VySWQsIHRlYW1JZCwgcGVudWx0aW1hdGUpO1xuICAgICAgTG9jYWxTdG9yYWdlU3RvcmUuc2V0UHJldmlvdXNDaGFubmVsTmFtZSh1c2VySWQsIHRlYW1JZCwgY2hhbi5uYW1lKTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHN3aXRjaGluZyB0byBhIGRpZmZlcmVudCBjaGFubmVsIGlmIHRoZSBwaW5uZWQgcG9zdHMgaXMgc2hvd2luZ1xuICAgIC8vIFVwZGF0ZSB0aGUgUkhTIHN0YXRlIHRvIHJlZmxlY3QgdGhlIHBpbm5lZCBwb3N0IG9mIHRoZSBzZWxlY3RlZCBjaGFubmVsXG4gICAgaWYgKGlzUkhTT3BlbmVkICYmIGlzUGlubmVkUG9zdHNTaG93aW5nKSB7XG4gICAgICBkaXNwYXRjaCh1cGRhdGVSaHNTdGF0ZShSSFNTdGF0ZXMuUElOLCBjaGFuLmlkKSk7XG4gICAgfVxuXG4gICAgaWYgKGlzUkhTT3BlbmVkICYmIGlzQ2hhbm5lbEZpbGVzU2hvd2luZykge1xuICAgICAgZGlzcGF0Y2godXBkYXRlUmhzU3RhdGUoUkhTU3RhdGVzLkNIQU5ORUxfRklMRVMsIGNoYW4uaWQpKTtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudENoYW5uZWxJZCkge1xuICAgICAgbG9hZFByb2ZpbGVzRm9yU2lkZWJhcigpO1xuICAgIH1cblxuICAgIGRpc3BhdGNoKFxuICAgICAgYmF0Y2hBY3Rpb25zKFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IENoYW5uZWxUeXBlcy5TRUxFQ1RfQ0hBTk5FTCxcbiAgICAgICAgICBkYXRhOiBjaGFuLmlkLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuU0VMRUNUX0NIQU5ORUxfV0lUSF9NRU1CRVIsXG4gICAgICAgICAgZGF0YTogY2hhbi5pZCxcbiAgICAgICAgICBjaGFubmVsOiBjaGFuLFxuICAgICAgICAgIG1lbWJlcjogbWVtYmVyIHx8IHt9LFxuICAgICAgICB9LFxuICAgICAgXSlcbiAgICApO1xuXG4gICAgaWYgKGFwcHNFbmFibGVkKHN0YXRlKSkge1xuICAgICAgZGlzcGF0Y2goZmV0Y2hBcHBCaW5kaW5ncyh1c2VySWQsIGNoYW4uaWQpKTtcbiAgICB9XG4gIH1cblxuICBpZiAoY2hhbm5lbC5mYWtlKSB7XG4gICAgdXNlclZpc2l0ZWRGYWtlQ2hhbm5lbChcbiAgICAgIGNoYW5uZWwsXG4gICAgICAoZGF0YSkgPT4ge1xuICAgICAgICBzd2l0Y2hUb0NoYW5uZWwoZGF0YSk7XG4gICAgICB9LFxuICAgICAgKCkgPT4ge1xuICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvJyk7XG4gICAgICB9XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2hUb0NoYW5uZWwoY2hhbm5lbCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU5ld01lc3NhZ2VzQXRJbkNoYW5uZWwoY2hhbm5lbElkOiBzdHJpbmcsIGxhc3RWaWV3ZWRBdCA9IERhdGUubm93KCkpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5VUERBVEVfQ0hBTk5FTF9MQVNUX1ZJRVdFRF9BVCxcbiAgICBjaGFubmVsX2lkOiBjaGFubmVsSWQsXG4gICAgbGFzdF92aWV3ZWRfYXQ6IGxhc3RWaWV3ZWRBdCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtaXRDbG9zZVJpZ2h0SGFuZFNpZGUoKSB7XG4gIGRpc3BhdGNoKGNsb3NlUmlnaHRIYW5kU2lkZSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZVNob3J0Y3V0c01vZGFsKCkge1xuICBBcHBEaXNwYXRjaGVyLmhhbmRsZVZpZXdBY3Rpb24oe1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLlRPR0dMRV9TSE9SVENVVFNfTU9EQUwsXG4gICAgdmFsdWU6IHRydWUsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0NoYW5uZWxQdXJwb3NlVXBkYXRlTW9kYWwoY2hhbm5lbDogQ2hhbm5lbCkge1xuICBBcHBEaXNwYXRjaGVyLmhhbmRsZVZpZXdBY3Rpb24oe1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLlRPR0dMRV9DSEFOTkVMX1BVUlBPU0VfVVBEQVRFX01PREFMLFxuICAgIHZhbHVlOiB0cnVlLFxuICAgIGNoYW5uZWwsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0NoYW5uZWxOYW1lVXBkYXRlTW9kYWwoY2hhbm5lbDogQ2hhbm5lbCkge1xuICBBcHBEaXNwYXRjaGVyLmhhbmRsZVZpZXdBY3Rpb24oe1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLlRPR0dMRV9DSEFOTkVMX05BTUVfVVBEQVRFX01PREFMLFxuICAgIHZhbHVlOiB0cnVlLFxuICAgIGNoYW5uZWwsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0dldFB1YmxpY0xpbmtNb2RhbChmaWxlSWQ6IHN0cmluZykge1xuICBBcHBEaXNwYXRjaGVyLmhhbmRsZVZpZXdBY3Rpb24oe1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLlRPR0dMRV9HRVRfUFVCTElDX0xJTktfTU9EQUwsXG4gICAgdmFsdWU6IHRydWUsXG4gICAgZmlsZUlkLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dHZXRUZWFtSW52aXRlTGlua01vZGFsKCkge1xuICBBcHBEaXNwYXRjaGVyLmhhbmRsZVZpZXdBY3Rpb24oe1xuICAgIHR5cGU6IENvbnN0YW50cy5BY3Rpb25UeXBlcy5UT0dHTEVfR0VUX1RFQU1fSU5WSVRFX0xJTktfTU9EQUwsXG4gICAgdmFsdWU6IHRydWUsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0xlYXZlUHJpdmF0ZUNoYW5uZWxNb2RhbChjaGFubmVsOiBDaGFubmVsKSB7XG4gIEFwcERpc3BhdGNoZXIuaGFuZGxlVmlld0FjdGlvbih7XG4gICAgdHlwZTogQWN0aW9uVHlwZXMuVE9HR0xFX0xFQVZFX1BSSVZBVEVfQ0hBTk5FTF9NT0RBTCxcbiAgICB2YWx1ZTogY2hhbm5lbCxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93TW9iaWxlU3ViTWVudU1vZGFsKGVsZW1lbnRzOiBhbnlbXSkge1xuICAvLyBUT0RPIFVzZSBtb3JlIHNwZWNpZmljIHR5cGVcbiAgY29uc3Qgc3VibWVudU1vZGFsRGF0YSA9IHtcbiAgICBNb2RhbElkOiBNb2RhbElkZW50aWZpZXJzLk1PQklMRV9TVUJNRU5VLFxuICAgIGRpYWxvZ1R5cGU6IFN1Yk1lbnVNb2RhbCxcbiAgICBkaWFsb2dQcm9wczoge1xuICAgICAgZWxlbWVudHMsXG4gICAgfSxcbiAgfTtcblxuICAvLyBpbiBoZXJlLi4uLlxuICBjb25zb2xlLmluZm8oJ3Nob3dNb2JpbGVTdWJNZW51TW9kYWwnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRFcGhlbWVyYWxQb3N0KG1lc3NhZ2U6IHN0cmluZywgY2hhbm5lbElkPzogc3RyaW5nLCBwYXJlbnRJZD86IHN0cmluZywgdXNlcklkPzogc3RyaW5nKTogQWN0aW9uRnVuYyB7XG4gIHJldHVybiAoZG9EaXNwYXRjaDogRGlzcGF0Y2hGdW5jLCBkb0dldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBVdGlscy5nZXRUaW1lc3RhbXAoKTtcbiAgICBjb25zdCBwb3N0ID0ge1xuICAgICAgaWQ6IFV0aWxzLmdlbmVyYXRlSWQoKSxcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCB8fCAnMCcsXG4gICAgICBjaGFubmVsX2lkOiBjaGFubmVsSWQgfHwgZ2V0Q3VycmVudENoYW5uZWxJZChkb0dldFN0YXRlKCkpLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHR5cGU6IFBvc3RUeXBlcy5FUEhFTUVSQUwsXG4gICAgICBjcmVhdGVfYXQ6IHRpbWVzdGFtcCxcbiAgICAgIHVwZGF0ZV9hdDogdGltZXN0YW1wLFxuICAgICAgcm9vdF9pZDogcGFyZW50SWQsXG4gICAgICBwYXJlbnRfaWQ6IHBhcmVudElkLFxuICAgICAgcHJvcHM6IHt9LFxuICAgIH07XG5cbiAgICByZXR1cm4gZG9EaXNwYXRjaChoYW5kbGVOZXdQb3N0KHBvc3QpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRBZGRUb0NoYW5uZWxFcGhlbWVyYWxQb3N0KFxuICB1c2VyOiBVc2VyUHJvZmlsZSxcbiAgYWRkZWRVc2VybmFtZTogc3RyaW5nLFxuICBhZGRlZFVzZXJJZDogc3RyaW5nLFxuICBjaGFubmVsSWQ6IHN0cmluZyxcbiAgcG9zdFJvb3RJZCA9ICcnLFxuICB0aW1lc3RhbXA6IG51bWJlclxuKSB7XG4gIGNvbnN0IHBvc3QgPSB7XG4gICAgaWQ6IFV0aWxzLmdlbmVyYXRlSWQoKSxcbiAgICB1c2VyX2lkOiB1c2VyLmlkLFxuICAgIGNoYW5uZWxfaWQ6IGNoYW5uZWxJZCB8fCBnZXRDdXJyZW50Q2hhbm5lbElkKGdldFN0YXRlKCkpLFxuICAgIG1lc3NhZ2U6ICcnLFxuICAgIHR5cGU6IFBvc3RUeXBlcy5FUEhFTUVSQUxfQUREX1RPX0NIQU5ORUwsXG4gICAgY3JlYXRlX2F0OiB0aW1lc3RhbXAsXG4gICAgdXBkYXRlX2F0OiB0aW1lc3RhbXAsXG4gICAgcm9vdF9pZDogcG9zdFJvb3RJZCxcbiAgICBwYXJlbnRfaWQ6IHBvc3RSb290SWQsXG4gICAgcHJvcHM6IHtcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgYWRkZWRVc2VybmFtZSxcbiAgICAgIGFkZGVkVXNlcklkLFxuICAgIH0sXG4gIH07XG5cbiAgZGlzcGF0Y2goaGFuZGxlTmV3UG9zdChwb3N0KSk7XG59XG5cbmxldCBsYXN0VGltZVR5cGluZ1NlbnQgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGVtaXRMb2NhbFVzZXJUeXBpbmdFdmVudChjaGFubmVsSWQ6IHN0cmluZywgcGFyZW50UG9zdElkOiBzdHJpbmcpIHtcbiAgY29uc3QgdXNlclR5cGluZyA9IGFzeW5jIChhY3Rpb25EaXNwYXRjaDogRGlzcGF0Y2hGdW5jLCBhY3Rpb25HZXRTdGF0ZTogR2V0U3RhdGVGdW5jKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBhY3Rpb25HZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZyhzdGF0ZSk7XG4gICAgY29uc3QgdCA9IERhdGUubm93KCk7XG4gICAgY29uc3Qgc3RhdHMgPSBnZXRDdXJyZW50Q2hhbm5lbFN0YXRzKHN0YXRlKTtcbiAgICBjb25zdCBtZW1iZXJzSW5DaGFubmVsID0gc3RhdHMgPyBzdGF0cy5tZW1iZXJfY291bnQgOiAwO1xuXG4gICAgY29uc3QgdGltZUJldHdlZW5Vc2VyVHlwaW5nVXBkYXRlc01pbGxpc2Vjb25kcyA9IFV0aWxzLnN0cmluZ1RvTnVtYmVyKFxuICAgICAgY29uZmlnLlRpbWVCZXR3ZWVuVXNlclR5cGluZ1VwZGF0ZXNNaWxsaXNlY29uZHNcbiAgICApO1xuICAgIGNvbnN0IG1heE5vdGlmaWNhdGlvbnNQZXJDaGFubmVsID0gVXRpbHMuc3RyaW5nVG9OdW1iZXIoY29uZmlnLk1heE5vdGlmaWNhdGlvbnNQZXJDaGFubmVsKTtcblxuICAgIGlmIChcbiAgICAgIHQgLSBsYXN0VGltZVR5cGluZ1NlbnQgPiB0aW1lQmV0d2VlblVzZXJUeXBpbmdVcGRhdGVzTWlsbGlzZWNvbmRzICYmXG4gICAgICBtZW1iZXJzSW5DaGFubmVsIDwgbWF4Tm90aWZpY2F0aW9uc1BlckNoYW5uZWwgJiZcbiAgICAgIGNvbmZpZy5FbmFibGVVc2VyVHlwaW5nTWVzc2FnZXMgPT09ICd0cnVlJ1xuICAgICkge1xuICAgICAgV2ViU29ja2V0Q2xpZW50LnVzZXJUeXBpbmcoY2hhbm5lbElkLCBwYXJlbnRQb3N0SWQpO1xuICAgICAgbGFzdFRpbWVUeXBpbmdTZW50ID0gdDtcbiAgICB9XG5cbiAgICByZXR1cm4ge2RhdGE6IHRydWV9O1xuICB9O1xuXG4gIHJldHVybiBkaXNwYXRjaCh1c2VyVHlwaW5nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtaXRVc2VyTG9nZ2VkT3V0RXZlbnQocmVkaXJlY3RUbyA9ICcjLycsIHNob3VsZFNpZ25hbExvZ291dCA9IHRydWUsIHVzZXJBY3Rpb24gPSB0cnVlLCBoaXN0b3J5PzogYW55KSB7XG4gIC8vIElmIHRoZSBsb2dvdXQgd2FzIGludGVudGlvbmFsLCBkaXNjYXJkIGtub3dsZWRnZSBhYm91dCBoYXZpbmcgcHJldmlvdXNseSBiZWVuIGxvZ2dlZCBpbi5cbiAgLy8gVGhpcyBiaXQgaXMgb3RoZXJ3aXNlIHVzZWQgdG8gZGV0ZWN0IHNlc3Npb24gZXhwaXJhdGlvbnMgb24gdGhlIGxvZ2luIHBhZ2UuXG4gIGlmICh1c2VyQWN0aW9uKSB7XG4gICAgTG9jYWxTdG9yYWdlU3RvcmUuc2V0V2FzTG9nZ2VkSW4oZmFsc2UpO1xuICB9XG5cbiAgaWYgKHJlZGlyZWN0VG8uaW5kZXhPZignIycpICE9PSAwKSB7XG4gICAgcmVkaXJlY3RUbyA9IGAjJHtyZWRpcmVjdFRvfWA7XG4gIH1cblxuICBkaXNwYXRjaChsb2dvdXQoKSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBpZiAoc2hvdWxkU2lnbmFsTG9nb3V0KSB7XG4gICAgICAgIEJyb3dzZXJTdG9yZS5zaWduYWxMb2dvdXQoKTtcbiAgICAgIH1cblxuICAgICAgQnJvd3NlclN0b3JlLmNsZWFyKCk7XG4gICAgICBzdG9wUGVyaW9kaWNTdGF0dXNVcGRhdGVzKCk7XG4gICAgICBXZWJzb2NrZXRBY3Rpb25zLmNsb3NlKCk7XG5cbiAgICAgIGNsZWFyVXNlckNvb2tpZSgpO1xuICAgICAgKGhpc3RvcnkgfHwgYnJvd3Nlckhpc3RvcnkpLnB1c2gocmVkaXJlY3RUbyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgKGhpc3RvcnkgfHwgYnJvd3Nlckhpc3RvcnkpLnB1c2gocmVkaXJlY3RUbyk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVTaWRlQmFyUmlnaHRNZW51QWN0aW9uKCkge1xuICByZXR1cm4gKGRvRGlzcGF0Y2g6IERpc3BhdGNoRnVuYykgPT4ge1xuICAgIGRvRGlzcGF0Y2goY2xvc2VSaWdodEhhbmRTaWRlKCkpO1xuICAgIGRvRGlzcGF0Y2goY2xvc2VMaHMoKSk7XG4gICAgZG9EaXNwYXRjaChjbG9zZVJoc01lbnUoKSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWl0QnJvd3NlckZvY3VzKGZvY3VzOiBib29sZWFuKSB7XG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5CUk9XU0VSX0NIQU5HRV9GT0NVUyxcbiAgICBmb2N1cyxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUZWFtUmVkaXJlY3RDaGFubmVsSWZJc0FjY2VzaWJsZSh1c2VyOiBVc2VyUHJvZmlsZSwgdGVhbTogVGVhbSkge1xuICBsZXQgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICBsZXQgY2hhbm5lbCA9IG51bGw7XG5cbiAgY29uc3QgbXlNZW1iZXIgPSBnZXRNeVRlYW1NZW1iZXIoc3RhdGUsIHRlYW0uaWQpO1xuICBpZiAoIW15TWVtYmVyIHx8IE9iamVjdC5rZXlzKG15TWVtYmVyKS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxldCB0ZWFtQ2hhbm5lbHMgPSBnZXRDaGFubmVsc05hbWVNYXBJblRlYW0oc3RhdGUsIHRlYW0uaWQpO1xuICBpZiAoIXRlYW1DaGFubmVscyB8fCBPYmplY3Qua2V5cyh0ZWFtQ2hhbm5lbHMpLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIGV4ZWN1dGVkIGluIHByZXR0eSBsaW1pdGVkIHNjZW5hcmlvcyAoZW1wdHkgdGVhbXMpXG4gICAgYXdhaXQgZGlzcGF0Y2goZmV0Y2hNeUNoYW5uZWxzQW5kTWVtYmVycyh0ZWFtLmlkLCAwLCAyMCkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWF3YWl0LWluLWxvb3BcbiAgICBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgdGVhbUNoYW5uZWxzID0gZ2V0Q2hhbm5lbHNOYW1lTWFwSW5UZWFtKHN0YXRlLCB0ZWFtLmlkKTtcbiAgfVxuXG4gIGNvbnN0IGNoYW5uZWxOYW1lID0gTG9jYWxTdG9yYWdlU3RvcmUuZ2V0UHJldmlvdXNDaGFubmVsTmFtZSh1c2VyLmlkLCB0ZWFtLmlkKTtcbiAgY2hhbm5lbCA9IHRlYW1DaGFubmVsc1tjaGFubmVsTmFtZV07XG5cbiAgaWYgKHR5cGVvZiBjaGFubmVsID09PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnN0IGRtTGlzdCA9IGdldEFsbERpcmVjdENoYW5uZWxzKHN0YXRlKTtcbiAgICBjaGFubmVsID0gZG1MaXN0LmZpbmQoKGRpcmVjdENoYW5uZWwpID0+IGRpcmVjdENoYW5uZWwubmFtZSA9PT0gY2hhbm5lbE5hbWUpO1xuICB9XG5cbiAgbGV0IGNoYW5uZWxNZW1iZXI6IENoYW5uZWxNZW1iZXJzaGlwIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgaWYgKGNoYW5uZWwpIHtcbiAgICBjaGFubmVsTWVtYmVyID0gZ2V0TXlDaGFubmVsTWVtYmVyKHN0YXRlLCBjaGFubmVsLmlkKTtcbiAgfVxuXG4gIGlmICghY2hhbm5lbCB8fCAhY2hhbm5lbE1lbWJlcikge1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIGV4ZWN1dGVkIGluIHByZXR0eSBsaW1pdGVkIHNjZW5hcmlvcyAod2hlbiB0aGUgbGFzdCB2aXNpdGVkIGNoYW5uZWwgaW4gdGhlIHRlYW0gaGFzIGJlZW4gcmVtb3ZlZClcbiAgICBhd2FpdCBkaXNwYXRjaChnZXRDaGFubmVsQnlOYW1lQW5kVGVhbU5hbWUodGVhbS5uYW1lLCBjaGFubmVsTmFtZSkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWF3YWl0LWluLWxvb3BcbiAgICBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgdGVhbUNoYW5uZWxzID0gZ2V0Q2hhbm5lbHNOYW1lTWFwSW5UZWFtKHN0YXRlLCB0ZWFtLmlkKTtcbiAgICBjaGFubmVsID0gdGVhbUNoYW5uZWxzW2NoYW5uZWxOYW1lXTtcbiAgICBjaGFubmVsTWVtYmVyID0gZ2V0TXlDaGFubmVsTWVtYmVyKHN0YXRlLCBjaGFubmVsICYmIGNoYW5uZWwuaWQpO1xuICB9XG5cbiAgaWYgKCFjaGFubmVsIHx8ICFjaGFubmVsTWVtYmVyKSB7XG4gICAgY29uc3QgcmVkaXJlY3RlZENoYW5uZWxOYW1lID0gZ2V0UmVkaXJlY3RDaGFubmVsTmFtZUZvclRlYW0oc3RhdGUsIHRlYW0uaWQpO1xuICAgIGNoYW5uZWwgPSB0ZWFtQ2hhbm5lbHNbcmVkaXJlY3RlZENoYW5uZWxOYW1lXTtcbiAgICBjaGFubmVsTWVtYmVyID0gZ2V0TXlDaGFubmVsTWVtYmVyKHN0YXRlLCBjaGFubmVsICYmIGNoYW5uZWwuaWQpO1xuICB9XG5cbiAgaWYgKGNoYW5uZWwgJiYgY2hhbm5lbE1lbWJlcikge1xuICAgIHJldHVybiBjaGFubmVsO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVkaXJlY3RVc2VyVG9EZWZhdWx0VGVhbShoaXN0b3J5PzogYW55KSB7XG4gIGxldCBzdGF0ZSA9IGdldFN0YXRlKCk7XG5cbiAgLy8gQXNzdW1lIHdlIG5lZWQgdG8gbG9hZCB0aGUgdXNlciBpZiB0aGV5IGRvbid0IGhhdmUgYW55IHRlYW0gbWVtYmVyc2hpcHMgbG9hZGVkIG9yIHRoZSB1c2VyIGxvYWRlZFxuICBsZXQgdXNlciA9IGdldEN1cnJlbnRVc2VyKHN0YXRlKTtcbiAgY29uc3Qgc2hvdWxkTG9hZFVzZXIgPSBVdGlscy5pc0VtcHR5T2JqZWN0KGdldFRlYW1NZW1iZXJzaGlwcyhzdGF0ZSkpIHx8ICF1c2VyO1xuXG4gIGlmIChzaG91bGRMb2FkVXNlcikge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBhd2FpdCBkaXNwYXRjaChsb2FkTWUoKSk7XG4gICAgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIHVzZXIgPSBnZXRDdXJyZW50VXNlcihzdGF0ZSk7XG4gIH1cblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBsb2NhbGUgPSBnZXRDdXJyZW50TG9jYWxlKHN0YXRlKTtcbiAgY29uc3QgdGVhbUlkID0gTG9jYWxTdG9yYWdlU3RvcmUuZ2V0UHJldmlvdXNUZWFtSWQodXNlci5pZCk7XG5cbiAgbGV0IG15VGVhbXMgPSBnZXRNeVRlYW1zKHN0YXRlKTtcbiAgaWYgKG15VGVhbXMubGVuZ3RoID09PSAwKSB7XG4gICAgZ290byhoaXN0b3J5IHx8IGJyb3dzZXJIaXN0b3J5LCBgL2pvaW5gLCAhaGlzdG9yeSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHRlYW06IFRlYW0gfCB1bmRlZmluZWQ7XG4gIGlmICh0ZWFtSWQpIHtcbiAgICB0ZWFtID0gZ2V0VGVhbShzdGF0ZSwgdGVhbUlkKTtcbiAgfVxuXG4gIGlmICh0ZWFtICYmIHRlYW0uZGVsZXRlX2F0ID09PSAwKSB7XG4gICAgZ290byhoaXN0b3J5IHx8IGJyb3dzZXJIaXN0b3J5LCBgLyR7dGVhbS5uYW1lfWAsICFoaXN0b3J5KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBteVRlYW1zID0gZmlsdGVyQW5kU29ydFRlYW1zQnlEaXNwbGF5TmFtZShteVRlYW1zLCBsb2NhbGUpO1xuXG4gIGZvciAoY29uc3QgbXlUZWFtIG9mIG15VGVhbXMpIHtcbiAgICBnb3RvKGhpc3RvcnkgfHwgYnJvd3Nlckhpc3RvcnksIGAvJHtteVRlYW0ubmFtZX1gLCAhaGlzdG9yeSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZ290byhoaXN0b3J5IHx8IGJyb3dzZXJIaXN0b3J5LCAnL3BpY2stdGVhbScsICFoaXN0b3J5KTtcbn1cblxuZnVuY3Rpb24gZ290byhoOiBhbnksIHBhdGhzdHI6IHN0cmluZywgcHJlZml4OiBib29sZWFuKSB7XG4gIHBhdGhzdHIgPSBwcmVmaXggPyBgIyR7cGF0aHN0cn1gIDogcGF0aHN0cjtcbiAgaC5yZXBsYWNlKHBhdGhzdHIpXG59IiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5pbXBvcnQge2JhdGNoQWN0aW9uc30gZnJvbSAncmVkdXgtYmF0Y2hlZC1hY3Rpb25zJztcblxuaW1wb3J0IHtcbiAgbGVhdmVDaGFubmVsIGFzIGxlYXZlQ2hhbm5lbFJlZHV4LFxuICBqb2luQ2hhbm5lbCxcbiAgbWFya0NoYW5uZWxBc1JlYWQsXG4gIHVuZmF2b3JpdGVDaGFubmVsLFxufSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL2NoYW5uZWxzJztcbmltcG9ydCAqIGFzIFBvc3RBY3Rpb25zIGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvcG9zdHMnO1xuaW1wb3J0IHtUZWFtVHlwZXN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbl90eXBlcyc7XG5pbXBvcnQge2F1dG9jb21wbGV0ZVVzZXJzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3VzZXJzJztcbmltcG9ydCB7c2VsZWN0VGVhbX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy90ZWFtcyc7XG5pbXBvcnQge1Bvc3RzLCBSZXF1ZXN0U3RhdHVzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9jb25zdGFudHMnO1xuXG5pbXBvcnQge1xuICBnZXRDaGFubmVsLFxuICBnZXRDaGFubmVsc05hbWVNYXBJbkN1cnJlbnRUZWFtLFxuICBnZXRDdXJyZW50Q2hhbm5lbCxcbiAgZ2V0UmVkaXJlY3RDaGFubmVsTmFtZUZvclRlYW0sXG4gIGdldE15Q2hhbm5lbHMsXG4gIGdldE15Q2hhbm5lbE1lbWJlcnNoaXBzLFxuICBnZXRBbGxEaXJlY3RDaGFubmVsc05hbWVNYXBJbkN1cnJlbnRUZWFtLFxuICBpc0Zhdm9yaXRlQ2hhbm5lbCxcbiAgaXNNYW51YWxseVVucmVhZCxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2NoYW5uZWxzJztcbmltcG9ydCB7XG4gIGdldEN1cnJlbnRSZWxhdGl2ZVRlYW1VcmwsXG4gIGdldEN1cnJlbnRUZWFtLFxuICBnZXRDdXJyZW50VGVhbUlkLFxuICBnZXRUZWFtc0xpc3QsXG59IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy90ZWFtcyc7XG5pbXBvcnQge2dldEN1cnJlbnRVc2VySWQsIGdldFVzZXJCeVVzZXJuYW1lfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdXNlcnMnO1xuaW1wb3J0IHtnZXRNb3N0UmVjZW50UG9zdElkSW5DaGFubmVsLCBnZXRQb3N0fSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvcG9zdHMnO1xuaW1wb3J0IHttYWtlQWRkTGFzdFZpZXdBdFRvUHJvZmlsZXN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy91dGlscyc7XG5cbmltcG9ydCB7Z2V0Q2hhbm5lbEJ5TmFtZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdXRpbHMvY2hhbm5lbF91dGlscyc7XG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2NoYXR0aW5nLXJlZHV4L3V0aWxzL2V2ZW50X2VtaXR0ZXInO1xuXG5pbXBvcnQge29wZW5EaXJlY3RDaGFubmVsVG9Vc2VySWR9IGZyb20gJyRhY3Rpb25zL2NoYW5uZWxfYWN0aW9ucy5qc3gnO1xuaW1wb3J0IHtnZXRMYXN0Vmlld2VkQ2hhbm5lbE5hbWV9IGZyb20gJyRzZWxlY3RvcnMvbG9jYWxfc3RvcmFnZSc7XG5pbXBvcnQge2dldExhc3RQb3N0c0FwaVRpbWVGb3JDaGFubmVsfSBmcm9tICckc2VsZWN0b3JzL3ZpZXdzL2NoYW5uZWwnO1xuaW1wb3J0IHtnZXRTb2NrZXRTdGF0dXN9IGZyb20gJyRzZWxlY3RvcnMvdmlld3Mvd2Vic29ja2V0JztcblxuaW1wb3J0IHticm93c2VySGlzdG9yeX0gZnJvbSAnJHV0aWxzL2Jyb3dzZXJfaGlzdG9yeSc7XG5pbXBvcnQge0NvbnN0YW50cywgQWN0aW9uVHlwZXMsIEV2ZW50VHlwZXMsIFBvc3RSZXF1ZXN0VHlwZXN9IGZyb20gJyR1dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHtpc01vYmlsZX0gZnJvbSAnJHV0aWxzL3V0aWxzLmpzeCc7XG5pbXBvcnQgTG9jYWxTdG9yYWdlU3RvcmUgZnJvbSAnJHN0b3Jlcy9sb2NhbF9zdG9yYWdlX3N0b3JlLmpzeCc7XG5pbXBvcnQge2lzQXJjaGl2ZWRDaGFubmVsfSBmcm9tICckdXRpbHMvY2hhbm5lbF91dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0FuZFNldE1vYmlsZVZpZXcoKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5VUERBVEVfTU9CSUxFX1ZJRVcsXG4gICAgICBkYXRhOiBpc01vYmlsZSgpLFxuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ29Ub0xhc3RWaWV3ZWRDaGFubmVsKCkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBjdXJyZW50Q2hhbm5lbCA9IGdldEN1cnJlbnRDaGFubmVsKHN0YXRlKSB8fCB7fTtcbiAgICBjb25zdCBjaGFubmVsc0luVGVhbSA9IGdldENoYW5uZWxzTmFtZU1hcEluQ3VycmVudFRlYW0oc3RhdGUpO1xuICAgIGNvbnN0IGRpcmVjdENoYW5uZWwgPSBnZXRBbGxEaXJlY3RDaGFubmVsc05hbWVNYXBJbkN1cnJlbnRUZWFtKHN0YXRlKTtcbiAgICBjb25zdCBjaGFubmVscyA9IE9iamVjdC5hc3NpZ24oe30sIGNoYW5uZWxzSW5UZWFtLCBkaXJlY3RDaGFubmVsKTtcblxuICAgIGxldCBjaGFubmVsVG9Td2l0Y2hUbyA9IGdldENoYW5uZWxCeU5hbWUoY2hhbm5lbHMsIGdldExhc3RWaWV3ZWRDaGFubmVsTmFtZShzdGF0ZSkpO1xuXG4gICAgaWYgKGN1cnJlbnRDaGFubmVsLmlkID09PSBjaGFubmVsVG9Td2l0Y2hUby5pZCkge1xuICAgICAgY2hhbm5lbFRvU3dpdGNoVG8gPSBnZXRDaGFubmVsQnlOYW1lKGNoYW5uZWxzLCBnZXRSZWRpcmVjdENoYW5uZWxOYW1lRm9yVGVhbShzdGF0ZSwgZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGlzcGF0Y2goc3dpdGNoVG9DaGFubmVsKGNoYW5uZWxUb1N3aXRjaFRvKSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hUb0NoYW5uZWxCeUlkKGNoYW5uZWxJZCkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBjaGFubmVsID0gZ2V0Q2hhbm5lbChzdGF0ZSwgY2hhbm5lbElkKTtcbiAgICByZXR1cm4gZGlzcGF0Y2goc3dpdGNoVG9DaGFubmVsKGNoYW5uZWwpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaFRvQ2hhbm5lbChjaGFubmVsKSB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHRlYW1VcmwgPSBnZXRDdXJyZW50UmVsYXRpdmVUZWFtVXJsKHN0YXRlKTtcblxuICAgIGlmIChjaGFubmVsLmZha2UgfHwgY2hhbm5lbC51c2VySWQpIHtcbiAgICAgIGNvbnN0IHVzZXJuYW1lID0gY2hhbm5lbC51c2VySWQgPyBjaGFubmVsLm5hbWUgOiBjaGFubmVsLmRpc3BsYXlfbmFtZTtcbiAgICAgIGNvbnN0IHVzZXIgPSBnZXRVc2VyQnlVc2VybmFtZShzdGF0ZSwgdXNlcm5hbWUpO1xuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHJldHVybiB7ZXJyb3I6IHRydWV9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkaXJlY3QgPSBhd2FpdCBkaXNwYXRjaChvcGVuRGlyZWN0Q2hhbm5lbFRvVXNlcklkKHVzZXIuaWQpKTtcbiAgICAgIGlmIChkaXJlY3QuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtlcnJvcjogdHJ1ZX07XG4gICAgICB9XG4gICAgICBicm93c2VySGlzdG9yeS5wdXNoKGAke3RlYW1Vcmx9L21lc3NhZ2VzL0Ake2NoYW5uZWwubmFtZX1gKTtcbiAgICB9IGVsc2UgaWYgKGNoYW5uZWwudHlwZSA9PT0gQ29uc3RhbnRzLkdNX0NIQU5ORUwpIHtcbiAgICAgIGNvbnN0IGdtQ2hhbm5lbCA9IGdldENoYW5uZWwoc3RhdGUsIGNoYW5uZWwuaWQpO1xuICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChgJHt0ZWFtVXJsfS9ncm91cC8ke2dtQ2hhbm5lbC5uYW1lfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBicm93c2VySGlzdG9yeS5wdXNoKGAke3RlYW1Vcmx9L2dyb3VwLyR7Y2hhbm5lbC5uYW1lfWApO1xuICAgIH1cblxuICAgIHJldHVybiB7ZGF0YTogdHJ1ZX07XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqb2luQ2hhbm5lbEJ5SWQoY2hhbm5lbElkKSB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBnZXRDdXJyZW50VXNlcklkKHN0YXRlKTtcbiAgICBjb25zdCBjdXJyZW50VGVhbUlkID0gZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSk7XG5cbiAgICByZXR1cm4gZGlzcGF0Y2goam9pbkNoYW5uZWwoY3VycmVudFVzZXJJZCwgY3VycmVudFRlYW1JZCwgY2hhbm5lbElkKSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsZWF2ZUNoYW5uZWwoY2hhbm5lbElkKSB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgbGV0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBjdXJyZW50VXNlcklkID0gZ2V0Q3VycmVudFVzZXJJZChzdGF0ZSk7XG4gICAgY29uc3QgY3VycmVudFRlYW0gPSBnZXRDdXJyZW50VGVhbShzdGF0ZSk7XG4gICAgY29uc3QgY2hhbm5lbCA9IGdldENoYW5uZWwoc3RhdGUsIGNoYW5uZWxJZCk7XG5cbiAgICBpZiAoaXNGYXZvcml0ZUNoYW5uZWwoc3RhdGUsIGNoYW5uZWxJZCkpIHtcbiAgICAgIGRpc3BhdGNoKHVuZmF2b3JpdGVDaGFubmVsKGNoYW5uZWxJZCkpO1xuICAgIH1cblxuICAgIGNvbnN0IHRlYW1VcmwgPSBnZXRDdXJyZW50UmVsYXRpdmVUZWFtVXJsKHN0YXRlKTtcblxuICAgIGlmICghaXNBcmNoaXZlZENoYW5uZWwoY2hhbm5lbCkpIHtcbiAgICAgIExvY2FsU3RvcmFnZVN0b3JlLnJlbW92ZVByZXZpb3VzQ2hhbm5lbE5hbWUoY3VycmVudFVzZXJJZCwgY3VycmVudFRlYW0uaWQsIHN0YXRlKTtcbiAgICB9XG4gICAgY29uc3Qge2Vycm9yfSA9IGF3YWl0IGRpc3BhdGNoKGxlYXZlQ2hhbm5lbFJlZHV4KGNoYW5uZWxJZCkpO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgfVxuICAgIHN0YXRlID0gZ2V0U3RhdGUoKTtcblxuICAgIGNvbnN0IHByZXZDaGFubmVsTmFtZSA9IExvY2FsU3RvcmFnZVN0b3JlLmdldFByZXZpb3VzQ2hhbm5lbE5hbWUoY3VycmVudFVzZXJJZCwgY3VycmVudFRlYW0uaWQsIHN0YXRlKTtcbiAgICBjb25zdCBjaGFubmVsc0luVGVhbSA9IGdldENoYW5uZWxzTmFtZU1hcEluQ3VycmVudFRlYW0oc3RhdGUpO1xuICAgIGNvbnN0IHByZXZDaGFubmVsID0gZ2V0Q2hhbm5lbEJ5TmFtZShjaGFubmVsc0luVGVhbSwgcHJldkNoYW5uZWxOYW1lKTtcbiAgICBpZiAoIXByZXZDaGFubmVsIHx8ICFnZXRNeUNoYW5uZWxNZW1iZXJzaGlwcyhzdGF0ZSlbcHJldkNoYW5uZWwuaWRdKSB7XG4gICAgICBMb2NhbFN0b3JhZ2VTdG9yZS5yZW1vdmVQcmV2aW91c0NoYW5uZWxOYW1lKGN1cnJlbnRVc2VySWQsIGN1cnJlbnRUZWFtLmlkLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgZ2V0TXlDaGFubmVscyhnZXRTdGF0ZSgpKS5maWx0ZXIoKGMpID0+IGMudHlwZSA9PT0gQ29uc3RhbnRzLk9QRU5fQ0hBTk5FTCB8fCBjLnR5cGUgPT09IENvbnN0YW50cy5QUklWQVRFX0NIQU5ORUwpXG4gICAgICAgIC5sZW5ndGggPT09IDBcbiAgICApIHtcbiAgICAgIExvY2FsU3RvcmFnZVN0b3JlLnJlbW92ZVByZXZpb3VzQ2hhbm5lbE5hbWUoY3VycmVudFVzZXJJZCwgY3VycmVudFRlYW0uaWQsIHN0YXRlKTtcbiAgICAgIGRpc3BhdGNoKHNlbGVjdFRlYW0oJycpKTtcbiAgICAgIGRpc3BhdGNoKHt0eXBlOiBUZWFtVHlwZXMuTEVBVkVfVEVBTSwgZGF0YTogY3VycmVudFRlYW19KTtcbiAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaCh0ZWFtVXJsKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogdHJ1ZSxcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGVhdmVDaGFubmVsMihjaGFubmVsSWQpIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBsZXQgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBnZXRDdXJyZW50VXNlcklkKHN0YXRlKTtcbiAgICBjb25zdCBjdXJyZW50VGVhbSA9IGdldEN1cnJlbnRUZWFtKHN0YXRlKTtcbiAgICBjb25zdCBjaGFubmVsID0gZ2V0Q2hhbm5lbChzdGF0ZSwgY2hhbm5lbElkKTtcblxuICAgIGlmIChpc0Zhdm9yaXRlQ2hhbm5lbChzdGF0ZSwgY2hhbm5lbElkKSkge1xuICAgICAgZGlzcGF0Y2godW5mYXZvcml0ZUNoYW5uZWwoY2hhbm5lbElkKSk7XG4gICAgfVxuXG4gICAgaWYgKCFpc0FyY2hpdmVkQ2hhbm5lbChjaGFubmVsKSkge1xuICAgICAgTG9jYWxTdG9yYWdlU3RvcmUucmVtb3ZlUHJldmlvdXNDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCBjdXJyZW50VGVhbS5pZCwgc3RhdGUpO1xuICAgIH1cbiAgICBjb25zdCB7ZXJyb3J9ID0gYXdhaXQgZGlzcGF0Y2gobGVhdmVDaGFubmVsUmVkdXgoY2hhbm5lbElkKSk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4ge2Vycm9yfTtcbiAgICB9XG4gICAgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuXG4gICAgY29uc3QgcHJldkNoYW5uZWxOYW1lID0gTG9jYWxTdG9yYWdlU3RvcmUuZ2V0UHJldmlvdXNDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCBjdXJyZW50VGVhbS5pZCwgc3RhdGUpO1xuICAgIGNvbnN0IGNoYW5uZWxzSW5UZWFtID0gZ2V0Q2hhbm5lbHNOYW1lTWFwSW5DdXJyZW50VGVhbShzdGF0ZSk7XG4gICAgY29uc3QgcHJldkNoYW5uZWwgPSBnZXRDaGFubmVsQnlOYW1lKGNoYW5uZWxzSW5UZWFtLCBwcmV2Q2hhbm5lbE5hbWUpO1xuICAgIGlmICghcHJldkNoYW5uZWwgfHwgIWdldE15Q2hhbm5lbE1lbWJlcnNoaXBzKHN0YXRlKVtwcmV2Q2hhbm5lbC5pZF0pIHtcbiAgICAgIExvY2FsU3RvcmFnZVN0b3JlLnJlbW92ZVByZXZpb3VzQ2hhbm5lbE5hbWUoY3VycmVudFVzZXJJZCwgY3VycmVudFRlYW0uaWQsIHN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBnZXRNeUNoYW5uZWxzKGdldFN0YXRlKCkpLmZpbHRlcigoYykgPT4gYy50eXBlID09PSBDb25zdGFudHMuT1BFTl9DSEFOTkVMIHx8IGMudHlwZSA9PT0gQ29uc3RhbnRzLlBSSVZBVEVfQ0hBTk5FTClcbiAgICAgICAgLmxlbmd0aCA9PT0gMFxuICAgICkge1xuICAgICAgTG9jYWxTdG9yYWdlU3RvcmUucmVtb3ZlUHJldmlvdXNDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCBjdXJyZW50VGVhbS5pZCwgc3RhdGUpO1xuICAgICAgZGlzcGF0Y2goc2VsZWN0VGVhbSgnJykpO1xuICAgICAgZGlzcGF0Y2goe3R5cGU6IFRlYW1UeXBlcy5MRUFWRV9URUFNLCBkYXRhOiBjdXJyZW50VGVhbX0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogdHJ1ZSxcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGVhdmVEaXJlY3RDaGFubmVsKGNoYW5uZWxOYW1lKSB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBnZXRDdXJyZW50VXNlcklkKHN0YXRlKTtcbiAgICBjb25zdCB0ZWFtcyA9IGdldFRlYW1zTGlzdChzdGF0ZSk7IC8vIGRtcyBhcmUgc2hhcmVkIGFjcm9zcyB0ZWFtcyBidXQgb24gbG9jYWwgc3RvcmFnZSBhcmUgc2V0IGxpbmtlZCB0byBvbmUsIHdlIG5lZWQgdG8gbG9vayBpbnRvIGFsbC5cbiAgICB0ZWFtcy5mb3JFYWNoKChjdXJyZW50VGVhbSkgPT4ge1xuICAgICAgY29uc3QgcHJldmlvdXNDaGFubmVsID0gTG9jYWxTdG9yYWdlU3RvcmUuZ2V0UHJldmlvdXNDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCBjdXJyZW50VGVhbS5pZCwgc3RhdGUpO1xuICAgICAgY29uc3QgcGVudWx0aW1hdGVDaGFubmVsID0gTG9jYWxTdG9yYWdlU3RvcmUuZ2V0UGVudWx0aW1hdGVDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCBjdXJyZW50VGVhbS5pZCwgc3RhdGUpO1xuICAgICAgaWYgKGNoYW5uZWxOYW1lID09PSBwcmV2aW91c0NoYW5uZWwpIHtcbiAgICAgICAgTG9jYWxTdG9yYWdlU3RvcmUucmVtb3ZlUHJldmlvdXNDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCBjdXJyZW50VGVhbS5pZCwgc3RhdGUpO1xuICAgICAgfSBlbHNlIGlmIChjaGFubmVsTmFtZSA9PT0gcGVudWx0aW1hdGVDaGFubmVsKSB7XG4gICAgICAgIExvY2FsU3RvcmFnZVN0b3JlLnJlbW92ZVBlbnVsdGltYXRlQ2hhbm5lbE5hbWUoY3VycmVudFVzZXJJZCwgY3VycmVudFRlYW0uaWQsIHN0YXRlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogdHJ1ZSxcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXV0b2NvbXBsZXRlVXNlcnNJbkNoYW5uZWwocHJlZml4LCBjaGFubmVsSWQpIHtcbiAgY29uc3QgYWRkTGFzdFZpZXdBdFRvUHJvZmlsZXMgPSBtYWtlQWRkTGFzdFZpZXdBdFRvUHJvZmlsZXMoKTtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgY3VycmVudFRlYW1JZCA9IGdldEN1cnJlbnRUZWFtSWQoc3RhdGUpO1xuXG4gICAgY29uc3QgcmVzcG9zZSA9IGF3YWl0IGRpc3BhdGNoKGF1dG9jb21wbGV0ZVVzZXJzKHByZWZpeCwgY3VycmVudFRlYW1JZCwgY2hhbm5lbElkKSk7XG4gICAgY29uc3QgZGF0YSA9IHJlc3Bvc2UuZGF0YTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVzcG9zZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgdXNlcnM6IGFkZExhc3RWaWV3QXRUb1Byb2ZpbGVzKHN0YXRlLCBkYXRhLnVzZXJzIHx8IFtdKSxcbiAgICAgICAgICBvdXRfb2ZfY2hhbm5lbDogYWRkTGFzdFZpZXdBdFRvUHJvZmlsZXMoc3RhdGUsIGRhdGEub3V0X29mX2NoYW5uZWwgfHwgW10pLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9zZTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRVbnJlYWRzKGNoYW5uZWxJZCwgcHJlZmV0Y2ggPSBmYWxzZSkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgY29uc3QgdGltZSA9IERhdGUubm93KCk7XG4gICAgaWYgKHByZWZldGNoKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlBSRUZFVENIX1BPU1RTX0ZPUl9DSEFOTkVMLFxuICAgICAgICBjaGFubmVsSWQsXG4gICAgICAgIHN0YXR1czogUmVxdWVzdFN0YXR1cy5TVEFSVEVELFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHtkYXRhLCBlcnJvcn0gPSBhd2FpdCBkaXNwYXRjaChQb3N0QWN0aW9ucy5nZXRQb3N0c1VucmVhZChjaGFubmVsSWQpKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChwcmVmZXRjaCkge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUFJFRkVUQ0hfUE9TVFNfRk9SX0NIQU5ORUwsXG4gICAgICAgICAgY2hhbm5lbElkLFxuICAgICAgICAgIHN0YXR1czogUmVxdWVzdFN0YXR1cy5GQUlMVVJFLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVycm9yLFxuICAgICAgICBhdExhdGVzdE1lc3NhZ2U6IGZhbHNlLFxuICAgICAgICBhdE9sZGVzdG1lc3NhZ2U6IGZhbHNlLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgYWN0aW9ucyA9IFtdO1xuXG4gICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLklOQ1JFQVNFX1BPU1RfVklTSUJJTElUWSxcbiAgICAgIGRhdGE6IGNoYW5uZWxJZCxcbiAgICAgIGFtb3VudDogZGF0YS5vcmRlci5sZW5ndGgsXG4gICAgfSk7XG5cbiAgICBpZiAocHJlZmV0Y2gpIHtcbiAgICAgIGFjdGlvbnMucHVzaCh7XG4gICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlBSRUZFVENIX1BPU1RTX0ZPUl9DSEFOTkVMLFxuICAgICAgICBjaGFubmVsSWQsXG4gICAgICAgIHN0YXR1czogUmVxdWVzdFN0YXR1cy5TVUNDRVNTLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEubmV4dF9wb3N0X2lkID09PSAnJykge1xuICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVDRUlWRURfUE9TVFNfRk9SX0NIQU5ORUxfQVRfVElNRSxcbiAgICAgICAgY2hhbm5lbElkLFxuICAgICAgICB0aW1lLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKGFjdGlvbnMpKTtcbiAgICByZXR1cm4ge1xuICAgICAgYXRMYXRlc3RNZXNzYWdlOiBkYXRhLm5leHRfcG9zdF9pZCA9PT0gJycsXG4gICAgICBhdE9sZGVzdG1lc3NhZ2U6IGRhdGEucHJldl9wb3N0X2lkID09PSAnJyxcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFBvc3RzQXJvdW5kKGNoYW5uZWxJZCwgZm9jdXNlZFBvc3RJZCkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGVycm9yfSA9IGF3YWl0IGRpc3BhdGNoKFxuICAgICAgUG9zdEFjdGlvbnMuZ2V0UG9zdHNBcm91bmQoY2hhbm5lbElkLCBmb2N1c2VkUG9zdElkLCBQb3N0cy5QT1NUX0NIVU5LX1NJWkUgLyAyKVxuICAgICk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlcnJvcixcbiAgICAgICAgYXRMYXRlc3RNZXNzYWdlOiBmYWxzZSxcbiAgICAgICAgYXRPbGRlc3RtZXNzYWdlOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuSU5DUkVBU0VfUE9TVF9WSVNJQklMSVRZLFxuICAgICAgZGF0YTogY2hhbm5lbElkLFxuICAgICAgYW1vdW50OiBkYXRhLm9yZGVyLmxlbmd0aCxcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgYXRMYXRlc3RNZXNzYWdlOiBkYXRhLm5leHRfcG9zdF9pZCA9PT0gJycsXG4gICAgICBhdE9sZGVzdG1lc3NhZ2U6IGRhdGEucHJldl9wb3N0X2lkID09PSAnJyxcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZExhdGVzdFBvc3RzKGNoYW5uZWxJZCkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgY29uc3QgdGltZSA9IERhdGUubm93KCk7XG4gICAgY29uc3Qge2RhdGEsIGVycm9yfSA9IGF3YWl0IGRpc3BhdGNoKFBvc3RBY3Rpb25zLmdldFBvc3RzKGNoYW5uZWxJZCwgMCwgUG9zdHMuUE9TVF9DSFVOS19TSVpFIC8gMikpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlcnJvcixcbiAgICAgICAgYXRMYXRlc3RNZXNzYWdlOiBmYWxzZSxcbiAgICAgICAgYXRPbGRlc3RtZXNzYWdlOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVDRUlWRURfUE9TVFNfRk9SX0NIQU5ORUxfQVRfVElNRSxcbiAgICAgIGNoYW5uZWxJZCxcbiAgICAgIHRpbWUsXG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YSxcbiAgICAgIGF0TGF0ZXN0TWVzc2FnZTogZGF0YS5uZXh0X3Bvc3RfaWQgPT09ICcnLFxuICAgICAgYXRPbGRlc3RtZXNzYWdlOiBkYXRhLnByZXZfcG9zdF9pZCA9PT0gJycsXG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRQb3N0cyh7Y2hhbm5lbElkLCBwb3N0SWQsIHR5cGV9KSB7XG4gIC8vdHlwZSBoZXJlIGNhbiBiZSBCRUZPUkVfSUQgb3IgQUZURVJfSURcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCkgPT4ge1xuICAgIGNvbnN0IFBPU1RfSU5DUkVBU0VfQU1PVU5UID0gQ29uc3RhbnRzLlBPU1RfQ0hVTktfU0laRSAvIDI7XG5cbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5MT0FESU5HX1BPU1RTLFxuICAgICAgZGF0YTogdHJ1ZSxcbiAgICAgIGNoYW5uZWxJZCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHBhZ2UgPSAwO1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHR5cGUgPT09IFBvc3RSZXF1ZXN0VHlwZXMuQkVGT1JFX0lEKSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCBkaXNwYXRjaChQb3N0QWN0aW9ucy5nZXRQb3N0c0JlZm9yZShjaGFubmVsSWQsIHBvc3RJZCwgcGFnZSwgUE9TVF9JTkNSRUFTRV9BTU9VTlQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgZGlzcGF0Y2goUG9zdEFjdGlvbnMuZ2V0UG9zdHNBZnRlcihjaGFubmVsSWQsIHBvc3RJZCwgcGFnZSwgUE9TVF9JTkNSRUFTRV9BTU9VTlQpKTtcbiAgICB9XG5cbiAgICBjb25zdCB7ZGF0YX0gPSByZXN1bHQ7XG5cbiAgICBjb25zdCBhY3Rpb25zID0gW1xuICAgICAge1xuICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5MT0FESU5HX1BPU1RTLFxuICAgICAgICBkYXRhOiBmYWxzZSxcbiAgICAgICAgY2hhbm5lbElkLFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgaWYgKHJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3I6IHJlc3VsdC5lcnJvcixcbiAgICAgICAgbW9yZVRvTG9hZDogdHJ1ZSxcbiAgICAgIH07XG4gICAgfVxuICAgIGFjdGlvbnMucHVzaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5JTkNSRUFTRV9QT1NUX1ZJU0lCSUxJVFksXG4gICAgICBkYXRhOiBjaGFubmVsSWQsXG4gICAgICBhbW91bnQ6IGRhdGEub3JkZXIubGVuZ3RoLFxuICAgIH0pO1xuXG4gICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKGFjdGlvbnMpKTtcblxuICAgIHJldHVybiB7XG4gICAgICBtb3JlVG9Mb2FkOiB0eXBlID09PSBQb3N0UmVxdWVzdFR5cGVzLkJFRk9SRV9JRCA/IGRhdGEucHJldl9wb3N0X2lkICE9PSAnJyA6IGRhdGEubmV4dF9wb3N0X2lkICE9PSAnJyxcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3luY1Bvc3RzSW5DaGFubmVsKGNoYW5uZWxJZCwgc2luY2UsIHByZWZldGNoID0gZmFsc2UpIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3Qgc29ja2V0U3RhdHVzID0gZ2V0U29ja2V0U3RhdHVzKHN0YXRlKTtcbiAgICBsZXQgc2luY2VUaW1lVG9HZXRQb3N0cyA9IHNpbmNlO1xuICAgIGNvbnN0IGxhc3RQb3N0c0FwaUNhbGxGb3JDaGFubmVsID0gZ2V0TGFzdFBvc3RzQXBpVGltZUZvckNoYW5uZWwoc3RhdGUsIGNoYW5uZWxJZCk7XG4gICAgY29uc3QgYWN0aW9ucyA9IFtdO1xuXG4gICAgaWYgKGxhc3RQb3N0c0FwaUNhbGxGb3JDaGFubmVsICYmIGxhc3RQb3N0c0FwaUNhbGxGb3JDaGFubmVsIDwgc29ja2V0U3RhdHVzLmxhc3REaXNjb25uZWN0QXQpIHtcbiAgICAgIHNpbmNlVGltZVRvR2V0UG9zdHMgPSBsYXN0UG9zdHNBcGlDYWxsRm9yQ2hhbm5lbDtcbiAgICB9XG5cbiAgICBpZiAocHJlZmV0Y2gpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUFJFRkVUQ0hfUE9TVFNfRk9SX0NIQU5ORUwsXG4gICAgICAgIGNoYW5uZWxJZCxcbiAgICAgICAgc3RhdHVzOiBSZXF1ZXN0U3RhdHVzLlNUQVJURUQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB7ZGF0YSwgZXJyb3J9ID0gYXdhaXQgZGlzcGF0Y2goUG9zdEFjdGlvbnMuZ2V0UG9zdHNTaW5jZShjaGFubmVsSWQsIHNpbmNlVGltZVRvR2V0UG9zdHMpKTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVDRUlWRURfUE9TVFNfRk9SX0NIQU5ORUxfQVRfVElNRSxcbiAgICAgICAgY2hhbm5lbElkLFxuICAgICAgICB0aW1lLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHByZWZldGNoKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5QUkVGRVRDSF9QT1NUU19GT1JfQ0hBTk5FTCxcbiAgICAgICAgICBjaGFubmVsSWQsXG4gICAgICAgICAgc3RhdHVzOiBSZXF1ZXN0U3RhdHVzLkZBSUxVUkUsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5QUkVGRVRDSF9QT1NUU19GT1JfQ0hBTk5FTCxcbiAgICAgICAgICBjaGFubmVsSWQsXG4gICAgICAgICAgc3RhdHVzOiBSZXF1ZXN0U3RhdHVzLlNVQ0NFU1MsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhhY3Rpb25zKSk7XG5cbiAgICByZXR1cm4ge2RhdGEsIGVycm9yfTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZWZldGNoQ2hhbm5lbFBvc3RzKGNoYW5uZWxJZCwgaml0dGVyKSB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHJlY2VudFBvc3RJZEluQ2hhbm5lbCA9IGdldE1vc3RSZWNlbnRQb3N0SWRJbkNoYW5uZWwoc3RhdGUsIGNoYW5uZWxJZCk7XG5cbiAgICBpZiAoIXN0YXRlLmVudGl0aWVzLnBvc3RzLnBvc3RzSW5DaGFubmVsW2NoYW5uZWxJZF0gfHwgIXJlY2VudFBvc3RJZEluQ2hhbm5lbCkge1xuICAgICAgaWYgKGppdHRlcikge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBqaXR0ZXIpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkaXNwYXRjaChsb2FkVW5yZWFkcyhjaGFubmVsSWQsIHRydWUpKTtcbiAgICB9XG5cbiAgICBjb25zdCByZWNlbnRQb3N0ID0gZ2V0UG9zdChzdGF0ZSwgcmVjZW50UG9zdElkSW5DaGFubmVsKTtcbiAgICByZXR1cm4gZGlzcGF0Y2goc3luY1Bvc3RzSW5DaGFubmVsKGNoYW5uZWxJZCwgcmVjZW50UG9zdC5jcmVhdGVfYXQsIHRydWUpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFBvc3RMaXN0VG9Cb3R0b20oKSB7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgRXZlbnRFbWl0dGVyLmVtaXQoRXZlbnRUeXBlcy5QT1NUX0xJU1RfU0NST0xMX1RPX0JPVFRPTSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXJrQ2hhbm5lbEFzUmVhZE9uRm9jdXMoY2hhbm5lbElkKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgaWYgKGlzTWFudWFsbHlVbnJlYWQoZ2V0U3RhdGUoKSwgY2hhbm5lbElkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRpc3BhdGNoKG1hcmtDaGFubmVsQXNSZWFkKGNoYW5uZWxJZCkpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVG9hc3RTdGF0dXMoc3RhdHVzKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5VUERBVEVfVE9BU1RfU1RBVFVTLFxuICAgICAgZGF0YTogc3RhdHVzLFxuICAgIH0pO1xuICB9O1xufVxuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5pbXBvcnQge2dldEN1cnJlbnRUZWFtSWQsIGdldFRlYW1CeU5hbWV9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy90ZWFtcyc7XG5pbXBvcnQge2dldEN1cnJlbnRVc2VySWR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy91c2Vycyc7XG5cbmltcG9ydCBsb2NhbFN0b3JhZ2VTdG9yZSBmcm9tICckc3RvcmVzL2xvY2FsX3N0b3JhZ2Vfc3RvcmUnO1xuXG4vLyBnZXRMYXN0Vmlld2VkQ2hhbm5lbE5hbWUgY29tYmluZXMgZGF0YSBmcm9tIHRoZSBSZWR1eCBzdG9yZSBhbmQgbG9jYWxTdG9yYWdlIHRvIHJldHVybiB0aGVcbi8vIHByZXZpb3VzbHkgc2VsZWN0ZWQgY2hhbm5lbCBuYW1lLCByZXR1cm5pbmcgdGhlIGRlZmF1bHQgY2hhbm5lbCBpZiBub25lIGV4aXN0cy5cbi8vXG4vLyBTZWUgTG9jYWxTdG9yYWdlU3RvcmUgZm9yIGNvbnRleHQuXG5leHBvcnQgY29uc3QgZ2V0TGFzdFZpZXdlZENoYW5uZWxOYW1lID0gKHN0YXRlKSA9PiB7XG4gICAgY29uc3QgdXNlcklkID0gZ2V0Q3VycmVudFVzZXJJZChzdGF0ZSk7XG4gICAgY29uc3QgdGVhbUlkID0gZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSk7XG5cbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlU3RvcmUuZ2V0UHJldmlvdXNDaGFubmVsTmFtZSh1c2VySWQsIHRlYW1JZCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UGVudWx0aW1hdGVWaWV3ZWRDaGFubmVsTmFtZSA9IChzdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHVzZXJJZCA9IGdldEN1cnJlbnRVc2VySWQoc3RhdGUpO1xuICAgIGNvbnN0IHRlYW1JZCA9IGdldEN1cnJlbnRUZWFtSWQoc3RhdGUpO1xuXG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZVN0b3JlLmdldFBlbnVsdGltYXRlQ2hhbm5lbE5hbWUodXNlcklkLCB0ZWFtSWQpO1xufTtcblxuLy8gZ2V0TGFzdFZpZXdlZENoYW5uZWxOYW1lQnlUZWFtTmFtZSBjb21iaW5lcyBkYXRhIGZyb20gdGhlIFJlZHV4IHN0b3JlIGFuZCBsb2NhbFN0b3JhZ2UgdG8gcmV0dXJuXG4vLyB0aGUgdXJsIHRvIHRoZSBwcmV2aW91c2x5IHNlbGVjdGVkIGNoYW5uZWwsIHJldHVybmluZyB0aGUgcGF0aCB0byB0aGUgZGVmYXVsdCBjaGFubmVsIGlmIG5vbmVcbi8vIGV4aXN0cy5cbi8vXG4vLyBTZWUgTG9jYWxTdG9yYWdlU3RvcmUgZm9yIGNvbnRleHQuXG5leHBvcnQgY29uc3QgZ2V0TGFzdFZpZXdlZENoYW5uZWxOYW1lQnlUZWFtTmFtZSA9IChzdGF0ZSwgdGVhbU5hbWUpID0+IHtcbiAgICBjb25zdCB1c2VySWQgPSBnZXRDdXJyZW50VXNlcklkKHN0YXRlKTtcbiAgICBjb25zdCB0ZWFtID0gZ2V0VGVhbUJ5TmFtZShzdGF0ZSwgdGVhbU5hbWUpO1xuICAgIGNvbnN0IHRlYW1JZCA9IHRlYW0gJiYgdGVhbS5pZDtcblxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2VTdG9yZS5nZXRQcmV2aW91c0NoYW5uZWxOYW1lKHVzZXJJZCwgdGVhbUlkKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQcmV2aW91c1RlYW1JZCA9IChzdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHVzZXJJZCA9IGdldEN1cnJlbnRVc2VySWQoc3RhdGUpO1xuXG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZVN0b3JlLmdldFByZXZpb3VzVGVhbUlkKHVzZXJJZCk7XG59O1xuIiwiaW1wb3J0IHsgbWF0Y2ggfSBmcm9tICcuL21hdGNoLmVzbS5qcyc7XG5cbi8vICAtIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMDc1Mzg3MFxuXG52YXIgZm9jdXNhYmxlU2VsZWN0b3IgPSAvKiNfX1BVUkVfXyovWydbY29udGVudEVkaXRhYmxlPXRydWVdJywgJ1t0YWJpbmRleF0nLCAnYVtocmVmXScsICdhcmVhW2hyZWZdJywgJ2J1dHRvbjpub3QoW2Rpc2FibGVkXSknLCAnaWZyYW1lJywgJ2lucHV0Om5vdChbZGlzYWJsZWRdKScsICdzZWxlY3Q6bm90KFtkaXNhYmxlZF0pJywgJ3RleHRhcmVhOm5vdChbZGlzYWJsZWRdKSddLm1hcChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnID8gLy8gVE9ETzogUmVtb3ZlIHRoaXMgb25jZSBKU0RPTSBmaXhlcyB0aGUgaXNzdWUgd2hlcmUgYW4gZWxlbWVudCB0aGF0IGlzXG4vLyBcImhpZGRlblwiIGNhbiBiZSB0aGUgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCwgYmVjYXVzZSB0aGlzIGlzIG5vdCBwb3NzaWJsZVxuLy8gaW4gcmVhbCBicm93c2Vycy5cbi8vIFRPRE86IFJlbW92ZSB0aGlzIG9uY2UgSlNET00gZml4ZXMgdGhlIGlzc3VlIHdoZXJlIGFuIGVsZW1lbnQgdGhhdCBpc1xuZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gIHJldHVybiBzZWxlY3RvciArIFwiOm5vdChbdGFiaW5kZXg9Jy0xJ10pOm5vdChbc3R5bGUqPSdkaXNwbGF5OiBub25lJ10pXCI7XG59IDogZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gIHJldHVybiBzZWxlY3RvciArIFwiOm5vdChbdGFiaW5kZXg9Jy0xJ10pXCI7XG59KS5qb2luKCcsJyk7XG52YXIgRm9jdXM7XG5cbihmdW5jdGlvbiAoRm9jdXMpIHtcbiAgLyoqIEZvY3VzIHRoZSBmaXJzdCBub24tZGlzYWJsZWQgZWxlbWVudCAqL1xuICBGb2N1c1tGb2N1c1tcIkZpcnN0XCJdID0gMV0gPSBcIkZpcnN0XCI7XG4gIC8qKiBGb2N1cyB0aGUgcHJldmlvdXMgbm9uLWRpc2FibGVkIGVsZW1lbnQgKi9cblxuICBGb2N1c1tGb2N1c1tcIlByZXZpb3VzXCJdID0gMl0gPSBcIlByZXZpb3VzXCI7XG4gIC8qKiBGb2N1cyB0aGUgbmV4dCBub24tZGlzYWJsZWQgZWxlbWVudCAqL1xuXG4gIEZvY3VzW0ZvY3VzW1wiTmV4dFwiXSA9IDRdID0gXCJOZXh0XCI7XG4gIC8qKiBGb2N1cyB0aGUgbGFzdCBub24tZGlzYWJsZWQgZWxlbWVudCAqL1xuXG4gIEZvY3VzW0ZvY3VzW1wiTGFzdFwiXSA9IDhdID0gXCJMYXN0XCI7XG4gIC8qKiBXcmFwIHRhYiBhcm91bmQgKi9cblxuICBGb2N1c1tGb2N1c1tcIldyYXBBcm91bmRcIl0gPSAxNl0gPSBcIldyYXBBcm91bmRcIjtcbiAgLyoqIFByZXZlbnQgc2Nyb2xsaW5nIHRoZSBmb2N1c2FibGUgZWxlbWVudHMgaW50byB2aWV3ICovXG5cbiAgRm9jdXNbRm9jdXNbXCJOb1Njcm9sbFwiXSA9IDMyXSA9IFwiTm9TY3JvbGxcIjtcbn0pKEZvY3VzIHx8IChGb2N1cyA9IHt9KSk7XG5cbnZhciBGb2N1c1Jlc3VsdDtcblxuKGZ1bmN0aW9uIChGb2N1c1Jlc3VsdCkge1xuICAvKiogU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgdHJ5aW5nIHRvIGZvY3VzLiAqL1xuICBGb2N1c1Jlc3VsdFtGb2N1c1Jlc3VsdFtcIkVycm9yXCJdID0gMF0gPSBcIkVycm9yXCI7XG4gIC8qKiBXaGVuIGBGb2N1cy5XcmFwQXJvdW5kYCBpcyBlbmFibGVkLCBnb2luZyBmcm9tIHBvc2l0aW9uIGBOYCB0byBgTisxYCB3aGVyZSBgTmAgaXMgdGhlIGxhc3QgaW5kZXggaW4gdGhlIGFycmF5LCB0aGVuIHdlIG92ZXJmbG93LiAqL1xuXG4gIEZvY3VzUmVzdWx0W0ZvY3VzUmVzdWx0W1wiT3ZlcmZsb3dcIl0gPSAxXSA9IFwiT3ZlcmZsb3dcIjtcbiAgLyoqIEZvY3VzIHdhcyBzdWNjZXNzZnVsLiAqL1xuXG4gIEZvY3VzUmVzdWx0W0ZvY3VzUmVzdWx0W1wiU3VjY2Vzc1wiXSA9IDJdID0gXCJTdWNjZXNzXCI7XG4gIC8qKiBXaGVuIGBGb2N1cy5XcmFwQXJvdW5kYCBpcyBlbmFibGVkLCBnb2luZyBmcm9tIHBvc2l0aW9uIGBOYCB0byBgTi0xYCB3aGVyZSBgTmAgaXMgdGhlIGZpcnN0IGluZGV4IGluIHRoZSBhcnJheSwgdGhlbiB3ZSB1bmRlcmZsb3cuICovXG5cbiAgRm9jdXNSZXN1bHRbRm9jdXNSZXN1bHRbXCJVbmRlcmZsb3dcIl0gPSAzXSA9IFwiVW5kZXJmbG93XCI7XG59KShGb2N1c1Jlc3VsdCB8fCAoRm9jdXNSZXN1bHQgPSB7fSkpO1xuXG52YXIgRGlyZWN0aW9uO1xuXG4oZnVuY3Rpb24gKERpcmVjdGlvbikge1xuICBEaXJlY3Rpb25bRGlyZWN0aW9uW1wiUHJldmlvdXNcIl0gPSAtMV0gPSBcIlByZXZpb3VzXCI7XG4gIERpcmVjdGlvbltEaXJlY3Rpb25bXCJOZXh0XCJdID0gMV0gPSBcIk5leHRcIjtcbn0pKERpcmVjdGlvbiB8fCAoRGlyZWN0aW9uID0ge30pKTtcblxuZnVuY3Rpb24gZ2V0Rm9jdXNhYmxlRWxlbWVudHMoY29udGFpbmVyKSB7XG4gIGlmIChjb250YWluZXIgPT09IHZvaWQgMCkge1xuICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmJvZHk7XG4gIH1cblxuICBpZiAoY29udGFpbmVyID09IG51bGwpIHJldHVybiBbXTtcbiAgcmV0dXJuIEFycmF5LmZyb20oY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKTtcbn1cbnZhciBGb2N1c2FibGVNb2RlO1xuXG4oZnVuY3Rpb24gKEZvY3VzYWJsZU1vZGUpIHtcbiAgLyoqIFRoZSBlbGVtZW50IGl0c2VsZiBtdXN0IGJlIGZvY3VzYWJsZS4gKi9cbiAgRm9jdXNhYmxlTW9kZVtGb2N1c2FibGVNb2RlW1wiU3RyaWN0XCJdID0gMF0gPSBcIlN0cmljdFwiO1xuICAvKiogVGhlIGVsZW1lbnQgc2hvdWxkIGJlIGluc2lkZSBvZiBhIGZvY3VzYWJsZSBlbGVtZW50LiAqL1xuXG4gIEZvY3VzYWJsZU1vZGVbRm9jdXNhYmxlTW9kZVtcIkxvb3NlXCJdID0gMV0gPSBcIkxvb3NlXCI7XG59KShGb2N1c2FibGVNb2RlIHx8IChGb2N1c2FibGVNb2RlID0ge30pKTtcblxuZnVuY3Rpb24gaXNGb2N1c2FibGVFbGVtZW50KGVsZW1lbnQsIG1vZGUpIHtcbiAgdmFyIF9tYXRjaDtcblxuICBpZiAobW9kZSA9PT0gdm9pZCAwKSB7XG4gICAgbW9kZSA9IEZvY3VzYWJsZU1vZGUuU3RyaWN0O1xuICB9XG5cbiAgaWYgKGVsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIG1hdGNoKG1vZGUsIChfbWF0Y2ggPSB7fSwgX21hdGNoW0ZvY3VzYWJsZU1vZGUuU3RyaWN0XSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZWxlbWVudC5tYXRjaGVzKGZvY3VzYWJsZVNlbGVjdG9yKTtcbiAgfSwgX21hdGNoW0ZvY3VzYWJsZU1vZGUuTG9vc2VdID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXh0ID0gZWxlbWVudDtcblxuICAgIHdoaWxlIChuZXh0ICE9PSBudWxsKSB7XG4gICAgICBpZiAobmV4dC5tYXRjaGVzKGZvY3VzYWJsZVNlbGVjdG9yKSkgcmV0dXJuIHRydWU7XG4gICAgICBuZXh0ID0gbmV4dC5wYXJlbnRFbGVtZW50O1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSwgX21hdGNoKSk7XG59XG5mdW5jdGlvbiBmb2N1c0VsZW1lbnQoZWxlbWVudCkge1xuICBlbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBlbGVtZW50LmZvY3VzKHtcbiAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gIH0pO1xufVxuZnVuY3Rpb24gZm9jdXNJbihjb250YWluZXIsIGZvY3VzKSB7XG4gIHZhciBlbGVtZW50cyA9IEFycmF5LmlzQXJyYXkoY29udGFpbmVyKSA/IGNvbnRhaW5lciA6IGdldEZvY3VzYWJsZUVsZW1lbnRzKGNvbnRhaW5lcik7XG4gIHZhciBhY3RpdmUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG4gIHZhciBkaXJlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGZvY3VzICYgKEZvY3VzLkZpcnN0IHwgRm9jdXMuTmV4dCkpIHJldHVybiBEaXJlY3Rpb24uTmV4dDtcbiAgICBpZiAoZm9jdXMgJiAoRm9jdXMuUHJldmlvdXMgfCBGb2N1cy5MYXN0KSkgcmV0dXJuIERpcmVjdGlvbi5QcmV2aW91cztcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgRm9jdXMuRmlyc3QsIEZvY3VzLlByZXZpb3VzLCBGb2N1cy5OZXh0IG9yIEZvY3VzLkxhc3QnKTtcbiAgfSgpO1xuXG4gIHZhciBzdGFydEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChmb2N1cyAmIEZvY3VzLkZpcnN0KSByZXR1cm4gMDtcbiAgICBpZiAoZm9jdXMgJiBGb2N1cy5QcmV2aW91cykgcmV0dXJuIE1hdGgubWF4KDAsIGVsZW1lbnRzLmluZGV4T2YoYWN0aXZlKSkgLSAxO1xuICAgIGlmIChmb2N1cyAmIEZvY3VzLk5leHQpIHJldHVybiBNYXRoLm1heCgwLCBlbGVtZW50cy5pbmRleE9mKGFjdGl2ZSkpICsgMTtcbiAgICBpZiAoZm9jdXMgJiBGb2N1cy5MYXN0KSByZXR1cm4gZWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgRm9jdXMuRmlyc3QsIEZvY3VzLlByZXZpb3VzLCBGb2N1cy5OZXh0IG9yIEZvY3VzLkxhc3QnKTtcbiAgfSgpO1xuXG4gIHZhciBmb2N1c09wdGlvbnMgPSBmb2N1cyAmIEZvY3VzLk5vU2Nyb2xsID8ge1xuICAgIHByZXZlbnRTY3JvbGw6IHRydWVcbiAgfSA6IHt9O1xuICB2YXIgb2Zmc2V0ID0gMDtcbiAgdmFyIHRvdGFsID0gZWxlbWVudHMubGVuZ3RoO1xuICB2YXIgbmV4dCA9IHVuZGVmaW5lZDtcblxuICBkbyB7XG4gICAgdmFyIF9uZXh0O1xuXG4gICAgLy8gR3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBsb29wc1xuICAgIGlmIChvZmZzZXQgPj0gdG90YWwgfHwgb2Zmc2V0ICsgdG90YWwgPD0gMCkgcmV0dXJuIEZvY3VzUmVzdWx0LkVycm9yO1xuICAgIHZhciBuZXh0SWR4ID0gc3RhcnRJbmRleCArIG9mZnNldDtcblxuICAgIGlmIChmb2N1cyAmIEZvY3VzLldyYXBBcm91bmQpIHtcbiAgICAgIG5leHRJZHggPSAobmV4dElkeCArIHRvdGFsKSAlIHRvdGFsO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobmV4dElkeCA8IDApIHJldHVybiBGb2N1c1Jlc3VsdC5VbmRlcmZsb3c7XG4gICAgICBpZiAobmV4dElkeCA+PSB0b3RhbCkgcmV0dXJuIEZvY3VzUmVzdWx0Lk92ZXJmbG93O1xuICAgIH1cblxuICAgIG5leHQgPSBlbGVtZW50c1tuZXh0SWR4XTsgLy8gVHJ5IHRoZSBmb2N1cyB0aGUgbmV4dCBlbGVtZW50LCBtaWdodCBub3Qgd29yayBpZiBpdCBpcyBcImhpZGRlblwiIHRvIHRoZSB1c2VyLlxuXG4gICAgKF9uZXh0ID0gbmV4dCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9uZXh0LmZvY3VzKGZvY3VzT3B0aW9ucyk7IC8vIFRyeSB0aGUgbmV4dCBvbmUgaW4gbGluZVxuXG4gICAgb2Zmc2V0ICs9IGRpcmVjdGlvbjtcbiAgfSB3aGlsZSAobmV4dCAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7IC8vIFRoaXMgaXMgYSBsaXR0bGUgd2VpcmQsIGJ1dCBsZXQgbWUgdHJ5IGFuZCBleHBsYWluOiBUaGVyZSBhcmUgYSBmZXcgc2NlbmFyaW8nc1xuICAvLyBpbiBjaHJvbWUgZm9yIGV4YW1wbGUgd2hlcmUgYSBmb2N1c2VkIGA8YT5gIHRhZyBkb2VzIG5vdCBnZXQgdGhlIGRlZmF1bHQgZm9jdXNcbiAgLy8gc3R5bGVzIGFuZCBzb21ldGltZXMgdGhleSBkby4gVGhpcyBoaWdobHkgZGVwZW5kcyBvbiB3aGV0aGVyIHlvdSBzdGFydGVkIGJ5XG4gIC8vIGNsaWNraW5nIG9yIGJ5IHVzaW5nIHlvdXIga2V5Ym9hcmQuIFdoZW4geW91IHByb2dyYW1tYXRpY2FsbHkgYWRkIGZvY3VzIGBhbmNob3IuZm9jdXMoKWBcbiAgLy8gdGhlbiB0aGUgYWN0aXZlIGVsZW1lbnQgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIGlzIHRoaXMgYW5jaG9yLCB3aGljaCBpcyBleHBlY3RlZC5cbiAgLy8gSG93ZXZlciBpbiB0aGF0IGNhc2UgdGhlIGRlZmF1bHQgZm9jdXMgc3R5bGVzIGFyZSBub3QgYXBwbGllZCAqdW5sZXNzKiB5b3VcbiAgLy8gYWxzbyBhZGQgdGhpcyB0YWJpbmRleC5cblxuXG4gIGlmICghbmV4dC5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykpIG5leHQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gIHJldHVybiBGb2N1c1Jlc3VsdC5TdWNjZXNzO1xufVxuXG5leHBvcnQgeyBGb2N1cywgRm9jdXNSZXN1bHQsIEZvY3VzYWJsZU1vZGUsIGZvY3VzRWxlbWVudCwgZm9jdXNJbiwgZ2V0Rm9jdXNhYmxlRWxlbWVudHMsIGlzRm9jdXNhYmxlRWxlbWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9jdXMtbWFuYWdlbWVudC5lc20uanMubWFwXG4iLCIvKipcbiAqIEZpbGU6IEFwcENvbnRleHQudHNcbiAqIFByb2plY3Q6IGNoYXR0aW5nLW1pbmltYWxcbiAqIEZpbGUgQ3JlYXRlZDogMDMgT2N0IDIwMjEgMTM6MjA6MzhcbiAqIEF1dGhvcjogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIExhc3QgTW9kaWZpZWQ6IDAzIE9jdCAyMDIxIDE0OjEzOjU0XG4gKiBNb2RpZmllZCBCeTogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAyMSB1bmQzZmluZWQuY29tXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5cbnR5cGUgQXBwQ29udGV4dFR5cGUgPSB7XG4gIHNldFRpdGxlOiAodGl0bGU6IHN0cmluZykgPT4gdm9pZDtcbiAgc2VsZWN0RG90OiAodHlwZTogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5jb25zdCBBcHBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxBcHBDb250ZXh0VHlwZT4oe1xuICBzZXRUaXRsZTogKCkgPT4ge30sXG4gIHNlbGVjdERvdDogKCkgPT4ge30sXG59KTtcblxuZXhwb3J0IGNvbnN0IEFwcENvbnRleHRQcm92aWRlciA9IEFwcENvbnRleHQuUHJvdmlkZXI7IFxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQXBwQ29udGV4dCgpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoQXBwQ29udGV4dClcbn0iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCB7Z2V0QXBwSW5mbywgZ2V0Q2xpZW50Q29uZmlnLCBnZXRMaWNlbnNlQ29uZmlnfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL2dlbmVyYWwnO1xuaW1wb3J0IEdlbmVyYWwgZnJvbSAnY2hhdHRpbmctcmVkdXgvY29uc3RhbnRzL2dlbmVyYWwnO1xuaW1wb3J0ICogYXMgVXNlckFjdGlvbnMgZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy91c2Vycyc7XG5pbXBvcnQge0NsaWVudDR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2NsaWVudCc7XG5cbmltcG9ydCB7QWN0aW9uVHlwZXN9IGZyb20gJyR1dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IGVuIGZyb20gJyRpMThuL2VuLmpzb24nO1xuaW1wb3J0IHtnZXRDdXJyZW50TG9jYWxlLCBnZXRUcmFuc2xhdGlvbnN9IGZyb20gJyRzZWxlY3RvcnMvaTE4bic7XG5pbXBvcnQgTG9jYWxTdG9yYWdlU3RvcmUgZnJvbSAnJHN0b3Jlcy9sb2NhbF9zdG9yYWdlX3N0b3JlJztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xpZW50SWQgXG4gKiBAcmV0dXJucyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRNZUFuZENvbmZpZyhjbGllbnRJZCkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgLy8gaWYgYW55IG5ldyBwcm9taXNlIG5lZWRzIHRvIGJlIGFkZGVkIHBsZWFzZSBiZSBtaW5kZnVsIG9mIHRoZSBvcmRlciBhcyBpdCBpcyB1c2VkIGluIHJvb3QuanN4IGZvciByZWRpcmVjdGlvblxuICAgIGNvbnN0IHByb21pc2VzID0gW2Rpc3BhdGNoKGdldENsaWVudENvbmZpZygpKSwgZGlzcGF0Y2goZ2V0TGljZW5zZUNvbmZpZygpKSwgZGlzcGF0Y2goZ2V0QXBwSW5mbyhjbGllbnRJZCkpXTtcblxuICAgIC8vIG5lZWQgdG8gYXdhaXQgZm9yIGNsaWVudENvbmZpZyBmaXJzdCBhcyBpdCBpcyByZXF1aXJlZCBmb3IgbG9hZE1lXG4gICAgY29uc3QgcmVzb2x2ZWRQcm9taXNlcyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICBpZiAoTG9jYWxTdG9yYWdlU3RvcmUuZ2V0VXNlcklkKGNsaWVudElkKSkge1xuICAgICAgcmVzb2x2ZWRQcm9taXNlcy5wdXNoKGF3YWl0IGRpc3BhdGNoKFVzZXJBY3Rpb25zLmxvYWRNZSgpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc29sdmVkUHJvbWlzZXM7XG4gIH07XG59XG5cbmNvbnN0IHBsdWdpblRyYW5zbGF0aW9uU291cmNlcyA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW5UcmFuc2xhdGlvbnNTb3VyY2UocGx1Z2luSWQsIHNvdXJjZUZ1bmN0aW9uKSB7XG4gIHBsdWdpblRyYW5zbGF0aW9uU291cmNlc1twbHVnaW5JZF0gPSBzb3VyY2VGdW5jdGlvbjtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgbG9jYWxlID0gZ2V0Q3VycmVudExvY2FsZShzdGF0ZSk7XG4gICAgY29uc3QgaW1tdXRhYmxlVHJhbnNsYXRpb25zID0gZ2V0VHJhbnNsYXRpb25zKHN0YXRlLCBsb2NhbGUpO1xuICAgIGNvbnN0IHRyYW5zbGF0aW9ucyA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24odHJhbnNsYXRpb25zLCBpbW11dGFibGVUcmFuc2xhdGlvbnMpO1xuICAgIGlmIChpbW11dGFibGVUcmFuc2xhdGlvbnMpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odHJhbnNsYXRpb25zLCBzb3VyY2VGdW5jdGlvbihsb2NhbGUpKTtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVDRUlWRURfVFJBTlNMQVRJT05TLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgIHRyYW5zbGF0aW9ucyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucmVnaXN0ZXJQbHVnaW5UcmFuc2xhdGlvbnNTb3VyY2UocGx1Z2luSWQpIHtcbiAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShwbHVnaW5UcmFuc2xhdGlvblNvdXJjZXMsIHBsdWdpbklkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRUcmFuc2xhdGlvbnMobG9jYWxlLCB1cmwpIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCkgPT4ge1xuICAgIGNvbnN0IHRyYW5zbGF0aW9ucyA9IHsuLi5lbn07XG4gICAgT2JqZWN0LnZhbHVlcyhwbHVnaW5UcmFuc2xhdGlvblNvdXJjZXMpLmZvckVhY2goKHBsdWdpbkZ1bmMpID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24odHJhbnNsYXRpb25zLCBwbHVnaW5GdW5jKGxvY2FsZSkpO1xuICAgIH0pO1xuXG4gICAgLy8gTmVlZCB0byBnbyB0byB0aGUgc2VydmVyIGZvciBsYW5ndWFnZXMgb3RoZXIgdGhhbiBFbmdsaXNoXG4gICAgaWYgKGxvY2FsZSAhPT0gJ2VuJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2VydmVyVHJhbnNsYXRpb25zID0gYXdhaXQgQ2xpZW50NC5nZXRUcmFuc2xhdGlvbnModXJsKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0cmFuc2xhdGlvbnMsIHNlcnZlclRyYW5zbGF0aW9ucyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgIH1cbiAgICB9XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVDRUlWRURfVFJBTlNMQVRJT05TLFxuICAgICAgZGF0YToge1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHRyYW5zbGF0aW9ucyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG59XG4iLCI7KGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qKlxuXHQgKiBAcHJlc2VydmUgRmFzdENsaWNrOiBwb2x5ZmlsbCB0byByZW1vdmUgY2xpY2sgZGVsYXlzIG9uIGJyb3dzZXJzIHdpdGggdG91Y2ggVUlzLlxuXHQgKlxuXHQgKiBAY29kaW5nc3RhbmRhcmQgZnRsYWJzLWpzdjJcblx0ICogQGNvcHlyaWdodCBUaGUgRmluYW5jaWFsIFRpbWVzIExpbWl0ZWQgW0FsbCBSaWdodHMgUmVzZXJ2ZWRdXG5cdCAqIEBsaWNlbnNlIE1JVCBMaWNlbnNlIChzZWUgTElDRU5TRS50eHQpXG5cdCAqL1xuXG5cdC8qanNsaW50IGJyb3dzZXI6dHJ1ZSwgbm9kZTp0cnVlKi9cblx0LypnbG9iYWwgZGVmaW5lLCBFdmVudCwgTm9kZSovXG5cblxuXHQvKipcblx0ICogSW5zdGFudGlhdGUgZmFzdC1jbGlja2luZyBsaXN0ZW5lcnMgb24gdGhlIHNwZWNpZmllZCBsYXllci5cblx0ICpcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gbGF5ZXIgVGhlIGxheWVyIHRvIGxpc3RlbiBvblxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0c1xuXHQgKi9cblx0ZnVuY3Rpb24gRmFzdENsaWNrKGxheWVyLCBvcHRpb25zKSB7XG5cdFx0dmFyIG9sZE9uQ2xpY2s7XG5cblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRcdC8qKlxuXHRcdCAqIFdoZXRoZXIgYSBjbGljayBpcyBjdXJyZW50bHkgYmVpbmcgdHJhY2tlZC5cblx0XHQgKlxuXHRcdCAqIEB0eXBlIGJvb2xlYW5cblx0XHQgKi9cblx0XHR0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcblxuXG5cdFx0LyoqXG5cdFx0ICogVGltZXN0YW1wIGZvciB3aGVuIGNsaWNrIHRyYWNraW5nIHN0YXJ0ZWQuXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBudW1iZXJcblx0XHQgKi9cblx0XHR0aGlzLnRyYWNraW5nQ2xpY2tTdGFydCA9IDA7XG5cblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBlbGVtZW50IGJlaW5nIHRyYWNrZWQgZm9yIGEgY2xpY2suXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBFdmVudFRhcmdldFxuXHRcdCAqL1xuXHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cblxuXHRcdC8qKlxuXHRcdCAqIFgtY29vcmRpbmF0ZSBvZiB0b3VjaCBzdGFydCBldmVudC5cblx0XHQgKlxuXHRcdCAqIEB0eXBlIG51bWJlclxuXHRcdCAqL1xuXHRcdHRoaXMudG91Y2hTdGFydFggPSAwO1xuXG5cblx0XHQvKipcblx0XHQgKiBZLWNvb3JkaW5hdGUgb2YgdG91Y2ggc3RhcnQgZXZlbnQuXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBudW1iZXJcblx0XHQgKi9cblx0XHR0aGlzLnRvdWNoU3RhcnRZID0gMDtcblxuXG5cdFx0LyoqXG5cdFx0ICogSUQgb2YgdGhlIGxhc3QgdG91Y2gsIHJldHJpZXZlZCBmcm9tIFRvdWNoLmlkZW50aWZpZXIuXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBudW1iZXJcblx0XHQgKi9cblx0XHR0aGlzLmxhc3RUb3VjaElkZW50aWZpZXIgPSAwO1xuXG5cblx0XHQvKipcblx0XHQgKiBUb3VjaG1vdmUgYm91bmRhcnksIGJleW9uZCB3aGljaCBhIGNsaWNrIHdpbGwgYmUgY2FuY2VsbGVkLlxuXHRcdCAqXG5cdFx0ICogQHR5cGUgbnVtYmVyXG5cdFx0ICovXG5cdFx0dGhpcy50b3VjaEJvdW5kYXJ5ID0gb3B0aW9ucy50b3VjaEJvdW5kYXJ5IHx8IDEwO1xuXG5cblx0XHQvKipcblx0XHQgKiBUaGUgRmFzdENsaWNrIGxheWVyLlxuXHRcdCAqXG5cdFx0ICogQHR5cGUgRWxlbWVudFxuXHRcdCAqL1xuXHRcdHRoaXMubGF5ZXIgPSBsYXllcjtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBtaW5pbXVtIHRpbWUgYmV0d2VlbiB0YXAodG91Y2hzdGFydCBhbmQgdG91Y2hlbmQpIGV2ZW50c1xuXHRcdCAqXG5cdFx0ICogQHR5cGUgbnVtYmVyXG5cdFx0ICovXG5cdFx0dGhpcy50YXBEZWxheSA9IG9wdGlvbnMudGFwRGVsYXkgfHwgMjAwO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIG1heGltdW0gdGltZSBmb3IgYSB0YXBcblx0XHQgKlxuXHRcdCAqIEB0eXBlIG51bWJlclxuXHRcdCAqL1xuXHRcdHRoaXMudGFwVGltZW91dCA9IG9wdGlvbnMudGFwVGltZW91dCB8fCA3MDA7XG5cblx0XHRpZiAoRmFzdENsaWNrLm5vdE5lZWRlZChsYXllcikpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBTb21lIG9sZCB2ZXJzaW9ucyBvZiBBbmRyb2lkIGRvbid0IGhhdmUgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcblx0XHRmdW5jdGlvbiBiaW5kKG1ldGhvZCwgY29udGV4dCkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gbWV0aG9kLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7IH07XG5cdFx0fVxuXG5cblx0XHR2YXIgbWV0aG9kcyA9IFsnb25Nb3VzZScsICdvbkNsaWNrJywgJ29uVG91Y2hTdGFydCcsICdvblRvdWNoTW92ZScsICdvblRvdWNoRW5kJywgJ29uVG91Y2hDYW5jZWwnXTtcblx0XHR2YXIgY29udGV4dCA9IHRoaXM7XG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBtZXRob2RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0Y29udGV4dFttZXRob2RzW2ldXSA9IGJpbmQoY29udGV4dFttZXRob2RzW2ldXSwgY29udGV4dCk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzIGFzIHJlcXVpcmVkXG5cdFx0aWYgKGRldmljZUlzQW5kcm9pZCkge1xuXHRcdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vbk1vdXNlLCB0cnVlKTtcblx0XHRcdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZSwgdHJ1ZSk7XG5cdFx0XHRsYXllci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlLCB0cnVlKTtcblx0XHR9XG5cblx0XHRsYXllci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljaywgdHJ1ZSk7XG5cdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG5cdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZSwgZmFsc2UpO1xuXHRcdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kLCBmYWxzZSk7XG5cdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uVG91Y2hDYW5jZWwsIGZhbHNlKTtcblxuXHRcdC8vIEhhY2sgaXMgcmVxdWlyZWQgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBFdmVudCNzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gKGUuZy4gQW5kcm9pZCAyKVxuXHRcdC8vIHdoaWNoIGlzIGhvdyBGYXN0Q2xpY2sgbm9ybWFsbHkgc3RvcHMgY2xpY2sgZXZlbnRzIGJ1YmJsaW5nIHRvIGNhbGxiYWNrcyByZWdpc3RlcmVkIG9uIHRoZSBGYXN0Q2xpY2tcblx0XHQvLyBsYXllciB3aGVuIHRoZXkgYXJlIGNhbmNlbGxlZC5cblx0XHRpZiAoIUV2ZW50LnByb3RvdHlwZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pIHtcblx0XHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBjYWxsYmFjaywgY2FwdHVyZSkge1xuXHRcdFx0XHR2YXIgcm12ID0gTm9kZS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcblx0XHRcdFx0aWYgKHR5cGUgPT09ICdjbGljaycpIHtcblx0XHRcdFx0XHRybXYuY2FsbChsYXllciwgdHlwZSwgY2FsbGJhY2suaGlqYWNrZWQgfHwgY2FsbGJhY2ssIGNhcHR1cmUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJtdi5jYWxsKGxheWVyLCB0eXBlLCBjYWxsYmFjaywgY2FwdHVyZSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBjYWxsYmFjaywgY2FwdHVyZSkge1xuXHRcdFx0XHR2YXIgYWR2ID0gTm9kZS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcjtcblx0XHRcdFx0aWYgKHR5cGUgPT09ICdjbGljaycpIHtcblx0XHRcdFx0XHRhZHYuY2FsbChsYXllciwgdHlwZSwgY2FsbGJhY2suaGlqYWNrZWQgfHwgKGNhbGxiYWNrLmhpamFja2VkID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0XHRcdGlmICghZXZlbnQucHJvcGFnYXRpb25TdG9wcGVkKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKGV2ZW50KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSwgY2FwdHVyZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YWR2LmNhbGwobGF5ZXIsIHR5cGUsIGNhbGxiYWNrLCBjYXB0dXJlKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBJZiBhIGhhbmRsZXIgaXMgYWxyZWFkeSBkZWNsYXJlZCBpbiB0aGUgZWxlbWVudCdzIG9uY2xpY2sgYXR0cmlidXRlLCBpdCB3aWxsIGJlIGZpcmVkIGJlZm9yZVxuXHRcdC8vIEZhc3RDbGljaydzIG9uQ2xpY2sgaGFuZGxlci4gRml4IHRoaXMgYnkgcHVsbGluZyBvdXQgdGhlIHVzZXItZGVmaW5lZCBoYW5kbGVyIGZ1bmN0aW9uIGFuZFxuXHRcdC8vIGFkZGluZyBpdCBhcyBsaXN0ZW5lci5cblx0XHRpZiAodHlwZW9mIGxheWVyLm9uY2xpY2sgPT09ICdmdW5jdGlvbicpIHtcblxuXHRcdFx0Ly8gQW5kcm9pZCBicm93c2VyIG9uIGF0IGxlYXN0IDMuMiByZXF1aXJlcyBhIG5ldyByZWZlcmVuY2UgdG8gdGhlIGZ1bmN0aW9uIGluIGxheWVyLm9uY2xpY2tcblx0XHRcdC8vIC0gdGhlIG9sZCBvbmUgd29uJ3Qgd29yayBpZiBwYXNzZWQgdG8gYWRkRXZlbnRMaXN0ZW5lciBkaXJlY3RseS5cblx0XHRcdG9sZE9uQ2xpY2sgPSBsYXllci5vbmNsaWNrO1xuXHRcdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRvbGRPbkNsaWNrKGV2ZW50KTtcblx0XHRcdH0sIGZhbHNlKTtcblx0XHRcdGxheWVyLm9uY2xpY2sgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQqIFdpbmRvd3MgUGhvbmUgOC4xIGZha2VzIHVzZXIgYWdlbnQgc3RyaW5nIHRvIGxvb2sgbGlrZSBBbmRyb2lkIGFuZCBpUGhvbmUuXG5cdCpcblx0KiBAdHlwZSBib29sZWFuXG5cdCovXG5cdHZhciBkZXZpY2VJc1dpbmRvd3NQaG9uZSA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIldpbmRvd3MgUGhvbmVcIikgPj0gMDtcblxuXHQvKipcblx0ICogQW5kcm9pZCByZXF1aXJlcyBleGNlcHRpb25zLlxuXHQgKlxuXHQgKiBAdHlwZSBib29sZWFuXG5cdCAqL1xuXHR2YXIgZGV2aWNlSXNBbmRyb2lkID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdBbmRyb2lkJykgPiAwICYmICFkZXZpY2VJc1dpbmRvd3NQaG9uZTtcblxuXG5cdC8qKlxuXHQgKiBpT1MgcmVxdWlyZXMgZXhjZXB0aW9ucy5cblx0ICpcblx0ICogQHR5cGUgYm9vbGVhblxuXHQgKi9cblx0dmFyIGRldmljZUlzSU9TID0gL2lQKGFkfGhvbmV8b2QpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICFkZXZpY2VJc1dpbmRvd3NQaG9uZTtcblxuXG5cdC8qKlxuXHQgKiBpT1MgNCByZXF1aXJlcyBhbiBleGNlcHRpb24gZm9yIHNlbGVjdCBlbGVtZW50cy5cblx0ICpcblx0ICogQHR5cGUgYm9vbGVhblxuXHQgKi9cblx0dmFyIGRldmljZUlzSU9TNCA9IGRldmljZUlzSU9TICYmICgvT1MgNF9cXGQoX1xcZCk/LykudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuXG5cdC8qKlxuXHQgKiBpT1MgNi4wLTcuKiByZXF1aXJlcyB0aGUgdGFyZ2V0IGVsZW1lbnQgdG8gYmUgbWFudWFsbHkgZGVyaXZlZFxuXHQgKlxuXHQgKiBAdHlwZSBib29sZWFuXG5cdCAqL1xuXHR2YXIgZGV2aWNlSXNJT1NXaXRoQmFkVGFyZ2V0ID0gZGV2aWNlSXNJT1MgJiYgKC9PUyBbNi03XV9cXGQvKS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG5cdC8qKlxuXHQgKiBCbGFja0JlcnJ5IHJlcXVpcmVzIGV4Y2VwdGlvbnMuXG5cdCAqXG5cdCAqIEB0eXBlIGJvb2xlYW5cblx0ICovXG5cdHZhciBkZXZpY2VJc0JsYWNrQmVycnkxMCA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQkIxMCcpID4gMDtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIHdoZXRoZXIgYSBnaXZlbiBlbGVtZW50IHJlcXVpcmVzIGEgbmF0aXZlIGNsaWNrLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fEVsZW1lbnR9IHRhcmdldCBUYXJnZXQgRE9NIGVsZW1lbnRcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgZWxlbWVudCBuZWVkcyBhIG5hdGl2ZSBjbGlja1xuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5uZWVkc0NsaWNrID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cdFx0c3dpdGNoICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2VuZCBhIHN5bnRoZXRpYyBjbGljayB0byBkaXNhYmxlZCBpbnB1dHMgKGlzc3VlICM2Milcblx0XHRjYXNlICdidXR0b24nOlxuXHRcdGNhc2UgJ3NlbGVjdCc6XG5cdFx0Y2FzZSAndGV4dGFyZWEnOlxuXHRcdFx0aWYgKHRhcmdldC5kaXNhYmxlZCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnaW5wdXQnOlxuXG5cdFx0XHQvLyBGaWxlIGlucHV0cyBuZWVkIHJlYWwgY2xpY2tzIG9uIGlPUyA2IGR1ZSB0byBhIGJyb3dzZXIgYnVnIChpc3N1ZSAjNjgpXG5cdFx0XHRpZiAoKGRldmljZUlzSU9TICYmIHRhcmdldC50eXBlID09PSAnZmlsZScpIHx8IHRhcmdldC5kaXNhYmxlZCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnbGFiZWwnOlxuXHRcdGNhc2UgJ2lmcmFtZSc6IC8vIGlPUzggaG9tZXNjcmVlbiBhcHBzIGNhbiBwcmV2ZW50IGV2ZW50cyBidWJibGluZyBpbnRvIGZyYW1lc1xuXHRcdGNhc2UgJ3ZpZGVvJzpcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiAoL1xcYm5lZWRzY2xpY2tcXGIvKS50ZXN0KHRhcmdldC5jbGFzc05hbWUpO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIERldGVybWluZSB3aGV0aGVyIGEgZ2l2ZW4gZWxlbWVudCByZXF1aXJlcyBhIGNhbGwgdG8gZm9jdXMgdG8gc2ltdWxhdGUgY2xpY2sgaW50byBlbGVtZW50LlxuXHQgKlxuXHQgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fEVsZW1lbnR9IHRhcmdldCBUYXJnZXQgRE9NIGVsZW1lbnRcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgZWxlbWVudCByZXF1aXJlcyBhIGNhbGwgdG8gZm9jdXMgdG8gc2ltdWxhdGUgbmF0aXZlIGNsaWNrLlxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5uZWVkc0ZvY3VzID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cdFx0c3dpdGNoICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuXHRcdGNhc2UgJ3RleHRhcmVhJzpcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdGNhc2UgJ3NlbGVjdCc6XG5cdFx0XHRyZXR1cm4gIWRldmljZUlzQW5kcm9pZDtcblx0XHRjYXNlICdpbnB1dCc6XG5cdFx0XHRzd2l0Y2ggKHRhcmdldC50eXBlKSB7XG5cdFx0XHRjYXNlICdidXR0b24nOlxuXHRcdFx0Y2FzZSAnY2hlY2tib3gnOlxuXHRcdFx0Y2FzZSAnZmlsZSc6XG5cdFx0XHRjYXNlICdpbWFnZSc6XG5cdFx0XHRjYXNlICdyYWRpbyc6XG5cdFx0XHRjYXNlICdzdWJtaXQnOlxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE5vIHBvaW50IGluIGF0dGVtcHRpbmcgdG8gZm9jdXMgZGlzYWJsZWQgaW5wdXRzXG5cdFx0XHRyZXR1cm4gIXRhcmdldC5kaXNhYmxlZCAmJiAhdGFyZ2V0LnJlYWRPbmx5O1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gKC9cXGJuZWVkc2ZvY3VzXFxiLykudGVzdCh0YXJnZXQuY2xhc3NOYW1lKTtcblx0XHR9XG5cdH07XG5cblxuXHQvKipcblx0ICogU2VuZCBhIGNsaWNrIGV2ZW50IHRvIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cblx0ICpcblx0ICogQHBhcmFtIHtFdmVudFRhcmdldHxFbGVtZW50fSB0YXJnZXRFbGVtZW50XG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqL1xuXHRGYXN0Q2xpY2sucHJvdG90eXBlLnNlbmRDbGljayA9IGZ1bmN0aW9uKHRhcmdldEVsZW1lbnQsIGV2ZW50KSB7XG5cdFx0dmFyIGNsaWNrRXZlbnQsIHRvdWNoO1xuXG5cdFx0Ly8gT24gc29tZSBBbmRyb2lkIGRldmljZXMgYWN0aXZlRWxlbWVudCBuZWVkcyB0byBiZSBibHVycmVkIG90aGVyd2lzZSB0aGUgc3ludGhldGljIGNsaWNrIHdpbGwgaGF2ZSBubyBlZmZlY3QgKCMyNClcblx0XHRpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSB0YXJnZXRFbGVtZW50KSB7XG5cdFx0XHRkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcblx0XHR9XG5cblx0XHR0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xuXG5cdFx0Ly8gU3ludGhlc2lzZSBhIGNsaWNrIGV2ZW50LCB3aXRoIGFuIGV4dHJhIGF0dHJpYnV0ZSBzbyBpdCBjYW4gYmUgdHJhY2tlZFxuXHRcdGNsaWNrRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcblx0XHRjbGlja0V2ZW50LmluaXRNb3VzZUV2ZW50KHRoaXMuZGV0ZXJtaW5lRXZlbnRUeXBlKHRhcmdldEVsZW1lbnQpLCB0cnVlLCB0cnVlLCB3aW5kb3csIDEsIHRvdWNoLnNjcmVlblgsIHRvdWNoLnNjcmVlblksIHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFksIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcblx0XHRjbGlja0V2ZW50LmZvcndhcmRlZFRvdWNoRXZlbnQgPSB0cnVlO1xuXHRcdHRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChjbGlja0V2ZW50KTtcblx0fTtcblxuXHRGYXN0Q2xpY2sucHJvdG90eXBlLmRldGVybWluZUV2ZW50VHlwZSA9IGZ1bmN0aW9uKHRhcmdldEVsZW1lbnQpIHtcblxuXHRcdC8vSXNzdWUgIzE1OTogQW5kcm9pZCBDaHJvbWUgU2VsZWN0IEJveCBkb2VzIG5vdCBvcGVuIHdpdGggYSBzeW50aGV0aWMgY2xpY2sgZXZlbnRcblx0XHRpZiAoZGV2aWNlSXNBbmRyb2lkICYmIHRhcmdldEVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc2VsZWN0Jykge1xuXHRcdFx0cmV0dXJuICdtb3VzZWRvd24nO1xuXHRcdH1cblxuXHRcdHJldHVybiAnY2xpY2snO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR8RWxlbWVudH0gdGFyZ2V0RWxlbWVudFxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uKHRhcmdldEVsZW1lbnQpIHtcblx0XHR2YXIgbGVuZ3RoO1xuXG5cdFx0Ly8gSXNzdWUgIzE2MDogb24gaU9TIDcsIHNvbWUgaW5wdXQgZWxlbWVudHMgKGUuZy4gZGF0ZSBkYXRldGltZSBtb250aCkgdGhyb3cgYSB2YWd1ZSBUeXBlRXJyb3Igb24gc2V0U2VsZWN0aW9uUmFuZ2UuIFRoZXNlIGVsZW1lbnRzIGRvbid0IGhhdmUgYW4gaW50ZWdlciB2YWx1ZSBmb3IgdGhlIHNlbGVjdGlvblN0YXJ0IGFuZCBzZWxlY3Rpb25FbmQgcHJvcGVydGllcywgYnV0IHVuZm9ydHVuYXRlbHkgdGhhdCBjYW4ndCBiZSB1c2VkIGZvciBkZXRlY3Rpb24gYmVjYXVzZSBhY2Nlc3NpbmcgdGhlIHByb3BlcnRpZXMgYWxzbyB0aHJvd3MgYSBUeXBlRXJyb3IuIEp1c3QgY2hlY2sgdGhlIHR5cGUgaW5zdGVhZC4gRmlsZWQgYXMgQXBwbGUgYnVnICMxNTEyMjcyNC5cblx0XHRpZiAoZGV2aWNlSXNJT1MgJiYgdGFyZ2V0RWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSAmJiB0YXJnZXRFbGVtZW50LnR5cGUuaW5kZXhPZignZGF0ZScpICE9PSAwICYmIHRhcmdldEVsZW1lbnQudHlwZSAhPT0gJ3RpbWUnICYmIHRhcmdldEVsZW1lbnQudHlwZSAhPT0gJ21vbnRoJykge1xuXHRcdFx0bGVuZ3RoID0gdGFyZ2V0RWxlbWVudC52YWx1ZS5sZW5ndGg7XG5cdFx0XHR0YXJnZXRFbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKGxlbmd0aCwgbGVuZ3RoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0RWxlbWVudC5mb2N1cygpO1xuXHRcdH1cblx0fTtcblxuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB0YXJnZXQgZWxlbWVudCBpcyBhIGNoaWxkIG9mIGEgc2Nyb2xsYWJsZSBsYXllciBhbmQgaWYgc28sIHNldCBhIGZsYWcgb24gaXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR8RWxlbWVudH0gdGFyZ2V0RWxlbWVudFxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS51cGRhdGVTY3JvbGxQYXJlbnQgPSBmdW5jdGlvbih0YXJnZXRFbGVtZW50KSB7XG5cdFx0dmFyIHNjcm9sbFBhcmVudCwgcGFyZW50RWxlbWVudDtcblxuXHRcdHNjcm9sbFBhcmVudCA9IHRhcmdldEVsZW1lbnQuZmFzdENsaWNrU2Nyb2xsUGFyZW50O1xuXG5cdFx0Ly8gQXR0ZW1wdCB0byBkaXNjb3ZlciB3aGV0aGVyIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBjb250YWluZWQgd2l0aGluIGEgc2Nyb2xsYWJsZSBsYXllci4gUmUtY2hlY2sgaWYgdGhlXG5cdFx0Ly8gdGFyZ2V0IGVsZW1lbnQgd2FzIG1vdmVkIHRvIGFub3RoZXIgcGFyZW50LlxuXHRcdGlmICghc2Nyb2xsUGFyZW50IHx8ICFzY3JvbGxQYXJlbnQuY29udGFpbnModGFyZ2V0RWxlbWVudCkpIHtcblx0XHRcdHBhcmVudEVsZW1lbnQgPSB0YXJnZXRFbGVtZW50O1xuXHRcdFx0ZG8ge1xuXHRcdFx0XHRpZiAocGFyZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgPiBwYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodCkge1xuXHRcdFx0XHRcdHNjcm9sbFBhcmVudCA9IHBhcmVudEVsZW1lbnQ7XG5cdFx0XHRcdFx0dGFyZ2V0RWxlbWVudC5mYXN0Q2xpY2tTY3JvbGxQYXJlbnQgPSBwYXJlbnRFbGVtZW50O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcblx0XHRcdH0gd2hpbGUgKHBhcmVudEVsZW1lbnQpO1xuXHRcdH1cblxuXHRcdC8vIEFsd2F5cyB1cGRhdGUgdGhlIHNjcm9sbCB0b3AgdHJhY2tlciBpZiBwb3NzaWJsZS5cblx0XHRpZiAoc2Nyb2xsUGFyZW50KSB7XG5cdFx0XHRzY3JvbGxQYXJlbnQuZmFzdENsaWNrTGFzdFNjcm9sbFRvcCA9IHNjcm9sbFBhcmVudC5zY3JvbGxUb3A7XG5cdFx0fVxuXHR9O1xuXG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldEVsZW1lbnRcblx0ICogQHJldHVybnMge0VsZW1lbnR8RXZlbnRUYXJnZXR9XG5cdCAqL1xuXHRGYXN0Q2xpY2sucHJvdG90eXBlLmdldFRhcmdldEVsZW1lbnRGcm9tRXZlbnRUYXJnZXQgPSBmdW5jdGlvbihldmVudFRhcmdldCkge1xuXG5cdFx0Ly8gT24gc29tZSBvbGRlciBicm93c2VycyAobm90YWJseSBTYWZhcmkgb24gaU9TIDQuMSAtIHNlZSBpc3N1ZSAjNTYpIHRoZSBldmVudCB0YXJnZXQgbWF5IGJlIGEgdGV4dCBub2RlLlxuXHRcdGlmIChldmVudFRhcmdldC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcblx0XHRcdHJldHVybiBldmVudFRhcmdldC5wYXJlbnROb2RlO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudFRhcmdldDtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBPbiB0b3VjaCBzdGFydCwgcmVjb3JkIHRoZSBwb3NpdGlvbiBhbmQgc2Nyb2xsIG9mZnNldC5cblx0ICpcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRGYXN0Q2xpY2sucHJvdG90eXBlLm9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIHRhcmdldEVsZW1lbnQsIHRvdWNoLCBzZWxlY3Rpb247XG5cblx0XHQvLyBJZ25vcmUgbXVsdGlwbGUgdG91Y2hlcywgb3RoZXJ3aXNlIHBpbmNoLXRvLXpvb20gaXMgcHJldmVudGVkIGlmIGJvdGggZmluZ2VycyBhcmUgb24gdGhlIEZhc3RDbGljayBlbGVtZW50IChpc3N1ZSAjMTExKS5cblx0XHRpZiAoZXZlbnQudGFyZ2V0VG91Y2hlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHR0YXJnZXRFbGVtZW50ID0gdGhpcy5nZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0KGV2ZW50LnRhcmdldCk7XG5cdFx0dG91Y2ggPSBldmVudC50YXJnZXRUb3VjaGVzWzBdO1xuXG5cdFx0aWYgKGRldmljZUlzSU9TKSB7XG5cblx0XHRcdC8vIE9ubHkgdHJ1c3RlZCBldmVudHMgd2lsbCBkZXNlbGVjdCB0ZXh0IG9uIGlPUyAoaXNzdWUgIzQ5KVxuXHRcdFx0c2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXHRcdFx0aWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ICYmICFzZWxlY3Rpb24uaXNDb2xsYXBzZWQpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghZGV2aWNlSXNJT1M0KSB7XG5cblx0XHRcdFx0Ly8gV2VpcmQgdGhpbmdzIGhhcHBlbiBvbiBpT1Mgd2hlbiBhbiBhbGVydCBvciBjb25maXJtIGRpYWxvZyBpcyBvcGVuZWQgZnJvbSBhIGNsaWNrIGV2ZW50IGNhbGxiYWNrIChpc3N1ZSAjMjMpOlxuXHRcdFx0XHQvLyB3aGVuIHRoZSB1c2VyIG5leHQgdGFwcyBhbnl3aGVyZSBlbHNlIG9uIHRoZSBwYWdlLCBuZXcgdG91Y2hzdGFydCBhbmQgdG91Y2hlbmQgZXZlbnRzIGFyZSBkaXNwYXRjaGVkXG5cdFx0XHRcdC8vIHdpdGggdGhlIHNhbWUgaWRlbnRpZmllciBhcyB0aGUgdG91Y2ggZXZlbnQgdGhhdCBwcmV2aW91c2x5IHRyaWdnZXJlZCB0aGUgY2xpY2sgdGhhdCB0cmlnZ2VyZWQgdGhlIGFsZXJ0LlxuXHRcdFx0XHQvLyBTYWRseSwgdGhlcmUgaXMgYW4gaXNzdWUgb24gaU9TIDQgdGhhdCBjYXVzZXMgc29tZSBub3JtYWwgdG91Y2ggZXZlbnRzIHRvIGhhdmUgdGhlIHNhbWUgaWRlbnRpZmllciBhcyBhblxuXHRcdFx0XHQvLyBpbW1lZGlhdGVseSBwcmVjZWVkaW5nIHRvdWNoIGV2ZW50IChpc3N1ZSAjNTIpLCBzbyB0aGlzIGZpeCBpcyB1bmF2YWlsYWJsZSBvbiB0aGF0IHBsYXRmb3JtLlxuXHRcdFx0XHQvLyBJc3N1ZSAxMjA6IHRvdWNoLmlkZW50aWZpZXIgaXMgMCB3aGVuIENocm9tZSBkZXYgdG9vbHMgJ0VtdWxhdGUgdG91Y2ggZXZlbnRzJyBpcyBzZXQgd2l0aCBhbiBpT1MgZGV2aWNlIFVBIHN0cmluZyxcblx0XHRcdFx0Ly8gd2hpY2ggY2F1c2VzIGFsbCB0b3VjaCBldmVudHMgdG8gYmUgaWdub3JlZC4gQXMgdGhpcyBibG9jayBvbmx5IGFwcGxpZXMgdG8gaU9TLCBhbmQgaU9TIGlkZW50aWZpZXJzIGFyZSBhbHdheXMgbG9uZyxcblx0XHRcdFx0Ly8gcmFuZG9tIGludGVnZXJzLCBpdCdzIHNhZmUgdG8gdG8gY29udGludWUgaWYgdGhlIGlkZW50aWZpZXIgaXMgMCBoZXJlLlxuXHRcdFx0XHRpZiAodG91Y2guaWRlbnRpZmllciAmJiB0b3VjaC5pZGVudGlmaWVyID09PSB0aGlzLmxhc3RUb3VjaElkZW50aWZpZXIpIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMubGFzdFRvdWNoSWRlbnRpZmllciA9IHRvdWNoLmlkZW50aWZpZXI7XG5cblx0XHRcdFx0Ly8gSWYgdGhlIHRhcmdldCBlbGVtZW50IGlzIGEgY2hpbGQgb2YgYSBzY3JvbGxhYmxlIGxheWVyICh1c2luZyAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2gpIGFuZDpcblx0XHRcdFx0Ly8gMSkgdGhlIHVzZXIgZG9lcyBhIGZsaW5nIHNjcm9sbCBvbiB0aGUgc2Nyb2xsYWJsZSBsYXllclxuXHRcdFx0XHQvLyAyKSB0aGUgdXNlciBzdG9wcyB0aGUgZmxpbmcgc2Nyb2xsIHdpdGggYW5vdGhlciB0YXBcblx0XHRcdFx0Ly8gdGhlbiB0aGUgZXZlbnQudGFyZ2V0IG9mIHRoZSBsYXN0ICd0b3VjaGVuZCcgZXZlbnQgd2lsbCBiZSB0aGUgZWxlbWVudCB0aGF0IHdhcyB1bmRlciB0aGUgdXNlcidzIGZpbmdlclxuXHRcdFx0XHQvLyB3aGVuIHRoZSBmbGluZyBzY3JvbGwgd2FzIHN0YXJ0ZWQsIGNhdXNpbmcgRmFzdENsaWNrIHRvIHNlbmQgYSBjbGljayBldmVudCB0byB0aGF0IGxheWVyIC0gdW5sZXNzIGEgY2hlY2tcblx0XHRcdFx0Ly8gaXMgbWFkZSB0byBlbnN1cmUgdGhhdCBhIHBhcmVudCBsYXllciB3YXMgbm90IHNjcm9sbGVkIGJlZm9yZSBzZW5kaW5nIGEgc3ludGhldGljIGNsaWNrIChpc3N1ZSAjNDIpLlxuXHRcdFx0XHR0aGlzLnVwZGF0ZVNjcm9sbFBhcmVudCh0YXJnZXRFbGVtZW50KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnRyYWNraW5nQ2xpY2sgPSB0cnVlO1xuXHRcdHRoaXMudHJhY2tpbmdDbGlja1N0YXJ0ID0gZXZlbnQudGltZVN0YW1wO1xuXHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IHRhcmdldEVsZW1lbnQ7XG5cblx0XHR0aGlzLnRvdWNoU3RhcnRYID0gdG91Y2gucGFnZVg7XG5cdFx0dGhpcy50b3VjaFN0YXJ0WSA9IHRvdWNoLnBhZ2VZO1xuXG5cdFx0Ly8gUHJldmVudCBwaGFudG9tIGNsaWNrcyBvbiBmYXN0IGRvdWJsZS10YXAgKGlzc3VlICMzNilcblx0XHRpZiAoKGV2ZW50LnRpbWVTdGFtcCAtIHRoaXMubGFzdENsaWNrVGltZSkgPCB0aGlzLnRhcERlbGF5KSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIEJhc2VkIG9uIGEgdG91Y2htb3ZlIGV2ZW50IG9iamVjdCwgY2hlY2sgd2hldGhlciB0aGUgdG91Y2ggaGFzIG1vdmVkIHBhc3QgYSBib3VuZGFyeSBzaW5jZSBpdCBzdGFydGVkLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICovXG5cdEZhc3RDbGljay5wcm90b3R5cGUudG91Y2hIYXNNb3ZlZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0sIGJvdW5kYXJ5ID0gdGhpcy50b3VjaEJvdW5kYXJ5O1xuXG5cdFx0aWYgKE1hdGguYWJzKHRvdWNoLnBhZ2VYIC0gdGhpcy50b3VjaFN0YXJ0WCkgPiBib3VuZGFyeSB8fCBNYXRoLmFicyh0b3VjaC5wYWdlWSAtIHRoaXMudG91Y2hTdGFydFkpID4gYm91bmRhcnkpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIGxhc3QgcG9zaXRpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5vblRvdWNoTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0aWYgKCF0aGlzLnRyYWNraW5nQ2xpY2spIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZSB0b3VjaCBoYXMgbW92ZWQsIGNhbmNlbCB0aGUgY2xpY2sgdHJhY2tpbmdcblx0XHRpZiAodGhpcy50YXJnZXRFbGVtZW50ICE9PSB0aGlzLmdldFRhcmdldEVsZW1lbnRGcm9tRXZlbnRUYXJnZXQoZXZlbnQudGFyZ2V0KSB8fCB0aGlzLnRvdWNoSGFzTW92ZWQoZXZlbnQpKSB7XG5cdFx0XHR0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcblx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblxuXHQvKipcblx0ICogQXR0ZW1wdCB0byBmaW5kIHRoZSBsYWJlbGxlZCBjb250cm9sIGZvciB0aGUgZ2l2ZW4gbGFiZWwgZWxlbWVudC5cblx0ICpcblx0ICogQHBhcmFtIHtFdmVudFRhcmdldHxIVE1MTGFiZWxFbGVtZW50fSBsYWJlbEVsZW1lbnRcblx0ICogQHJldHVybnMge0VsZW1lbnR8bnVsbH1cblx0ICovXG5cdEZhc3RDbGljay5wcm90b3R5cGUuZmluZENvbnRyb2wgPSBmdW5jdGlvbihsYWJlbEVsZW1lbnQpIHtcblxuXHRcdC8vIEZhc3QgcGF0aCBmb3IgbmV3ZXIgYnJvd3NlcnMgc3VwcG9ydGluZyB0aGUgSFRNTDUgY29udHJvbCBhdHRyaWJ1dGVcblx0XHRpZiAobGFiZWxFbGVtZW50LmNvbnRyb2wgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIGxhYmVsRWxlbWVudC5jb250cm9sO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBicm93c2VycyB1bmRlciB0ZXN0IHRoYXQgc3VwcG9ydCB0b3VjaCBldmVudHMgYWxzbyBzdXBwb3J0IHRoZSBIVE1MNSBodG1sRm9yIGF0dHJpYnV0ZVxuXHRcdGlmIChsYWJlbEVsZW1lbnQuaHRtbEZvcikge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxhYmVsRWxlbWVudC5odG1sRm9yKTtcblx0XHR9XG5cblx0XHQvLyBJZiBubyBmb3IgYXR0cmlidXRlIGV4aXN0cywgYXR0ZW1wdCB0byByZXRyaWV2ZSB0aGUgZmlyc3QgbGFiZWxsYWJsZSBkZXNjZW5kYW50IGVsZW1lbnRcblx0XHQvLyB0aGUgbGlzdCBvZiB3aGljaCBpcyBkZWZpbmVkIGhlcmU6IGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2Zvcm1zLmh0bWwjY2F0ZWdvcnktbGFiZWxcblx0XHRyZXR1cm4gbGFiZWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiwgaW5wdXQ6bm90KFt0eXBlPWhpZGRlbl0pLCBrZXlnZW4sIG1ldGVyLCBvdXRwdXQsIHByb2dyZXNzLCBzZWxlY3QsIHRleHRhcmVhJyk7XG5cdH07XG5cblxuXHQvKipcblx0ICogT24gdG91Y2ggZW5kLCBkZXRlcm1pbmUgd2hldGhlciB0byBzZW5kIGEgY2xpY2sgZXZlbnQgYXQgb25jZS5cblx0ICpcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRGYXN0Q2xpY2sucHJvdG90eXBlLm9uVG91Y2hFbmQgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdHZhciBmb3JFbGVtZW50LCB0cmFja2luZ0NsaWNrU3RhcnQsIHRhcmdldFRhZ05hbWUsIHNjcm9sbFBhcmVudCwgdG91Y2gsIHRhcmdldEVsZW1lbnQgPSB0aGlzLnRhcmdldEVsZW1lbnQ7XG5cblx0XHRpZiAoIXRoaXMudHJhY2tpbmdDbGljaykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gUHJldmVudCBwaGFudG9tIGNsaWNrcyBvbiBmYXN0IGRvdWJsZS10YXAgKGlzc3VlICMzNilcblx0XHRpZiAoKGV2ZW50LnRpbWVTdGFtcCAtIHRoaXMubGFzdENsaWNrVGltZSkgPCB0aGlzLnRhcERlbGF5KSB7XG5cdFx0XHR0aGlzLmNhbmNlbE5leHRDbGljayA9IHRydWU7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoKGV2ZW50LnRpbWVTdGFtcCAtIHRoaXMudHJhY2tpbmdDbGlja1N0YXJ0KSA+IHRoaXMudGFwVGltZW91dCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gUmVzZXQgdG8gcHJldmVudCB3cm9uZyBjbGljayBjYW5jZWwgb24gaW5wdXQgKGlzc3VlICMxNTYpLlxuXHRcdHRoaXMuY2FuY2VsTmV4dENsaWNrID0gZmFsc2U7XG5cblx0XHR0aGlzLmxhc3RDbGlja1RpbWUgPSBldmVudC50aW1lU3RhbXA7XG5cblx0XHR0cmFja2luZ0NsaWNrU3RhcnQgPSB0aGlzLnRyYWNraW5nQ2xpY2tTdGFydDtcblx0XHR0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcblx0XHR0aGlzLnRyYWNraW5nQ2xpY2tTdGFydCA9IDA7XG5cblx0XHQvLyBPbiBzb21lIGlPUyBkZXZpY2VzLCB0aGUgdGFyZ2V0RWxlbWVudCBzdXBwbGllZCB3aXRoIHRoZSBldmVudCBpcyBpbnZhbGlkIGlmIHRoZSBsYXllclxuXHRcdC8vIGlzIHBlcmZvcm1pbmcgYSB0cmFuc2l0aW9uIG9yIHNjcm9sbCwgYW5kIGhhcyB0byBiZSByZS1kZXRlY3RlZCBtYW51YWxseS4gTm90ZSB0aGF0XG5cdFx0Ly8gZm9yIHRoaXMgdG8gZnVuY3Rpb24gY29ycmVjdGx5LCBpdCBtdXN0IGJlIGNhbGxlZCAqYWZ0ZXIqIHRoZSBldmVudCB0YXJnZXQgaXMgY2hlY2tlZCFcblx0XHQvLyBTZWUgaXNzdWUgIzU3OyBhbHNvIGZpbGVkIGFzIHJkYXI6Ly8xMzA0ODU4OSAuXG5cdFx0aWYgKGRldmljZUlzSU9TV2l0aEJhZFRhcmdldCkge1xuXHRcdFx0dG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcblxuXHRcdFx0Ly8gSW4gY2VydGFpbiBjYXNlcyBhcmd1bWVudHMgb2YgZWxlbWVudEZyb21Qb2ludCBjYW4gYmUgbmVnYXRpdmUsIHNvIHByZXZlbnQgc2V0dGluZyB0YXJnZXRFbGVtZW50IHRvIG51bGxcblx0XHRcdHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHRvdWNoLnBhZ2VYIC0gd2luZG93LnBhZ2VYT2Zmc2V0LCB0b3VjaC5wYWdlWSAtIHdpbmRvdy5wYWdlWU9mZnNldCkgfHwgdGFyZ2V0RWxlbWVudDtcblx0XHRcdHRhcmdldEVsZW1lbnQuZmFzdENsaWNrU2Nyb2xsUGFyZW50ID0gdGhpcy50YXJnZXRFbGVtZW50LmZhc3RDbGlja1Njcm9sbFBhcmVudDtcblx0XHR9XG5cblx0XHR0YXJnZXRUYWdOYW1lID0gdGFyZ2V0RWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0aWYgKHRhcmdldFRhZ05hbWUgPT09ICdsYWJlbCcpIHtcblx0XHRcdGZvckVsZW1lbnQgPSB0aGlzLmZpbmRDb250cm9sKHRhcmdldEVsZW1lbnQpO1xuXHRcdFx0aWYgKGZvckVsZW1lbnQpIHtcblx0XHRcdFx0dGhpcy5mb2N1cyh0YXJnZXRFbGVtZW50KTtcblx0XHRcdFx0aWYgKGRldmljZUlzQW5kcm9pZCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRhcmdldEVsZW1lbnQgPSBmb3JFbGVtZW50O1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodGhpcy5uZWVkc0ZvY3VzKHRhcmdldEVsZW1lbnQpKSB7XG5cblx0XHRcdC8vIENhc2UgMTogSWYgdGhlIHRvdWNoIHN0YXJ0ZWQgYSB3aGlsZSBhZ28gKGJlc3QgZ3Vlc3MgaXMgMTAwbXMgYmFzZWQgb24gdGVzdHMgZm9yIGlzc3VlICMzNikgdGhlbiBmb2N1cyB3aWxsIGJlIHRyaWdnZXJlZCBhbnl3YXkuIFJldHVybiBlYXJseSBhbmQgdW5zZXQgdGhlIHRhcmdldCBlbGVtZW50IHJlZmVyZW5jZSBzbyB0aGF0IHRoZSBzdWJzZXF1ZW50IGNsaWNrIHdpbGwgYmUgYWxsb3dlZCB0aHJvdWdoLlxuXHRcdFx0Ly8gQ2FzZSAyOiBXaXRob3V0IHRoaXMgZXhjZXB0aW9uIGZvciBpbnB1dCBlbGVtZW50cyB0YXBwZWQgd2hlbiB0aGUgZG9jdW1lbnQgaXMgY29udGFpbmVkIGluIGFuIGlmcmFtZSwgdGhlbiBhbnkgaW5wdXR0ZWQgdGV4dCB3b24ndCBiZSB2aXNpYmxlIGV2ZW4gdGhvdWdoIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgdXBkYXRlZCBhcyB0aGUgdXNlciB0eXBlcyAoaXNzdWUgIzM3KS5cblx0XHRcdGlmICgoZXZlbnQudGltZVN0YW1wIC0gdHJhY2tpbmdDbGlja1N0YXJ0KSA+IDEwMCB8fCAoZGV2aWNlSXNJT1MgJiYgd2luZG93LnRvcCAhPT0gd2luZG93ICYmIHRhcmdldFRhZ05hbWUgPT09ICdpbnB1dCcpKSB7XG5cdFx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5mb2N1cyh0YXJnZXRFbGVtZW50KTtcblx0XHRcdHRoaXMuc2VuZENsaWNrKHRhcmdldEVsZW1lbnQsIGV2ZW50KTtcblxuXHRcdFx0Ly8gU2VsZWN0IGVsZW1lbnRzIG5lZWQgdGhlIGV2ZW50IHRvIGdvIHRocm91Z2ggb24gaU9TIDQsIG90aGVyd2lzZSB0aGUgc2VsZWN0b3IgbWVudSB3b24ndCBvcGVuLlxuXHRcdFx0Ly8gQWxzbyB0aGlzIGJyZWFrcyBvcGVuaW5nIHNlbGVjdHMgd2hlbiBWb2ljZU92ZXIgaXMgYWN0aXZlIG9uIGlPUzYsIGlPUzcgKGFuZCBwb3NzaWJseSBvdGhlcnMpXG5cdFx0XHRpZiAoIWRldmljZUlzSU9TIHx8IHRhcmdldFRhZ05hbWUgIT09ICdzZWxlY3QnKSB7XG5cdFx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoZGV2aWNlSXNJT1MgJiYgIWRldmljZUlzSU9TNCkge1xuXG5cdFx0XHQvLyBEb24ndCBzZW5kIGEgc3ludGhldGljIGNsaWNrIGV2ZW50IGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBjb250YWluZWQgd2l0aGluIGEgcGFyZW50IGxheWVyIHRoYXQgd2FzIHNjcm9sbGVkXG5cdFx0XHQvLyBhbmQgdGhpcyB0YXAgaXMgYmVpbmcgdXNlZCB0byBzdG9wIHRoZSBzY3JvbGxpbmcgKHVzdWFsbHkgaW5pdGlhdGVkIGJ5IGEgZmxpbmcgLSBpc3N1ZSAjNDIpLlxuXHRcdFx0c2Nyb2xsUGFyZW50ID0gdGFyZ2V0RWxlbWVudC5mYXN0Q2xpY2tTY3JvbGxQYXJlbnQ7XG5cdFx0XHRpZiAoc2Nyb2xsUGFyZW50ICYmIHNjcm9sbFBhcmVudC5mYXN0Q2xpY2tMYXN0U2Nyb2xsVG9wICE9PSBzY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXZlbnQgdGhlIGFjdHVhbCBjbGljayBmcm9tIGdvaW5nIHRob3VnaCAtIHVubGVzcyB0aGUgdGFyZ2V0IG5vZGUgaXMgbWFya2VkIGFzIHJlcXVpcmluZ1xuXHRcdC8vIHJlYWwgY2xpY2tzIG9yIGlmIGl0IGlzIGluIHRoZSB3aGl0ZWxpc3QgaW4gd2hpY2ggY2FzZSBvbmx5IG5vbi1wcm9ncmFtbWF0aWMgY2xpY2tzIGFyZSBwZXJtaXR0ZWQuXG5cdFx0aWYgKCF0aGlzLm5lZWRzQ2xpY2sodGFyZ2V0RWxlbWVudCkpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLnNlbmRDbGljayh0YXJnZXRFbGVtZW50LCBldmVudCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIE9uIHRvdWNoIGNhbmNlbCwgc3RvcCB0cmFja2luZyB0aGUgY2xpY2suXG5cdCAqXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5vblRvdWNoQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy50cmFja2luZ0NsaWNrID0gZmFsc2U7XG5cdFx0dGhpcy50YXJnZXRFbGVtZW50ID0gbnVsbDtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgbW91c2UgZXZlbnRzIHdoaWNoIHNob3VsZCBiZSBwZXJtaXR0ZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5vbk1vdXNlID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdC8vIElmIGEgdGFyZ2V0IGVsZW1lbnQgd2FzIG5ldmVyIHNldCAoYmVjYXVzZSBhIHRvdWNoIGV2ZW50IHdhcyBuZXZlciBmaXJlZCkgYWxsb3cgdGhlIGV2ZW50XG5cdFx0aWYgKCF0aGlzLnRhcmdldEVsZW1lbnQpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGlmIChldmVudC5mb3J3YXJkZWRUb3VjaEV2ZW50KSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBQcm9ncmFtbWF0aWNhbGx5IGdlbmVyYXRlZCBldmVudHMgdGFyZ2V0aW5nIGEgc3BlY2lmaWMgZWxlbWVudCBzaG91bGQgYmUgcGVybWl0dGVkXG5cdFx0aWYgKCFldmVudC5jYW5jZWxhYmxlKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBEZXJpdmUgYW5kIGNoZWNrIHRoZSB0YXJnZXQgZWxlbWVudCB0byBzZWUgd2hldGhlciB0aGUgbW91c2UgZXZlbnQgbmVlZHMgdG8gYmUgcGVybWl0dGVkO1xuXHRcdC8vIHVubGVzcyBleHBsaWNpdGx5IGVuYWJsZWQsIHByZXZlbnQgbm9uLXRvdWNoIGNsaWNrIGV2ZW50cyBmcm9tIHRyaWdnZXJpbmcgYWN0aW9ucyxcblx0XHQvLyB0byBwcmV2ZW50IGdob3N0L2RvdWJsZWNsaWNrcy5cblx0XHRpZiAoIXRoaXMubmVlZHNDbGljayh0aGlzLnRhcmdldEVsZW1lbnQpIHx8IHRoaXMuY2FuY2VsTmV4dENsaWNrKSB7XG5cblx0XHRcdC8vIFByZXZlbnQgYW55IHVzZXItYWRkZWQgbGlzdGVuZXJzIGRlY2xhcmVkIG9uIEZhc3RDbGljayBlbGVtZW50IGZyb20gYmVpbmcgZmlyZWQuXG5cdFx0XHRpZiAoZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XG5cdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBQYXJ0IG9mIHRoZSBoYWNrIGZvciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgRXZlbnQjc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIChlLmcuIEFuZHJvaWQgMilcblx0XHRcdFx0ZXZlbnQucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2FuY2VsIHRoZSBldmVudFxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlIG1vdXNlIGV2ZW50IGlzIHBlcm1pdHRlZCwgcmV0dXJuIHRydWUgZm9yIHRoZSBhY3Rpb24gdG8gZ28gdGhyb3VnaC5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBPbiBhY3R1YWwgY2xpY2tzLCBkZXRlcm1pbmUgd2hldGhlciB0aGlzIGlzIGEgdG91Y2gtZ2VuZXJhdGVkIGNsaWNrLCBhIGNsaWNrIGFjdGlvbiBvY2N1cnJpbmdcblx0ICogbmF0dXJhbGx5IGFmdGVyIGEgZGVsYXkgYWZ0ZXIgYSB0b3VjaCAod2hpY2ggbmVlZHMgdG8gYmUgY2FuY2VsbGVkIHRvIGF2b2lkIGR1cGxpY2F0aW9uKSwgb3Jcblx0ICogYW4gYWN0dWFsIGNsaWNrIHdoaWNoIHNob3VsZCBiZSBwZXJtaXR0ZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR2YXIgcGVybWl0dGVkO1xuXG5cdFx0Ly8gSXQncyBwb3NzaWJsZSBmb3IgYW5vdGhlciBGYXN0Q2xpY2stbGlrZSBsaWJyYXJ5IGRlbGl2ZXJlZCB3aXRoIHRoaXJkLXBhcnR5IGNvZGUgdG8gZmlyZSBhIGNsaWNrIGV2ZW50IGJlZm9yZSBGYXN0Q2xpY2sgZG9lcyAoaXNzdWUgIzQ0KS4gSW4gdGhhdCBjYXNlLCBzZXQgdGhlIGNsaWNrLXRyYWNraW5nIGZsYWcgYmFjayB0byBmYWxzZSBhbmQgcmV0dXJuIGVhcmx5LiBUaGlzIHdpbGwgY2F1c2Ugb25Ub3VjaEVuZCB0byByZXR1cm4gZWFybHkuXG5cdFx0aWYgKHRoaXMudHJhY2tpbmdDbGljaykge1xuXHRcdFx0dGhpcy50YXJnZXRFbGVtZW50ID0gbnVsbDtcblx0XHRcdHRoaXMudHJhY2tpbmdDbGljayA9IGZhbHNlO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gVmVyeSBvZGQgYmVoYXZpb3VyIG9uIGlPUyAoaXNzdWUgIzE4KTogaWYgYSBzdWJtaXQgZWxlbWVudCBpcyBwcmVzZW50IGluc2lkZSBhIGZvcm0gYW5kIHRoZSB1c2VyIGhpdHMgZW50ZXIgaW4gdGhlIGlPUyBzaW11bGF0b3Igb3IgY2xpY2tzIHRoZSBHbyBidXR0b24gb24gdGhlIHBvcC11cCBPUyBrZXlib2FyZCB0aGUgYSBraW5kIG9mICdmYWtlJyBjbGljayBldmVudCB3aWxsIGJlIHRyaWdnZXJlZCB3aXRoIHRoZSBzdWJtaXQtdHlwZSBpbnB1dCBlbGVtZW50IGFzIHRoZSB0YXJnZXQuXG5cdFx0aWYgKGV2ZW50LnRhcmdldC50eXBlID09PSAnc3VibWl0JyAmJiBldmVudC5kZXRhaWwgPT09IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHBlcm1pdHRlZCA9IHRoaXMub25Nb3VzZShldmVudCk7XG5cblx0XHQvLyBPbmx5IHVuc2V0IHRhcmdldEVsZW1lbnQgaWYgdGhlIGNsaWNrIGlzIG5vdCBwZXJtaXR0ZWQuIFRoaXMgd2lsbCBlbnN1cmUgdGhhdCB0aGUgY2hlY2sgZm9yICF0YXJnZXRFbGVtZW50IGluIG9uTW91c2UgZmFpbHMgYW5kIHRoZSBicm93c2VyJ3MgY2xpY2sgZG9lc24ndCBnbyB0aHJvdWdoLlxuXHRcdGlmICghcGVybWl0dGVkKSB7XG5cdFx0XHR0aGlzLnRhcmdldEVsZW1lbnQgPSBudWxsO1xuXHRcdH1cblxuXHRcdC8vIElmIGNsaWNrcyBhcmUgcGVybWl0dGVkLCByZXR1cm4gdHJ1ZSBmb3IgdGhlIGFjdGlvbiB0byBnbyB0aHJvdWdoLlxuXHRcdHJldHVybiBwZXJtaXR0ZWQ7XG5cdH07XG5cblxuXHQvKipcblx0ICogUmVtb3ZlIGFsbCBGYXN0Q2xpY2sncyBldmVudCBsaXN0ZW5lcnMuXG5cdCAqXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGxheWVyID0gdGhpcy5sYXllcjtcblxuXHRcdGlmIChkZXZpY2VJc0FuZHJvaWQpIHtcblx0XHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Nb3VzZSwgdHJ1ZSk7XG5cdFx0XHRsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2UsIHRydWUpO1xuXHRcdFx0bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZSwgdHJ1ZSk7XG5cdFx0fVxuXG5cdFx0bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2ssIHRydWUpO1xuXHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hTdGFydCwgZmFsc2UpO1xuXHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUsIGZhbHNlKTtcblx0XHRsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaEVuZCwgZmFsc2UpO1xuXHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblRvdWNoQ2FuY2VsLCBmYWxzZSk7XG5cdH07XG5cblxuXHQvKipcblx0ICogQ2hlY2sgd2hldGhlciBGYXN0Q2xpY2sgaXMgbmVlZGVkLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGxheWVyIFRoZSBsYXllciB0byBsaXN0ZW4gb25cblx0ICovXG5cdEZhc3RDbGljay5ub3ROZWVkZWQgPSBmdW5jdGlvbihsYXllcikge1xuXHRcdHZhciBtZXRhVmlld3BvcnQ7XG5cdFx0dmFyIGNocm9tZVZlcnNpb247XG5cdFx0dmFyIGJsYWNrYmVycnlWZXJzaW9uO1xuXHRcdHZhciBmaXJlZm94VmVyc2lvbjtcblxuXHRcdC8vIERldmljZXMgdGhhdCBkb24ndCBzdXBwb3J0IHRvdWNoIGRvbid0IG5lZWQgRmFzdENsaWNrXG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hyb21lIHZlcnNpb24gLSB6ZXJvIGZvciBvdGhlciBicm93c2Vyc1xuXHRcdGNocm9tZVZlcnNpb24gPSArKC9DaHJvbWVcXC8oWzAtOV0rKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSB8fCBbLDBdKVsxXTtcblxuXHRcdGlmIChjaHJvbWVWZXJzaW9uKSB7XG5cblx0XHRcdGlmIChkZXZpY2VJc0FuZHJvaWQpIHtcblx0XHRcdFx0bWV0YVZpZXdwb3J0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPXZpZXdwb3J0XScpO1xuXG5cdFx0XHRcdGlmIChtZXRhVmlld3BvcnQpIHtcblx0XHRcdFx0XHQvLyBDaHJvbWUgb24gQW5kcm9pZCB3aXRoIHVzZXItc2NhbGFibGU9XCJub1wiIGRvZXNuJ3QgbmVlZCBGYXN0Q2xpY2sgKGlzc3VlICM4OSlcblx0XHRcdFx0XHRpZiAobWV0YVZpZXdwb3J0LmNvbnRlbnQuaW5kZXhPZigndXNlci1zY2FsYWJsZT1ubycpICE9PSAtMSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIENocm9tZSAzMiBhbmQgYWJvdmUgd2l0aCB3aWR0aD1kZXZpY2Utd2lkdGggb3IgbGVzcyBkb24ndCBuZWVkIEZhc3RDbGlja1xuXHRcdFx0XHRcdGlmIChjaHJvbWVWZXJzaW9uID4gMzEgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoIDw9IHdpbmRvdy5vdXRlcldpZHRoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gQ2hyb21lIGRlc2t0b3AgZG9lc24ndCBuZWVkIEZhc3RDbGljayAoaXNzdWUgIzE1KVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGRldmljZUlzQmxhY2tCZXJyeTEwKSB7XG5cdFx0XHRibGFja2JlcnJ5VmVyc2lvbiA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1ZlcnNpb25cXC8oWzAtOV0qKVxcLihbMC05XSopLyk7XG5cblx0XHRcdC8vIEJsYWNrQmVycnkgMTAuMysgZG9lcyBub3QgcmVxdWlyZSBGYXN0Y2xpY2sgbGlicmFyeS5cblx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mdGxhYnMvZmFzdGNsaWNrL2lzc3Vlcy8yNTFcblx0XHRcdGlmIChibGFja2JlcnJ5VmVyc2lvblsxXSA+PSAxMCAmJiBibGFja2JlcnJ5VmVyc2lvblsyXSA+PSAzKSB7XG5cdFx0XHRcdG1ldGFWaWV3cG9ydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT12aWV3cG9ydF0nKTtcblxuXHRcdFx0XHRpZiAobWV0YVZpZXdwb3J0KSB7XG5cdFx0XHRcdFx0Ly8gdXNlci1zY2FsYWJsZT1ubyBlbGltaW5hdGVzIGNsaWNrIGRlbGF5LlxuXHRcdFx0XHRcdGlmIChtZXRhVmlld3BvcnQuY29udGVudC5pbmRleE9mKCd1c2VyLXNjYWxhYmxlPW5vJykgIT09IC0xKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gd2lkdGg9ZGV2aWNlLXdpZHRoIChvciBsZXNzIHRoYW4gZGV2aWNlLXdpZHRoKSBlbGltaW5hdGVzIGNsaWNrIGRlbGF5LlxuXHRcdFx0XHRcdGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGggPD0gd2luZG93Lm91dGVyV2lkdGgpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIElFMTAgd2l0aCAtbXMtdG91Y2gtYWN0aW9uOiBub25lIG9yIG1hbmlwdWxhdGlvbiwgd2hpY2ggZGlzYWJsZXMgZG91YmxlLXRhcC10by16b29tIChpc3N1ZSAjOTcpXG5cdFx0aWYgKGxheWVyLnN0eWxlLm1zVG91Y2hBY3Rpb24gPT09ICdub25lJyB8fCBsYXllci5zdHlsZS50b3VjaEFjdGlvbiA9PT0gJ21hbmlwdWxhdGlvbicpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIEZpcmVmb3ggdmVyc2lvbiAtIHplcm8gZm9yIG90aGVyIGJyb3dzZXJzXG5cdFx0ZmlyZWZveFZlcnNpb24gPSArKC9GaXJlZm94XFwvKFswLTldKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgWywwXSlbMV07XG5cblx0XHRpZiAoZmlyZWZveFZlcnNpb24gPj0gMjcpIHtcblx0XHRcdC8vIEZpcmVmb3ggMjcrIGRvZXMgbm90IGhhdmUgdGFwIGRlbGF5IGlmIHRoZSBjb250ZW50IGlzIG5vdCB6b29tYWJsZSAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTkyMjg5NlxuXG5cdFx0XHRtZXRhVmlld3BvcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9dmlld3BvcnRdJyk7XG5cdFx0XHRpZiAobWV0YVZpZXdwb3J0ICYmIChtZXRhVmlld3BvcnQuY29udGVudC5pbmRleE9mKCd1c2VyLXNjYWxhYmxlPW5vJykgIT09IC0xIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCA8PSB3aW5kb3cub3V0ZXJXaWR0aCkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSUUxMTogcHJlZml4ZWQgLW1zLXRvdWNoLWFjdGlvbiBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGFuZCBpdCdzIHJlY29tZW5kZWQgdG8gdXNlIG5vbi1wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0Ly8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3dpbmRvd3MvYXBwcy9IaDc2NzMxMy5hc3B4XG5cdFx0aWYgKGxheWVyLnN0eWxlLnRvdWNoQWN0aW9uID09PSAnbm9uZScgfHwgbGF5ZXIuc3R5bGUudG91Y2hBY3Rpb24gPT09ICdtYW5pcHVsYXRpb24nKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG5cblxuXHQvKipcblx0ICogRmFjdG9yeSBtZXRob2QgZm9yIGNyZWF0aW5nIGEgRmFzdENsaWNrIG9iamVjdFxuXHQgKlxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGxheWVyIFRoZSBsYXllciB0byBsaXN0ZW4gb25cblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHNcblx0ICovXG5cdEZhc3RDbGljay5hdHRhY2ggPSBmdW5jdGlvbihsYXllciwgb3B0aW9ucykge1xuXHRcdHJldHVybiBuZXcgRmFzdENsaWNrKGxheWVyLCBvcHRpb25zKTtcblx0fTtcblxuXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIEZhc3RDbGljaztcblx0XHR9KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gRmFzdENsaWNrLmF0dGFjaDtcblx0XHRtb2R1bGUuZXhwb3J0cy5GYXN0Q2xpY2sgPSBGYXN0Q2xpY2s7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LkZhc3RDbGljayA9IEZhc3RDbGljaztcblx0fVxufSgpKTtcbiIsImNvbnN0IFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xuXG5mdW5jdGlvbiBSZWZyZXNoSWNvbihwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIlxuICB9LCBwcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDIsXG4gICAgZDogXCJNNCA0djVoLjU4Mm0xNS4zNTYgMkE4LjAwMSA4LjAwMSAwIDAwNC41ODIgOW0wIDBIOW0xMSAxMXYtNWgtLjU4MW0wIDBhOC4wMDMgOC4wMDMgMCAwMS0xNS4zNTctMm0xNS4zNTcgMkgxNVwiXG4gIH0pKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWZyZXNoSWNvbjsiLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCB7Y3JlYXRlU2VsZWN0b3J9IGZyb20gJ3Jlc2VsZWN0JztcblxuaW1wb3J0IHtHbG9iYWxTdGF0ZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvc3RvcmUnO1xuaW1wb3J0IHtBcHBCaW5kaW5nfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hcHBzJztcbmltcG9ydCB7Q2xpZW50Q29uZmlnfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9jb25maWcnO1xuXG5pbXBvcnQge2dldENvbmZpZ30gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2dlbmVyYWwnO1xuXG4vLyBUaGlzIGZpbGUncyBjb250ZW50cyBiZWxvbmcgdG8gdGhlIEFwcHMgRnJhbWV3b3JrIGZlYXR1cmUuXG4vLyBBcHBzIEZyYW1ld29yayBmZWF0dXJlIGlzIGV4cGVyaW1lbnRhbCwgYW5kIHRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlXG4vLyBzdXNjZXB0aWJsZSB0byBicmVha2luZyBjaGFuZ2VzIHdpdGhvdXQgcHVzaGluZyB0aGUgbWFqb3IgdmVyc2lvbiBvZiB0aGlzIHBhY2thZ2UuXG5leHBvcnQgY29uc3QgYXBwc0VuYWJsZWQgPSBjcmVhdGVTZWxlY3RvcihcbiAgICAoc3RhdGU6IEdsb2JhbFN0YXRlKSA9PiBnZXRDb25maWcoc3RhdGUpLFxuICAgIChjb25maWc/OiBQYXJ0aWFsPENsaWVudENvbmZpZz4pID0+IHtcbiAgICAgICAgY29uc3QgZW5hYmxlZCA9IGNvbmZpZz8uWydGZWF0dXJlRmxhZ0FwcHNFbmFibGVkJyBhcyBrZXlvZiBQYXJ0aWFsPENsaWVudENvbmZpZz5dO1xuICAgICAgICByZXR1cm4gZW5hYmxlZCA9PT0gJ3RydWUnO1xuICAgIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgbWFrZUFwcEJpbmRpbmdzU2VsZWN0b3IgPSAobG9jYXRpb246IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBjcmVhdGVTZWxlY3RvcihcbiAgICAgICAgKHN0YXRlOiBHbG9iYWxTdGF0ZSkgPT4gc3RhdGUuZW50aXRpZXMuYXBwcy5iaW5kaW5ncyxcbiAgICAgICAgKHN0YXRlOiBHbG9iYWxTdGF0ZSkgPT4gYXBwc0VuYWJsZWQoc3RhdGUpLFxuICAgICAgICAoYmluZGluZ3M6IEFwcEJpbmRpbmdbXSwgYXJlQXBwc0VuYWJsZWQ6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgIGlmICghYXJlQXBwc0VuYWJsZWQgfHwgIWJpbmRpbmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBoZWFkZXJCaW5kaW5ncyA9IGJpbmRpbmdzLmZpbHRlcigoYikgPT4gYi5sb2NhdGlvbiA9PT0gbG9jYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIGhlYWRlckJpbmRpbmdzLnJlZHVjZSgoYWNjdW06IEFwcEJpbmRpbmdbXSwgY3VycmVudDogQXBwQmluZGluZykgPT4gYWNjdW0uY29uY2F0KGN1cnJlbnQuYmluZGluZ3MgfHwgW10pLCBbXSk7XG4gICAgICAgIH0sXG4gICAgKTtcbn07XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCB7QXBwc1R5cGVzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25fdHlwZXMnO1xuaW1wb3J0IHtDbGllbnQ0fSBmcm9tICdjaGF0dGluZy1yZWR1eC9jbGllbnQnO1xuXG5pbXBvcnQge0FjdGlvbkZ1bmMsIERpc3BhdGNoRnVuYywgR2V0U3RhdGVGdW5jfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcbmltcG9ydCB7Z2V0Q2hhbm5lbH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2NoYW5uZWxzJztcblxuaW1wb3J0IHtiaW5kQ2xpZW50RnVuY30gZnJvbSAnLi9oZWxwZXJzJztcblxuLy8gVGhpcyBmaWxlJ3MgY29udGVudHMgYmVsb25nIHRvIHRoZSBBcHBzIEZyYW1ld29yayBmZWF0dXJlLlxuLy8gQXBwcyBGcmFtZXdvcmsgZmVhdHVyZSBpcyBleHBlcmltZW50YWwsIGFuZCB0aGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZVxuLy8gc3VzY2VwdGlibGUgdG8gYnJlYWtpbmcgY2hhbmdlcyB3aXRob3V0IHB1c2hpbmcgdGhlIG1ham9yIHZlcnNpb24gb2YgdGhpcyBwYWNrYWdlLlxuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hBcHBCaW5kaW5ncyh1c2VySUQ6IHN0cmluZywgY2hhbm5lbElEOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IGdldENoYW5uZWwoZ2V0U3RhdGUoKSwgY2hhbm5lbElEKTtcbiAgICAgICAgY29uc3QgdGVhbUlEID0gY2hhbm5lbD8udGVhbV9pZCB8fCAnJztcblxuICAgICAgICByZXR1cm4gZGlzcGF0Y2goYmluZENsaWVudEZ1bmMoe1xuICAgICAgICAgICAgY2xpZW50RnVuYzogKCkgPT4gQ2xpZW50NC5nZXRBcHBzQmluZGluZ3ModXNlcklELCBjaGFubmVsSUQsIHRlYW1JRCksXG4gICAgICAgICAgICBvblN1Y2Nlc3M6IEFwcHNUeXBlcy5SRUNFSVZFRF9BUFBfQklORElOR1MsXG4gICAgICAgIH0pKTtcbiAgICB9O1xufVxuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5pbXBvcnQge1VzZXJUeXBlc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9uX3R5cGVzJztcblxuaW1wb3J0IHtnZXRDdXJyZW50VXNlcklkLCBnZXRVc2Vyc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3VzZXJzJztcblxuaW1wb3J0IHtBY3Rpb25GdW5jLCBEaXNwYXRjaEZ1bmMsIEdldFN0YXRlRnVuYywgYmF0Y2hBY3Rpb25zfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcblxuaW1wb3J0IHtnZXRLbm93blVzZXJzfSBmcm9tICcuL3VzZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vdFZpc2libGVVc2VycygpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgICBsZXQga25vd25Vc2VyczogU2V0PHN0cmluZz47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBmZXRjaFJlc3VsdCA9IGF3YWl0IGRpc3BhdGNoKGdldEtub3duVXNlcnMoKSk7XG4gICAgICAgICAgICBrbm93blVzZXJzID0gbmV3IFNldCgoZmV0Y2hSZXN1bHQgYXMgYW55KS5kYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4ge2Vycm9yOiBlcnJ9O1xuICAgICAgICB9XG4gICAgICAgIGtub3duVXNlcnMuYWRkKGdldEN1cnJlbnRVc2VySWQoc3RhdGUpKTtcblxuICAgICAgICBjb25zdCBhbGxVc2VycyA9IE9iamVjdC5rZXlzKGdldFVzZXJzKHN0YXRlKSk7XG4gICAgICAgIGNvbnN0IHVzZXJzVG9SZW1vdmUgPSBuZXcgU2V0KGFsbFVzZXJzLmZpbHRlcigoeCkgPT4gIWtub3duVXNlcnMuaGFzKHgpKSk7XG5cbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHVzZXJUb1JlbW92ZSBvZiB1c2Vyc1RvUmVtb3ZlLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goe3R5cGU6IFVzZXJUeXBlcy5QUk9GSUxFX05PX0xPTkdFUl9WSVNJQkxFLCBkYXRhOiB7dXNlcl9pZDogdXNlclRvUmVtb3ZlfX0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhhY3Rpb25zKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge2RhdGE6IHRydWV9O1xuICAgIH07XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5pbXBvcnQge0FkbWluVHlwZXN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbl90eXBlcyc7XG5pbXBvcnQge0dlbmVyYWx9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQge0NsaWVudDR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2NsaWVudCc7XG5cbmltcG9ydCB7QWN0aW9uLCBBY3Rpb25GdW5jLCBiYXRjaEFjdGlvbnMsIERpc3BhdGNoRnVuYywgR2V0U3RhdGVGdW5jfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcbmltcG9ydCB7Q29tcGxpYW5jZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvY29tcGxpYW5jZSc7XG5pbXBvcnQge0dyb3VwU2VhcmNoT3B0c30gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvZ3JvdXBzJztcbmltcG9ydCB7XG4gICAgQ3JlYXRlRGF0YVJldGVudGlvbkN1c3RvbVBvbGljeSxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvZGF0YV9yZXRlbnRpb24nO1xuaW1wb3J0IHtcbiAgICBUZWFtU2VhcmNoT3B0cyxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvdGVhbXMnO1xuaW1wb3J0IHtcbiAgICBDaGFubmVsU2VhcmNoT3B0cyxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvY2hhbm5lbHMnO1xuXG5pbXBvcnQge2JpbmRDbGllbnRGdW5jLCBmb3JjZUxvZ291dElmTmVjZXNzYXJ5fSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHtsb2dFcnJvcn0gZnJvbSAnLi9lcnJvcnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9ncyhwYWdlID0gMCwgcGVyUGFnZTogbnVtYmVyID0gR2VuZXJhbC5MT0dTX1BBR0VfU0laRV9ERUZBVUxUKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5nZXRMb2dzLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuR0VUX0xPR1NfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBbQWRtaW5UeXBlcy5SRUNFSVZFRF9MT0dTLCBBZG1pblR5cGVzLkdFVF9MT0dTX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuR0VUX0xPR1NfRkFJTFVSRSxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgcGVyUGFnZSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEF1ZGl0cyhwYWdlID0gMCwgcGVyUGFnZTogbnVtYmVyID0gR2VuZXJhbC5QQUdFX1NJWkVfREVGQVVMVCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0QXVkaXRzLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuR0VUX0FVRElUU19SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX0FVRElUUywgQWRtaW5UeXBlcy5HRVRfQVVESVRTX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuR0VUX0FVRElUU19GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgICBwZXJQYWdlLFxuICAgICAgICBdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29uZmlnKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0Q29uZmlnLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuR0VUX0NPTkZJR19SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX0NPTkZJRywgQWRtaW5UeXBlcy5HRVRfQ09ORklHX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuR0VUX0NPTkZJR19GQUlMVVJFLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ29uZmlnKGNvbmZpZzogUmVjb3JkPHN0cmluZywgYW55Pik6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudXBkYXRlQ29uZmlnLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuVVBEQVRFX0NPTkZJR19SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX0NPTkZJRywgQWRtaW5UeXBlcy5VUERBVEVfQ09ORklHX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuVVBEQVRFX0NPTkZJR19GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbG9hZENvbmZpZygpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LnJlbG9hZENvbmZpZyxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLlJFTE9BRF9DT05GSUdfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlJFTE9BRF9DT05GSUdfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlJFTE9BRF9DT05GSUdfRkFJTFVSRSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVudmlyb25tZW50Q29uZmlnKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0RW52aXJvbm1lbnRDb25maWcsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5HRVRfRU5WSVJPTk1FTlRfQ09ORklHX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogW0FkbWluVHlwZXMuUkVDRUlWRURfRU5WSVJPTk1FTlRfQ09ORklHLCBBZG1pblR5cGVzLkdFVF9FTlZJUk9OTUVOVF9DT05GSUdfU1VDQ0VTU10sXG4gICAgICAgIG9uRmFpbHVyZTogQWRtaW5UeXBlcy5HRVRfRU5WSVJPTk1FTlRfQ09ORklHX0ZBSUxVUkUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0RW1haWwoY29uZmlnOiBhbnkpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LnRlc3RFbWFpbCxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLlRFU1RfRU1BSUxfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlRFU1RfRU1BSUxfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlRFU1RfRU1BSUxfRkFJTFVSRSxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgIF0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0U2l0ZVVSTChzaXRlVVJMOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LnRlc3RTaXRlVVJMLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuVEVTVF9TSVRFX1VSTF9SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuVEVTVF9TSVRFX1VSTF9TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuVEVTVF9TSVRFX1VSTF9GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHNpdGVVUkwsXG4gICAgICAgIF0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0UzNDb25uZWN0aW9uKGNvbmZpZzogYW55KTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC50ZXN0UzNDb25uZWN0aW9uLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuVEVTVF9TM19SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuVEVTVF9TM19TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuVEVTVF9TM19GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRhdGVDYWNoZXMoKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5pbnZhbGlkYXRlQ2FjaGVzLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuSU5WQUxJREFURV9DQUNIRVNfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLklOVkFMSURBVEVfQ0FDSEVTX1NVQ0NFU1MsXG4gICAgICAgIG9uRmFpbHVyZTogQWRtaW5UeXBlcy5JTlZBTElEQVRFX0NBQ0hFU19GQUlMVVJFLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVjeWNsZURhdGFiYXNlKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQucmVjeWNsZURhdGFiYXNlLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuUkVDWUNMRV9EQVRBQkFTRV9SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuUkVDWUNMRV9EQVRBQkFTRV9TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuUkVDWUNMRV9EQVRBQkFTRV9GQUlMVVJFLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29tcGxpYW5jZVJlcG9ydChqb2I6IFBhcnRpYWw8Q29tcGxpYW5jZT4pOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmNyZWF0ZUNvbXBsaWFuY2VSZXBvcnQsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5DUkVBVEVfQ09NUExJQU5DRV9SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX0NPTVBMSUFOQ0VfUkVQT1JULCBBZG1pblR5cGVzLkNSRUFURV9DT01QTElBTkNFX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuQ1JFQVRFX0NPTVBMSUFOQ0VfRkFJTFVSRSxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBqb2IsXG4gICAgICAgIF0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wbGlhbmNlUmVwb3J0KHJlcG9ydElkOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmdldENvbXBsaWFuY2VSZXBvcnQsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5HRVRfQ09NUExJQU5DRV9SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX0NPTVBMSUFOQ0VfUkVQT1JULCBBZG1pblR5cGVzLkdFVF9DT01QTElBTkNFX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuR0VUX0NPTVBMSUFOQ0VfRkFJTFVSRSxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICByZXBvcnRJZCxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBsaWFuY2VSZXBvcnRzKHBhZ2UgPSAwLCBwZXJQYWdlOiBudW1iZXIgPSBHZW5lcmFsLlBBR0VfU0laRV9ERUZBVUxUKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5nZXRDb21wbGlhbmNlUmVwb3J0cyxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLkdFVF9DT01QTElBTkNFX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogW0FkbWluVHlwZXMuUkVDRUlWRURfQ09NUExJQU5DRV9SRVBPUlRTLCBBZG1pblR5cGVzLkdFVF9DT01QTElBTkNFX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuR0VUX0NPTVBMSUFOQ0VfRkFJTFVSRSxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgcGVyUGFnZSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZEJyYW5kSW1hZ2UoaW1hZ2VEYXRhOiBGaWxlKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC51cGxvYWRCcmFuZEltYWdlLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuVVBMT0FEX0JSQU5EX0lNQUdFX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5VUExPQURfQlJBTkRfSU1BR0VfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlVQTE9BRF9CUkFORF9JTUFHRV9GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIGltYWdlRGF0YSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUJyYW5kSW1hZ2UoKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5kZWxldGVCcmFuZEltYWdlLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuREVMRVRFX0JSQU5EX0lNQUdFX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5ERUxFVEVfQlJBTkRfSU1BR0VfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLkRFTEVURV9CUkFORF9JTUFHRV9GQUlMVVJFLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2x1c3RlclN0YXR1cygpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmdldENsdXN0ZXJTdGF0dXMsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5HRVRfQ0xVU1RFUl9TVEFUVVNfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBbQWRtaW5UeXBlcy5SRUNFSVZFRF9DTFVTVEVSX1NUQVRVUywgQWRtaW5UeXBlcy5HRVRfQ0xVU1RFUl9TVEFUVVNfU1VDQ0VTU10sXG4gICAgICAgIG9uRmFpbHVyZTogQWRtaW5UeXBlcy5HRVRfQ0xVU1RFUl9TVEFUVVNfRkFJTFVSRSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlc3RMZGFwKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudGVzdExkYXAsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5URVNUX0xEQVBfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlRFU1RfTERBUF9TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuVEVTVF9MREFQX0ZBSUxVUkUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzeW5jTGRhcCgpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LnN5bmNMZGFwLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuU1lOQ19MREFQX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5TWU5DX0xEQVBfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlNZTkNfTERBUF9GQUlMVVJFLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGRhcEdyb3VwcyhwYWdlID0gMCwgcGVyUGFnZTogbnVtYmVyID0gR2VuZXJhbC5QQUdFX1NJWkVfTUFYSU1VTSwgb3B0czogR3JvdXBTZWFyY2hPcHRzID0ge3E6ICcnfSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0TGRhcEdyb3VwcyxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLkdFVF9MREFQX0dST1VQU19SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX0xEQVBfR1JPVVBTLCBBZG1pblR5cGVzLkdFVF9MREFQX0dST1VQU19TVUNDRVNTXSxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLkdFVF9MREFQX0dST1VQU19GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgICBwZXJQYWdlLFxuICAgICAgICAgICAgb3B0cyxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbmtMZGFwR3JvdXAoa2V5OiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe3R5cGU6IEFkbWluVHlwZXMuTElOS19MREFQX0dST1VQX1JFUVVFU1QsIGRhdGE6IGtleX0pO1xuXG4gICAgICAgIGxldCBkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IGF3YWl0IENsaWVudDQubGlua0xkYXBHcm91cChrZXkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhbXG4gICAgICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuTElOS19MREFQX0dST1VQX0ZBSUxVUkUsIGVycm9yLCBkYXRhOiBrZXl9LFxuICAgICAgICAgICAgICAgIGxvZ0Vycm9yKGVycm9yKSxcbiAgICAgICAgICAgIF0pKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3J9O1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKFtcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLkxJTktfTERBUF9HUk9VUF9TVUNDRVNTLCBkYXRhOiBudWxsfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBBZG1pblR5cGVzLkxJTktFRF9MREFQX0dST1VQLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeV9rZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YS5kaXNwbGF5X25hbWUsXG4gICAgICAgICAgICAgICAgICAgIG1hdHRlcm1vc3RfZ3JvdXBfaWQ6IGRhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIGhhc19zeW5jYWJsZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdKSk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhOiB0cnVlfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5saW5rTGRhcEdyb3VwKGtleTogc3RyaW5nKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaDogRGlzcGF0Y2hGdW5jLCBnZXRTdGF0ZTogR2V0U3RhdGVGdW5jKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHt0eXBlOiBBZG1pblR5cGVzLlVOTElOS19MREFQX0dST1VQX1JFUVVFU1QsIGRhdGE6IGtleX0pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBDbGllbnQ0LnVubGlua0xkYXBHcm91cChrZXkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhbXG4gICAgICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuVU5MSU5LX0xEQVBfR1JPVVBfRkFJTFVSRSwgZXJyb3IsIGRhdGE6IGtleX0sXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChiYXRjaEFjdGlvbnMoW1xuICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuVU5MSU5LX0xEQVBfR1JPVVBfU1VDQ0VTUywgZGF0YTogbnVsbH0sXG4gICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5VTkxJTktFRF9MREFQX0dST1VQLCBkYXRhOiBrZXl9LFxuICAgICAgICBdKSk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhOiB0cnVlfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2FtbENlcnRpZmljYXRlU3RhdHVzKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0U2FtbENlcnRpZmljYXRlU3RhdHVzLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuU0FNTF9DRVJUX1NUQVRVU19SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX1NBTUxfQ0VSVF9TVEFUVVMsIEFkbWluVHlwZXMuU0FNTF9DRVJUX1NUQVRVU19TVUNDRVNTXSxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlNBTUxfQ0VSVF9TVEFUVVNfRkFJTFVSRSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZFB1YmxpY1NhbWxDZXJ0aWZpY2F0ZShmaWxlRGF0YTogRmlsZSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudXBsb2FkUHVibGljU2FtbENlcnRpZmljYXRlLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuVVBMT0FEX1NBTUxfUFVCTElDX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5VUExPQURfU0FNTF9QVUJMSUNfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlVQTE9BRF9TQU1MX1BVQkxJQ19GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIGZpbGVEYXRhLFxuICAgICAgICBdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBsb2FkUHJpdmF0ZVNhbWxDZXJ0aWZpY2F0ZShmaWxlRGF0YTogRmlsZSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudXBsb2FkUHJpdmF0ZVNhbWxDZXJ0aWZpY2F0ZSxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLlVQTE9BRF9TQU1MX1BSSVZBVEVfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlVQTE9BRF9TQU1MX1BSSVZBVEVfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlVQTE9BRF9TQU1MX1BSSVZBVEVfRkFJTFVSRSxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBmaWxlRGF0YSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZFB1YmxpY0xkYXBDZXJ0aWZpY2F0ZShmaWxlRGF0YTogRmlsZSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudXBsb2FkUHVibGljTGRhcENlcnRpZmljYXRlLFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuVVBMT0FEX0xEQVBfUFVCTElDX1NVQ0NFU1MsXG4gICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgZmlsZURhdGEsXG4gICAgICAgIF0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGxvYWRQcml2YXRlTGRhcENlcnRpZmljYXRlKGZpbGVEYXRhOiBGaWxlKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC51cGxvYWRQcml2YXRlTGRhcENlcnRpZmljYXRlLFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuVVBMT0FEX0xEQVBfUFJJVkFURV9TVUNDRVNTLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIGZpbGVEYXRhLFxuICAgICAgICBdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBsb2FkSWRwU2FtbENlcnRpZmljYXRlKGZpbGVEYXRhOiBGaWxlKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC51cGxvYWRJZHBTYW1sQ2VydGlmaWNhdGUsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5VUExPQURfU0FNTF9JRFBfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlVQTE9BRF9TQU1MX0lEUF9TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuVVBMT0FEX1NBTUxfSURQX0ZBSUxVUkUsXG4gICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgZmlsZURhdGEsXG4gICAgICAgIF0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVQdWJsaWNTYW1sQ2VydGlmaWNhdGUoKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5kZWxldGVQdWJsaWNTYW1sQ2VydGlmaWNhdGUsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5ERUxFVEVfU0FNTF9QVUJMSUNfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLkRFTEVURV9TQU1MX1BVQkxJQ19TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuREVMRVRFX1NBTUxfUFVCTElDX0ZBSUxVUkUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVQcml2YXRlU2FtbENlcnRpZmljYXRlKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZGVsZXRlUHJpdmF0ZVNhbWxDZXJ0aWZpY2F0ZSxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLkRFTEVURV9TQU1MX1BSSVZBVEVfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLkRFTEVURV9TQU1MX1BSSVZBVEVfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLkRFTEVURV9TQU1MX1BSSVZBVEVfRkFJTFVSRSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVB1YmxpY0xkYXBDZXJ0aWZpY2F0ZSgpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmRlbGV0ZVB1YmxpY0xkYXBDZXJ0aWZpY2F0ZSxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLkRFTEVURV9MREFQX1BVQkxJQ19TVUNDRVNTLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUHJpdmF0ZUxkYXBDZXJ0aWZpY2F0ZSgpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmRlbGV0ZVByaXZhdGVMZGFwQ2VydGlmaWNhdGUsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5ERUxFVEVfTERBUF9QUklWQVRFX1NVQ0NFU1MsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVJZHBTYW1sQ2VydGlmaWNhdGUoKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5kZWxldGVJZHBTYW1sQ2VydGlmaWNhdGUsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5ERUxFVEVfU0FNTF9JRFBfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLkRFTEVURV9TQU1MX0lEUF9TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuREVMRVRFX1NBTUxfSURQX0ZBSUxVUkUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0RWxhc3RpY3NlYXJjaChjb25maWc6IGFueSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudGVzdEVsYXN0aWNzZWFyY2gsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5URVNUX0VMQVNUSUNTRUFSQ0hfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlRFU1RfRUxBU1RJQ1NFQVJDSF9TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuVEVTVF9FTEFTVElDU0VBUkNIX0ZBSUxVUkUsXG4gICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICBdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHVyZ2VFbGFzdGljc2VhcmNoSW5kZXhlcygpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LnB1cmdlRWxhc3RpY3NlYXJjaEluZGV4ZXMsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5QVVJHRV9FTEFTVElDU0VBUkNIX0lOREVYRVNfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlBVUkdFX0VMQVNUSUNTRUFSQ0hfSU5ERVhFU19TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuUFVSR0VfRUxBU1RJQ1NFQVJDSF9JTkRFWEVTX0ZBSUxVUkUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGxvYWRMaWNlbnNlKGZpbGVEYXRhOiBGaWxlKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC51cGxvYWRMaWNlbnNlLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuVVBMT0FEX0xJQ0VOU0VfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlVQTE9BRF9MSUNFTlNFX1NVQ0NFU1MsXG4gICAgICAgIG9uRmFpbHVyZTogQWRtaW5UeXBlcy5VUExPQURfTElDRU5TRV9GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIGZpbGVEYXRhLFxuICAgICAgICBdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTGljZW5zZSgpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LnJlbW92ZUxpY2Vuc2UsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5SRU1PVkVfTElDRU5TRV9SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuUkVNT1ZFX0xJQ0VOU0VfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlJFTU9WRV9MSUNFTlNFX0ZBSUxVUkUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbmFseXRpY3MobmFtZTogc3RyaW5nLCB0ZWFtSWQgPSAnJyk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoRnVuYywgZ2V0U3RhdGU6IEdldFN0YXRlRnVuYykgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7dHlwZTogQWRtaW5UeXBlcy5HRVRfQU5BTFlUSUNTX1JFUVVFU1QsIGRhdGE6IG51bGx9KTtcblxuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBDbGllbnQ0LmdldEFuYWx5dGljcyhuYW1lLCB0ZWFtSWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhbXG4gICAgICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuR0VUX0FOQUxZVElDU19GQUlMVVJFLCBlcnJvcn0sXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhY3Rpb25zOiBBY3Rpb25bXSA9IFt7dHlwZTogQWRtaW5UeXBlcy5HRVRfQU5BTFlUSUNTX1NVQ0NFU1MsIGRhdGE6IG51bGx9XTtcbiAgICAgICAgaWYgKHRlYW1JZCA9PT0gJycpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7dHlwZTogQWRtaW5UeXBlcy5SRUNFSVZFRF9TWVNURU1fQU5BTFlUSUNTLCBkYXRhLCBuYW1lfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goe3R5cGU6IEFkbWluVHlwZXMuUkVDRUlWRURfVEVBTV9BTkFMWVRJQ1MsIGRhdGEsIG5hbWUsIHRlYW1JZH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKGFjdGlvbnMpKTtcblxuICAgICAgICByZXR1cm4ge2RhdGF9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFuZGFyZEFuYWx5dGljcyh0ZWFtSWQgPSAnJyk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBnZXRBbmFseXRpY3MoJ3N0YW5kYXJkJywgdGVhbUlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFkdmFuY2VkQW5hbHl0aWNzKHRlYW1JZCA9ICcnKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGdldEFuYWx5dGljcygnZXh0cmFfY291bnRzJywgdGVhbUlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc3RzUGVyRGF5QW5hbHl0aWNzKHRlYW1JZCA9ICcnKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGdldEFuYWx5dGljcygncG9zdF9jb3VudHNfZGF5JywgdGVhbUlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvdFBvc3RzUGVyRGF5QW5hbHl0aWNzKHRlYW1JZCA9ICcnKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGdldEFuYWx5dGljcygnYm90X3Bvc3RfY291bnRzX2RheScsIHRlYW1JZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2Vyc1BlckRheUFuYWx5dGljcyh0ZWFtSWQgPSAnJyk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBnZXRBbmFseXRpY3MoJ3VzZXJfY291bnRzX3dpdGhfcG9zdHNfZGF5JywgdGVhbUlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZFBsdWdpbihmaWxlRGF0YTogRmlsZSwgZm9yY2UgPSBmYWxzZSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoRnVuYywgZ2V0U3RhdGU6IEdldFN0YXRlRnVuYykgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7dHlwZTogQWRtaW5UeXBlcy5VUExPQURfUExVR0lOX1JFUVVFU1QsIGRhdGE6IG51bGx9KTtcblxuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBDbGllbnQ0LnVwbG9hZFBsdWdpbihmaWxlRGF0YSwgZm9yY2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhbXG4gICAgICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuVVBMT0FEX1BMVUdJTl9GQUlMVVJFLCBlcnJvcn0sXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChiYXRjaEFjdGlvbnMoW1xuICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuVVBMT0FEX1BMVUdJTl9TVUNDRVNTLCBkYXRhOiBudWxsfSxcbiAgICAgICAgXSkpO1xuXG4gICAgICAgIHJldHVybiB7ZGF0YX07XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGxQbHVnaW5Gcm9tVXJsKHVybDogc3RyaW5nLCBmb3JjZSA9IGZhbHNlKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe3R5cGU6IEFkbWluVHlwZXMuSU5TVEFMTF9QTFVHSU5fRlJPTV9VUkxfUkVRVUVTVCwgZGF0YTogbnVsbH0pO1xuXG4gICAgICAgIGxldCBkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IGF3YWl0IENsaWVudDQuaW5zdGFsbFBsdWdpbkZyb21VcmwodXJsLCBmb3JjZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKFtcbiAgICAgICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5JTlNUQUxMX1BMVUdJTl9GUk9NX1VSTF9GQUlMVVJFLCBlcnJvcn0sXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaCh7dHlwZTogQWRtaW5UeXBlcy5JTlNUQUxMX1BMVUdJTl9GUk9NX1VSTF9TVUNDRVNTLCBkYXRhOiBudWxsfSk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGx1Z2lucygpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmdldFBsdWdpbnMsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5HRVRfUExVR0lOX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogW0FkbWluVHlwZXMuR0VUX1BMVUdJTl9TVUNDRVNTLCBBZG1pblR5cGVzLlJFQ0VJVkVEX1BMVUdJTlNdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuR0VUX1BMVUdJTl9GQUlMVVJFLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGx1Z2luU3RhdHVzZXMoKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5nZXRQbHVnaW5TdGF0dXNlcyxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLkdFVF9QTFVHSU5fU1RBVFVTRVNfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBbQWRtaW5UeXBlcy5HRVRfUExVR0lOX1NUQVRVU0VTX1NVQ0NFU1MsIEFkbWluVHlwZXMuUkVDRUlWRURfUExVR0lOX1NUQVRVU0VTXSxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLkdFVF9QTFVHSU5fU1RBVFVTRVNfRkFJTFVSRSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVBsdWdpbihwbHVnaW5JZDogc3RyaW5nKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaDogRGlzcGF0Y2hGdW5jLCBnZXRTdGF0ZTogR2V0U3RhdGVGdW5jKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHt0eXBlOiBBZG1pblR5cGVzLlJFTU9WRV9QTFVHSU5fUkVRVUVTVCwgZGF0YTogcGx1Z2luSWR9KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgQ2xpZW50NC5yZW1vdmVQbHVnaW4ocGx1Z2luSWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhbXG4gICAgICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuUkVNT1ZFX1BMVUdJTl9GQUlMVVJFLCBlcnJvciwgZGF0YTogcGx1Z2luSWR9LFxuICAgICAgICAgICAgICAgIGxvZ0Vycm9yKGVycm9yKSxcbiAgICAgICAgICAgIF0pKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3J9O1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKFtcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLlJFTU9WRV9QTFVHSU5fU1VDQ0VTUywgZGF0YTogbnVsbH0sXG4gICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5SRU1PVkVEX1BMVUdJTiwgZGF0YTogcGx1Z2luSWR9LFxuICAgICAgICBdKSk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhOiB0cnVlfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlUGx1Z2luKHBsdWdpbklkOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe3R5cGU6IEFkbWluVHlwZXMuRU5BQkxFX1BMVUdJTl9SRVFVRVNULCBkYXRhOiBwbHVnaW5JZH0pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBDbGllbnQ0LmVuYWJsZVBsdWdpbihwbHVnaW5JZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKFtcbiAgICAgICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5FTkFCTEVfUExVR0lOX0ZBSUxVUkUsIGVycm9yLCBkYXRhOiBwbHVnaW5JZH0sXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChiYXRjaEFjdGlvbnMoW1xuICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuRU5BQkxFX1BMVUdJTl9TVUNDRVNTLCBkYXRhOiBudWxsfSxcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLkVOQUJMRURfUExVR0lOLCBkYXRhOiBwbHVnaW5JZH0sXG4gICAgICAgIF0pKTtcblxuICAgICAgICByZXR1cm4ge2RhdGE6IHRydWV9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlUGx1Z2luKHBsdWdpbklkOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe3R5cGU6IEFkbWluVHlwZXMuRElTQUJMRV9QTFVHSU5fUkVRVUVTVCwgZGF0YTogcGx1Z2luSWR9KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgQ2xpZW50NC5kaXNhYmxlUGx1Z2luKHBsdWdpbklkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGZvcmNlTG9nb3V0SWZOZWNlc3NhcnkoZXJyb3IsIGRpc3BhdGNoLCBnZXRTdGF0ZSk7XG4gICAgICAgICAgICBkaXNwYXRjaChiYXRjaEFjdGlvbnMoW1xuICAgICAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLkRJU0FCTEVfUExVR0lOX0ZBSUxVUkUsIGVycm9yLCBkYXRhOiBwbHVnaW5JZH0sXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChiYXRjaEFjdGlvbnMoW1xuICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuRElTQUJMRV9QTFVHSU5fU1VDQ0VTUywgZGF0YTogbnVsbH0sXG4gICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5ESVNBQkxFRF9QTFVHSU4sIGRhdGE6IHBsdWdpbklkfSxcbiAgICAgICAgXSkpO1xuXG4gICAgICAgIHJldHVybiB7ZGF0YTogdHJ1ZX07XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNhbWxNZXRhZGF0YUZyb21JZHAoc2FtbE1ldGFkYXRhVVJMOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmdldFNhbWxNZXRhZGF0YUZyb21JZHAsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5SRUNFSVZFRF9TQU1MX01FVEFEQVRBX1JFU1BPTlNFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHNhbWxNZXRhZGF0YVVSTCxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNhbWxJZHBDZXJ0aWZpY2F0ZUZyb21NZXRhZGF0YShjZXJ0RGF0YTogc3RyaW5nKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5zZXRTYW1sSWRwQ2VydGlmaWNhdGVGcm9tTWV0YWRhdGEsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5TRVRfU0FNTF9JRFBfU1VDQ0VTUyxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBjZXJ0RGF0YSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRXYXJuTWV0cmljQWNrKHdhcm5NZXRyaWNJZDogc3RyaW5nLCBmb3JjZUFjazogYm9vbGVhbikge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoRnVuYykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQ2xpZW50NC50cmFja0V2ZW50KCdhcGknLCAnYXBpX3JlcXVlc3Rfc2VuZF9tZXRyaWNfYWNrJywge3dhcm5NZXRyaWNJZH0pO1xuICAgICAgICAgICAgYXdhaXQgQ2xpZW50NC5zZW5kV2Fybk1ldHJpY0Fjayh3YXJuTWV0cmljSWQsIGZvcmNlQWNrKTtcbiAgICAgICAgICAgIHJldHVybiB7ZGF0YTogdHJ1ZX07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKGxvZ0Vycm9yKGUpKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3I6IGUubWVzc2FnZX07XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YVJldGVudGlvbkN1c3RvbVBvbGljaWVzKHBhZ2UgPSAwLCBwZXJQYWdlID0gMTApOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhID0gYXdhaXQgQ2xpZW50NC5nZXREYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWNpZXMocGFnZSwgcGVyUGFnZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBZG1pblR5cGVzLlJFQ0VJVkVEX0RBVEFfUkVURU5USU9OX0NVU1RPTV9QT0xJQ0lFUyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4ge2Vycm9yfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuUkVDRUlWRURfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDSUVTLCBkYXRhfSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4ge2RhdGF9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWN5KGlkOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhID0gYXdhaXQgQ2xpZW50NC5nZXREYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWN5KGlkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGZvcmNlTG9nb3V0SWZOZWNlc3NhcnkoZXJyb3IsIGRpc3BhdGNoLCBnZXRTdGF0ZSk7XG4gICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEFkbWluVHlwZXMuUkVDRUlWRURfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDWSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4ge2Vycm9yfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuUkVDRUlWRURfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDWSwgZGF0YX0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRGF0YVJldGVudGlvbkN1c3RvbVBvbGljeShpZDogc3RyaW5nKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaDogRGlzcGF0Y2hGdW5jLCBnZXRTdGF0ZTogR2V0U3RhdGVGdW5jKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBDbGllbnQ0LmRlbGV0ZURhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3koaWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWRtaW5UeXBlcy5ERUxFVEVfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDWV9GQUlMVVJFLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3J9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgfTtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5ERUxFVEVfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDWV9TVUNDRVNTLCBkYXRhfSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4ge2RhdGF9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWN5VGVhbXMoaWQ6IHN0cmluZywgcGFnZSA9IDAsIHBlclBhZ2U6IG51bWJlciA9IEdlbmVyYWwuVEVBTVNfQ0hVTktfU0laRSwgaW5jbHVkZVRvdGFsQ291bnQgPSBmYWxzZSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoRnVuYywgZ2V0U3RhdGU6IEdldFN0YXRlRnVuYykgPT4ge1xuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBDbGllbnQ0LmdldERhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lUZWFtcyhpZCwgcGFnZSwgcGVyUGFnZSwgaW5jbHVkZVRvdGFsQ291bnQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWRtaW5UeXBlcy5SRUNFSVZFRF9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX1RFQU1TLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3J9O1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5SRUNFSVZFRF9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX1RFQU1TLCBkYXRhfSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4ge2RhdGF9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWN5Q2hhbm5lbHMoaWQ6IHN0cmluZywgcGFnZSA9IDAsIHBlclBhZ2U6IG51bWJlciA9IEdlbmVyYWwuVEVBTVNfQ0hVTktfU0laRSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoRnVuYywgZ2V0U3RhdGU6IEdldFN0YXRlRnVuYykgPT4ge1xuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBDbGllbnQ0LmdldERhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lDaGFubmVscyhpZCwgcGFnZSwgcGVyUGFnZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBZG1pblR5cGVzLlJFQ0VJVkVEX0RBVEFfUkVURU5USU9OX0NVU1RPTV9QT0xJQ1lfQ0hBTk5FTFMsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLlJFQ0VJVkVEX0RBVEFfUkVURU5USU9OX0NVU1RPTV9QT0xJQ1lfQ0hBTk5FTFMsIGRhdGF9LFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7ZGF0YX07XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaERhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lUZWFtcyhpZDogc3RyaW5nLCB0ZXJtOiBzdHJpbmcsIG9wdHM6IFRlYW1TZWFyY2hPcHRzKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaDogRGlzcGF0Y2hGdW5jLCBnZXRTdGF0ZTogR2V0U3RhdGVGdW5jKSA9PiB7XG4gICAgICAgIGxldCBkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IGF3YWl0IENsaWVudDQuc2VhcmNoRGF0YVJldGVudGlvbkN1c3RvbVBvbGljeVRlYW1zKGlkLCB0ZXJtLCBvcHRzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGZvcmNlTG9nb3V0SWZOZWNlc3NhcnkoZXJyb3IsIGRpc3BhdGNoLCBnZXRTdGF0ZSk7XG4gICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEFkbWluVHlwZXMuUkVDRUlWRURfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDWV9URUFNU19TRUFSQ0gsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLlJFQ0VJVkVEX0RBVEFfUkVURU5USU9OX0NVU1RPTV9QT0xJQ1lfVEVBTVNfU0VBUkNILCBkYXRhfSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4ge2RhdGF9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hEYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWN5Q2hhbm5lbHMoaWQ6IHN0cmluZywgdGVybTogc3RyaW5nLCBvcHRzOiBDaGFubmVsU2VhcmNoT3B0cyk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoRnVuYywgZ2V0U3RhdGU6IEdldFN0YXRlRnVuYykgPT4ge1xuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBDbGllbnQ0LnNlYXJjaERhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lDaGFubmVscyhpZCwgdGVybSwgb3B0cyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBZG1pblR5cGVzLlJFQ0VJVkVEX0RBVEFfUkVURU5USU9OX0NVU1RPTV9QT0xJQ1lfQ0hBTk5FTFNfU0VBUkNILFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3J9O1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5SRUNFSVZFRF9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX0NIQU5ORUxTX1NFQVJDSCwgZGF0YX0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGF0YVJldGVudGlvbkN1c3RvbVBvbGljeShwb2xpY3k6IENyZWF0ZURhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3kpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmNyZWF0ZURhdGFSZXRlbnRpb25Qb2xpY3ksXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5DUkVBVEVfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDWV9TVUNDRVNTLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHBvbGljeSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZURhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3koaWQ6IHN0cmluZywgcG9saWN5OiBDcmVhdGVEYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWN5KTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC51cGRhdGVEYXRhUmV0ZW50aW9uUG9saWN5LFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuVVBEQVRFX0RBVEFfUkVURU5USU9OX0NVU1RPTV9QT0xJQ1lfU1VDQ0VTUyxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHBvbGljeSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZERhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lUZWFtcyhpZDogc3RyaW5nLCB0ZWFtczogc3RyaW5nW10pOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmFkZERhdGFSZXRlbnRpb25Qb2xpY3lUZWFtcyxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLkFERF9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX1RFQU1TX1NVQ0NFU1MsXG4gICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0ZWFtcyxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lUZWFtcyhpZDogc3RyaW5nLCB0ZWFtczogc3RyaW5nW10pOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IENsaWVudDQucmVtb3ZlRGF0YVJldGVudGlvblBvbGljeVRlYW1zKGlkLCB0ZWFtcyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBZG1pblR5cGVzLlJFTU9WRV9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX1RFQU1TX0ZBSUxVUkUsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIHRlYW1zLFxuICAgICAgICB9O1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLlJFTU9WRV9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX1RFQU1TX1NVQ0NFU1MsIGRhdGF9LFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7ZGF0YX07XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZERhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lDaGFubmVscyhpZDogc3RyaW5nLCBjaGFubmVsczogc3RyaW5nW10pOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmFkZERhdGFSZXRlbnRpb25Qb2xpY3lDaGFubmVscyxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLkFERF9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX0NIQU5ORUxTX1NVQ0NFU1MsXG4gICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBjaGFubmVscyxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lDaGFubmVscyhpZDogc3RyaW5nLCBjaGFubmVsczogc3RyaW5nW10pOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IENsaWVudDQucmVtb3ZlRGF0YVJldGVudGlvblBvbGljeUNoYW5uZWxzKGlkLCBjaGFubmVscyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBZG1pblR5cGVzLlJFTU9WRV9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX0NIQU5ORUxTX0ZBSUxVUkUsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIGNoYW5uZWxzLFxuICAgICAgICB9O1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLlJFTU9WRV9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX0NIQU5ORUxTX1NVQ0NFU1MsIGRhdGF9LFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7ZGF0YX07XG4gICAgfTtcbn1cbiIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IHtjcmVhdGVTZWxlY3Rvcn0gZnJvbSAncmVzZWxlY3QnO1xuXG5pbXBvcnQge2dldE15Q2hhbm5lbE1lbWJlcnNoaXBzLCBnZXRBbGxDaGFubmVsc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2NoYW5uZWxzJztcbmltcG9ydCB7Z2V0Q3VycmVudFVzZXJJZH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3VzZXJzJztcblxuaW1wb3J0IHtHbG9iYWxTdGF0ZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvc3RvcmUnO1xuaW1wb3J0IHtDaGFubmVsfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9jaGFubmVscyc7XG5pbXBvcnQge1VzZXJQcm9maWxlLCBVc2VyUHJvZmlsZVdpdGhMYXN0Vmlld0F0fSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy91c2Vycyc7XG5pbXBvcnQge2dldERpcmVjdENoYW5uZWxOYW1lfSBmcm9tICdjaGF0dGluZy1yZWR1eC91dGlscy9jaGFubmVsX3V0aWxzJztcbmltcG9ydCB7R2VuZXJhbH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvY29uc3RhbnRzJztcblxuaW1wb3J0IHtOYW1lTWFwcGVkT2JqZWN0c30gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvdXRpbGl0aWVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VBZGRMYXN0Vmlld0F0VG9Qcm9maWxlcygpOiAoc3RhdGU6IEdsb2JhbFN0YXRlLCBwcm9maWxlczogVXNlclByb2ZpbGVbXSkgPT4gVXNlclByb2ZpbGVXaXRoTGFzdFZpZXdBdFtdIHtcbiAgICByZXR1cm4gY3JlYXRlU2VsZWN0b3IoXG4gICAgICAgIGdldEN1cnJlbnRVc2VySWQsXG4gICAgICAgIGdldE15Q2hhbm5lbE1lbWJlcnNoaXBzLFxuICAgICAgICBnZXRBbGxDaGFubmVscyxcbiAgICAgICAgKHN0YXRlOiBHbG9iYWxTdGF0ZSwgcHJvZmlsZXM6IFVzZXJQcm9maWxlW10pID0+IHByb2ZpbGVzLFxuICAgICAgICAoY3VycmVudFVzZXJJZCwgbWVtYmVyc2hpcHMsIGFsbENoYW5uZWxzLCBwcm9maWxlcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgRE1jaGFubmVscyA9IE9iamVjdC52YWx1ZXMoYWxsQ2hhbm5lbHMpLnJlZHVjZSgoYWNjOiBOYW1lTWFwcGVkT2JqZWN0czxDaGFubmVsPiwgY2hhbm5lbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjaGFubmVsLnR5cGUgPT09IEdlbmVyYWwuRE1fQ0hBTk5FTCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAgICAgICAgICAgICAgW2NoYW5uZWwubmFtZV06IGNoYW5uZWwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCB7fSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZFByb2ZpbGVzOiBVc2VyUHJvZmlsZVdpdGhMYXN0Vmlld0F0W10gPSBwcm9maWxlcy5tYXAoKHByb2ZpbGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVsTmFtZSA9IGdldERpcmVjdENoYW5uZWxOYW1lKGN1cnJlbnRVc2VySWQsIHByb2ZpbGUuaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWwgPSBETWNoYW5uZWxzW2NoYW5uZWxOYW1lXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZW1iZXJzaGlwID0gY2hhbm5lbCA/IG1lbWJlcnNoaXBzW2NoYW5uZWwuaWRdIDogbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5wcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICBsYXN0X3ZpZXdlZF9hdDogY2hhbm5lbCAmJiBtZW1iZXJzaGlwID8gbWVtYmVyc2hpcC5sYXN0X3ZpZXdlZF9hdCA6IDAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFByb2ZpbGVzO1xuICAgICAgICB9LFxuICAgICk7XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmV4cG9ydCBjb25zdCBnZXRMYXN0UG9zdHNBcGlUaW1lRm9yQ2hhbm5lbCA9IChzdGF0ZSwgY2hhbm5lbElkKSA9PiBzdGF0ZS52aWV3cy5jaGFubmVsLmxhc3RHZXRQb3N0c1tjaGFubmVsSWRdO1xuZXhwb3J0IGNvbnN0IGdldFRvYXN0U3RhdHVzID0gKHN0YXRlKSA9PiBzdGF0ZS52aWV3cy5jaGFubmVsLnRvYXN0U3RhdHVzO1xuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5leHBvcnQgY29uc3QgZ2V0U29ja2V0U3RhdHVzID0gKHN0YXRlKSA9PiBzdGF0ZS53ZWJzb2NrZXQ7XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCB7Z2V0Q29uZmlnfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvZ2VuZXJhbCc7XG5cbmltcG9ydCBzdG9yZSBmcm9tICckc3RvcmVzL3JlZHV4X3N0b3JlLmpzeCc7XG5pbXBvcnQge1NvY2tldEV2ZW50c30gZnJvbSAnJHV0aWxzL2NvbnN0YW50cyc7XG5cbmNvbnN0IE1BWF9XRUJTT0NLRVRfRkFJTFMgPSA3O1xuY29uc3QgTUlOX1dFQlNPQ0tFVF9SRVRSWV9USU1FID0gMzAwMDsgLy8gMyBzZWNcbmNvbnN0IE1BWF9XRUJTT0NLRVRfUkVUUllfVElNRSA9IDMwMDAwMDsgLy8gNSBtaW5zXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYlNvY2tldENsaWVudCB7XG4gIHByaXZhdGUgY29ubjogV2ViU29ja2V0IHwgbnVsbDtcbiAgcHJpdmF0ZSBjb25uZWN0aW9uVXJsOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8vIHJlc3BvbnNlU2VxdWVuY2UgaXMgdGhlIG51bWJlciB0byB0cmFjayBhIHJlc3BvbnNlIHNlbnRcbiAgLy8gdmlhIHRoZSB3ZWJzb2NrZXQuIEEgcmVzcG9uc2Ugd2lsbCBhbHdheXMgaGF2ZSB0aGUgc2FtZSBzZXF1ZW5jZSBudW1iZXJcbiAgLy8gYXMgdGhlIHJlcXVlc3QuXG4gIHByaXZhdGUgcmVzcG9uc2VTZXF1ZW5jZTogbnVtYmVyO1xuXG4gIC8vIHNlcnZlclNlcXVlbmNlIGlzIHRoZSBpbmNyZW1lbnRpbmcgc2VxdWVuY2UgbnVtYmVyIGZyb20gdGhlXG4gIC8vIHNlcnZlci1zZW50IGV2ZW50IHN0cmVhbS5cbiAgcHJpdmF0ZSBzZXJ2ZXJTZXF1ZW5jZTogbnVtYmVyO1xuICBwcml2YXRlIGNvbm5lY3RGYWlsQ291bnQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBldmVudENhbGxiYWNrOiAoKG1zZzogYW55KSA9PiB2b2lkKSB8IG51bGw7XG4gIHByaXZhdGUgcmVzcG9uc2VDYWxsYmFja3M6IHtbeDogbnVtYmVyXTogKG1zZzogYW55KSA9PiB2b2lkfTtcbiAgcHJpdmF0ZSBmaXJzdENvbm5lY3RDYWxsYmFjazogKCgpID0+IHZvaWQpIHwgbnVsbDtcbiAgcHJpdmF0ZSByZWNvbm5lY3RDYWxsYmFjazogKCgpID0+IHZvaWQpIHwgbnVsbDtcbiAgcHJpdmF0ZSBtaXNzZWRFdmVudENhbGxiYWNrOiAoKCkgPT4gdm9pZCkgfCBudWxsO1xuICBwcml2YXRlIGVycm9yQ2FsbGJhY2s6ICgoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKSB8IG51bGw7XG4gIHByaXZhdGUgY2xvc2VDYWxsYmFjazogKChjb25uZWN0RmFpbENvdW50OiBudW1iZXIpID0+IHZvaWQpIHwgbnVsbDtcbiAgcHJpdmF0ZSBjb25uZWN0aW9uSWQ6IHN0cmluZyB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb25uID0gbnVsbDtcbiAgICB0aGlzLmNvbm5lY3Rpb25VcmwgPSBudWxsO1xuICAgIHRoaXMucmVzcG9uc2VTZXF1ZW5jZSA9IDE7XG4gICAgdGhpcy5zZXJ2ZXJTZXF1ZW5jZSA9IDA7XG4gICAgdGhpcy5jb25uZWN0RmFpbENvdW50ID0gMDtcbiAgICB0aGlzLmV2ZW50Q2FsbGJhY2sgPSBudWxsO1xuICAgIHRoaXMucmVzcG9uc2VDYWxsYmFja3MgPSB7fTtcbiAgICB0aGlzLmZpcnN0Q29ubmVjdENhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLnJlY29ubmVjdENhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLm1pc3NlZEV2ZW50Q2FsbGJhY2sgPSBudWxsO1xuICAgIHRoaXMuZXJyb3JDYWxsYmFjayA9IG51bGw7XG4gICAgdGhpcy5jbG9zZUNhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLmNvbm5lY3Rpb25JZCA9ICcnO1xuICB9XG5cbiAgLy8gb24gY29ubmVjdCwgb25seSBzZW5kIGF1dGggY29va2llIGFuZCBibGFuayBzdGF0ZS5cbiAgLy8gb24gaGVsbG8sIGdldCB0aGUgY29ubmVjdGlvbklEIGFuZCBzdG9yZSBpdC5cbiAgLy8gb24gcmVjb25uZWN0LCBzZW5kIGNvb2tpZSwgY29ubmVjdGlvbklELCBzZXF1ZW5jZSBudW1iZXIuXG4gIGluaXRpYWxpemUoY29ubmVjdGlvblVybCA9IHRoaXMuY29ubmVjdGlvblVybCwgdG9rZW4/OiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5jb25uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNvbm5lY3Rpb25VcmwgPT0gbnVsbCkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ3dlYnNvY2tldCBtdXN0IGhhdmUgY29ubmVjdGlvbiB1cmwnKTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb25uZWN0RmFpbENvdW50ID09PSAwKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnd2Vic29ja2V0IGNvbm5lY3RpbmcgdG8gJyArIGNvbm5lY3Rpb25VcmwpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIH1cblxuICAgIC8vIEFkZCBjb25uZWN0aW9uIGlkLCBhbmQgbGFzdF9zZXF1ZW5jZV9udW1iZXIgdG8gdGhlIHF1ZXJ5IHBhcmFtLlxuICAgIC8vIFdlIGNhbm5vdCB1c2UgYSBjb29raWUgYmVjYXVzZSBpdCB3aWxsIGJsZWVkIGFjcm9zcyB0YWJzLlxuICAgIC8vIFdlIGNhbm5vdCBhbHNvIHNlbmQgaXQgYXMgcGFydCBvZiB0aGUgYXV0aF9jaGFsbGVuZ2UsIGJlY2F1c2UgdGhlIHNlc3Npb24gY29va2llIGlzIGFscmVhZHkgc2VudCB3aXRoIHRoZSByZXF1ZXN0LlxuICAgIHRoaXMuY29ubiA9IG5ldyBXZWJTb2NrZXQoXG4gICAgICBgJHtjb25uZWN0aW9uVXJsfT9jb25uZWN0aW9uX2lkPSR7dGhpcy5jb25uZWN0aW9uSWR9JnNlcXVlbmNlX251bWJlcj0ke3RoaXMuc2VydmVyU2VxdWVuY2V9YFxuICAgICk7XG4gICAgdGhpcy5jb25uZWN0aW9uVXJsID0gY29ubmVjdGlvblVybDtcblxuICAgIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZyhzdG9yZS5nZXRTdGF0ZSgpKTtcbiAgICBjb25zdCByZWxpYWJsZVdlYlNvY2tldHMgPSBjb25maWcuRW5hYmxlUmVsaWFibGVXZWJTb2NrZXRzID09PSAndHJ1ZSc7XG5cbiAgICB0aGlzLmNvbm4ub25vcGVuID0gKCkgPT4ge1xuICAgICAgLy8gTm8gbmVlZCB0byByZXNldCBzZXF1ZW5jZSBudW1iZXIgaGVyZS5cbiAgICAgIGlmICghcmVsaWFibGVXZWJTb2NrZXRzKSB7XG4gICAgICAgIHRoaXMuc2VydmVyU2VxdWVuY2UgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnYXV0aGVudGljYXRpb25fY2hhbGxlbmdlJywge3Rva2VufSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbm5lY3RGYWlsQ291bnQgPiAwKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd3ZWJzb2NrZXQgcmUtZXN0YWJsaXNoZWQgY29ubmVjdGlvbicpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICBpZiAoIXJlbGlhYmxlV2ViU29ja2V0cyAmJiB0aGlzLnJlY29ubmVjdENhbGxiYWNrKSB7XG4gICAgICAgICAgdGhpcy5yZWNvbm5lY3RDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZmlyc3RDb25uZWN0Q2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5maXJzdENvbm5lY3RDYWxsYmFjaygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbm5lY3RGYWlsQ291bnQgPSAwO1xuICAgIH07XG5cbiAgICB0aGlzLmNvbm4ub25jbG9zZSA9ICgpID0+IHtcbiAgICAgIHRoaXMuY29ubiA9IG51bGw7XG4gICAgICB0aGlzLnJlc3BvbnNlU2VxdWVuY2UgPSAxO1xuXG4gICAgICBpZiAodGhpcy5jb25uZWN0RmFpbENvdW50ID09PSAwKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd3ZWJzb2NrZXQgY2xvc2VkJyk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29ubmVjdEZhaWxDb3VudCsrO1xuXG4gICAgICBpZiAodGhpcy5jbG9zZUNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY2xvc2VDYWxsYmFjayh0aGlzLmNvbm5lY3RGYWlsQ291bnQpO1xuICAgICAgfVxuXG4gICAgICBsZXQgcmV0cnlUaW1lID0gTUlOX1dFQlNPQ0tFVF9SRVRSWV9USU1FO1xuXG4gICAgICAvLyBJZiB3ZSd2ZSBmYWlsZWQgYSBidW5jaCBvZiBjb25uZWN0aW9ucyB0aGVuIHN0YXJ0IGJhY2tpbmcgb2ZmXG4gICAgICBpZiAodGhpcy5jb25uZWN0RmFpbENvdW50ID4gTUFYX1dFQlNPQ0tFVF9GQUlMUykge1xuICAgICAgICByZXRyeVRpbWUgPSBNSU5fV0VCU09DS0VUX1JFVFJZX1RJTUUgKiB0aGlzLmNvbm5lY3RGYWlsQ291bnQgKiB0aGlzLmNvbm5lY3RGYWlsQ291bnQ7XG4gICAgICAgIGlmIChyZXRyeVRpbWUgPiBNQVhfV0VCU09DS0VUX1JFVFJZX1RJTUUpIHtcbiAgICAgICAgICByZXRyeVRpbWUgPSBNQVhfV0VCU09DS0VUX1JFVFJZX1RJTUU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZShjb25uZWN0aW9uVXJsLCB0b2tlbik7XG4gICAgICB9LCByZXRyeVRpbWUpO1xuICAgIH07XG5cbiAgICB0aGlzLmNvbm4ub25lcnJvciA9IChldnQpID0+IHtcbiAgICAgIGlmICh0aGlzLmNvbm5lY3RGYWlsQ291bnQgPD0gMSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnd2Vic29ja2V0IGVycm9yJyk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGV2dCk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5lcnJvckNhbGxiYWNrKGV2dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuY29ubi5vbm1lc3NhZ2UgPSAoZXZ0KSA9PiB7XG4gICAgICBjb25zdCBtc2cgPSBKU09OLnBhcnNlKGV2dC5kYXRhKTtcbiAgICAgIGlmIChtc2cuc2VxX3JlcGx5KSB7XG4gICAgICAgIC8vIFRoaXMgaW5kaWNhdGVzIGEgcmVwbHkgdG8gYSB3ZWJzb2NrZXQgcmVxdWVzdC5cbiAgICAgICAgLy8gV2UgaWdub3JlIHNlcXVlbmNlIG51bWJlciB2YWxpZGF0aW9uIG9mIG1lc3NhZ2UgcmVzcG9uc2VzXG4gICAgICAgIC8vIGFuZCBvbmx5IGZvY3VzIG9uIHRoZSBwdXJlbHkgc2VydmVyIHNpZGUgZXZlbnQgc3RyZWFtLlxuICAgICAgICBpZiAobXNnLmVycm9yKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cobXNnKTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnJlc3BvbnNlQ2FsbGJhY2tzW21zZy5zZXFfcmVwbHldKSB7XG4gICAgICAgICAgdGhpcy5yZXNwb25zZUNhbGxiYWNrc1ttc2cuc2VxX3JlcGx5XShtc2cpO1xuICAgICAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGhpcy5yZXNwb25zZUNhbGxiYWNrcywgbXNnLnNlcV9yZXBseSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5ldmVudENhbGxiYWNrKSB7XG4gICAgICAgIGlmIChyZWxpYWJsZVdlYlNvY2tldHMpIHtcbiAgICAgICAgICAvLyBXZSBjaGVjayB0aGUgaGVsbG8gcGFja2V0LCB3aGljaCBpcyBhbHdheXMgdGhlIGZpcnN0IHBhY2tldCBpbiBhIHN0cmVhbS5cbiAgICAgICAgICBpZiAobXNnLmV2ZW50ID09PSBTb2NrZXRFdmVudHMuSEVMTE8gJiYgdGhpcy5taXNzZWRFdmVudENhbGxiYWNrKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZ290IGNvbm5lY3Rpb24gaWQgJywgbXNnLmRhdGEuY29ubmVjdGlvbl9pZCk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgYSBjb25uZWN0aW9uSWQgcHJlc2VudCwgYW5kIHNlcnZlciBzZW5kcyBhIGRpZmZlcmVudCBvbmUsXG4gICAgICAgICAgICAvLyB0aGF0IG1lYW5zIGl0J3MgZWl0aGVyIGEgbG9uZyB0aW1lb3V0LCBvciBzZXJ2ZXIgcmVzdGFydCwgb3Igc2VxdWVuY2UgbnVtYmVyIGlzIG5vdCBmb3VuZC5cbiAgICAgICAgICAgIC8vIFRoZW4gd2UgZG8gdGhlIHN5bmMgY2FsbHMsIGFuZCByZXNldCBzZXF1ZW5jZSBudW1iZXIgdG8gMC5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25JZCAhPT0gJycgJiYgdGhpcy5jb25uZWN0aW9uSWQgIT09IG1zZy5kYXRhLmNvbm5lY3Rpb25faWQpIHtcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xvbmcgdGltZW91dCwgb3Igc2VydmVyIHJlc3RhcnQsIG9yIHNlcXVlbmNlIG51bWJlciBpcyBub3QgZm91bmQuJyk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgIHRoaXMubWlzc2VkRXZlbnRDYWxsYmFjaygpO1xuICAgICAgICAgICAgICB0aGlzLnNlcnZlclNlcXVlbmNlID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgaXQncyBhIGZyZXNoIGNvbm5lY3Rpb24sIHdlIGhhdmUgdG8gc2V0IHRoZSBjb25uZWN0aW9uSWQgcmVnYXJkbGVzcy5cbiAgICAgICAgICAgIC8vIEFuZCBpZiBpdCdzIGFuIGV4aXN0aW5nIGNvbm5lY3Rpb24sIHNldHRpbmcgaXQgYWdhaW4gaXMgaGFybWxlc3MsIGFuZCBrZWVwcyB0aGUgY29kZSBzaW1wbGUuXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25JZCA9IG1zZy5kYXRhLmNvbm5lY3Rpb25faWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTm93IHdlIGNoZWNrIGZvciBzZXF1ZW5jZSBudW1iZXIsIGFuZCBpZiBpdCBkb2VzIG5vdCBtYXRjaCxcbiAgICAgICAgICAvLyB3ZSBqdXN0IGRpc2Nvbm5lY3QgYW5kIHJlY29ubmVjdC5cbiAgICAgICAgICBpZiAobXNnLnNlcSAhPT0gdGhpcy5zZXJ2ZXJTZXF1ZW5jZSkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ21pc3NlZCB3ZWJzb2NrZXQgZXZlbnQsIGFjdF9zZXE9JyArIG1zZy5zZXEgKyAnIGV4cF9zZXE9JyArIHRoaXMuc2VydmVyU2VxdWVuY2UpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgLy8gV2UgYXJlIG5vdCBjYWxsaW5nIHRoaXMuY2xvc2UoKSBiZWNhdXNlIHdlIG5lZWQgdG8gYXV0by1yZXN0YXJ0LlxuICAgICAgICAgICAgdGhpcy5jb25uZWN0RmFpbENvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2VTZXF1ZW5jZSA9IDE7XG4gICAgICAgICAgICB0aGlzLmNvbm4/LmNsb3NlKCk7IC8vIFdpbGwgYXV0by1yZWNvbm5lY3QgYWZ0ZXIgTUlOX1dFQlNPQ0tFVF9SRVRSWV9USU1FLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtc2cuc2VxICE9PSB0aGlzLnNlcnZlclNlcXVlbmNlICYmIHRoaXMubWlzc2VkRXZlbnRDYWxsYmFjaykge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdtaXNzZWQgd2Vic29ja2V0IGV2ZW50LCBhY3Rfc2VxPScgKyBtc2cuc2VxICsgJyBleHBfc2VxPScgKyB0aGlzLnNlcnZlclNlcXVlbmNlKTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICB0aGlzLm1pc3NlZEV2ZW50Q2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlcnZlclNlcXVlbmNlID0gbXNnLnNlcSArIDE7XG4gICAgICAgIHRoaXMuZXZlbnRDYWxsYmFjayhtc2cpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBzZXRFdmVudENhbGxiYWNrKGNhbGxiYWNrOiAobXNnOiBhbnkpID0+IHZvaWQpIHtcbiAgICB0aGlzLmV2ZW50Q2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIHNldEZpcnN0Q29ubmVjdENhbGxiYWNrKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5maXJzdENvbm5lY3RDYWxsYmFjayA9IGNhbGxiYWNrO1xuICB9XG5cbiAgc2V0UmVjb25uZWN0Q2FsbGJhY2soY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICB0aGlzLnJlY29ubmVjdENhbGxiYWNrID0gY2FsbGJhY2s7XG4gIH1cblxuICBzZXRNaXNzZWRFdmVudENhbGxiYWNrKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5taXNzZWRFdmVudENhbGxiYWNrID0gY2FsbGJhY2s7XG4gIH1cblxuICBzZXRFcnJvckNhbGxiYWNrKGNhbGxiYWNrOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKSB7XG4gICAgdGhpcy5lcnJvckNhbGxiYWNrID0gY2FsbGJhY2s7XG4gIH1cblxuICBzZXRDbG9zZUNhbGxiYWNrKGNhbGxiYWNrOiAoY29ubmVjdEZhaWxDb3VudDogbnVtYmVyKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5jbG9zZUNhbGxiYWNrID0gY2FsbGJhY2s7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLmNvbm5lY3RGYWlsQ291bnQgPSAwO1xuICAgIHRoaXMucmVzcG9uc2VTZXF1ZW5jZSA9IDE7XG4gICAgaWYgKHRoaXMuY29ubiAmJiB0aGlzLmNvbm4ucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHRoaXMuY29ubi5vbmNsb3NlID0gKCkgPT4ge307IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eS1mdW5jdGlvblxuICAgICAgdGhpcy5jb25uLmNsb3NlKCk7XG4gICAgICB0aGlzLmNvbm4gPSBudWxsO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZygnd2Vic29ja2V0IGNsb3NlZCcpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIH1cbiAgfVxuXG4gIHNlbmRNZXNzYWdlKGFjdGlvbjogc3RyaW5nLCBkYXRhOiBhbnksIHJlc3BvbnNlQ2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XG4gICAgY29uc3QgbXNnID0ge1xuICAgICAgYWN0aW9uLFxuICAgICAgc2VxOiB0aGlzLnJlc3BvbnNlU2VxdWVuY2UrKyxcbiAgICAgIGRhdGEsXG4gICAgfTtcblxuICAgIGlmIChyZXNwb25zZUNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnJlc3BvbnNlQ2FsbGJhY2tzW21zZy5zZXFdID0gcmVzcG9uc2VDYWxsYmFjaztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb25uICYmIHRoaXMuY29ubi5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgdGhpcy5jb25uLnNlbmQoSlNPTi5zdHJpbmdpZnkobXNnKSk7XG4gICAgfSBlbHNlIGlmICghdGhpcy5jb25uIHx8IHRoaXMuY29ubi5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ0xPU0VEKSB7XG4gICAgICB0aGlzLmNvbm4gPSBudWxsO1xuICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgfVxuICB9XG5cbiAgdXNlclR5cGluZyhjaGFubmVsSWQ6IHN0cmluZywgcGFyZW50SWQ6IHN0cmluZywgY2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGNoYW5uZWxfaWQ6IGNoYW5uZWxJZCxcbiAgICAgIHBhcmVudF9pZDogcGFyZW50SWQsXG4gICAgfTtcbiAgICB0aGlzLnNlbmRNZXNzYWdlKCd1c2VyX3R5cGluZycsIGRhdGEsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHVzZXJVcGRhdGVBY3RpdmVTdGF0dXModXNlcklzQWN0aXZlOiBib29sZWFuLCBtYW51YWw6IGJvb2xlYW4sIGNhbGxiYWNrPzogKCkgPT4gdm9pZCkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICB1c2VyX2lzX2FjdGl2ZTogdXNlcklzQWN0aXZlLFxuICAgICAgbWFudWFsLFxuICAgIH07XG4gICAgdGhpcy5zZW5kTWVzc2FnZSgndXNlcl91cGRhdGVfYWN0aXZlX3N0YXR1cycsIGRhdGEsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGdldFN0YXR1c2VzKGNhbGxiYWNrPzogKCkgPT4gdm9pZCkge1xuICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ2dldF9zdGF0dXNlcycsIG51bGwsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGdldFN0YXR1c2VzQnlJZHModXNlcklkczogc3RyaW5nW10sIGNhbGxiYWNrPzogKCkgPT4gdm9pZCkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICB1c2VyX2lkczogdXNlcklkcyxcbiAgICB9O1xuICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ2dldF9zdGF0dXNlc19ieV9pZHMnLCBkYXRhLCBjYWxsYmFjayk7XG4gIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IFdlYlNvY2tldENsaWVudCBmcm9tICcuL3dlYnNvY2tldF9jbGllbnQnO1xuXG52YXIgV2ViQ2xpZW50ID0gbmV3IFdlYlNvY2tldENsaWVudCgpO1xuZXhwb3J0IGRlZmF1bHQgV2ViQ2xpZW50O1xuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5pbXBvcnQge2JhdGNoQWN0aW9uc30gZnJvbSAncmVkdXgtYmF0Y2hlZC1hY3Rpb25zJztcblxuaW1wb3J0IHtcbiAgQ2hhbm5lbFR5cGVzLFxuICBFbW9qaVR5cGVzLFxuICBHcm91cFR5cGVzLFxuICBQb3N0VHlwZXMsXG4gIFRlYW1UeXBlcyxcbiAgVXNlclR5cGVzLFxuICBSb2xlVHlwZXMsXG4gIEdlbmVyYWxUeXBlcyxcbiAgQWRtaW5UeXBlcyxcbiAgSW50ZWdyYXRpb25UeXBlcyxcbiAgUHJlZmVyZW5jZVR5cGVzLFxuICBDb250YWN0VHlwZXMsXG59IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbl90eXBlcyc7XG5pbXBvcnQge1dlYnNvY2tldEV2ZW50cywgR2VuZXJhbCwgUGVybWlzc2lvbnN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICBhZGRDaGFubmVsVG9Jbml0aWFsQ2F0ZWdvcnksXG4gIGZldGNoTXlDYXRlZ29yaWVzLFxuICByZWNlaXZlZENhdGVnb3J5T3JkZXIsXG59IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvY2hhbm5lbF9jYXRlZ29yaWVzJztcbmltcG9ydCB7XG4gIGdldENoYW5uZWxBbmRNeU1lbWJlcixcbiAgZ2V0TXlDaGFubmVsTWVtYmVyLFxuICBnZXRDaGFubmVsTWVtYmVyLFxuICBnZXRDaGFubmVsU3RhdHMsXG4gIHZpZXdDaGFubmVsLFxuICBtYXJrQ2hhbm5lbEFzUmVhZCxcbiAgZ2V0Q2hhbm5lbE1lbWJlckNvdW50c0J5R3JvdXAsXG59IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvY2hhbm5lbHMnO1xuaW1wb3J0IHtnZXRDbG91ZFN1YnNjcmlwdGlvbiwgZ2V0U3Vic2NyaXB0aW9uU3RhdHN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvY2xvdWQnO1xuaW1wb3J0IHtsb2FkUm9sZXNJZk5lZWRlZH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9yb2xlcyc7XG5cbmltcG9ydCB7aXNDb2xsYXBzZWRUaHJlYWRzRW5hYmxlZH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3ByZWZlcmVuY2VzJztcbmltcG9ydCB7Z2V0VGhyZWFkfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdGhyZWFkcyc7XG5pbXBvcnQge1xuICBnZXRUaHJlYWQgYXMgZmV0Y2hUaHJlYWQsXG4gIGhhbmRsZUFsbE1hcmtlZFJlYWQsXG4gIGhhbmRsZVJlYWRDaGFuZ2VkLFxuICBoYW5kbGVGb2xsb3dDaGFuZ2VkLFxuICBoYW5kbGVUaHJlYWRBcnJpdmVkLFxufSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3RocmVhZHMnO1xuXG5pbXBvcnQge3NldFNlcnZlclZlcnNpb259IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvZ2VuZXJhbCc7XG5pbXBvcnQge1xuICBnZXRDdXN0b21FbW9qaUZvclJlYWN0aW9uLFxuICBnZXRQb3N0cyxcbiAgZ2V0UHJvZmlsZXNBbmRTdGF0dXNlc0ZvclBvc3RzLFxuICBnZXRUaHJlYWRzRm9yUG9zdHMsXG4gIHBvc3REZWxldGVkLFxuICByZWNlaXZlZE5ld1Bvc3QsXG4gIHJlY2VpdmVkUG9zdCxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9wb3N0cyc7XG5pbXBvcnQge2NsZWFyRXJyb3JzLCBsb2dFcnJvcn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9lcnJvcnMnO1xuXG5pbXBvcnQgKiBhcyBUZWFtQWN0aW9ucyBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3RlYW1zJztcbmltcG9ydCB7XG4gIGNoZWNrRm9yTW9kaWZpZWRVc2VycyxcbiAgZ2V0TWUsXG4gIGdldE1pc3NpbmdQcm9maWxlc0J5SWRzLFxuICBnZXRTdGF0dXNlc0J5SWRzLFxuICBnZXRVc2VyIGFzIGxvYWRVc2VyLFxufSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3VzZXJzJztcbmltcG9ydCB7cmVtb3ZlTm90VmlzaWJsZVVzZXJzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3dlYnNvY2tldCc7XG5pbXBvcnQge0NsaWVudDR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2NsaWVudCc7XG5pbXBvcnQge1xuICBnZXRDdXJyZW50VXNlcixcbiAgZ2V0Q3VycmVudFVzZXJJZCxcbiAgZ2V0U3RhdHVzRm9yVXNlcklkLFxuICBnZXRVc2VyLFxuICBnZXRJc01hbnVhbFN0YXR1c0ZvclVzZXJJZCxcbiAgaXNDdXJyZW50VXNlclN5c3RlbUFkbWluLFxufSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdXNlcnMnO1xuaW1wb3J0IHtcbiAgZ2V0TXlUZWFtcyxcbiAgZ2V0Q3VycmVudFJlbGF0aXZlVGVhbVVybCxcbiAgZ2V0Q3VycmVudFRlYW1JZCxcbiAgZ2V0Q3VycmVudFRlYW1VcmwsXG4gIGdldFRlYW0sXG59IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy90ZWFtcyc7XG5pbXBvcnQge2dldENvbmZpZywgZ2V0TGljZW5zZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2dlbmVyYWwnO1xuaW1wb3J0IHtcbiAgZ2V0Q2hhbm5lbHNJblRlYW0sXG4gIGdldENoYW5uZWwsXG4gIGdldEN1cnJlbnRDaGFubmVsLFxuICBnZXRDdXJyZW50Q2hhbm5lbElkLFxuICBnZXRSZWRpcmVjdENoYW5uZWxOYW1lRm9yVGVhbSxcbiAgZ2V0TWVtYmVyc0luQ3VycmVudENoYW5uZWwsXG4gIGdldENoYW5uZWxNZW1iZXJzSW5DaGFubmVscyxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2NoYW5uZWxzJztcbmltcG9ydCB7Z2V0UG9zdCwgZ2V0TW9zdFJlY2VudFBvc3RJZEluQ2hhbm5lbH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3Bvc3RzJztcbmltcG9ydCB7aGF2ZUlTeXN0ZW1QZXJtaXNzaW9uLCBoYXZlSVRlYW1QZXJtaXNzaW9ufSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvcm9sZXMnO1xuaW1wb3J0IHthcHBzRW5hYmxlZH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2FwcHMnO1xuaW1wb3J0IHtnZXRTdGFuZGFyZEFuYWx5dGljc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9hZG1pbic7XG5cbmltcG9ydCB7ZmV0Y2hBcHBCaW5kaW5nc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9hcHBzJztcblxuaW1wb3J0IHtnZXRTZWxlY3RlZENoYW5uZWxJZH0gZnJvbSAnJHNlbGVjdG9ycy9yaHMnO1xuXG5pbXBvcnQge29wZW5Nb2RhbH0gZnJvbSAnJGFjdGlvbnMvdmlld3MvbW9kYWxzJztcbmltcG9ydCB7aW5jcmVtZW50V3NFcnJvckNvdW50LCByZXNldFdzRXJyb3JDb3VudH0gZnJvbSAnJGFjdGlvbnMvdmlld3Mvc3lzdGVtJztcbmltcG9ydCB7Y2xvc2VSaWdodEhhbmRTaWRlfSBmcm9tICckYWN0aW9ucy92aWV3cy9yaHMnO1xuaW1wb3J0IHtzeW5jUG9zdHNJbkNoYW5uZWx9IGZyb20gJyRhY3Rpb25zL3ZpZXdzL2NoYW5uZWwnO1xuXG5pbXBvcnQge2Jyb3dzZXJIaXN0b3J5fSBmcm9tICckdXRpbHMvYnJvd3Nlcl9oaXN0b3J5JztcbmltcG9ydCB7bG9hZENoYW5uZWxzRm9yQ3VycmVudFVzZXIsIGxvYWRDaGFubmVsc0ZvckN1cnJlbnRVc2VyMn0gZnJvbSAnJGFjdGlvbnMvY2hhbm5lbF9hY3Rpb25zLmpzeCc7XG5pbXBvcnQge3JlZGlyZWN0VXNlclRvRGVmYXVsdFRlYW19IGZyb20gJyRhY3Rpb25zL2dsb2JhbF9hY3Rpb25zJztcbmltcG9ydCB7aGFuZGxlTmV3UG9zdH0gZnJvbSAnJGFjdGlvbnMvcG9zdF9hY3Rpb25zLmpzeCc7XG5pbXBvcnQgKiBhcyBTdGF0dXNBY3Rpb25zIGZyb20gJyRhY3Rpb25zL3N0YXR1c19hY3Rpb25zLmpzeCc7XG5pbXBvcnQge2xvYWRQcm9maWxlc0ZvclNpZGViYXJ9IGZyb20gJyRhY3Rpb25zL3VzZXJfYWN0aW9ucy5qc3gnO1xuaW1wb3J0IHN0b3JlIGZyb20gJyRzdG9yZXMvcmVkdXhfc3RvcmUuanN4JztcbmltcG9ydCBXZWJTb2NrZXRDbGllbnQgZnJvbSAnJGNsaWVudC93ZWJfd2Vic29ja2V0X2NsaWVudC5qc3gnO1xuaW1wb3J0IHtcbiAgQWN0aW9uVHlwZXMsXG4gIENvbnN0YW50cyxcbiAgQW5ub3VuY2VtZW50QmFyTWVzc2FnZXMsXG4gIFNvY2tldEV2ZW50cyxcbiAgVXNlclN0YXR1c2VzLFxuICBNb2RhbElkZW50aWZpZXJzLFxuICBXYXJuTWV0cmljVHlwZXMsXG59IGZyb20gJyR1dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHtnZXRTaXRlVVJMfSBmcm9tICckdXRpbHMvdXJsJztcbmltcG9ydCB7aXNHdWVzdH0gZnJvbSAnJHV0aWxzL3V0aWxzJztcblxuLy8gaW1wb3J0IHtsb2FkUGx1Z2luLCBsb2FkUGx1Z2luc0lmTmVjZXNzYXJ5LCByZW1vdmVQbHVnaW59IGZyb20gJyRwbHVnaW5zJztcblxuLy8gaW1wb3J0IFJlbW92ZWRGcm9tQ2hhbm5lbE1vZGFsIGZyb20gJ2NvbXBvbmVudHMvcmVtb3ZlZF9mcm9tX2NoYW5uZWxfbW9kYWwnO1xuLy8gaW1wb3J0IEludGVyYWN0aXZlRGlhbG9nIGZyb20gJ2NvbXBvbmVudHMvaW50ZXJhY3RpdmVfZGlhbG9nJztcblxuY29uc3QgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaDtcbmNvbnN0IGdldFN0YXRlID0gc3RvcmUuZ2V0U3RhdGU7XG5cbmNvbnN0IE1BWF9XRUJTT0NLRVRfRkFJTFMgPSA3O1xuXG5jb25zdCBwbHVnaW5FdmVudEhhbmRsZXJzID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICBpZiAoIXdpbmRvdy5XZWJTb2NrZXQpIHtcbiAgICBjb25zb2xlLmxvZygnQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHdlYnNvY2tldCcpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZyhnZXRTdGF0ZSgpKTtcbiAgbGV0IGNvbm5VcmwgPSAnJztcbiAgaWYgKGNvbmZpZy5XZWJzb2NrZXRVUkwpIHtcbiAgICBjb25uVXJsID0gY29uZmlnLldlYnNvY2tldFVSTDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB3ZWJzb2NrZXRFbnBvaW50ID0gKGltcG9ydC5tZXRhLmVudi5WSVRFX1dFQlNPQ0tFVCB8fCBnZXRTaXRlVVJMKCkpO1xuICAgIGNvbm5VcmwgPSBuZXcgVVJMKHdlYnNvY2tldEVucG9pbnQpO1xuXG4gICAgLy8gcmVwbGFjZSB0aGUgcHJvdG9jb2wgd2l0aCBhIHdlYnNvY2tldCBvbmVcbiAgICBpZiAoY29ublVybC5wcm90b2NvbCA9PT0gJ2h0dHBzOicpIHtcbiAgICAgIGNvbm5VcmwucHJvdG9jb2wgPSAnd3NzOic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbm5VcmwucHJvdG9jb2wgPSAnd3M6JztcbiAgICB9XG5cbiAgICAvLyBhcHBlbmQgYSBwb3J0IG51bWJlciBpZiBvbmUgaXNuJ3QgYWxyZWFkeSBzcGVjaWZpZWRcbiAgICBpZiAoIS86XFxkKyQvLnRlc3QoY29ublVybC5ob3N0KSkge1xuICAgICAgaWYgKGNvbm5VcmwucHJvdG9jb2wgPT09ICd3c3M6Jykge1xuICAgICAgICBjb25uVXJsLmhvc3QgKz0gJzonICsgY29uZmlnLldlYnNvY2tldFNlY3VyZVBvcnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25uVXJsLmhvc3QgKz0gJzonICsgY29uZmlnLldlYnNvY2tldFBvcnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29ublVybCA9IGNvbm5VcmwudG9TdHJpbmcoKTtcbiAgfVxuXG4gIC8vIFN0cmlwIGFueSB0cmFpbGluZyBzbGFzaCBiZWZvcmUgYXBwZW5kaW5nIHRoZSBwYXRobmFtZSBiZWxvdy5cbiAgaWYgKGNvbm5VcmwubGVuZ3RoID4gMCAmJiBjb25uVXJsW2Nvbm5VcmwubGVuZ3RoIC0gMV0gPT09ICcvJykge1xuICAgIGNvbm5VcmwgPSBjb25uVXJsLnN1YnN0cmluZygwLCBjb25uVXJsLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgY29ublVybCArPSBDbGllbnQ0LmdldFVybFZlcnNpb24oKSArICcvd2Vic29ja2V0JztcblxuICBXZWJTb2NrZXRDbGllbnQuc2V0RXZlbnRDYWxsYmFjayhoYW5kbGVFdmVudCk7XG4gIFdlYlNvY2tldENsaWVudC5zZXRGaXJzdENvbm5lY3RDYWxsYmFjayhoYW5kbGVGaXJzdENvbm5lY3QpO1xuICBXZWJTb2NrZXRDbGllbnQuc2V0UmVjb25uZWN0Q2FsbGJhY2soKCkgPT4gcmVjb25uZWN0KGZhbHNlKSk7XG4gIFdlYlNvY2tldENsaWVudC5zZXRNaXNzZWRFdmVudENhbGxiYWNrKCgpID0+IHJlY29ubmVjdChmYWxzZSkpO1xuICBXZWJTb2NrZXRDbGllbnQuc2V0Q2xvc2VDYWxsYmFjayhoYW5kbGVDbG9zZSk7XG4gIFdlYlNvY2tldENsaWVudC5pbml0aWFsaXplKGNvbm5VcmwsIENsaWVudDQuZ2V0VG9rZW4oKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgV2ViU29ja2V0Q2xpZW50LmNsb3NlKCk7XG59XG5cbmZ1bmN0aW9uIHJlY29ubmVjdFdlYlNvY2tldCgpIHtcbiAgY2xvc2UoKTtcbiAgaW5pdGlhbGl6ZSgpO1xufVxuXG5jb25zdCBwbHVnaW5SZWNvbm5lY3RIYW5kbGVycyA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW5SZWNvbm5lY3RIYW5kbGVyKHBsdWdpbklkLCBoYW5kbGVyKSB7XG4gIHBsdWdpblJlY29ubmVjdEhhbmRsZXJzW3BsdWdpbklkXSA9IGhhbmRsZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnJlZ2lzdGVyUGx1Z2luUmVjb25uZWN0SGFuZGxlcihwbHVnaW5JZCkge1xuICBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHBsdWdpblJlY29ubmVjdEhhbmRsZXJzLCBwbHVnaW5JZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWNvbm5lY3QoaW5jbHVkZVdlYlNvY2tldCA9IHRydWUpIHtcbiAgaWYgKGluY2x1ZGVXZWJTb2NrZXQpIHtcbiAgICByZWNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgfVxuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBHZW5lcmFsVHlwZXMuV0VCU09DS0VUX1NVQ0NFU1MsXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICB9KTtcblxuICAvLyBsb2FkUGx1Z2luc0lmTmVjZXNzYXJ5KCk7XG5cbiAgLy8gT2JqZWN0LnZhbHVlcyhwbHVnaW5SZWNvbm5lY3RIYW5kbGVycykuZm9yRWFjaCgoaGFuZGxlcikgPT4ge1xuICAvLyAgIGlmIChoYW5kbGVyICYmIHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vICAgICBoYW5kbGVyKCk7XG4gIC8vICAgfVxuICAvLyB9KTtcblxuICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gIGNvbnN0IGN1cnJlbnRUZWFtSWQgPSBzdGF0ZS5lbnRpdGllcy50ZWFtcy5jdXJyZW50VGVhbUlkO1xuICBpZiAoY3VycmVudFRlYW1JZCkge1xuICAgIGNvbnN0IGN1cnJlbnRDaGFubmVsSWQgPSBnZXRDdXJyZW50Q2hhbm5lbElkKHN0YXRlKTtcbiAgICBjb25zdCBtb3N0UmVjZW50SWQgPSBnZXRNb3N0UmVjZW50UG9zdElkSW5DaGFubmVsKHN0YXRlLCBjdXJyZW50Q2hhbm5lbElkKTtcbiAgICBjb25zdCBtb3N0UmVjZW50UG9zdCA9IGdldFBvc3Qoc3RhdGUsIG1vc3RSZWNlbnRJZCk7XG5cbiAgICBkaXNwYXRjaChsb2FkQ2hhbm5lbHNGb3JDdXJyZW50VXNlcjIoKSk7XG4gICAgZGlzcGF0Y2goaGFuZGxlUmVmcmVzaEFwcHNCaW5kaW5ncygpKTtcblxuICAgIGlmIChtb3N0UmVjZW50UG9zdCkge1xuICAgICAgZGlzcGF0Y2goc3luY1Bvc3RzSW5DaGFubmVsKGN1cnJlbnRDaGFubmVsSWQsIG1vc3RSZWNlbnRQb3N0LmNyZWF0ZV9hdCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiBuZXR3b3JrIHRpbWVkLW91dCB0aGUgZmlyc3QgdGltZSB3aGVuIGxvYWRpbmcgYSBjaGFubmVsXG4gICAgICAvLyB3ZSBjYW4gcmVxdWVzdCBmb3IgZ2V0UG9zdHMgYWdhaW4gd2hlbiBzb2NrZXQgaXMgY29ubmVjdGVkXG4gICAgICBkaXNwYXRjaChnZXRQb3N0cyhjdXJyZW50Q2hhbm5lbElkKSk7XG4gICAgfVxuICAgIFN0YXR1c0FjdGlvbnMubG9hZFN0YXR1c2VzRm9yQ2hhbm5lbEFuZFNpZGViYXIoKTtcbiAgICBkaXNwYXRjaChUZWFtQWN0aW9ucy5nZXRNeVRlYW1VbnJlYWRzKCkpO1xuICB9XG5cbiAgaWYgKHN0YXRlLndlYnNvY2tldC5sYXN0RGlzY29ubmVjdEF0KSB7XG4gICAgZGlzcGF0Y2goY2hlY2tGb3JNb2RpZmllZFVzZXJzKCkpO1xuICB9XG5cbiAgZGlzcGF0Y2gocmVzZXRXc0Vycm9yQ291bnQoKSk7XG4gIGRpc3BhdGNoKGNsZWFyRXJyb3JzKCkpO1xufVxuXG5sZXQgaW50ZXJ2YWxJZCA9ICcnO1xuY29uc3QgU1lOQ19JTlRFUlZBTF9NSUxMSVNFQ09ORFMgPSAxMDAwICogNjAgKiAxNTsgLy8gMTUgbWludXRlc1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRQZXJpb2RpY1N5bmMoKSB7XG4gIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG5cbiAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICBpZiAoZ2V0Q3VycmVudFVzZXIoZ2V0U3RhdGUoKSkgIT0gbnVsbCkge1xuICAgICAgcmVjb25uZWN0KGZhbHNlKTtcbiAgICB9XG4gIH0sIFNZTkNfSU5URVJWQUxfTUlMTElTRUNPTkRTKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BQZXJpb2RpY1N5bmMoKSB7XG4gIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclBsdWdpbldlYlNvY2tldEV2ZW50KHBsdWdpbklkLCBldmVudCwgYWN0aW9uKSB7XG4gIGlmICghcGx1Z2luRXZlbnRIYW5kbGVyc1twbHVnaW5JZF0pIHtcbiAgICBwbHVnaW5FdmVudEhhbmRsZXJzW3BsdWdpbklkXSA9IHt9O1xuICB9XG4gIHBsdWdpbkV2ZW50SGFuZGxlcnNbcGx1Z2luSWRdW2V2ZW50XSA9IGFjdGlvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucmVnaXN0ZXJQbHVnaW5XZWJTb2NrZXRFdmVudChwbHVnaW5JZCwgZXZlbnQpIHtcbiAgY29uc3QgZXZlbnRzID0gcGx1Z2luRXZlbnRIYW5kbGVyc1twbHVnaW5JZF07XG4gIGlmICghZXZlbnRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShldmVudHMsIGV2ZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucmVnaXN0ZXJBbGxQbHVnaW5XZWJTb2NrZXRFdmVudHMocGx1Z2luSWQpIHtcbiAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShwbHVnaW5FdmVudEhhbmRsZXJzLCBwbHVnaW5JZCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZpcnN0Q29ubmVjdCgpIHtcbiAgZGlzcGF0Y2goXG4gICAgYmF0Y2hBY3Rpb25zKFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogR2VuZXJhbFR5cGVzLldFQlNPQ0tFVF9TVUNDRVNTLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9LFxuICAgICAgY2xlYXJFcnJvcnMoKSxcbiAgICBdKVxuICApO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVDbG9zZShmYWlsQ291bnQpIHtcbiAgaWYgKGZhaWxDb3VudCA+IE1BWF9XRUJTT0NLRVRfRkFJTFMpIHtcbiAgICBkaXNwYXRjaChsb2dFcnJvcih7dHlwZTogJ2NyaXRpY2FsJywgbWVzc2FnZTogQW5ub3VuY2VtZW50QmFyTWVzc2FnZXMuV0VCU09DS0VUX1BPUlRfRVJST1J9LCB0cnVlKSk7XG4gIH1cbiAgZGlzcGF0Y2goXG4gICAgYmF0Y2hBY3Rpb25zKFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogR2VuZXJhbFR5cGVzLldFQlNPQ0tFVF9GQUlMVVJFLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9LFxuICAgICAgaW5jcmVtZW50V3NFcnJvckNvdW50KCksXG4gICAgXSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUV2ZW50KG1zZykge1xuICBzd2l0Y2ggKG1zZy5ldmVudCkge1xuICAgIGNhc2UgU29ja2V0RXZlbnRzLlBPU1RFRDpcbiAgICBjYXNlIFNvY2tldEV2ZW50cy5FUEhFTUVSQUxfTUVTU0FHRTpcbiAgICAgIGhhbmRsZU5ld1Bvc3RFdmVudERlYm91bmNlZChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5QT1NUX0VESVRFRDpcbiAgICAgIGhhbmRsZVBvc3RFZGl0RXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuUE9TVF9ERUxFVEVEOlxuICAgICAgaGFuZGxlUG9zdERlbGV0ZUV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlBPU1RfVU5SRUFEOlxuICAgICAgaGFuZGxlUG9zdFVucmVhZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLkxFQVZFX1RFQU06XG4gICAgICBoYW5kbGVMZWF2ZVRlYW1FdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5VUERBVEVfVEVBTTpcbiAgICAgIGhhbmRsZVVwZGF0ZVRlYW1FdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5VUERBVEVfVEVBTV9TQ0hFTUU6XG4gICAgICBoYW5kbGVVcGRhdGVUZWFtU2NoZW1lRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuREVMRVRFX1RFQU06XG4gICAgICBoYW5kbGVEZWxldGVUZWFtRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuQURERURfVE9fVEVBTTpcbiAgICAgIGhhbmRsZVRlYW1BZGRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlVTRVJfQURERUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVVc2VyQWRkZWRFdmVudChtc2cpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuVVNFUl9SRU1PVkVEOlxuICAgICAgaGFuZGxlVXNlclJlbW92ZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5VU0VSX1VQREFURUQ6XG4gICAgICBoYW5kbGVVc2VyVXBkYXRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlJPTEVfQURERUQ6XG4gICAgICBoYW5kbGVSb2xlQWRkZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5ST0xFX1JFTU9WRUQ6XG4gICAgICBoYW5kbGVSb2xlUmVtb3ZlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLkNIQU5ORUxfU0NIRU1FX1VQREFURUQ6XG4gICAgICBoYW5kbGVDaGFubmVsU2NoZW1lVXBkYXRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLk1FTUJFUlJPTEVfVVBEQVRFRDpcbiAgICAgIGhhbmRsZVVwZGF0ZU1lbWJlclJvbGVFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5ST0xFX1VQREFURUQ6XG4gICAgICBoYW5kbGVSb2xlVXBkYXRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLkNIQU5ORUxfQ1JFQVRFRDpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZUNoYW5uZWxDcmVhdGVkRXZlbnQobXNnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLkNIQU5ORUxfREVMRVRFRDpcbiAgICAgIGhhbmRsZUNoYW5uZWxEZWxldGVkRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuQ0hBTk5FTF9VTkFSQ0hJVkVEOlxuICAgICAgaGFuZGxlQ2hhbm5lbFVuYXJjaGl2ZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5DSEFOTkVMX0NPTlZFUlRFRDpcbiAgICAgIGhhbmRsZUNoYW5uZWxDb252ZXJ0ZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5DSEFOTkVMX1VQREFURUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVDaGFubmVsVXBkYXRlZEV2ZW50KG1zZykpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5DSEFOTkVMX01FTUJFUl9VUERBVEVEOlxuICAgICAgaGFuZGxlQ2hhbm5lbE1lbWJlclVwZGF0ZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5ESVJFQ1RfQURERUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVEaXJlY3RBZGRlZEV2ZW50KG1zZykpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5HUk9VUF9BRERFRDpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZUdyb3VwQWRkZWRFdmVudChtc2cpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuUFJFRkVSRU5DRV9DSEFOR0VEOlxuICAgICAgaGFuZGxlUHJlZmVyZW5jZUNoYW5nZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5QUkVGRVJFTkNFU19DSEFOR0VEOlxuICAgICAgaGFuZGxlUHJlZmVyZW5jZXNDaGFuZ2VkRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuUFJFRkVSRU5DRVNfREVMRVRFRDpcbiAgICAgIGhhbmRsZVByZWZlcmVuY2VzRGVsZXRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlRZUElORzpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZVVzZXJUeXBpbmdFdmVudChtc2cpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuU1RBVFVTX0NIQU5HRUQ6XG4gICAgICBoYW5kbGVTdGF0dXNDaGFuZ2VkRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuSEVMTE86XG4gICAgICBoYW5kbGVIZWxsb0V2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlJFQUNUSU9OX0FEREVEOlxuICAgICAgaGFuZGxlUmVhY3Rpb25BZGRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlJFQUNUSU9OX1JFTU9WRUQ6XG4gICAgICBoYW5kbGVSZWFjdGlvblJlbW92ZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5FTU9KSV9BRERFRDpcbiAgICAgIGhhbmRsZUFkZEVtb2ppKG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLkNIQU5ORUxfVklFV0VEOlxuICAgICAgaGFuZGxlQ2hhbm5lbFZpZXdlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlBMVUdJTl9FTkFCTEVEOlxuICAgICAgaGFuZGxlUGx1Z2luRW5hYmxlZChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5QTFVHSU5fRElTQUJMRUQ6XG4gICAgICBoYW5kbGVQbHVnaW5EaXNhYmxlZChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5VU0VSX1JPTEVfVVBEQVRFRDpcbiAgICAgIGhhbmRsZVVzZXJSb2xlVXBkYXRlZChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5DT05GSUdfQ0hBTkdFRDpcbiAgICAgIGhhbmRsZUNvbmZpZ0NoYW5nZWQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuTElDRU5TRV9DSEFOR0VEOlxuICAgICAgaGFuZGxlTGljZW5zZUNoYW5nZWQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuUExVR0lOX1NUQVRVU0VTX0NIQU5HRUQ6XG4gICAgICBoYW5kbGVQbHVnaW5TdGF0dXNlc0NoYW5nZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5PUEVOX0RJQUxPRzpcbiAgICAgIGhhbmRsZU9wZW5EaWFsb2dFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5SRUNFSVZFRF9HUk9VUDpcbiAgICAgIGhhbmRsZUdyb3VwVXBkYXRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlJFQ0VJVkVEX0dST1VQX0FTU09DSUFURURfVE9fVEVBTTpcbiAgICAgIGhhbmRsZUdyb3VwQXNzb2NpYXRlZFRvVGVhbUV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlJFQ0VJVkVEX0dST1VQX05PVF9BU1NPQ0lBVEVEX1RPX1RFQU06XG4gICAgICBoYW5kbGVHcm91cE5vdEFzc29jaWF0ZWRUb1RlYW1FdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5SRUNFSVZFRF9HUk9VUF9BU1NPQ0lBVEVEX1RPX0NIQU5ORUw6XG4gICAgICBoYW5kbGVHcm91cEFzc29jaWF0ZWRUb0NoYW5uZWxFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5SRUNFSVZFRF9HUk9VUF9OT1RfQVNTT0NJQVRFRF9UT19DSEFOTkVMOlxuICAgICAgaGFuZGxlR3JvdXBOb3RBc3NvY2lhdGVkVG9DaGFubmVsRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuV0FSTl9NRVRSSUNfU1RBVFVTX1JFQ0VJVkVEOlxuICAgICAgaGFuZGxlV2Fybk1ldHJpY1N0YXR1c1JlY2VpdmVkRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuV0FSTl9NRVRSSUNfU1RBVFVTX1JFTU9WRUQ6XG4gICAgICBoYW5kbGVXYXJuTWV0cmljU3RhdHVzUmVtb3ZlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlNJREVCQVJfQ0FURUdPUllfQ1JFQVRFRDpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZVNpZGViYXJDYXRlZ29yeUNyZWF0ZWQobXNnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlNJREVCQVJfQ0FURUdPUllfVVBEQVRFRDpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZVNpZGViYXJDYXRlZ29yeVVwZGF0ZWQobXNnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlNJREVCQVJfQ0FURUdPUllfREVMRVRFRDpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZVNpZGViYXJDYXRlZ29yeURlbGV0ZWQobXNnKSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFNvY2tldEV2ZW50cy5TSURFQkFSX0NBVEVHT1JZX09SREVSX1VQREFURUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVTaWRlYmFyQ2F0ZWdvcnlPcmRlclVwZGF0ZWQobXNnKSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFNvY2tldEV2ZW50cy5VU0VSX0FDVElWQVRJT05fU1RBVFVTX0NIQU5HRUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVVc2VyQWN0aXZhdGlvblN0YXR1c0NoYW5nZSgpKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgU29ja2V0RXZlbnRzLkNMT1VEX1BBWU1FTlRfU1RBVFVTX1VQREFURUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVDbG91ZFBheW1lbnRTdGF0dXNVcGRhdGVkKG1zZykpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTb2NrZXRFdmVudHMuRklSU1RfQURNSU5fVklTSVRfTUFSS0VUUExBQ0VfU1RBVFVTX1JFQ0VJVkVEOlxuICAgICAgaGFuZGxlRmlyc3RBZG1pblZpc2l0TWFya2V0cGxhY2VTdGF0dXNSZWNlaXZlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFNvY2tldEV2ZW50cy5USFJFQURfRk9MTE9XX0NIQU5HRUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVUaHJlYWRGb2xsb3dDaGFuZ2VkKG1zZykpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTb2NrZXRFdmVudHMuVEhSRUFEX1JFQURfQ0hBTkdFRDpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZVRocmVhZFJlYWRDaGFuZ2VkKG1zZykpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTb2NrZXRFdmVudHMuVEhSRUFEX1VQREFURUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVUaHJlYWRVcGRhdGVkKG1zZykpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTb2NrZXRFdmVudHMuQ09OVEFDVF9DSEFOR0VEOlxuICAgICAgaGFuZGxlQ29udGFjdFVwZGF0ZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTb2NrZXRFdmVudHMuQVBQU19GUkFNRVdPUktfUkVGUkVTSF9CSU5ESU5HUzoge1xuICAgICAgZGlzcGF0Y2goaGFuZGxlUmVmcmVzaEFwcHNCaW5kaW5ncyhtc2cpKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICB9XG5cbiAgT2JqZWN0LnZhbHVlcyhwbHVnaW5FdmVudEhhbmRsZXJzKS5mb3JFYWNoKChwbHVnaW5FdmVudHMpID0+IHtcbiAgICBpZiAoIXBsdWdpbkV2ZW50cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwbHVnaW5FdmVudHMuaGFzT3duUHJvcGVydHkobXNnLmV2ZW50KSAmJiB0eXBlb2YgcGx1Z2luRXZlbnRzW21zZy5ldmVudF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHBsdWdpbkV2ZW50c1ttc2cuZXZlbnRdKG1zZyk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gaGFuZGxlQ2hhbm5lbENvbnZlcnRlZEV2ZW50IGhhbmRsZXMgdXBkYXRpbmcgb2YgY2hhbm5lbCB3aGljaCBpcyBjb252ZXJ0ZWQgZnJvbSBwdWJsaWMgdG8gcHJpdmF0ZVxuZnVuY3Rpb24gaGFuZGxlQ2hhbm5lbENvbnZlcnRlZEV2ZW50KG1zZykge1xuICBjb25zdCBjaGFubmVsSWQgPSBtc2cuZGF0YS5jaGFubmVsX2lkO1xuICBpZiAoY2hhbm5lbElkKSB7XG4gICAgY29uc3QgY2hhbm5lbCA9IGdldENoYW5uZWwoZ2V0U3RhdGUoKSwgY2hhbm5lbElkKTtcbiAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBDaGFubmVsVHlwZXMuUkVDRUlWRURfQ0hBTk5FTCxcbiAgICAgICAgZGF0YTogey4uLmNoYW5uZWwsIHR5cGU6IEdlbmVyYWwuUFJJVkFURV9DSEFOTkVMfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQ2hhbm5lbFVwZGF0ZWRFdmVudChtc2cpIHtcbiAgcmV0dXJuIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgY29uc3QgY2hhbm5lbCA9IEpTT04ucGFyc2UobXNnLmRhdGEuY2hhbm5lbCk7XG5cbiAgICBkb0Rpc3BhdGNoKHt0eXBlOiBDaGFubmVsVHlwZXMuUkVDRUlWRURfQ0hBTk5FTCwgZGF0YTogY2hhbm5lbH0pO1xuXG4gICAgY29uc3Qgc3RhdGUgPSBkb0dldFN0YXRlKCk7XG4gICAgaWYgKGNoYW5uZWwuaWQgPT09IGdldEN1cnJlbnRDaGFubmVsSWQoc3RhdGUpKSB7XG4gICAgICBicm93c2VySGlzdG9yeS5yZXBsYWNlKGAke2dldEN1cnJlbnRSZWxhdGl2ZVRlYW1Vcmwoc3RhdGUpfS9ncm91cC8ke2NoYW5uZWwubmFtZX1gKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNoYW5uZWxNZW1iZXJVcGRhdGVkRXZlbnQobXNnKSB7XG4gIGNvbnN0IGNoYW5uZWxNZW1iZXIgPSBKU09OLnBhcnNlKG1zZy5kYXRhLmNoYW5uZWxNZW1iZXIpO1xuICBjb25zdCByb2xlcyA9IGNoYW5uZWxNZW1iZXIucm9sZXMuc3BsaXQoJyAnKTtcbiAgZGlzcGF0Y2gobG9hZFJvbGVzSWZOZWVkZWQocm9sZXMpKTtcbiAgZGlzcGF0Y2goe3R5cGU6IENoYW5uZWxUeXBlcy5SRUNFSVZFRF9NWV9DSEFOTkVMX01FTUJFUiwgZGF0YTogY2hhbm5lbE1lbWJlcn0pO1xufVxuXG5mdW5jdGlvbiBkZWJvdW5jZVBvc3RFdmVudCh3YWl0KSB7XG4gIGxldCB0aW1lb3V0O1xuICBsZXQgcXVldWUgPSBbXTtcbiAgbGV0IGNvdW50ID0gMDtcblxuICAvLyBDYWxsZWQgd2hlbiB0aW1lb3V0IHRyaWdnZXJlZFxuICBjb25zdCB0cmlnZ2VyZWQgPSAoKSA9PiB7XG4gICAgdGltZW91dCA9IG51bGw7XG5cbiAgICBpZiAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgZGlzcGF0Y2goaGFuZGxlTmV3UG9zdEV2ZW50cyhxdWV1ZSkpO1xuICAgIH1cblxuICAgIHF1ZXVlID0gW107XG4gICAgY291bnQgPSAwO1xuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbiBmeChtc2cpIHtcbiAgICBpZiAodGltZW91dCAmJiBjb3VudCA+IDQpIHtcbiAgICAgIC8vIElmIHRoZSB0aW1lb3V0IGlzIGdvaW5nIHRoaXMgaXMgdGhlIHNlY29uZCBvciBmdXJ0aGVyIGV2ZW50IHNvIHF1ZXVlIHRoZW0gdXAuXG4gICAgICBpZiAocXVldWUucHVzaChtc2cpID4gMjAwKSB7XG4gICAgICAgIC8vIERvbid0IHJ1biB1cyBvdXQgb2YgbWVtb3J5LCBnaXZlIHVwIGlmIHRoZSBxdWV1ZSBnZXRzIGluc2FuZVxuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICBjb25zb2xlLmxvZygnY2hhbm5lbCBicm9rZW4gYmVjYXVzZSBvZiB0b28gbWFueSBpbmNvbWluZyBtZXNzYWdlcycpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgfVxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQodHJpZ2dlcmVkLCB3YWl0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQXBwbHkgaW1tZWRpYXRlbHkgZm9yIGV2ZW50cyB1cCB1bnRpbCBjb3VudCByZWFjaGVzIGxpbWl0XG4gICAgICBjb3VudCArPSAxO1xuICAgICAgZGlzcGF0Y2goaGFuZGxlTmV3UG9zdEV2ZW50KG1zZykpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQodHJpZ2dlcmVkLCB3YWl0KTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IGhhbmRsZU5ld1Bvc3RFdmVudERlYm91bmNlZCA9IGRlYm91bmNlUG9zdEV2ZW50KDEwMCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVOZXdQb3N0RXZlbnQobXNnKSB7XG4gIHJldHVybiAobXlEaXNwYXRjaCwgbXlHZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHBvc3QgPSBKU09OLnBhcnNlKG1zZy5kYXRhLnBvc3QpO1xuICAgIG15RGlzcGF0Y2goaGFuZGxlTmV3UG9zdChwb3N0LCBtc2cpKTtcblxuICAgIGdldFByb2ZpbGVzQW5kU3RhdHVzZXNGb3JQb3N0cyhbcG9zdF0sIG15RGlzcGF0Y2gsIG15R2V0U3RhdGUpO1xuXG4gICAgLy8gU2luY2Ugc3RhdHVzIHVwZGF0ZXMgYXJlbid0IHJlYWwgdGltZSwgYXNzdW1lIGFub3RoZXIgdXNlciBpcyBvbmxpbmUgaWYgdGhleSBoYXZlIHBvc3RlZCBhbmQ6XG4gICAgLy8gMS4gVGhlIHVzZXIgaGFzbid0IHNldCB0aGVpciBzdGF0dXMgbWFudWFsbHkgdG8gc29tZXRoaW5nIHRoYXQgaXNuJ3Qgb25saW5lXG4gICAgLy8gMi4gVGhlIHNlcnZlciBoYXNuJ3QgdG9sZCB0aGUgY2xpZW50IG5vdCB0byBzZXQgdGhlIHVzZXIgdG8gb25saW5lLiBUaGlzIGhhcHBlbnMgd2hlbjpcbiAgICAvLyAgICAgYS4gVGhlIHBvc3QgaXMgZnJvbSB0aGUgYXV0byByZXNwb25kZXJcbiAgICAvLyAgICAgYi4gVGhlIHBvc3QgaXMgYSByZXNwb25zZSB0byBhIHB1c2ggbm90aWZpY2F0aW9uXG4gICAgaWYgKFxuICAgICAgcG9zdC51c2VyX2lkICE9PSBnZXRDdXJyZW50VXNlcklkKG15R2V0U3RhdGUoKSkgJiZcbiAgICAgICFnZXRJc01hbnVhbFN0YXR1c0ZvclVzZXJJZChteUdldFN0YXRlKCksIHBvc3QudXNlcl9pZCkgJiZcbiAgICAgIG1zZy5kYXRhLnNldF9vbmxpbmVcbiAgICApIHtcbiAgICAgIG15RGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBVc2VyVHlwZXMuUkVDRUlWRURfU1RBVFVTRVMsXG4gICAgICAgIGRhdGE6IFt7dXNlcl9pZDogcG9zdC51c2VyX2lkLCBzdGF0dXM6IFVzZXJTdGF0dXNlcy5PTkxJTkV9XSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU5ld1Bvc3RFdmVudHMocXVldWUpIHtcbiAgcmV0dXJuIChteURpc3BhdGNoLCBteUdldFN0YXRlKSA9PiB7XG4gICAgLy8gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGRvZXNuJ3QgcHJvcGVybHkgdXBkYXRlIHRoZSBzaWRlYmFyIHN0YXRlIGZvciB0aGVzZSBwb3N0c1xuICAgIGNvbnN0IHBvc3RzID0gcXVldWUubWFwKChtc2cpID0+IEpTT04ucGFyc2UobXNnLmRhdGEucG9zdCkpO1xuXG4gICAgLy8gUmVjZWl2ZSB0aGUgcG9zdHMgYXMgb25lIGNvbnRpbnVvdXMgYmxvY2sgc2luY2UgdGhleSB3ZXJlIHJlY2VpdmVkIHdpdGhpbiBhIHNob3J0IHBlcmlvZFxuICAgIGNvbnN0IGNydEVuYWJsZWQgPSBpc0NvbGxhcHNlZFRocmVhZHNFbmFibGVkKG15R2V0U3RhdGUoKSk7XG4gICAgY29uc3QgYWN0aW9ucyA9IHBvc3RzLm1hcCgocG9zdCkgPT4gcmVjZWl2ZWROZXdQb3N0KHBvc3QsIGNydEVuYWJsZWQpKTtcbiAgICBteURpc3BhdGNoKGJhdGNoQWN0aW9ucyhhY3Rpb25zKSk7XG5cbiAgICAvLyBMb2FkIHRoZSBwb3N0cycgdGhyZWFkc1xuICAgIG15RGlzcGF0Y2goZ2V0VGhyZWFkc0ZvclBvc3RzKHBvc3RzKSk7XG5cbiAgICAvLyBBbmQgYW55IG90aGVyIGRhdGEgbmVlZGVkIGZvciB0aGVtXG4gICAgZ2V0UHJvZmlsZXNBbmRTdGF0dXNlc0ZvclBvc3RzKHBvc3RzLCBteURpc3BhdGNoLCBteUdldFN0YXRlKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVBvc3RFZGl0RXZlbnQobXNnKSB7XG4gIC8vIFN0b3JlIHBvc3RcbiAgY29uc3QgcG9zdCA9IEpTT04ucGFyc2UobXNnLmRhdGEucG9zdCk7XG4gIGRpc3BhdGNoKHJlY2VpdmVkUG9zdChwb3N0KSk7XG5cbiAgZ2V0UHJvZmlsZXNBbmRTdGF0dXNlc0ZvclBvc3RzKFtwb3N0XSwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgY29uc3QgY3VycmVudENoYW5uZWxJZCA9IGdldEN1cnJlbnRDaGFubmVsSWQoZ2V0U3RhdGUoKSk7XG5cbiAgLy8gVXBkYXRlIGNoYW5uZWwgc3RhdGVcbiAgaWYgKGN1cnJlbnRDaGFubmVsSWQgPT09IG1zZy5icm9hZGNhc3QuY2hhbm5lbF9pZCkge1xuICAgIGRpc3BhdGNoKGdldENoYW5uZWxTdGF0cyhjdXJyZW50Q2hhbm5lbElkKSk7XG4gICAgaWYgKHdpbmRvdy5pc0FjdGl2ZSkge1xuICAgICAgZGlzcGF0Y2godmlld0NoYW5uZWwoY3VycmVudENoYW5uZWxJZCkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVQb3N0RGVsZXRlRXZlbnQobXNnKSB7XG4gIGNvbnN0IHBvc3QgPSBKU09OLnBhcnNlKG1zZy5kYXRhLnBvc3QpO1xuICBkaXNwYXRjaChwb3N0RGVsZXRlZChwb3N0KSk7XG4gIGlmIChwb3N0LmlzX3Bpbm5lZCkge1xuICAgIGRpc3BhdGNoKGdldENoYW5uZWxTdGF0cyhwb3N0LmNoYW5uZWxfaWQpKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUG9zdFVucmVhZEV2ZW50KG1zZykge1xuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogQWN0aW9uVHlwZXMuUE9TVF9VTlJFQURfU1VDQ0VTUyxcbiAgICBkYXRhOiB7XG4gICAgICBsYXN0Vmlld2VkQXQ6IG1zZy5kYXRhLmxhc3Rfdmlld2VkX2F0LFxuICAgICAgY2hhbm5lbElkOiBtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQsXG4gICAgICBtc2dDb3VudDogbXNnLmRhdGEubXNnX2NvdW50LFxuICAgICAgbWVudGlvbkNvdW50OiBtc2cuZGF0YS5tZW50aW9uX2NvdW50LFxuICAgIH0sXG4gIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVUZWFtQWRkZWRFdmVudChtc2cpIHtcbiAgYXdhaXQgZGlzcGF0Y2goVGVhbUFjdGlvbnMuZ2V0VGVhbShtc2cuZGF0YS50ZWFtX2lkKSk7XG4gIGF3YWl0IGRpc3BhdGNoKFRlYW1BY3Rpb25zLmdldE15VGVhbU1lbWJlcnMoKSk7XG4gIGF3YWl0IGRpc3BhdGNoKFRlYW1BY3Rpb25zLmdldE15VGVhbVVucmVhZHMoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVMZWF2ZVRlYW1FdmVudChtc2cpIHtcbiAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuXG4gIGNvbnN0IGFjdGlvbnMgPSBbXG4gICAge1xuICAgICAgdHlwZTogVXNlclR5cGVzLlJFQ0VJVkVEX1BST0ZJTEVfTk9UX0lOX1RFQU0sXG4gICAgICBkYXRhOiB7aWQ6IG1zZy5kYXRhLnRlYW1faWQsIHVzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogVGVhbVR5cGVzLlJFTU9WRV9NRU1CRVJfRlJPTV9URUFNLFxuICAgICAgZGF0YToge3RlYW1faWQ6IG1zZy5kYXRhLnRlYW1faWQsIHVzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgIH0sXG4gIF07XG5cbiAgY29uc3QgY2hhbm5lbHNQZXJUZWFtID0gZ2V0Q2hhbm5lbHNJblRlYW0oc3RhdGUpO1xuICBjb25zdCBjaGFubmVscyA9IChjaGFubmVsc1BlclRlYW0gJiYgY2hhbm5lbHNQZXJUZWFtW21zZy5kYXRhLnRlYW1faWRdKSB8fCBbXTtcblxuICBmb3IgKGNvbnN0IGNoYW5uZWwgb2YgY2hhbm5lbHMpIHtcbiAgICBhY3Rpb25zLnB1c2goe1xuICAgICAgdHlwZTogQ2hhbm5lbFR5cGVzLlJFTU9WRV9NRU1CRVJfRlJPTV9DSEFOTkVMLFxuICAgICAgZGF0YToge2lkOiBjaGFubmVsLCB1c2VyX2lkOiBtc2cuZGF0YS51c2VyX2lkfSxcbiAgICB9KTtcbiAgfVxuXG4gIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhhY3Rpb25zKSk7XG4gIGNvbnN0IGN1cnJlbnRVc2VyID0gZ2V0Q3VycmVudFVzZXIoc3RhdGUpO1xuXG4gIGlmIChjdXJyZW50VXNlci5pZCA9PT0gbXNnLmRhdGEudXNlcl9pZCkge1xuICAgIGRpc3BhdGNoKHt0eXBlOiBUZWFtVHlwZXMuTEVBVkVfVEVBTSwgZGF0YToge2lkOiBtc2cuZGF0YS50ZWFtX2lkfX0pO1xuXG4gICAgLy8gaWYgdGhleSBhcmUgb24gdGhlIHRlYW0gYmVpbmcgcmVtb3ZlZCByZWRpcmVjdCB0aGVtIHRvIGRlZmF1bHQgdGVhbVxuICAgIGlmIChnZXRDdXJyZW50VGVhbUlkKHN0YXRlKSA9PT0gbXNnLmRhdGEudGVhbV9pZCkge1xuICAgICAgaWYgKCFnbG9iYWwubG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgnL2FkbWluX2NvbnNvbGUnKSkge1xuICAgICAgICByZWRpcmVjdFVzZXJUb0RlZmF1bHRUZWFtKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0d1ZXN0KGN1cnJlbnRVc2VyKSkge1xuICAgICAgZGlzcGF0Y2gocmVtb3ZlTm90VmlzaWJsZVVzZXJzKCkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0ZWFtID0gZ2V0VGVhbShzdGF0ZSwgbXNnLmRhdGEudGVhbV9pZCk7XG4gICAgY29uc3QgbWVtYmVycyA9IGdldENoYW5uZWxNZW1iZXJzSW5DaGFubmVscyhzdGF0ZSk7XG4gICAgY29uc3QgaXNNZW1iZXIgPSBPYmplY3QudmFsdWVzKG1lbWJlcnMpLnNvbWUoKG1lbWJlcikgPT4gbWVtYmVyW21zZy5kYXRhLnVzZXJfaWRdKTtcbiAgICBpZiAodGVhbSAmJiBpc0d1ZXN0KGN1cnJlbnRVc2VyKSAmJiAhaXNNZW1iZXIpIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBiYXRjaEFjdGlvbnMoW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IFVzZXJUeXBlcy5QUk9GSUxFX05PX0xPTkdFUl9WSVNJQkxFLFxuICAgICAgICAgICAgZGF0YToge3VzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogVGVhbVR5cGVzLlJFTU9WRV9NRU1CRVJfRlJPTV9URUFNLFxuICAgICAgICAgICAgZGF0YToge3RlYW1faWQ6IHRlYW0uaWQsIHVzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgICAgICAgIH0sXG4gICAgICAgIF0pXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVVcGRhdGVUZWFtRXZlbnQobXNnKSB7XG4gIGRpc3BhdGNoKHt0eXBlOiBUZWFtVHlwZXMuVVBEQVRFRF9URUFNLCBkYXRhOiBKU09OLnBhcnNlKG1zZy5kYXRhLnRlYW0pfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVVwZGF0ZVRlYW1TY2hlbWVFdmVudCgpIHtcbiAgZGlzcGF0Y2goVGVhbUFjdGlvbnMuZ2V0TXlUZWFtTWVtYmVycygpKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlVGVhbUV2ZW50KG1zZykge1xuICBjb25zdCBkZWxldGVkVGVhbSA9IEpTT04ucGFyc2UobXNnLmRhdGEudGVhbSk7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3Qge3RlYW1zfSA9IHN0YXRlLmVudGl0aWVzLnRlYW1zO1xuICBpZiAoZGVsZXRlZFRlYW0gJiYgdGVhbXMgJiYgdGVhbXNbZGVsZXRlZFRlYW0uaWRdICYmIHRlYW1zW2RlbGV0ZWRUZWFtLmlkXS5kZWxldGVfYXQgPT09IDApIHtcbiAgICBjb25zdCB7Y3VycmVudFVzZXJJZH0gPSBzdGF0ZS5lbnRpdGllcy51c2VycztcbiAgICBjb25zdCB7Y3VycmVudFRlYW1JZCwgbXlNZW1iZXJzfSA9IHN0YXRlLmVudGl0aWVzLnRlYW1zO1xuICAgIGNvbnN0IHRlYW1NZW1iZXJzID0gT2JqZWN0LnZhbHVlcyhteU1lbWJlcnMpO1xuICAgIGNvbnN0IHRlYW1NZW1iZXIgPSB0ZWFtTWVtYmVycy5maW5kKChtKSA9PiBtLnVzZXJfaWQgPT09IGN1cnJlbnRVc2VySWQgJiYgbS50ZWFtX2lkID09PSBjdXJyZW50VGVhbUlkKTtcblxuICAgIGxldCBuZXdUZWFtSWQgPSAnJztcbiAgICBpZiAoZGVsZXRlZFRlYW0gJiYgdGVhbU1lbWJlciAmJiBkZWxldGVkVGVhbS5pZCA9PT0gdGVhbU1lbWJlci50ZWFtX2lkKSB7XG4gICAgICBjb25zdCBteVRlYW1zID0ge307XG4gICAgICBnZXRNeVRlYW1zKHN0YXRlKS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIG15VGVhbXNbdC5pZF0gPSB0O1xuICAgICAgfSk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVhbU1lbWJlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbWVtYmVyVGVhbUlkID0gdGVhbU1lbWJlcnNbaV0udGVhbV9pZDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG15VGVhbXMgJiZcbiAgICAgICAgICBteVRlYW1zW21lbWJlclRlYW1JZF0gJiZcbiAgICAgICAgICBteVRlYW1zW21lbWJlclRlYW1JZF0uZGVsZXRlX2F0ID09PSAwICYmXG4gICAgICAgICAgZGVsZXRlZFRlYW0uaWQgIT09IG1lbWJlclRlYW1JZFxuICAgICAgICApIHtcbiAgICAgICAgICBuZXdUZWFtSWQgPSBtZW1iZXJUZWFtSWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNwYXRjaChcbiAgICAgIGJhdGNoQWN0aW9ucyhbXG4gICAgICAgIHt0eXBlOiBUZWFtVHlwZXMuUkVDRUlWRURfVEVBTV9ERUxFVEVELCBkYXRhOiB7aWQ6IGRlbGV0ZWRUZWFtLmlkfX0sXG4gICAgICAgIHt0eXBlOiBUZWFtVHlwZXMuVVBEQVRFRF9URUFNLCBkYXRhOiBkZWxldGVkVGVhbX0sXG4gICAgICBdKVxuICAgICk7XG5cbiAgICBpZiAobmV3VGVhbUlkKSB7XG4gICAgICBkaXNwYXRjaCh7dHlwZTogVGVhbVR5cGVzLlNFTEVDVF9URUFNLCBkYXRhOiBuZXdUZWFtSWR9KTtcbiAgICAgIGNvbnN0IGdsb2JhbFN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgIGNvbnN0IHJlZGlyZWN0Q2hhbm5lbCA9IGdldFJlZGlyZWN0Q2hhbm5lbE5hbWVGb3JUZWFtKGdsb2JhbFN0YXRlLCBuZXdUZWFtSWQpO1xuICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChgJHtnZXRDdXJyZW50VGVhbVVybChnbG9iYWxTdGF0ZSl9L2dyb3VwLyR7cmVkaXJlY3RDaGFubmVsfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVVwZGF0ZU1lbWJlclJvbGVFdmVudChtc2cpIHtcbiAgY29uc3QgbWVtYmVyRGF0YSA9IEpTT04ucGFyc2UobXNnLmRhdGEubWVtYmVyKTtcbiAgY29uc3QgbmV3Um9sZXMgPSBtZW1iZXJEYXRhLnJvbGVzLnNwbGl0KCcgJyk7XG5cbiAgZGlzcGF0Y2gobG9hZFJvbGVzSWZOZWVkZWQobmV3Um9sZXMpKTtcblxuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogVGVhbVR5cGVzLlJFQ0VJVkVEX01ZX1RFQU1fTUVNQkVSLFxuICAgIGRhdGE6IG1lbWJlckRhdGEsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVEaXJlY3RBZGRlZEV2ZW50KG1zZykge1xuICByZXR1cm4gZmV0Y2hDaGFubmVsQW5kQWRkVG9TaWRlYmFyKG1zZy5icm9hZGNhc3QuY2hhbm5lbF9pZCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUdyb3VwQWRkZWRFdmVudChtc2cpIHtcbiAgcmV0dXJuIGZldGNoQ2hhbm5lbEFuZEFkZFRvU2lkZWJhcihtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVVc2VyQWRkZWRFdmVudChtc2cpIHtcbiAgcmV0dXJuIGFzeW5jIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBkb0dldFN0YXRlKCk7XG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKHN0YXRlKTtcbiAgICBjb25zdCBsaWNlbnNlID0gZ2V0TGljZW5zZShzdGF0ZSk7XG4gICAgY29uc3QgaXNUaW1lem9uZUVuYWJsZWQgPSBjb25maWcuRXhwZXJpbWVudGFsVGltZXpvbmUgPT09ICd0cnVlJztcbiAgICBjb25zdCBjdXJyZW50Q2hhbm5lbElkID0gZ2V0Q3VycmVudENoYW5uZWxJZChzdGF0ZSk7XG4gICAgaWYgKGN1cnJlbnRDaGFubmVsSWQgPT09IG1zZy5icm9hZGNhc3QuY2hhbm5lbF9pZCkge1xuICAgICAgZG9EaXNwYXRjaChnZXRDaGFubmVsU3RhdHMoY3VycmVudENoYW5uZWxJZCkpO1xuICAgICAgZG9EaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IFVzZXJUeXBlcy5SRUNFSVZFRF9QUk9GSUxFX0lOX0NIQU5ORUwsXG4gICAgICAgIGRhdGE6IHtpZDogbXNnLmJyb2FkY2FzdC5jaGFubmVsX2lkLCB1c2VyX2lkOiBtc2cuZGF0YS51c2VyX2lkfSxcbiAgICAgIH0pO1xuICAgICAgaWYgKGxpY2Vuc2U/LklzTGljZW5zZWQgPT09ICd0cnVlJyAmJiBsaWNlbnNlPy5MREFQR3JvdXBzID09PSAndHJ1ZScpIHtcbiAgICAgICAgZG9EaXNwYXRjaChnZXRDaGFubmVsTWVtYmVyQ291bnRzQnlHcm91cChjdXJyZW50Q2hhbm5lbElkLCBpc1RpbWV6b25lRW5hYmxlZCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIExvYWQgdGhlIGNoYW5uZWwgc28gdGhhdCBpdCBhcHBlYXJzIGluIHRoZSBzaWRlYmFyXG4gICAgY29uc3QgY3VycmVudFRlYW1JZCA9IGdldEN1cnJlbnRUZWFtSWQoZG9HZXRTdGF0ZSgpKTtcbiAgICBjb25zdCBjdXJyZW50VXNlcklkID0gZ2V0Q3VycmVudFVzZXJJZChkb0dldFN0YXRlKCkpO1xuICAgIGlmIChjdXJyZW50VGVhbUlkID09PSBtc2cuZGF0YS50ZWFtX2lkICYmIGN1cnJlbnRVc2VySWQgPT09IG1zZy5kYXRhLnVzZXJfaWQpIHtcbiAgICAgIGRvRGlzcGF0Y2goZmV0Y2hDaGFubmVsQW5kQWRkVG9TaWRlYmFyKG1zZy5icm9hZGNhc3QuY2hhbm5lbF9pZCkpO1xuICAgIH1cblxuICAgIC8vIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiBhIHVzZXIgZmlyc3Qgam9pbnMgdGhlIHNlcnZlciwgc28gcmVmcmVzaCBhbmFseXRpY3MgdG8gc2VlIGlmIHdlJ3JlIG5vdyBvdmVyIHRoZSB1c2VyIGxpbWl0XG4gICAgaWYgKGxpY2Vuc2UuQ2xvdWQgPT09ICd0cnVlJyAmJiBpc0N1cnJlbnRVc2VyU3lzdGVtQWRtaW4oZG9HZXRTdGF0ZSgpKSkge1xuICAgICAgZG9EaXNwYXRjaChnZXRTdGFuZGFyZEFuYWx5dGljcygpKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZldGNoQ2hhbm5lbEFuZEFkZFRvU2lkZWJhcihjaGFubmVsSWQpIHtcbiAgcmV0dXJuIGFzeW5jIChkb0Rpc3BhdGNoKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGVycm9yfSA9IGF3YWl0IGRvRGlzcGF0Y2goZ2V0Q2hhbm5lbEFuZE15TWVtYmVyKGNoYW5uZWxJZCkpO1xuXG4gICAgaWYgKCFlcnJvcikge1xuICAgICAgZG9EaXNwYXRjaChhZGRDaGFubmVsVG9Jbml0aWFsQ2F0ZWdvcnkoZGF0YS5jaGFubmVsKSk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlVXNlclJlbW92ZWRFdmVudChtc2cpIHtcbiAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICBjb25zdCBjdXJyZW50Q2hhbm5lbCA9IGdldEN1cnJlbnRDaGFubmVsKHN0YXRlKSB8fCB7fTtcbiAgY29uc3QgY3VycmVudFVzZXIgPSBnZXRDdXJyZW50VXNlcihzdGF0ZSk7XG4gIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZyhzdGF0ZSk7XG4gIGNvbnN0IGxpY2Vuc2UgPSBnZXRMaWNlbnNlKHN0YXRlKTtcbiAgY29uc3QgaXNUaW1lem9uZUVuYWJsZWQgPSBjb25maWcuRXhwZXJpbWVudGFsVGltZXpvbmUgPT09ICd0cnVlJztcblxuICBpZiAobXNnLmJyb2FkY2FzdC51c2VyX2lkID09PSBjdXJyZW50VXNlci5pZCkge1xuICAgIGRpc3BhdGNoKGxvYWRDaGFubmVsc0ZvckN1cnJlbnRVc2VyKCkpO1xuXG4gICAgY29uc3QgcmhzQ2hhbm5lbElkID0gZ2V0U2VsZWN0ZWRDaGFubmVsSWQoc3RhdGUpO1xuICAgIGlmIChtc2cuZGF0YS5jaGFubmVsX2lkID09PSByaHNDaGFubmVsSWQpIHtcbiAgICAgIGRpc3BhdGNoKGNsb3NlUmlnaHRIYW5kU2lkZSgpKTtcbiAgICB9XG5cbiAgICBpZiAobXNnLmRhdGEuY2hhbm5lbF9pZCA9PT0gY3VycmVudENoYW5uZWwuaWQpIHtcbiAgICAgIGlmIChtc2cuZGF0YS5yZW1vdmVyX2lkID09PSBtc2cuYnJvYWRjYXN0LnVzZXJfaWQpIHtcbiAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChnZXRDdXJyZW50UmVsYXRpdmVUZWFtVXJsKHN0YXRlKSk7XG5cbiAgICAgICAgYXdhaXQgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IENoYW5uZWxUeXBlcy5MRUFWRV9DSEFOTkVMLFxuICAgICAgICAgIGRhdGE6IHtpZDogbXNnLmRhdGEuY2hhbm5lbF9pZCwgdXNlcl9pZDogbXNnLmJyb2FkY2FzdC51c2VyX2lkfSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB1c2VyID0gZ2V0VXNlcihzdGF0ZSwgbXNnLmRhdGEucmVtb3Zlcl9pZCk7XG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgIGRpc3BhdGNoKGxvYWRVc2VyKG1zZy5kYXRhLnJlbW92ZXJfaWQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUuaW5mbygnaGFuZGxlVXNlclJlbW92ZWRFdmVudCcpO1xuXG4gICAgICAgIC8vIGRpc3BhdGNoKG9wZW5Nb2RhbCh7XG4gICAgICAgIC8vICAgICBtb2RhbElkOiBNb2RhbElkZW50aWZpZXJzLlJFTU9WRURfRlJPTV9DSEFOTkVMLFxuICAgICAgICAvLyAgICAgZGlhbG9nVHlwZTogUmVtb3ZlZEZyb21DaGFubmVsTW9kYWwsXG4gICAgICAgIC8vICAgICBkaWFsb2dQcm9wczoge1xuICAgICAgICAvLyAgICAgICAgIGNoYW5uZWxOYW1lOiBjdXJyZW50Q2hhbm5lbC5kaXNwbGF5X25hbWUsXG4gICAgICAgIC8vICAgICAgICAgcmVtb3ZlcklkOiBtc2cuZGF0YS5yZW1vdmVyX2lkLFxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gfSkpO1xuXG4gICAgICAgIGF3YWl0IGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBDaGFubmVsVHlwZXMuTEVBVkVfQ0hBTk5FTCxcbiAgICAgICAgICBkYXRhOiB7aWQ6IG1zZy5kYXRhLmNoYW5uZWxfaWQsIHVzZXJfaWQ6IG1zZy5icm9hZGNhc3QudXNlcl9pZH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlZGlyZWN0VXNlclRvRGVmYXVsdFRlYW0oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNHdWVzdChjdXJyZW50VXNlcikpIHtcbiAgICAgIGRpc3BhdGNoKHJlbW92ZU5vdFZpc2libGVVc2VycygpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobXNnLmJyb2FkY2FzdC5jaGFubmVsX2lkID09PSBjdXJyZW50Q2hhbm5lbC5pZCkge1xuICAgIGRpc3BhdGNoKGdldENoYW5uZWxTdGF0cyhjdXJyZW50Q2hhbm5lbC5pZCkpO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IFVzZXJUeXBlcy5SRUNFSVZFRF9QUk9GSUxFX05PVF9JTl9DSEFOTkVMLFxuICAgICAgZGF0YToge2lkOiBtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQsIHVzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgIH0pO1xuICAgIGlmIChsaWNlbnNlPy5Jc0xpY2Vuc2VkID09PSAndHJ1ZScgJiYgbGljZW5zZT8uTERBUEdyb3VwcyA9PT0gJ3RydWUnKSB7XG4gICAgICBkaXNwYXRjaChnZXRDaGFubmVsTWVtYmVyQ291bnRzQnlHcm91cChjdXJyZW50Q2hhbm5lbC5pZCwgaXNUaW1lem9uZUVuYWJsZWQpKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXNnLmJyb2FkY2FzdC51c2VyX2lkICE9PSBjdXJyZW50VXNlci5pZCkge1xuICAgIGNvbnN0IGNoYW5uZWwgPSBnZXRDaGFubmVsKHN0YXRlLCBtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQpO1xuICAgIGNvbnN0IG1lbWJlcnMgPSBnZXRDaGFubmVsTWVtYmVyc0luQ2hhbm5lbHMoc3RhdGUpO1xuICAgIGNvbnN0IGlzTWVtYmVyID0gT2JqZWN0LnZhbHVlcyhtZW1iZXJzKS5zb21lKChtZW1iZXIpID0+IG1lbWJlclttc2cuZGF0YS51c2VyX2lkXSk7XG4gICAgaWYgKGNoYW5uZWwgJiYgaXNHdWVzdChjdXJyZW50VXNlcikgJiYgIWlzTWVtYmVyKSB7XG4gICAgICBjb25zdCBhY3Rpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogVXNlclR5cGVzLlBST0ZJTEVfTk9fTE9OR0VSX1ZJU0lCTEUsXG4gICAgICAgICAgZGF0YToge3VzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogVGVhbVR5cGVzLlJFTU9WRV9NRU1CRVJfRlJPTV9URUFNLFxuICAgICAgICAgIGRhdGE6IHt0ZWFtX2lkOiBjaGFubmVsLnRlYW1faWQsIHVzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgICAgICB9LFxuICAgICAgXTtcbiAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhhY3Rpb25zKSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2hhbm5lbElkID0gbXNnLmJyb2FkY2FzdC5jaGFubmVsX2lkIHx8IG1zZy5kYXRhLmNoYW5uZWxfaWQ7XG4gIGNvbnN0IHVzZXJJZCA9IG1zZy5icm9hZGNhc3QudXNlcl9pZCB8fCBtc2cuZGF0YS51c2VyX2lkO1xuICBjb25zdCBjaGFubmVsID0gZ2V0Q2hhbm5lbChzdGF0ZSwgY2hhbm5lbElkKTtcbiAgaWYgKFxuICAgIGNoYW5uZWwgJiZcbiAgICAhaGF2ZUlTeXN0ZW1QZXJtaXNzaW9uKHN0YXRlLCB7cGVybWlzc2lvbjogUGVybWlzc2lvbnMuVklFV19NRU1CRVJTfSkgJiZcbiAgICAhaGF2ZUlUZWFtUGVybWlzc2lvbihzdGF0ZSwge3Blcm1pc3Npb246IFBlcm1pc3Npb25zLlZJRVdfTUVNQkVSUywgdGVhbTogY2hhbm5lbC50ZWFtX2lkfSlcbiAgKSB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBiYXRjaEFjdGlvbnMoW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogVXNlclR5cGVzLlJFQ0VJVkVEX1BST0ZJTEVfTk9UX0lOX1RFQU0sXG4gICAgICAgICAgZGF0YToge2lkOiBjaGFubmVsLnRlYW1faWQsIHVzZXJfaWQ6IHVzZXJJZH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBUZWFtVHlwZXMuUkVNT1ZFX01FTUJFUl9GUk9NX1RFQU0sXG4gICAgICAgICAgZGF0YToge3RlYW1faWQ6IGNoYW5uZWwudGVhbV9pZCwgdXNlcl9pZDogdXNlcklkfSxcbiAgICAgICAgfSxcbiAgICAgIF0pXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlVXNlclVwZGF0ZWRFdmVudChtc2cpIHtcbiAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICBjb25zdCBjdXJyZW50VXNlciA9IGdldEN1cnJlbnRVc2VyKHN0YXRlKTtcbiAgY29uc3QgdXNlciA9IG1zZy5kYXRhLnVzZXI7XG5cbiAgY29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKHN0YXRlKTtcbiAgY29uc3QgbGljZW5zZSA9IGdldExpY2Vuc2Uoc3RhdGUpO1xuXG4gIGNvbnN0IHVzZXJJc0d1ZXN0ID0gaXNHdWVzdCh1c2VyKTtcbiAgY29uc3QgaXNUaW1lem9uZUVuYWJsZWQgPSBjb25maWcuRXhwZXJpbWVudGFsVGltZXpvbmUgPT09ICd0cnVlJztcbiAgY29uc3QgaXNMREFQRW5hYmxlZCA9IGxpY2Vuc2U/LklzTGljZW5zZWQgPT09ICd0cnVlJyAmJiBsaWNlbnNlPy5MREFQR3JvdXBzID09PSAndHJ1ZSc7XG5cbiAgaWYgKHVzZXJJc0d1ZXN0IHx8IChpc1RpbWV6b25lRW5hYmxlZCAmJiBpc0xEQVBFbmFibGVkKSkge1xuICAgIGxldCBtZW1iZXJzID0gZ2V0TWVtYmVyc0luQ3VycmVudENoYW5uZWwoc3RhdGUpO1xuICAgIGNvbnN0IGN1cnJlbnRDaGFubmVsSWQgPSBnZXRDdXJyZW50Q2hhbm5lbElkKHN0YXRlKTtcbiAgICBsZXQgbWVtYmVyRXhpc3RzID0gbWVtYmVycyAmJiBtZW1iZXJzW3VzZXIuaWRdO1xuICAgIGlmICghbWVtYmVyRXhpc3RzKSB7XG4gICAgICBhd2FpdCBkaXNwYXRjaChnZXRDaGFubmVsTWVtYmVyKGN1cnJlbnRDaGFubmVsSWQsIHVzZXIuaWQpKTtcbiAgICAgIG1lbWJlcnMgPSBnZXRNZW1iZXJzSW5DdXJyZW50Q2hhbm5lbChnZXRTdGF0ZSgpKTtcbiAgICAgIG1lbWJlckV4aXN0cyA9IG1lbWJlcnMgJiYgbWVtYmVyc1t1c2VyLmlkXTtcbiAgICB9XG5cbiAgICBpZiAobWVtYmVyRXhpc3RzKSB7XG4gICAgICBpZiAoaXNMREFQRW5hYmxlZCAmJiBpc1RpbWV6b25lRW5hYmxlZCkge1xuICAgICAgICBkaXNwYXRjaChnZXRDaGFubmVsTWVtYmVyQ291bnRzQnlHcm91cChjdXJyZW50Q2hhbm5lbElkLCB0cnVlKSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNHdWVzdCh1c2VyKSkge1xuICAgICAgICBkaXNwYXRjaChnZXRDaGFubmVsU3RhdHMoY3VycmVudENoYW5uZWxJZCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChjdXJyZW50VXNlci5pZCA9PT0gdXNlci5pZCkge1xuICAgIGlmICh1c2VyLnVwZGF0ZV9hdCA+IGN1cnJlbnRVc2VyLnVwZGF0ZV9hdCkge1xuICAgICAgLy8gTmVlZCB0byByZXF1ZXN0IG1lIHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBvdmVycmlkZSB3aXRoIHNhbml0aXplZCBmaWVsZHMgZnJvbSB0aGVcbiAgICAgIC8vIHdlYnNvY2tldCBldmVudFxuICAgICAgZ2V0TWUoKShkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBVc2VyVHlwZXMuUkVDRUlWRURfUFJPRklMRSxcbiAgICAgIGRhdGE6IHVzZXIsXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlUm9sZUFkZGVkRXZlbnQobXNnKSB7XG4gIGNvbnN0IHJvbGUgPSBKU09OLnBhcnNlKG1zZy5kYXRhLnJvbGUpO1xuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBSb2xlVHlwZXMuUkVDRUlWRURfUk9MRSxcbiAgICBkYXRhOiByb2xlLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUm9sZVJlbW92ZWRFdmVudChtc2cpIHtcbiAgY29uc3Qgcm9sZSA9IEpTT04ucGFyc2UobXNnLmRhdGEucm9sZSk7XG5cbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IFJvbGVUeXBlcy5ST0xFX0RFTEVURUQsXG4gICAgZGF0YTogcm9sZSxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNoYW5uZWxTY2hlbWVVcGRhdGVkRXZlbnQobXNnKSB7XG4gIGRpc3BhdGNoKGdldE15Q2hhbm5lbE1lbWJlcihtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQpKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUm9sZVVwZGF0ZWRFdmVudChtc2cpIHtcbiAgY29uc3Qgcm9sZSA9IEpTT04ucGFyc2UobXNnLmRhdGEucm9sZSk7XG5cbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IFJvbGVUeXBlcy5SRUNFSVZFRF9ST0xFLFxuICAgIGRhdGE6IHJvbGUsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVDaGFubmVsQ3JlYXRlZEV2ZW50KG1zZykge1xuICByZXR1cm4gYXN5bmMgKG15RGlzcGF0Y2gsIG15R2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBjaGFubmVsSWQgPSBtc2cuZGF0YS5jaGFubmVsX2lkO1xuICAgIGNvbnN0IHRlYW1JZCA9IG1zZy5kYXRhLnRlYW1faWQ7XG4gICAgY29uc3Qgc3RhdGUgPSBteUdldFN0YXRlKCk7XG5cbiAgICBpZiAoZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSkgPT09IHRlYW1JZCkge1xuICAgICAgbGV0IGNoYW5uZWwgPSBnZXRDaGFubmVsKHN0YXRlLCBjaGFubmVsSWQpO1xuXG4gICAgICBpZiAoIWNoYW5uZWwpIHtcbiAgICAgICAgYXdhaXQgbXlEaXNwYXRjaChnZXRDaGFubmVsQW5kTXlNZW1iZXIoY2hhbm5lbElkKSk7XG5cbiAgICAgICAgY2hhbm5lbCA9IGdldENoYW5uZWwobXlHZXRTdGF0ZSgpLCBjaGFubmVsSWQpO1xuICAgICAgfVxuXG4gICAgICBteURpc3BhdGNoKGFkZENoYW5uZWxUb0luaXRpYWxDYXRlZ29yeShjaGFubmVsLCBmYWxzZSkpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2hhbm5lbERlbGV0ZWRFdmVudChtc2cpIHtcbiAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICBjb25zdCBjb25maWcgPSBnZXRDb25maWcoc3RhdGUpO1xuICBjb25zdCB2aWV3QXJjaGl2ZWRDaGFubmVscyA9IGNvbmZpZy5FeHBlcmltZW50YWxWaWV3QXJjaGl2ZWRDaGFubmVscyA9PT0gJ3RydWUnO1xuICBpZiAoZ2V0Q3VycmVudENoYW5uZWxJZChzdGF0ZSkgPT09IG1zZy5kYXRhLmNoYW5uZWxfaWQgJiYgIXZpZXdBcmNoaXZlZENoYW5uZWxzKSB7XG4gICAgY29uc3QgdGVhbVVybCA9IGdldEN1cnJlbnRSZWxhdGl2ZVRlYW1Vcmwoc3RhdGUpO1xuICAgIGNvbnN0IGN1cnJlbnRUZWFtSWQgPSBnZXRDdXJyZW50VGVhbUlkKHN0YXRlKTtcbiAgICBjb25zdCByZWRpcmVjdENoYW5uZWwgPSBnZXRSZWRpcmVjdENoYW5uZWxOYW1lRm9yVGVhbShzdGF0ZSwgY3VycmVudFRlYW1JZCk7XG4gICAgYnJvd3Nlckhpc3RvcnkucHVzaCh0ZWFtVXJsICsgJy9ncm91cC8nICsgcmVkaXJlY3RDaGFubmVsKTtcbiAgfVxuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBDaGFubmVsVHlwZXMuUkVDRUlWRURfQ0hBTk5FTF9ERUxFVEVELFxuICAgIGRhdGE6IHtpZDogbXNnLmRhdGEuY2hhbm5lbF9pZCwgdGVhbV9pZDogbXNnLmJyb2FkY2FzdC50ZWFtX2lkLCBkZWxldGVBdDogbXNnLmRhdGEuZGVsZXRlX2F0LCB2aWV3QXJjaGl2ZWRDaGFubmVsc30sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVDaGFubmVsVW5hcmNoaXZlZEV2ZW50KG1zZykge1xuICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZyhzdGF0ZSk7XG4gIGNvbnN0IHZpZXdBcmNoaXZlZENoYW5uZWxzID0gY29uZmlnLkV4cGVyaW1lbnRhbFZpZXdBcmNoaXZlZENoYW5uZWxzID09PSAndHJ1ZSc7XG5cbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IENoYW5uZWxUeXBlcy5SRUNFSVZFRF9DSEFOTkVMX1VOQVJDSElWRUQsXG4gICAgZGF0YToge2lkOiBtc2cuZGF0YS5jaGFubmVsX2lkLCB0ZWFtX2lkOiBtc2cuYnJvYWRjYXN0LnRlYW1faWQsIHZpZXdBcmNoaXZlZENoYW5uZWxzfSxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByZWZlcmVuY2VDaGFuZ2VkRXZlbnQobXNnKSB7XG4gIGNvbnN0IHByZWZlcmVuY2UgPSBKU09OLnBhcnNlKG1zZy5kYXRhLnByZWZlcmVuY2UpO1xuICBkaXNwYXRjaCh7dHlwZTogUHJlZmVyZW5jZVR5cGVzLlJFQ0VJVkVEX1BSRUZFUkVOQ0VTLCBkYXRhOiBbcHJlZmVyZW5jZV19KTtcblxuICBpZiAoYWRkZWROZXdEbVVzZXIocHJlZmVyZW5jZSkpIHtcbiAgICBsb2FkUHJvZmlsZXNGb3JTaWRlYmFyKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlUHJlZmVyZW5jZXNDaGFuZ2VkRXZlbnQobXNnKSB7XG4gIGNvbnN0IHByZWZlcmVuY2VzID0gSlNPTi5wYXJzZShtc2cuZGF0YS5wcmVmZXJlbmNlcyk7XG4gIGRpc3BhdGNoKHt0eXBlOiBQcmVmZXJlbmNlVHlwZXMuUkVDRUlWRURfUFJFRkVSRU5DRVMsIGRhdGE6IHByZWZlcmVuY2VzfSk7XG5cbiAgaWYgKHByZWZlcmVuY2VzLmZpbmRJbmRleChhZGRlZE5ld0RtVXNlcikgIT09IC0xKSB7XG4gICAgbG9hZFByb2ZpbGVzRm9yU2lkZWJhcigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByZWZlcmVuY2VzRGVsZXRlZEV2ZW50KG1zZykge1xuICBjb25zdCBwcmVmZXJlbmNlcyA9IEpTT04ucGFyc2UobXNnLmRhdGEucHJlZmVyZW5jZXMpO1xuICBkaXNwYXRjaCh7dHlwZTogUHJlZmVyZW5jZVR5cGVzLkRFTEVURURfUFJFRkVSRU5DRVMsIGRhdGE6IHByZWZlcmVuY2VzfSk7XG59XG5cbmZ1bmN0aW9uIGFkZGVkTmV3RG1Vc2VyKHByZWZlcmVuY2UpIHtcbiAgcmV0dXJuIHByZWZlcmVuY2UuY2F0ZWdvcnkgPT09IENvbnN0YW50cy5QcmVmZXJlbmNlcy5DQVRFR09SWV9ESVJFQ1RfQ0hBTk5FTF9TSE9XICYmIHByZWZlcmVuY2UudmFsdWUgPT09ICd0cnVlJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVVzZXJUeXBpbmdFdmVudChtc2cpIHtcbiAgcmV0dXJuIGFzeW5jIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBkb0dldFN0YXRlKCk7XG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKHN0YXRlKTtcbiAgICBjb25zdCBjdXJyZW50VXNlcklkID0gZ2V0Q3VycmVudFVzZXJJZChzdGF0ZSk7XG4gICAgY29uc3QgdXNlcklkID0gbXNnLmRhdGEudXNlcl9pZDtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBpZDogbXNnLmJyb2FkY2FzdC5jaGFubmVsX2lkICsgbXNnLmRhdGEucGFyZW50X2lkLFxuICAgICAgdXNlcklkLFxuICAgICAgbm93OiBEYXRlLm5vdygpLFxuICAgIH07XG5cbiAgICBkb0Rpc3BhdGNoKHtcbiAgICAgIHR5cGU6IFdlYnNvY2tldEV2ZW50cy5UWVBJTkcsXG4gICAgICBkYXRhLFxuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBkb0Rpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogV2Vic29ja2V0RXZlbnRzLlNUT1BfVFlQSU5HLFxuICAgICAgICBkYXRhLFxuICAgICAgfSk7XG4gICAgfSwgcGFyc2VJbnQoY29uZmlnLlRpbWVCZXR3ZWVuVXNlclR5cGluZ1VwZGF0ZXNNaWxsaXNlY29uZHMsIDEwKSk7XG5cbiAgICBpZiAodXNlcklkICE9PSBjdXJyZW50VXNlcklkKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkb0Rpc3BhdGNoKGdldE1pc3NpbmdQcm9maWxlc0J5SWRzKFt1c2VySWRdKSk7XG4gICAgICBpZiAocmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBBbHJlYWR5IGxvYWRlZCB0aGUgdXNlciBzdGF0dXNcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHN0YXR1cyA9IGdldFN0YXR1c0ZvclVzZXJJZChzdGF0ZSwgdXNlcklkKTtcbiAgICBpZiAoc3RhdHVzICE9PSBHZW5lcmFsLk9OTElORSkge1xuICAgICAgZG9EaXNwYXRjaChnZXRTdGF0dXNlc0J5SWRzKFt1c2VySWRdKSk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdGF0dXNDaGFuZ2VkRXZlbnQobXNnKSB7XG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBVc2VyVHlwZXMuUkVDRUlWRURfU1RBVFVTRVMsXG4gICAgZGF0YTogW3t1c2VyX2lkOiBtc2cuZGF0YS51c2VyX2lkLCBzdGF0dXM6IG1zZy5kYXRhLnN0YXR1c31dLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlSGVsbG9FdmVudChtc2cpIHtcbiAgc2V0U2VydmVyVmVyc2lvbihtc2cuZGF0YS5zZXJ2ZXJfdmVyc2lvbikoZGlzcGF0Y2gsIGdldFN0YXRlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUmVhY3Rpb25BZGRlZEV2ZW50KG1zZykge1xuICBjb25zdCByZWFjdGlvbiA9IEpTT04ucGFyc2UobXNnLmRhdGEucmVhY3Rpb24pO1xuXG4gIGRpc3BhdGNoKGdldEN1c3RvbUVtb2ppRm9yUmVhY3Rpb24ocmVhY3Rpb24uZW1vamlfbmFtZSkpO1xuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBQb3N0VHlwZXMuUkVDRUlWRURfUkVBQ1RJT04sXG4gICAgZGF0YTogcmVhY3Rpb24sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVBZGRFbW9qaShtc2cpIHtcbiAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UobXNnLmRhdGEuZW1vamkpO1xuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBFbW9qaVR5cGVzLlJFQ0VJVkVEX0NVU1RPTV9FTU9KSSxcbiAgICBkYXRhLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUmVhY3Rpb25SZW1vdmVkRXZlbnQobXNnKSB7XG4gIGNvbnN0IHJlYWN0aW9uID0gSlNPTi5wYXJzZShtc2cuZGF0YS5yZWFjdGlvbik7XG5cbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IFBvc3RUeXBlcy5SRUFDVElPTl9ERUxFVEVELFxuICAgIGRhdGE6IHJlYWN0aW9uLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2hhbm5lbFZpZXdlZEV2ZW50KG1zZykge1xuICAvLyBVc2VmdWwgZm9yIHdoZW4gbXVsdGlwbGUgZGV2aWNlcyBoYXZlIHRoZSBhcHAgb3BlbiB0byBkaWZmZXJlbnQgY2hhbm5lbHNcbiAgaWYgKFxuICAgICghd2luZG93LmlzQWN0aXZlIHx8IGdldEN1cnJlbnRDaGFubmVsSWQoZ2V0U3RhdGUoKSkgIT09IG1zZy5kYXRhLmNoYW5uZWxfaWQpICYmXG4gICAgZ2V0Q3VycmVudFVzZXJJZChnZXRTdGF0ZSgpKSA9PT0gbXNnLmJyb2FkY2FzdC51c2VyX2lkXG4gICkge1xuICAgIGRpc3BhdGNoKG1hcmtDaGFubmVsQXNSZWFkKG1zZy5kYXRhLmNoYW5uZWxfaWQsICcnLCBmYWxzZSkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVQbHVnaW5FbmFibGVkKG1zZykge1xuICBjb25zdCBtYW5pZmVzdCA9IG1zZy5kYXRhLm1hbmlmZXN0O1xuICAvLyBsb2FkUGx1Z2luKG1hbmlmZXN0KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgLy8gICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIC8vIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUGx1Z2luRGlzYWJsZWQobXNnKSB7XG4gIGNvbnN0IG1hbmlmZXN0ID0gbXNnLmRhdGEubWFuaWZlc3Q7XG4gIC8vIHJlbW92ZVBsdWdpbihtYW5pZmVzdCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVVzZXJSb2xlVXBkYXRlZChtc2cpIHtcbiAgY29uc3QgdXNlciA9IHN0b3JlLmdldFN0YXRlKCkuZW50aXRpZXMudXNlcnMucHJvZmlsZXNbbXNnLmRhdGEudXNlcl9pZF07XG5cbiAgaWYgKHVzZXIpIHtcbiAgICBjb25zdCByb2xlcyA9IG1zZy5kYXRhLnJvbGVzO1xuICAgIGNvbnN0IG5ld1JvbGVzID0gcm9sZXMuc3BsaXQoJyAnKTtcbiAgICBjb25zdCBkZW1vdGVkID1cbiAgICAgIHVzZXIucm9sZXMuaW5jbHVkZXMoQ29uc3RhbnRzLlBFUk1JU1NJT05TX1NZU1RFTV9BRE1JTikgJiYgIXJvbGVzLmluY2x1ZGVzKENvbnN0YW50cy5QRVJNSVNTSU9OU19TWVNURU1fQURNSU4pO1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goe3R5cGU6IFVzZXJUeXBlcy5SRUNFSVZFRF9QUk9GSUxFLCBkYXRhOiB7Li4udXNlciwgcm9sZXN9fSk7XG4gICAgZGlzcGF0Y2gobG9hZFJvbGVzSWZOZWVkZWQobmV3Um9sZXMpKTtcblxuICAgIGlmIChkZW1vdGVkICYmIGdsb2JhbC5sb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKCcvYWRtaW5fY29uc29sZScpKSB7XG4gICAgICByZWRpcmVjdFVzZXJUb0RlZmF1bHRUZWFtKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNvbmZpZ0NoYW5nZWQobXNnKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHt0eXBlOiBHZW5lcmFsVHlwZXMuQ0xJRU5UX0NPTkZJR19SRUNFSVZFRCwgZGF0YTogbXNnLmRhdGEuY29uZmlnfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUxpY2Vuc2VDaGFuZ2VkKG1zZykge1xuICBzdG9yZS5kaXNwYXRjaCh7dHlwZTogR2VuZXJhbFR5cGVzLkNMSUVOVF9MSUNFTlNFX1JFQ0VJVkVELCBkYXRhOiBtc2cuZGF0YS5saWNlbnNlfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVBsdWdpblN0YXR1c2VzQ2hhbmdlZEV2ZW50KG1zZykge1xuICBzdG9yZS5kaXNwYXRjaCh7dHlwZTogQWRtaW5UeXBlcy5SRUNFSVZFRF9QTFVHSU5fU1RBVFVTRVMsIGRhdGE6IG1zZy5kYXRhLnBsdWdpbl9zdGF0dXNlc30pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVPcGVuRGlhbG9nRXZlbnQobXNnKSB7XG4gIGNvbnN0IGRhdGEgPSAobXNnLmRhdGEgJiYgbXNnLmRhdGEuZGlhbG9nKSB8fCB7fTtcbiAgY29uc3QgZGlhbG9nID0gSlNPTi5wYXJzZShkYXRhKTtcblxuICBzdG9yZS5kaXNwYXRjaCh7dHlwZTogSW50ZWdyYXRpb25UeXBlcy5SRUNFSVZFRF9ESUFMT0csIGRhdGE6IGRpYWxvZ30pO1xuXG4gIGNvbnN0IGN1cnJlbnRUcmlnZ2VySWQgPSBnZXRTdGF0ZSgpLmVudGl0aWVzLmludGVncmF0aW9ucy5kaWFsb2dUcmlnZ2VySWQ7XG5cbiAgaWYgKGRpYWxvZy50cmlnZ2VyX2lkICE9PSBjdXJyZW50VHJpZ2dlcklkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc29sZS5pbmZvKCdoYW5kbGVPcGVuRGlhbG9nRXZlbnQnLCBtc2cpO1xuICAvLyBzdG9yZS5kaXNwYXRjaChvcGVuTW9kYWwoe21vZGFsSWQ6IE1vZGFsSWRlbnRpZmllcnMuSU5URVJBQ1RJVkVfRElBTE9HLCBkaWFsb2dUeXBlOiBJbnRlcmFjdGl2ZURpYWxvZ30pKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlR3JvdXBVcGRhdGVkRXZlbnQobXNnKSB7XG4gIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKG1zZy5kYXRhLmdyb3VwKTtcbiAgZGlzcGF0Y2goXG4gICAgYmF0Y2hBY3Rpb25zKFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogR3JvdXBUeXBlcy5SRUNFSVZFRF9HUk9VUCxcbiAgICAgICAgZGF0YSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEdyb3VwVHlwZXMuUkVDRUlWRURfTVlfR1JPVVBTLFxuICAgICAgICBkYXRhOiBbZGF0YV0sXG4gICAgICB9LFxuICAgIF0pXG4gICk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUdyb3VwQXNzb2NpYXRlZFRvVGVhbUV2ZW50KG1zZykge1xuICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgdHlwZTogR3JvdXBUeXBlcy5SRUNFSVZFRF9HUk9VUF9BU1NPQ0lBVEVEX1RPX1RFQU0sXG4gICAgZGF0YToge3RlYW1JRDogbXNnLmJyb2FkY2FzdC50ZWFtX2lkLCBncm91cHM6IFt7aWQ6IG1zZy5kYXRhLmdyb3VwX2lkfV19LFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlR3JvdXBOb3RBc3NvY2lhdGVkVG9UZWFtRXZlbnQobXNnKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHtcbiAgICB0eXBlOiBHcm91cFR5cGVzLlJFQ0VJVkVEX0dST1VQX05PVF9BU1NPQ0lBVEVEX1RPX1RFQU0sXG4gICAgZGF0YToge3RlYW1JRDogbXNnLmJyb2FkY2FzdC50ZWFtX2lkLCBncm91cHM6IFt7aWQ6IG1zZy5kYXRhLmdyb3VwX2lkfV19LFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlR3JvdXBBc3NvY2lhdGVkVG9DaGFubmVsRXZlbnQobXNnKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHtcbiAgICB0eXBlOiBHcm91cFR5cGVzLlJFQ0VJVkVEX0dST1VQX0FTU09DSUFURURfVE9fQ0hBTk5FTCxcbiAgICBkYXRhOiB7Y2hhbm5lbElEOiBtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQsIGdyb3VwczogW3tpZDogbXNnLmRhdGEuZ3JvdXBfaWR9XX0sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVHcm91cE5vdEFzc29jaWF0ZWRUb0NoYW5uZWxFdmVudChtc2cpIHtcbiAgc3RvcmUuZGlzcGF0Y2goe1xuICAgIHR5cGU6IEdyb3VwVHlwZXMuUkVDRUlWRURfR1JPVVBfTk9UX0FTU09DSUFURURfVE9fQ0hBTk5FTCxcbiAgICBkYXRhOiB7Y2hhbm5lbElEOiBtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQsIGdyb3VwczogW3tpZDogbXNnLmRhdGEuZ3JvdXBfaWR9XX0sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVXYXJuTWV0cmljU3RhdHVzUmVjZWl2ZWRFdmVudChtc2cpIHtcbiAgdmFyIHJlY2VpdmVkRGF0YSA9IEpTT04ucGFyc2UobXNnLmRhdGEud2Fybk1ldHJpY1N0YXR1cyk7XG4gIGxldCBiYW5uZXJEYXRhO1xuICBpZiAocmVjZWl2ZWREYXRhLmlkID09PSBXYXJuTWV0cmljVHlwZXMuU1lTVEVNX1dBUk5fTUVUUklDX05VTUJFUl9PRl9BQ1RJVkVfVVNFUlNfNTAwKSB7XG4gICAgYmFubmVyRGF0YSA9IEFubm91bmNlbWVudEJhck1lc3NhZ2VzLldBUk5fTUVUUklDX1NUQVRVU19OVU1CRVJfT0ZfVVNFUlM7XG4gIH0gZWxzZSBpZiAocmVjZWl2ZWREYXRhLmlkID09PSBXYXJuTWV0cmljVHlwZXMuU1lTVEVNX1dBUk5fTUVUUklDX05VTUJFUl9PRl9QT1NUU18yTSkge1xuICAgIGJhbm5lckRhdGEgPSBBbm5vdW5jZW1lbnRCYXJNZXNzYWdlcy5XQVJOX01FVFJJQ19TVEFUVVNfTlVNQkVSX09GX1BPU1RTO1xuICB9XG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIGJhdGNoQWN0aW9ucyhbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEdlbmVyYWxUeXBlcy5XQVJOX01FVFJJQ19TVEFUVVNfUkVDRUlWRUQsXG4gICAgICAgIGRhdGE6IHJlY2VpdmVkRGF0YSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlNIT1dfTk9USUNFLFxuICAgICAgICBkYXRhOiBbYmFubmVyRGF0YV0sXG4gICAgICB9LFxuICAgIF0pXG4gICk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVdhcm5NZXRyaWNTdGF0dXNSZW1vdmVkRXZlbnQobXNnKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHt0eXBlOiBHZW5lcmFsVHlwZXMuV0FSTl9NRVRSSUNfU1RBVFVTX1JFTU9WRUQsIGRhdGE6IHtpZDogbXNnLmRhdGEud2Fybk1ldHJpY0lkfX0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTaWRlYmFyQ2F0ZWdvcnlDcmVhdGVkKG1zZykge1xuICByZXR1cm4gKGRvRGlzcGF0Y2gsIGRvR2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGRvR2V0U3RhdGUoKTtcblxuICAgIGlmIChtc2cuYnJvYWRjYXN0LnRlYW1faWQgIT09IGdldEN1cnJlbnRUZWFtSWQoc3RhdGUpKSB7XG4gICAgICAvLyBUaGUgbmV3IGNhdGVnb3J5IHdpbGwgYmUgbG9hZGVkIHdoZW4gd2Ugc3dpdGNoIHRlYW1zLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZldGNoIGFsbCBjYXRlZ29yaWVzLCBpbmNsdWRpbmcgb25lcyB0aGF0IHdlcmVuJ3QgZXhwbGljaXRseSB1cGRhdGVkLCBpbiBjYXNlIGFueSBvdGhlciBjYXRlZ29yaWVzIGhhZCBjaGFubmVsc1xuICAgIC8vIG1vdmVkIG91dCBvZiB0aGVtLlxuICAgIGRvRGlzcGF0Y2goZmV0Y2hNeUNhdGVnb3JpZXMobXNnLmJyb2FkY2FzdC50ZWFtX2lkKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVNpZGViYXJDYXRlZ29yeVVwZGF0ZWQobXNnKSB7XG4gIHJldHVybiAoZG9EaXNwYXRjaCwgZG9HZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZG9HZXRTdGF0ZSgpO1xuXG4gICAgaWYgKG1zZy5icm9hZGNhc3QudGVhbV9pZCAhPT0gZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSkpIHtcbiAgICAgIC8vIFRoZSB1cGRhdGVkIGNhdGVnb3JpZXMgd2lsbCBiZSBsb2FkZWQgd2hlbiB3ZSBzd2l0Y2ggdGVhbXMuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggYWxsIGNhdGVnb3JpZXMgaW4gY2FzZSBhbnkgb3RoZXIgY2F0ZWdvcmllcyBoYWQgY2hhbm5lbHMgbW92ZWQgb3V0IG9mIHRoZW0uXG4gICAgZG9EaXNwYXRjaChmZXRjaE15Q2F0ZWdvcmllcyhtc2cuYnJvYWRjYXN0LnRlYW1faWQpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlU2lkZWJhckNhdGVnb3J5RGVsZXRlZChtc2cpIHtcbiAgcmV0dXJuIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBkb0dldFN0YXRlKCk7XG5cbiAgICBpZiAobXNnLmJyb2FkY2FzdC50ZWFtX2lkICE9PSBnZXRDdXJyZW50VGVhbUlkKHN0YXRlKSkge1xuICAgICAgLy8gVGhlIGNhdGVnb3J5IHdpbGwgYmUgcmVtb3ZlZCB3aGVuIHdlIHN3aXRjaCB0ZWFtcy5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGZXRjaCBhbGwgY2F0ZWdvcmllcyBzaW5jZSBhbnkgY2hhbm5lbHMgdGhhdCB3ZXJlIGluIHRoZSBkZWxldGVkIGNhdGVnb3J5IHdlcmUgbW92ZWQgdG8gb3RoZXIgY2F0ZWdvcmllcy5cbiAgICBkb0Rpc3BhdGNoKGZldGNoTXlDYXRlZ29yaWVzKG1zZy5icm9hZGNhc3QudGVhbV9pZCkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTaWRlYmFyQ2F0ZWdvcnlPcmRlclVwZGF0ZWQobXNnKSB7XG4gIHJldHVybiByZWNlaXZlZENhdGVnb3J5T3JkZXIobXNnLmJyb2FkY2FzdC50ZWFtX2lkLCBtc2cuZGF0YS5vcmRlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVVc2VyQWN0aXZhdGlvblN0YXR1c0NoYW5nZSgpIHtcbiAgcmV0dXJuIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBkb0dldFN0YXRlKCk7XG4gICAgY29uc3QgbGljZW5zZSA9IGdldExpY2Vuc2Uoc3RhdGUpO1xuXG4gICAgLy8gVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIGEgdXNlciBmaXJzdCBqb2lucyB0aGUgc2VydmVyLCBzbyByZWZyZXNoIGFuYWx5dGljcyB0byBzZWUgaWYgd2UncmUgbm93IG92ZXIgdGhlIHVzZXIgbGltaXRcbiAgICBpZiAobGljZW5zZS5DbG91ZCA9PT0gJ3RydWUnKSB7XG4gICAgICBpZiAoaXNDdXJyZW50VXNlclN5c3RlbUFkbWluKHN0YXRlKSkge1xuICAgICAgICBkb0Rpc3BhdGNoKGdldFN0YW5kYXJkQW5hbHl0aWNzKCkpO1xuICAgICAgfVxuICAgICAgZG9EaXNwYXRjaChnZXRTdWJzY3JpcHRpb25TdGF0cygpKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNsb3VkUGF5bWVudFN0YXR1c1VwZGF0ZWQoKSB7XG4gIHJldHVybiAoZG9EaXNwYXRjaCkgPT4gZG9EaXNwYXRjaChnZXRDbG91ZFN1YnNjcmlwdGlvbigpKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUmVmcmVzaEFwcHNCaW5kaW5ncygpIHtcbiAgcmV0dXJuIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBkb0dldFN0YXRlKCk7XG4gICAgaWYgKGFwcHNFbmFibGVkKHN0YXRlKSkge1xuICAgICAgZG9EaXNwYXRjaChmZXRjaEFwcEJpbmRpbmdzKGdldEN1cnJlbnRVc2VySWQoc3RhdGUpLCBnZXRDdXJyZW50Q2hhbm5lbElkKHN0YXRlKSkpO1xuICAgIH1cbiAgICByZXR1cm4ge2RhdGE6IHRydWV9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVGaXJzdEFkbWluVmlzaXRNYXJrZXRwbGFjZVN0YXR1c1JlY2VpdmVkRXZlbnQobXNnKSB7XG4gIGNvbnN0IHJlY2VpdmVkRGF0YSA9IEpTT04ucGFyc2UobXNnLmRhdGEuZmlyc3RBZG1pblZpc2l0TWFya2V0cGxhY2VTdGF0dXMpO1xuICBzdG9yZS5kaXNwYXRjaCh7dHlwZTogR2VuZXJhbFR5cGVzLkZJUlNUX0FETUlOX1ZJU0lUX01BUktFVFBMQUNFX1NUQVRVU19SRUNFSVZFRCwgZGF0YTogcmVjZWl2ZWREYXRhfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRocmVhZFJlYWRDaGFuZ2VkKG1zZykge1xuICByZXR1cm4gKGRvRGlzcGF0Y2gsIGRvR2V0U3RhdGUpID0+IHtcbiAgICBpZiAobXNnLmRhdGEudGhyZWFkX2lkKSB7XG4gICAgICBjb25zdCB0aHJlYWQgPSBkb0dldFN0YXRlKCkuZW50aXRpZXMudGhyZWFkcy50aHJlYWRzPy5bbXNnLmRhdGEudGhyZWFkX2lkXTtcbiAgICAgIGlmICh0aHJlYWQpIHtcbiAgICAgICAgaGFuZGxlUmVhZENoYW5nZWQoZG9EaXNwYXRjaCwgbXNnLmRhdGEudGhyZWFkX2lkLCBtc2cuYnJvYWRjYXN0LnRlYW1faWQsIG1zZy5kYXRhLmNoYW5uZWxfaWQsIHtcbiAgICAgICAgICBsYXN0Vmlld2VkQXQ6IG1zZy5kYXRhLnRpbWVzdGFtcCxcbiAgICAgICAgICBwcmV2VW5yZWFkTWVudGlvbnM6IHRocmVhZC51bnJlYWRfbWVudGlvbnMsXG4gICAgICAgICAgbmV3VW5yZWFkTWVudGlvbnM6IG1zZy5kYXRhLnVucmVhZF9tZW50aW9ucyxcbiAgICAgICAgICBwcmV2VW5yZWFkUmVwbGllczogdGhyZWFkLnVucmVhZF9yZXBsaWVzLFxuICAgICAgICAgIG5ld1VucmVhZFJlcGxpZXM6IG1zZy5kYXRhLnVucmVhZF9yZXBsaWVzLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlQWxsTWFya2VkUmVhZChkb0Rpc3BhdGNoLCBtc2cuYnJvYWRjYXN0LnRlYW1faWQpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlVGhyZWFkVXBkYXRlZChtc2cpIHtcbiAgcmV0dXJuIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRocmVhZERhdGEgPSBKU09OLnBhcnNlKG1zZy5kYXRhLnRocmVhZCk7XG4gICAgICBoYW5kbGVUaHJlYWRBcnJpdmVkKGRvRGlzcGF0Y2gsIGRvR2V0U3RhdGUsIHRocmVhZERhdGEsIG1zZy5icm9hZGNhc3QudGVhbV9pZCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBpbnZhbGlkIEpTT05cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRocmVhZEZvbGxvd0NoYW5nZWQobXNnKSB7XG4gIHJldHVybiBhc3luYyAoZG9EaXNwYXRjaCwgZG9HZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZG9HZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHRocmVhZCA9IGdldFRocmVhZChzdGF0ZSwgbXNnLmRhdGEudGhyZWFkX2lkKTtcbiAgICBpZiAoIXRocmVhZCAmJiBtc2cuZGF0YS5zdGF0ZSkge1xuICAgICAgYXdhaXQgZG9EaXNwYXRjaChmZXRjaFRocmVhZChnZXRDdXJyZW50VXNlcklkKHN0YXRlKSwgZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSksIG1zZy5kYXRhLnRocmVhZF9pZCwgdHJ1ZSkpO1xuICAgIH1cbiAgICBoYW5kbGVGb2xsb3dDaGFuZ2VkKGRvRGlzcGF0Y2gsIG1zZy5kYXRhLnRocmVhZF9pZCwgbXNnLmJyb2FkY2FzdC50ZWFtX2lkLCBtc2cuZGF0YS5zdGF0ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNvbnRhY3RVcGRhdGVkRXZlbnQobXNnKSB7XG4gIC8vIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgLy8gY29uc3QgY3VycmVudFVzZXIgPSBnZXRDdXJyZW50VXNlcihzdGF0ZSk7XG4gIGNvbnN0IGNvbnRhY3QgPSBtc2cuZGF0YS5jb250YWN0O1xuICBjb25zdCBldmVudCA9IG1zZy5kYXRhLmV2ZW50O1xuXG4gIGlmIChldmVudCA9PT0gJ2NyZWF0ZWQnKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQ29udGFjdFR5cGVzLk5FV19DT05UQUNULFxuICAgICAgZGF0YTogY29udGFjdCxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBDb250YWN0VHlwZXMuUkVDRUlWRURfUFJPRklMRSxcbiAgICAgIGRhdGE6IGNvbnRhY3QsXG4gICAgfSk7XG4gIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IHtBY3Rpb25UeXBlc30gZnJvbSAnJHV0aWxzL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmNyZW1lbnRXc0Vycm9yQ291bnQoKSB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCkgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5JTkNSRU1FTlRfV1NfRVJST1JfQ09VTlQsXG4gICAgICAgIH0pO1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldFdzRXJyb3JDb3VudCgpIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlJFU0VUX1dTX0VSUk9SX0NPVU5ULFxuICAgICAgICB9KTtcbiAgICB9O1xufVxuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuaW1wb3J0IHtDbG91ZFR5cGVzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25fdHlwZXMnO1xuaW1wb3J0IHtDbGllbnQ0fSBmcm9tICdjaGF0dGluZy1yZWR1eC9jbGllbnQnO1xuXG5pbXBvcnQge0FjdGlvbkZ1bmN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3R5cGVzL2FjdGlvbnMnO1xuaW1wb3J0IHtBZGRyZXNzLCBDbG91ZEN1c3RvbWVyUGF0Y2h9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3R5cGVzL2Nsb3VkJztcblxuaW1wb3J0IHtiaW5kQ2xpZW50RnVuY30gZnJvbSAnLi9oZWxwZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldENsb3VkU3Vic2NyaXB0aW9uKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0U3Vic2NyaXB0aW9uLFxuICAgICAgICBvblN1Y2Nlc3M6IFtDbG91ZFR5cGVzLlJFQ0VJVkVEX0NMT1VEX1NVQlNDUklQVElPTl0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbG91ZFByb2R1Y3RzKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0Q2xvdWRQcm9kdWN0cyxcbiAgICAgICAgb25TdWNjZXNzOiBbQ2xvdWRUeXBlcy5SRUNFSVZFRF9DTE9VRF9QUk9EVUNUU10sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdWJzY3JpcHRpb25TdGF0cygpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmdldFN1YnNjcmlwdGlvblN0YXRzLFxuICAgICAgICBvblN1Y2Nlc3M6IENsb3VkVHlwZXMuUkVDRUlWRURfQ0xPVURfU1VCU0NSSVBUSU9OX1NUQVRTLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xvdWRDdXN0b21lcigpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmdldENsb3VkQ3VzdG9tZXIsXG4gICAgICAgIG9uU3VjY2VzczogW0Nsb3VkVHlwZXMuUkVDRUlWRURfQ0xPVURfQ1VTVE9NRVJdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW52b2ljZXMoKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5nZXRJbnZvaWNlcyxcbiAgICAgICAgb25TdWNjZXNzOiBbQ2xvdWRUeXBlcy5SRUNFSVZFRF9DTE9VRF9JTlZPSUNFU10sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDbG91ZEN1c3RvbWVyKGN1c3RvbWVyUGF0Y2g6IENsb3VkQ3VzdG9tZXJQYXRjaCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudXBkYXRlQ2xvdWRDdXN0b21lcixcbiAgICAgICAgb25TdWNjZXNzOiBbQ2xvdWRUeXBlcy5SRUNFSVZFRF9DTE9VRF9DVVNUT01FUl0sXG4gICAgICAgIHBhcmFtczogW2N1c3RvbWVyUGF0Y2hdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ2xvdWRDdXN0b21lckFkZHJlc3MoYWRkcmVzczogQWRkcmVzcyk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudXBkYXRlQ2xvdWRDdXN0b21lckFkZHJlc3MsXG4gICAgICAgIG9uU3VjY2VzczogW0Nsb3VkVHlwZXMuUkVDRUlWRURfQ0xPVURfQ1VTVE9NRVJdLFxuICAgICAgICBwYXJhbXM6IFthZGRyZXNzXSxcbiAgICB9KTtcbn1cbiIsIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXHJcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxyXG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cclxuICpcclxuICogQHByb3ZpZGVzTW9kdWxlIERpc3BhdGNoZXJcclxuICogXHJcbiAqIEBwcmV2ZW50TXVuZ2VcclxuICovXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiZmJqcy9saWIvaW52YXJpYW50XCIpO1xuXG52YXIgX3ByZWZpeCA9ICdJRF8nO1xuLyoqXHJcbiAqIERpc3BhdGNoZXIgaXMgdXNlZCB0byBicm9hZGNhc3QgcGF5bG9hZHMgdG8gcmVnaXN0ZXJlZCBjYWxsYmFja3MuIFRoaXMgaXNcclxuICogZGlmZmVyZW50IGZyb20gZ2VuZXJpYyBwdWItc3ViIHN5c3RlbXMgaW4gdHdvIHdheXM6XHJcbiAqXHJcbiAqICAgMSkgQ2FsbGJhY2tzIGFyZSBub3Qgc3Vic2NyaWJlZCB0byBwYXJ0aWN1bGFyIGV2ZW50cy4gRXZlcnkgcGF5bG9hZCBpc1xyXG4gKiAgICAgIGRpc3BhdGNoZWQgdG8gZXZlcnkgcmVnaXN0ZXJlZCBjYWxsYmFjay5cclxuICogICAyKSBDYWxsYmFja3MgY2FuIGJlIGRlZmVycmVkIGluIHdob2xlIG9yIHBhcnQgdW50aWwgb3RoZXIgY2FsbGJhY2tzIGhhdmVcclxuICogICAgICBiZWVuIGV4ZWN1dGVkLlxyXG4gKlxyXG4gKiBGb3IgZXhhbXBsZSwgY29uc2lkZXIgdGhpcyBoeXBvdGhldGljYWwgZmxpZ2h0IGRlc3RpbmF0aW9uIGZvcm0sIHdoaWNoXHJcbiAqIHNlbGVjdHMgYSBkZWZhdWx0IGNpdHkgd2hlbiBhIGNvdW50cnkgaXMgc2VsZWN0ZWQ6XHJcbiAqXHJcbiAqICAgdmFyIGZsaWdodERpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcigpO1xyXG4gKlxyXG4gKiAgIC8vIEtlZXBzIHRyYWNrIG9mIHdoaWNoIGNvdW50cnkgaXMgc2VsZWN0ZWRcclxuICogICB2YXIgQ291bnRyeVN0b3JlID0ge2NvdW50cnk6IG51bGx9O1xyXG4gKlxyXG4gKiAgIC8vIEtlZXBzIHRyYWNrIG9mIHdoaWNoIGNpdHkgaXMgc2VsZWN0ZWRcclxuICogICB2YXIgQ2l0eVN0b3JlID0ge2NpdHk6IG51bGx9O1xyXG4gKlxyXG4gKiAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBiYXNlIGZsaWdodCBwcmljZSBvZiB0aGUgc2VsZWN0ZWQgY2l0eVxyXG4gKiAgIHZhciBGbGlnaHRQcmljZVN0b3JlID0ge3ByaWNlOiBudWxsfVxyXG4gKlxyXG4gKiBXaGVuIGEgdXNlciBjaGFuZ2VzIHRoZSBzZWxlY3RlZCBjaXR5LCB3ZSBkaXNwYXRjaCB0aGUgcGF5bG9hZDpcclxuICpcclxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcclxuICogICAgIGFjdGlvblR5cGU6ICdjaXR5LXVwZGF0ZScsXHJcbiAqICAgICBzZWxlY3RlZENpdHk6ICdwYXJpcydcclxuICogICB9KTtcclxuICpcclxuICogVGhpcyBwYXlsb2FkIGlzIGRpZ2VzdGVkIGJ5IGBDaXR5U3RvcmVgOlxyXG4gKlxyXG4gKiAgIGZsaWdodERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NpdHktdXBkYXRlJykge1xyXG4gKiAgICAgICBDaXR5U3RvcmUuY2l0eSA9IHBheWxvYWQuc2VsZWN0ZWRDaXR5O1xyXG4gKiAgICAgfVxyXG4gKiAgIH0pO1xyXG4gKlxyXG4gKiBXaGVuIHRoZSB1c2VyIHNlbGVjdHMgYSBjb3VudHJ5LCB3ZSBkaXNwYXRjaCB0aGUgcGF5bG9hZDpcclxuICpcclxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcclxuICogICAgIGFjdGlvblR5cGU6ICdjb3VudHJ5LXVwZGF0ZScsXHJcbiAqICAgICBzZWxlY3RlZENvdW50cnk6ICdhdXN0cmFsaWEnXHJcbiAqICAgfSk7XHJcbiAqXHJcbiAqIFRoaXMgcGF5bG9hZCBpcyBkaWdlc3RlZCBieSBib3RoIHN0b3JlczpcclxuICpcclxuICogICBDb3VudHJ5U3RvcmUuZGlzcGF0Y2hUb2tlbiA9IGZsaWdodERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NvdW50cnktdXBkYXRlJykge1xyXG4gKiAgICAgICBDb3VudHJ5U3RvcmUuY291bnRyeSA9IHBheWxvYWQuc2VsZWN0ZWRDb3VudHJ5O1xyXG4gKiAgICAgfVxyXG4gKiAgIH0pO1xyXG4gKlxyXG4gKiBXaGVuIHRoZSBjYWxsYmFjayB0byB1cGRhdGUgYENvdW50cnlTdG9yZWAgaXMgcmVnaXN0ZXJlZCwgd2Ugc2F2ZSBhIHJlZmVyZW5jZVxyXG4gKiB0byB0aGUgcmV0dXJuZWQgdG9rZW4uIFVzaW5nIHRoaXMgdG9rZW4gd2l0aCBgd2FpdEZvcigpYCwgd2UgY2FuIGd1YXJhbnRlZVxyXG4gKiB0aGF0IGBDb3VudHJ5U3RvcmVgIGlzIHVwZGF0ZWQgYmVmb3JlIHRoZSBjYWxsYmFjayB0aGF0IHVwZGF0ZXMgYENpdHlTdG9yZWBcclxuICogbmVlZHMgdG8gcXVlcnkgaXRzIGRhdGEuXHJcbiAqXHJcbiAqICAgQ2l0eVN0b3JlLmRpc3BhdGNoVG9rZW4gPSBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICogICAgIGlmIChwYXlsb2FkLmFjdGlvblR5cGUgPT09ICdjb3VudHJ5LXVwZGF0ZScpIHtcclxuICogICAgICAgLy8gYENvdW50cnlTdG9yZS5jb3VudHJ5YCBtYXkgbm90IGJlIHVwZGF0ZWQuXHJcbiAqICAgICAgIGZsaWdodERpc3BhdGNoZXIud2FpdEZvcihbQ291bnRyeVN0b3JlLmRpc3BhdGNoVG9rZW5dKTtcclxuICogICAgICAgLy8gYENvdW50cnlTdG9yZS5jb3VudHJ5YCBpcyBub3cgZ3VhcmFudGVlZCB0byBiZSB1cGRhdGVkLlxyXG4gKlxyXG4gKiAgICAgICAvLyBTZWxlY3QgdGhlIGRlZmF1bHQgY2l0eSBmb3IgdGhlIG5ldyBjb3VudHJ5XHJcbiAqICAgICAgIENpdHlTdG9yZS5jaXR5ID0gZ2V0RGVmYXVsdENpdHlGb3JDb3VudHJ5KENvdW50cnlTdG9yZS5jb3VudHJ5KTtcclxuICogICAgIH1cclxuICogICB9KTtcclxuICpcclxuICogVGhlIHVzYWdlIG9mIGB3YWl0Rm9yKClgIGNhbiBiZSBjaGFpbmVkLCBmb3IgZXhhbXBsZTpcclxuICpcclxuICogICBGbGlnaHRQcmljZVN0b3JlLmRpc3BhdGNoVG9rZW4gPVxyXG4gKiAgICAgZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAqICAgICAgIHN3aXRjaCAocGF5bG9hZC5hY3Rpb25UeXBlKSB7XHJcbiAqICAgICAgICAgY2FzZSAnY291bnRyeS11cGRhdGUnOlxyXG4gKiAgICAgICAgIGNhc2UgJ2NpdHktdXBkYXRlJzpcclxuICogICAgICAgICAgIGZsaWdodERpc3BhdGNoZXIud2FpdEZvcihbQ2l0eVN0b3JlLmRpc3BhdGNoVG9rZW5dKTtcclxuICogICAgICAgICAgIEZsaWdodFByaWNlU3RvcmUucHJpY2UgPVxyXG4gKiAgICAgICAgICAgICBnZXRGbGlnaHRQcmljZVN0b3JlKENvdW50cnlTdG9yZS5jb3VudHJ5LCBDaXR5U3RvcmUuY2l0eSk7XHJcbiAqICAgICAgICAgICBicmVhaztcclxuICogICAgIH1cclxuICogICB9KTtcclxuICpcclxuICogVGhlIGBjb3VudHJ5LXVwZGF0ZWAgcGF5bG9hZCB3aWxsIGJlIGd1YXJhbnRlZWQgdG8gaW52b2tlIHRoZSBzdG9yZXMnXHJcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzIGluIG9yZGVyOiBgQ291bnRyeVN0b3JlYCwgYENpdHlTdG9yZWAsIHRoZW5cclxuICogYEZsaWdodFByaWNlU3RvcmVgLlxyXG4gKi9cblxudmFyIERpc3BhdGNoZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBEaXNwYXRjaGVyKCkge1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jYWxsYmFja3NcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc0Rpc3BhdGNoaW5nXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaXNIYW5kbGVkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaXNQZW5kaW5nXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGFzdElEXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGVuZGluZ1BheWxvYWRcIiwgdm9pZCAwKTtcblxuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgIHRoaXMuX2lzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9pc0hhbmRsZWQgPSB7fTtcbiAgICB0aGlzLl9pc1BlbmRpbmcgPSB7fTtcbiAgICB0aGlzLl9sYXN0SUQgPSAxO1xuICB9XG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2l0aCBldmVyeSBkaXNwYXRjaGVkIHBheWxvYWQuIFJldHVybnNcclxuICAgKiBhIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBgd2FpdEZvcigpYC5cclxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBEaXNwYXRjaGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3RlcihjYWxsYmFjaykge1xuICAgIHZhciBpZCA9IF9wcmVmaXggKyB0aGlzLl9sYXN0SUQrKztcbiAgICB0aGlzLl9jYWxsYmFja3NbaWRdID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIGlkO1xuICB9XG4gIC8qKlxyXG4gICAqIFJlbW92ZXMgYSBjYWxsYmFjayBiYXNlZCBvbiBpdHMgdG9rZW4uXHJcbiAgICovXG4gIDtcblxuICBfcHJvdG8udW5yZWdpc3RlciA9IGZ1bmN0aW9uIHVucmVnaXN0ZXIoaWQpIHtcbiAgICAhdGhpcy5fY2FsbGJhY2tzW2lkXSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Rpc3BhdGNoZXIudW5yZWdpc3RlciguLi4pOiBgJXNgIGRvZXMgbm90IG1hcCB0byBhIHJlZ2lzdGVyZWQgY2FsbGJhY2suJywgaWQpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW2lkXTtcbiAgfVxuICAvKipcclxuICAgKiBXYWl0cyBmb3IgdGhlIGNhbGxiYWNrcyBzcGVjaWZpZWQgdG8gYmUgaW52b2tlZCBiZWZvcmUgY29udGludWluZyBleGVjdXRpb25cclxuICAgKiBvZiB0aGUgY3VycmVudCBjYWxsYmFjay4gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgdXNlZCBieSBhIGNhbGxiYWNrIGluXHJcbiAgICogcmVzcG9uc2UgdG8gYSBkaXNwYXRjaGVkIHBheWxvYWQuXHJcbiAgICovXG4gIDtcblxuICBfcHJvdG8ud2FpdEZvciA9IGZ1bmN0aW9uIHdhaXRGb3IoaWRzKSB7XG4gICAgIXRoaXMuX2lzRGlzcGF0Y2hpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogTXVzdCBiZSBpbnZva2VkIHdoaWxlIGRpc3BhdGNoaW5nLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpZHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgaWQgPSBpZHNbaWldO1xuXG4gICAgICBpZiAodGhpcy5faXNQZW5kaW5nW2lkXSkge1xuICAgICAgICAhdGhpcy5faXNIYW5kbGVkW2lkXSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Rpc3BhdGNoZXIud2FpdEZvciguLi4pOiBDaXJjdWxhciBkZXBlbmRlbmN5IGRldGVjdGVkIHdoaWxlICcgKyAnd2FpdGluZyBmb3IgYCVzYC4nLCBpZCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgIXRoaXMuX2NhbGxiYWNrc1tpZF0gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogYCVzYCBkb2VzIG5vdCBtYXAgdG8gYSByZWdpc3RlcmVkIGNhbGxiYWNrLicsIGlkKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG5cbiAgICAgIHRoaXMuX2ludm9rZUNhbGxiYWNrKGlkKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogRGlzcGF0Y2hlcyBhIHBheWxvYWQgdG8gYWxsIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxyXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2gocGF5bG9hZCkge1xuICAgICEhdGhpcy5faXNEaXNwYXRjaGluZyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Rpc3BhdGNoLmRpc3BhdGNoKC4uLik6IENhbm5vdCBkaXNwYXRjaCBpbiB0aGUgbWlkZGxlIG9mIGEgZGlzcGF0Y2guJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgdGhpcy5fc3RhcnREaXNwYXRjaGluZyhwYXlsb2FkKTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLl9jYWxsYmFja3MpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzUGVuZGluZ1tpZF0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ludm9rZUNhbGxiYWNrKGlkKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5fc3RvcERpc3BhdGNoaW5nKCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIElzIHRoaXMgRGlzcGF0Y2hlciBjdXJyZW50bHkgZGlzcGF0Y2hpbmcuXHJcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaXNEaXNwYXRjaGluZyA9IGZ1bmN0aW9uIGlzRGlzcGF0Y2hpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzRGlzcGF0Y2hpbmc7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2FsbCB0aGUgY2FsbGJhY2sgc3RvcmVkIHdpdGggdGhlIGdpdmVuIGlkLiBBbHNvIGRvIHNvbWUgaW50ZXJuYWxcclxuICAgKiBib29ra2VlcGluZy5cclxuICAgKlxyXG4gICAqIEBpbnRlcm5hbFxyXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9pbnZva2VDYWxsYmFjayA9IGZ1bmN0aW9uIF9pbnZva2VDYWxsYmFjayhpZCkge1xuICAgIHRoaXMuX2lzUGVuZGluZ1tpZF0gPSB0cnVlO1xuXG4gICAgdGhpcy5fY2FsbGJhY2tzW2lkXSh0aGlzLl9wZW5kaW5nUGF5bG9hZCk7XG5cbiAgICB0aGlzLl9pc0hhbmRsZWRbaWRdID0gdHJ1ZTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdXAgYm9va2tlZXBpbmcgbmVlZGVkIHdoZW4gZGlzcGF0Y2hpbmcuXHJcbiAgICpcclxuICAgKiBAaW50ZXJuYWxcclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fc3RhcnREaXNwYXRjaGluZyA9IGZ1bmN0aW9uIF9zdGFydERpc3BhdGNoaW5nKHBheWxvYWQpIHtcbiAgICBmb3IgKHZhciBpZCBpbiB0aGlzLl9jYWxsYmFja3MpIHtcbiAgICAgIHRoaXMuX2lzUGVuZGluZ1tpZF0gPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lzSGFuZGxlZFtpZF0gPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLl9wZW5kaW5nUGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgdGhpcy5faXNEaXNwYXRjaGluZyA9IHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2xlYXIgYm9va2tlZXBpbmcgdXNlZCBmb3IgZGlzcGF0Y2hpbmcuXHJcbiAgICpcclxuICAgKiBAaW50ZXJuYWxcclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fc3RvcERpc3BhdGNoaW5nID0gZnVuY3Rpb24gX3N0b3BEaXNwYXRjaGluZygpIHtcbiAgICBkZWxldGUgdGhpcy5fcGVuZGluZ1BheWxvYWQ7XG4gICAgdGhpcy5faXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICB9O1xuXG4gIHJldHVybiBEaXNwYXRjaGVyO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERpc3BhdGNoZXI7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdmFsaWRhdGVGb3JtYXQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50KC4uLik6IFNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICB9XG59IDogZnVuY3Rpb24gKGZvcm1hdCkge307XG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50cyB0byBwcm92aWRlXG4gKiBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudCB3aWxsXG4gKiByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuXG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhhcmdzW2FyZ0luZGV4KytdKTtcbiAgICAgIH0pKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyBTa2lwIGludmFyaWFudCdzIG93biBzdGFjayBmcmFtZS5cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50OyIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0ICogYXMgRmx1eCBmcm9tICdmbHV4JztcblxuaW1wb3J0IENvbnN0YW50cyBmcm9tICckdXRpbHMvY29uc3RhbnRzJztcblxuY29uc3QgUGF5bG9hZFNvdXJjZXMgPSBDb25zdGFudHMuUGF5bG9hZFNvdXJjZXM7XG5cbmNvbnN0IEFwcERpc3BhdGNoZXIgPSBPYmplY3QuYXNzaWduKG5ldyBGbHV4LkRpc3BhdGNoZXIoKSwge1xuICAgIGhhbmRsZVNlcnZlckFjdGlvbjogZnVuY3Rpb24gcGVyZm9ybVNlcnZlckFjdGlvbihhY3Rpb24pIHtcbiAgICAgICAgaWYgKCFhY3Rpb24udHlwZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdoYW5kbGVTZXJ2ZXJBY3Rpb24gY2FsbGVkIHdpdGggdW5kZWZpbmVkIGFjdGlvbiB0eXBlJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBheWxvYWQgPSB7XG4gICAgICAgICAgICBzb3VyY2U6IFBheWxvYWRTb3VyY2VzLlNFUlZFUl9BQ1RJT04sXG4gICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGlzcGF0Y2gocGF5bG9hZCk7XG4gICAgfSxcblxuICAgIGhhbmRsZVZpZXdBY3Rpb246IGZ1bmN0aW9uIHBlcmZvcm1WaWV3QWN0aW9uKGFjdGlvbikge1xuICAgICAgICBpZiAoIWFjdGlvbi50eXBlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ2hhbmRsZVZpZXdBY3Rpb24gY2FsbGVkIHdpdGggdW5kZWZpbmVkIGFjdGlvbiB0eXBlJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBheWxvYWQgPSB7XG4gICAgICAgICAgICBzb3VyY2U6IFBheWxvYWRTb3VyY2VzLlZJRVdfQUNUSU9OLFxuICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHBheWxvYWQpO1xuICAgIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQXBwRGlzcGF0Y2hlcjtcbiIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IHticm93c2VySGlzdG9yeX0gZnJvbSAnJHV0aWxzL2Jyb3dzZXJfaGlzdG9yeSc7XG5pbXBvcnQgKiBhcyBTZWxlY3RvcnMgZnJvbSAnJHNlbGVjdG9ycy9zdG9yYWdlJztcbmltcG9ydCAqIGFzIEFjdGlvbnMgZnJvbSAnJGFjdGlvbnMvc3RvcmFnZSc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnJHN0b3Jlcy9yZWR1eF9zdG9yZS5qc3gnO1xuaW1wb3J0IHtFcnJvclBhZ2VUeXBlcywgU3RvcmFnZVByZWZpeGVzLCBMYW5kaW5nUHJlZmVyZW5jZVR5cGVzfSBmcm9tICckdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gJyR1dGlscy91dGlscy5qc3gnO1xuXG5jb25zdCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuY29uc3QgZ2V0U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZTtcblxuY2xhc3MgQnJvd3NlclN0b3JlQ2xhc3Mge1xuICBwcml2YXRlIGhhc0NoZWNrZWRMb2NhbFN0b3JhZ2U/OiBib29sZWFuO1xuICBwcml2YXRlIGxvY2FsU3RvcmFnZVN1cHBvcnRlZD86IGJvb2xlYW47XG5cbiAgc2V0SXRlbShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBkaXNwYXRjaChBY3Rpb25zLnNldEl0ZW0obmFtZSwgdmFsdWUpKTtcbiAgfVxuXG4gIGdldEl0ZW0obmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBTZWxlY3RvcnMubWFrZUdldEl0ZW0obmFtZSwgZGVmYXVsdFZhbHVlKShnZXRTdGF0ZSgpKTtcbiAgfVxuXG4gIHJlbW92ZUl0ZW0obmFtZTogc3RyaW5nKSB7XG4gICAgZGlzcGF0Y2goQWN0aW9ucy5yZW1vdmVJdGVtKG5hbWUpKTtcbiAgfVxuXG4gIHNldEdsb2JhbEl0ZW0obmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgZGlzcGF0Y2goQWN0aW9ucy5zZXRHbG9iYWxJdGVtKG5hbWUsIHZhbHVlKSk7XG4gIH1cblxuICBnZXRHbG9iYWxJdGVtKG5hbWU6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcgfCBudWxsID0gbnVsbCkge1xuICAgIHJldHVybiBTZWxlY3RvcnMubWFrZUdldEdsb2JhbEl0ZW0obmFtZSwgZGVmYXVsdFZhbHVlKShnZXRTdGF0ZSgpKTtcbiAgfVxuXG4gIHJlbW92ZUdsb2JhbEl0ZW0obmFtZTogc3RyaW5nKSB7XG4gICAgZGlzcGF0Y2goQWN0aW9ucy5yZW1vdmVHbG9iYWxJdGVtKG5hbWUpKTtcbiAgfVxuXG4gIHNpZ25hbExvZ291dCgpIHtcbiAgICBpZiAodGhpcy5pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAvLyBQTFQtMTI4NSBzdG9yZSBhbiBpZGVudGlmaWVyIGluIHNlc3Npb24gc3RvcmFnZSBzbyB3ZSBjYW4gY2F0Y2ggaWYgdGhlIGxvZ291dCBjYW1lIGZyb20gdGhpcyB0YWIgb24gSUUxMVxuICAgICAgY29uc3QgbG9nb3V0SWQgPSBVdGlscy5nZW5lcmF0ZUlkKCk7XG5cbiAgICAgIFV0aWxzLnJlbW92ZVByZWZpeEZyb21Mb2NhbFN0b3JhZ2UoU3RvcmFnZVByZWZpeGVzLkFOTk9VTkNFTUVOVCk7XG5cbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU3RvcmFnZVByZWZpeGVzLkxPR09VVCwgbG9nb3V0SWQpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU3RvcmFnZVByZWZpeGVzLkxPR09VVCwgbG9nb3V0SWQpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU3RvcmFnZVByZWZpeGVzLkxPR09VVCk7XG4gICAgfVxuICB9XG5cbiAgaXNTaWduYWxsaW5nTG9nb3V0KGxvZ291dElkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbG9nb3V0SWQgPT09IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU3RvcmFnZVByZWZpeGVzLkxPR09VVCk7XG4gIH1cblxuICBzaWduYWxMb2dpbigpIHtcbiAgICBpZiAodGhpcy5pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAvLyBQTFQtMTI4NSBzdG9yZSBhbiBpZGVudGlmaWVyIGluIHNlc3Npb24gc3RvcmFnZSBzbyB3ZSBjYW4gY2F0Y2ggaWYgdGhlIGxvZ291dCBjYW1lIGZyb20gdGhpcyB0YWIgb24gSUUxMVxuICAgICAgY29uc3QgbG9naW5JZCA9IFV0aWxzLmdlbmVyYXRlSWQoKTtcblxuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTdG9yYWdlUHJlZml4ZXMuTE9HSU4sIGxvZ2luSWQpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU3RvcmFnZVByZWZpeGVzLkxPR0lOLCBsb2dpbklkKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFN0b3JhZ2VQcmVmaXhlcy5MT0dJTik7XG4gICAgfVxuICB9XG5cbiAgaXNTaWduYWxsaW5nTG9naW4obG9naW5JZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGxvZ2luSWQgPT09IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU3RvcmFnZVByZWZpeGVzLkxPR0lOKTtcbiAgfVxuXG4gIGNsZWFyKG9wdGlvbnM/OiB7ZXhjbHVkZTogYW55fSkge1xuICAgIC8vIFRPRE8gYWRkIG1vcmUgc3BlY2lmaWMgdHlwZXNcbiAgICBkaXNwYXRjaChBY3Rpb25zLmNsZWFyKG9wdGlvbnMpKTtcbiAgfVxuXG4gIGlzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkge1xuICAgIGlmICh0aGlzLmhhc0NoZWNrZWRMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvY2FsU3RvcmFnZVN1cHBvcnRlZDtcbiAgICB9XG5cbiAgICB0aGlzLmxvY2FsU3RvcmFnZVN1cHBvcnRlZCA9IGZhbHNlO1xuXG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfX3Rlc3RMb2NhbF9fJywgJzEnKTtcbiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX190ZXN0TG9jYWxfXycpID09PSAnMScpIHtcbiAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2VTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ19fdGVzdExvY2FsX18nKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmxvY2FsU3RvcmFnZVN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdfX3Rlc3RTZXNzaW9uX18nLCAnMScpO1xuICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnX190ZXN0U2Vzc2lvbl9fJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gU2Vzc2lvbiBzdG9yYWdlIG5vdCB1c2FibGUsIHdlYnNpdGUgaXMgdW51c2FibGVcbiAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9lcnJvcj90eXBlPScgKyBFcnJvclBhZ2VUeXBlcy5MT0NBTF9TVE9SQUdFKTtcbiAgICB9XG5cbiAgICB0aGlzLmhhc0NoZWNrZWRMb2NhbFN0b3JhZ2UgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXMubG9jYWxTdG9yYWdlU3VwcG9ydGVkO1xuICB9XG5cbiAgaGFzU2VlbkxhbmRpbmdQYWdlKCkge1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTdG9yYWdlUHJlZml4ZXMuTEFORElOR19QQUdFX1NFRU4pO1xuICB9XG5cbiAgc2V0TGFuZGluZ1BhZ2VTZWVuKGxhbmRpbmdQYWdlU2VlbjogYm9vbGVhbikge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFN0b3JhZ2VQcmVmaXhlcy5MQU5ESU5HX1BBR0VfU0VFTiwgU3RyaW5nKGxhbmRpbmdQYWdlU2VlbikpO1xuICB9XG5cbiAgZ2V0TGFuZGluZ1ByZWZlcmVuY2Uoc2l0ZVVybD86IHN0cmluZykge1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTdG9yYWdlUHJlZml4ZXMuTEFORElOR19QUkVGRVJFTkNFICsgU3RyaW5nKHNpdGVVcmwpKTtcbiAgfVxuXG4gIHNldExhbmRpbmdQcmVmZXJlbmNlVG9NYXR0ZXJtb3N0QXBwKHNpdGVVcmw/OiBzdHJpbmcpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTdG9yYWdlUHJlZml4ZXMuTEFORElOR19QUkVGRVJFTkNFICsgU3RyaW5nKHNpdGVVcmwpLCBMYW5kaW5nUHJlZmVyZW5jZVR5cGVzLk1BVFRFUk1PU1RBUFApO1xuICB9XG5cbiAgc2V0TGFuZGluZ1ByZWZlcmVuY2VUb0Jyb3dzZXIoc2l0ZVVybD86IHN0cmluZykge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFN0b3JhZ2VQcmVmaXhlcy5MQU5ESU5HX1BSRUZFUkVOQ0UgKyBTdHJpbmcoc2l0ZVVybCksIExhbmRpbmdQcmVmZXJlbmNlVHlwZXMuQlJPV1NFUik7XG4gIH1cblxuICBjbGVhckxhbmRpbmdQcmVmZXJlbmNlKHNpdGVVcmw/OiBzdHJpbmcpIHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTdG9yYWdlUHJlZml4ZXMuTEFORElOR19QUkVGRVJFTkNFICsgU3RyaW5nKHNpdGVVcmwpKTtcbiAgfVxufVxuXG5jb25zdCBCcm93c2VyU3RvcmUgPSBuZXcgQnJvd3NlclN0b3JlQ2xhc3MoKTtcbmV4cG9ydCBkZWZhdWx0IEJyb3dzZXJTdG9yZTtcbiIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuLy8gVXNlIHdoZW4gc29ydGluZyBtdWx0aXBsZSB0ZWFtcyBieSB0aGVpciBgZGlzcGxheV9uYW1lYCBmaWVsZFxuZnVuY3Rpb24gY29tcGFyZVRlYW1zQnlEaXNwbGF5TmFtZShsb2NhbGUsIGEsIGIpIHtcbiAgICBpZiAoYS5kaXNwbGF5X25hbWUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGEuZGlzcGxheV9uYW1lICE9PSBiLmRpc3BsYXlfbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGEuZGlzcGxheV9uYW1lLmxvY2FsZUNvbXBhcmUoYi5kaXNwbGF5X25hbWUsIGxvY2FsZSwge251bWVyaWM6IHRydWV9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUsIGxvY2FsZSwge251bWVyaWM6IHRydWV9KTtcbn1cblxuLy8gVXNlIHRvIGZpbHRlciBvdXQgdGVhbXMgdGhhdCBhcmUgZGVsZXRlZCBhbmQgd2l0aG91dCBkaXNwbGF5X25hbWUsIHRoZW4gc29ydCBieSB0aGVpciBgZGlzcGxheV9uYW1lYCBmaWVsZFxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckFuZFNvcnRUZWFtc0J5RGlzcGxheU5hbWUodGVhbXMsIGxvY2FsZSwgdGVhbXNPcmRlciA9ICcnKSB7XG4gICAgaWYgKCF0ZWFtcykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgdGVhbXNPcmRlckxpc3QgPSB0ZWFtc09yZGVyLnNwbGl0KCcsJyk7XG5cbiAgICBjb25zdCBjdXN0b21Tb3J0ZWRUZWFtcyA9IHRlYW1zLmZpbHRlcigodGVhbSkgPT4ge1xuICAgICAgICBpZiAodGVhbSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRlYW1zT3JkZXJMaXN0LmluY2x1ZGVzKHRlYW0uaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiB0ZWFtc09yZGVyTGlzdC5pbmRleE9mKGEuaWQpIC0gdGVhbXNPcmRlckxpc3QuaW5kZXhPZihiLmlkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG90aGVyVGVhbXMgPSB0ZWFtcy5maWx0ZXIoKHRlYW0pID0+IHtcbiAgICAgICAgaWYgKHRlYW0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAhdGVhbXNPcmRlckxpc3QuaW5jbHVkZXModGVhbS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVUZWFtc0J5RGlzcGxheU5hbWUobG9jYWxlLCBhLCBiKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBbLi4uY3VzdG9tU29ydGVkVGVhbXMsIC4uLm90aGVyVGVhbXNdLmZpbHRlcigodGVhbSkgPT4ge1xuICAgICAgICByZXR1cm4gdGVhbSAmJiAhdGVhbS5kZWxldGVfYXQgPiAwICYmIHRlYW0uZGlzcGxheV9uYW1lICE9IG51bGw7XG4gICAgfSk7XG59XG4iLCIvKipcbiAqIEZpbGU6IEludGxQcm92aWRlci50c3hcbiAqIFByb2plY3Q6IGNoYXR0aW5nLW1pbmltYWxcbiAqIEZpbGUgQ3JlYXRlZDogMzAgU2VwIDIwMjEgMTA6MjA6MzlcbiAqIEF1dGhvcjogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIExhc3QgTW9kaWZpZWQ6IDMwIFNlcCAyMDIxIDE0OjQ0OjI2XG4gKiBNb2RpZmllZCBCeTogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAyMSB1bmQzZmluZWQuY29tXG4gKi9cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtJbnRsUHJvdmlkZXIgYXMgQmFzZUludGxQcm92aWRlcn0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCB7Q2xpZW50NH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvY2xpZW50JztcbmltcG9ydCB7c2V0TG9jYWxpemVGdW5jdGlvbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdXRpbHMvaTE4bl91dGlscyc7XG5cbmltcG9ydCAqIGFzIEkxOG4gZnJvbSAnJGkxOG4vaTE4bic7XG5pbXBvcnQge2xvY2FsaXplTWVzc2FnZX0gZnJvbSAnJHV0aWxzL3V0aWxzJztcblxuaW1wb3J0IHR5cGUge1Byb3BzLCBTdGF0ZX0gZnJvbSAnLi90eXBlcyc7XG5cbmNsYXNzIEludGxQcm92aWRlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIEluaXRpYWxpemUgYnJvd3NlcidzIGkxOG4gZGF0YVxuICAgIEkxOG4uZG9BZGRMb2NhbGVEYXRhKCk7XG5cbiAgICAvLyBQYXNzIGxvY2FsaXphdGlvbiBmdW5jdGlvbiBiYWNrIHRvIGNoYXR0aW5nLXJlZHV4XG4gICAgc2V0TG9jYWxpemVGdW5jdGlvbihsb2NhbGl6ZU1lc3NhZ2UpO1xuXG4gICAgdGhpcy5oYW5kbGVMb2NhbGVDaGFuZ2UodGhpcy5wcm9wcy5sb2NhbGUpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBpZiAocHJldlByb3BzLmxvY2FsZSAhPT0gdGhpcy5wcm9wcy5sb2NhbGUpIHtcbiAgICAgIHRoaXMuaGFuZGxlTG9jYWxlQ2hhbmdlKHRoaXMucHJvcHMubG9jYWxlKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVMb2NhbGVDaGFuZ2UgPSAobG9jYWxlOiBzdHJpbmcpID0+IHtcbiAgICBDbGllbnQ0LnNldEFjY2VwdExhbmd1YWdlKGxvY2FsZSk7XG4gICAgdGhpcy5sb2FkVHJhbnNsYXRpb25zSWZOZWNlc3NhcnkobG9jYWxlKTtcbiAgfTtcblxuICBsb2FkVHJhbnNsYXRpb25zSWZOZWNlc3NhcnkgPSAobG9jYWxlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7dHJhbnNsYXRpb25zLCBhY3Rpb25zfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAodHJhbnNsYXRpb25zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbG9jYWxlSW5mbyA9IEkxOG4uZ2V0TGFuZ3VhZ2VJbmZvKGxvY2FsZSk7XG5cbiAgICBpZiAoIWxvY2FsZUluZm8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhY3Rpb25zLmxvYWRUcmFuc2xhdGlvbnMobG9jYWxlLCBsb2NhbGVJbmZvLnVybCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtsb2NhbGUsIHRyYW5zbGF0aW9ucywgY2hpbGRyZW59ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXRyYW5zbGF0aW9ucykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxCYXNlSW50bFByb3ZpZGVyXG4gICAgICAgIGtleT17bG9jYWxlfVxuICAgICAgICBsb2NhbGU9e2xvY2FsZX1cbiAgICAgICAgbWVzc2FnZXM9e3RyYW5zbGF0aW9uc31cbiAgICAgICAgdGV4dENvbXBvbmVudD0nc3BhbidcbiAgICAgICAgd3JhcFJpY2hUZXh0Q2h1bmtzSW5GcmFnbWVudD17ZmFsc2V9XG4gICAgICA+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvQmFzZUludGxQcm92aWRlcj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEludGxQcm92aWRlcjsiLCIvKipcbiAqIEZpbGU6IGluZGV4LnRzeFxuICogUHJvamVjdDogY2hhdHRpbmctbWluaW1hbFxuICogRmlsZSBDcmVhdGVkOiAzMCBTZXAgMjAyMSAxMDoxNTo0M1xuICogQXV0aG9yOiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogTGFzdCBNb2RpZmllZDogMzAgU2VwIDIwMjEgMTA6NDc6MTlcbiAqIE1vZGlmaWVkIEJ5OiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogQ29weXJpZ2h0IChjKSAyMDIxIHVuZDNmaW5lZC5jb21cbiAqL1xuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQge2JpbmRBY3Rpb25DcmVhdG9ycywgRGlzcGF0Y2h9IGZyb20gJ3JlZHV4JztcblxuaW1wb3J0IHtHZW5lcmljQWN0aW9ufSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcbmltcG9ydCB7R2xvYmFsU3RhdGV9IGZyb20gJyR0eXBlcy9zdG9yZSc7XG5pbXBvcnQge2xvYWRUcmFuc2xhdGlvbnN9IGZyb20gJyRhY3Rpb25zL3ZpZXdzL3Jvb3QnO1xuaW1wb3J0IHtnZXRDdXJyZW50TG9jYWxlLCBnZXRUcmFuc2xhdGlvbnN9IGZyb20gJyRzZWxlY3RvcnMvaTE4bic7XG5cbmltcG9ydCB0eXBlIHtTdGF0ZVByb3BzLCBEaXNwYXRjaFByb3BzLCBPd25Qcm9wc30gZnJvbSAnLi90eXBlcyc7XG5cbmltcG9ydCBJbnRsUHJvdmlkZXIgZnJvbSAnLi9JbnRsUHJvdmlkZXInO1xuXG5mdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGU6IEdsb2JhbFN0YXRlKSB7XG4gIGNvbnN0IGxvY2FsZSA9IGdldEN1cnJlbnRMb2NhbGUoc3RhdGUpO1xuXG4gIHJldHVybiB7XG4gICAgbG9jYWxlLFxuICAgIHRyYW5zbGF0aW9uczogZ2V0VHJhbnNsYXRpb25zKHN0YXRlLCBsb2NhbGUpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2g6IERpc3BhdGNoPEdlbmVyaWNBY3Rpb24+KSB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uczogYmluZEFjdGlvbkNyZWF0b3JzKFxuICAgICAge1xuICAgICAgICBsb2FkVHJhbnNsYXRpb25zLFxuICAgICAgfSxcbiAgICAgIGRpc3BhdGNoXG4gICAgKSxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdDxTdGF0ZVByb3BzLCBEaXNwYXRjaFByb3BzLCBPd25Qcm9wcywgR2xvYmFsU3RhdGU+KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShJbnRsUHJvdmlkZXIpO1xuIiwiLyoqXG4gKiBGaWxlOiBMb2dvLnRzeFxuICogUHJvamVjdDogY2hhdHRpbmctbWluaW1hbFxuICogRmlsZSBDcmVhdGVkOiAwMiBPY3QgMjAyMSAxMToxNzo1OVxuICogQXV0aG9yOiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogTGFzdCBNb2RpZmllZDogMDIgT2N0IDIwMjEgMTE6MjA6MDVcbiAqIE1vZGlmaWVkIEJ5OiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogQ29weXJpZ2h0IChjKSAyMDIxIHVuZDNmaW5lZC5jb21cbiAqL1xuaW1wb3J0IFJlYWN0LCB7Q1NTUHJvcGVydGllc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHt1c2VJbnRsfSBmcm9tICdyZWFjdC1pbnRsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWF0dGVybW9zdExvZ28ocHJvcHM6IFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxTcGFuRWxlbWVudD4pIHtcbiAgY29uc3Qge2Zvcm1hdE1lc3NhZ2V9ID0gdXNlSW50bCgpO1xuICByZXR1cm4gKFxuICAgIDxzcGFuIHsuLi5wcm9wc30+XG4gICAgICA8c3ZnXG4gICAgICAgIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZydcbiAgICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9XG4gICAgICAgIHg9JzBweCdcbiAgICAgICAgeT0nMHB4J1xuICAgICAgICB2aWV3Qm94PScwIDAgNTEyIDUxMidcbiAgICAgICAgZW5hYmxlQmFja2dyb3VuZD0nbmV3IDAgMCA1MTIgNTEyJ1xuICAgICAgICByb2xlPSdpbWcnXG4gICAgICAgIGZpbGw9J2N1cnJlbnRDb2xvcidcbiAgICAgICAgYXJpYS1sYWJlbD17Zm9ybWF0TWVzc2FnZSh7aWQ6ICdnZW5lcmljX2ljb25zLmdvbWxvJywgZGVmYXVsdE1lc3NhZ2U6ICdHb21sbyBMb2dvJ30pfVxuICAgICAgPlxuICAgICAgICA8Zz5cbiAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgZD0nTTQxMy44NCAxMjIuNzU5QzQzMy42MTYgMTA2LjE4MSA0MzMuNTY1IDc1LjU3NiA0MTEuMDE4IDYzLjAyNjdDMzc2Ljk5MSA0NC4wODg4IDMzNy45ODYgMzEuODk1NSAyOTYuOTc1IDI3LjY2MjdDMjM4LjQwMiAyMS42MTcyIDE3OS4wOTkgMzIuMTU3IDEyOC40OTIgNTcuNjA2N0M3Ny44ODU2IDgzLjA1NjQgMzguODc5NCAxMjEuOTU2IDE3LjY3MzkgMTY4LjEyMUMtMy41MzE1NyAyMTQuMjg2IC01LjcxOTQgMjY1LjA2OSAxMS40NTgyIDMxMi4zOTZDMjguNjM1OCAzNTkuNzI0IDY0LjE5MyA0MDAuODggMTEyLjQ3OCA0MjkuMzIzQzE2MC43NjMgNDU3Ljc2NyAyMTkuMDA1IDQ3MS44NjUgMjc3Ljk0NSA0NjkuMzc3QzMzNi44ODYgNDY2Ljg4OCAzOTMuMTQzIDQ0Ny45NTcgNDM3Ljc3NSA0MTUuNTkxQzQ2OC4wMDkgMzkzLjY2NiA0OTEuNzMyIDM2Ni40MjkgNTA3LjQ0MiAzMzYuMDUxQzUxOS40ODMgMzEyLjc2NiA1MDIuMzMyIDI4Ny4xMjIgNDc2LjQ2OSAyODIuODQ2VjI4Mi44NDZDNDUyLjk1MiAyNzguOTU5IDQzMC45ODYgMjk0LjU4NSA0MTguNDI0IDMxNC44NDFDNDA4LjM4MiAzMzEuMDMzIDM5NC43MjMgMzQ1LjYwNiAzNzguMDM1IDM1Ny43MDdDMzQ4LjgwMyAzNzguOTA1IDMxMS45NTcgMzkxLjMwNSAyNzMuMzUzIDM5Mi45MzVDMjM0Ljc0OSAzOTQuNTY0IDE5Ni42MDMgMzg1LjMzIDE2NC45NzggMzY2LjcwMUMxMzMuMzUzIDM0OC4wNzIgMTEwLjA2NCAzMjEuMTE2IDk4LjgxMzQgMjkwLjExOEM4Ny41NjI3IDI1OS4xMiA4OC45OTU2IDIyNS44NiAxMDIuODg0IDE5NS42MjNDMTE2Ljc3MyAxNjUuMzg2IDE0Mi4zMjEgMTM5LjkwOSAxNzUuNDY3IDEyMy4yNEMyMDguNjEyIDEwNi41NzIgMjQ3LjQ1NCA5OS42NjgzIDI4NS44MTcgMTAzLjYyOEMzMTEuODUgMTA2LjMxNSAzMzYuNjQ4IDExMy44OTkgMzU4LjQ0MSAxMjUuNjU2QzM3Ni4xNDIgMTM1LjIwNiAzOTguNDI2IDEzNS42NzkgNDEzLjg0IDEyMi43NTlWMTIyLjc1OVonXG4gICAgICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICAgICAgZD0nTTY0LjczOTUgMzkzLjE2NUM2NC44NTg1IDM5My4yNjMgNjQuOTc3IDM5My4zNjMgNjUuMDk1IDM5My40NjRDODUuOTU1OSA0MTEuMjQ2IDgzLjE2NDUgNDUwLjk4NCA1OS45NTY0IDQ4NkMxMDYuMDg4IDQ3NS44NTIgMTY3LjYxNiA0NjkuNjU3IDIzNS4xODQgNDY5LjY1N0MyNDUuMTQyIDQ2OS42NTcgMjU0Ljk2OSA0NjkuNzkyIDI2NC42MzUgNDcwLjA1NFYzOTYuMzU3QzI1Ny4zMTggMzk4LjgzNSAyNDkuMDkyIDQwMC4yMjYgMjQwLjM5OCA0MDAuMjI2QzIyNi4yNzQgNDAwLjIyNiAyMTMuMzg4IDM5Ni41NTUgMjAzLjYyMSAzOTAuNTE3SDExNC43MDNWMzkzLjE2NUg2NC43Mzk1WidcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxlbGxpcHNlXG4gICAgICAgICAgICByeD0nNDIuMzgyNSdcbiAgICAgICAgICAgIHJ5PSc0NC4wMjYxJ1xuICAgICAgICAgICAgdHJhbnNmb3JtPSdtYXRyaXgoMC45Njg0NDUgMC4yNDkyMjggLTAuMjI5ODMxIDAuOTczMjMgNDY4LjM4NCAyMTUuMjcyKSdcbiAgICAgICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxlbGxpcHNlXG4gICAgICAgICAgICByeD0nMzQuNzY2MidcbiAgICAgICAgICAgIHJ5PSczNi4xMTQ0J1xuICAgICAgICAgICAgdHJhbnNmb3JtPSdtYXRyaXgoMC45Njg0NDUgMC4yNDkyMjggLTAuMjI5ODMxIDAuOTczMjMgMzY1Ljc4OCAyNDAuNzQ0KSdcbiAgICAgICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxlbGxpcHNlXG4gICAgICAgICAgICByeD0nMjguMjU1J1xuICAgICAgICAgICAgcnk9JzI5LjM1MDgnXG4gICAgICAgICAgICB0cmFuc2Zvcm09J21hdHJpeCgwLjk2ODQ0NSAwLjI0OTIyOCAtMC4yMjk4MzEgMC45NzMyMyAyNzYuNzIyIDI2My4wOTcpJ1xuICAgICAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvc3Bhbj5cbiAgKTtcbn1cblxuY29uc3Qgc3R5bGU6IENTU1Byb3BlcnRpZXMgPSB7XG4gIGZpbGxSdWxlOiAnZXZlbm9kZCcsXG4gIGNsaXBSdWxlOiAnZXZlbm9kZCcsXG59O1xuIiwiaW1wb3J0IHsgb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBhcyBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSwgZXh0ZW5kcyBhcyBfZXh0ZW5kcywgY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlIGFzIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UgfSBmcm9tICcuLi9fdmlydHVhbC9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLmpzJztcbmltcG9ydCB7IEZyYWdtZW50LCBpc1ZhbGlkRWxlbWVudCwgY2xvbmVFbGVtZW50LCBjcmVhdGVFbGVtZW50LCBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWF0Y2ggfSBmcm9tICcuL21hdGNoLmVzbS5qcyc7XG5cbnZhciBGZWF0dXJlcztcblxuKGZ1bmN0aW9uIChGZWF0dXJlcykge1xuICAvKiogTm8gZmVhdHVyZXMgYXQgYWxsICovXG4gIEZlYXR1cmVzW0ZlYXR1cmVzW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gIC8qKlxyXG4gICAqIFdoZW4gdXNlZCwgdGhpcyB3aWxsIGFsbG93IHVzIHRvIHVzZSBvbmUgb2YgdGhlIHJlbmRlciBzdHJhdGVnaWVzLlxyXG4gICAqXHJcbiAgICogKipUaGUgcmVuZGVyIHN0cmF0ZWdpZXMgYXJlOioqXHJcbiAgICogICAgLSAqKlVubW91bnQqKiAgIF8oV2lsbCB1bm1vdW50IHRoZSBjb21wb25lbnQuKV9cclxuICAgKiAgICAtICoqSGlkZGVuKiogICAgXyhXaWxsIGhpZGUgdGhlIGNvbXBvbmVudCB1c2luZyB0aGUgW2hpZGRlbl0gYXR0cmlidXRlLilfXHJcbiAgICovXG5cbiAgRmVhdHVyZXNbRmVhdHVyZXNbXCJSZW5kZXJTdHJhdGVneVwiXSA9IDFdID0gXCJSZW5kZXJTdHJhdGVneVwiO1xuICAvKipcclxuICAgKiBXaGVuIHVzZWQsIHRoaXMgd2lsbCBhbGxvdyB0aGUgdXNlciBvZiBvdXIgY29tcG9uZW50IHRvIGJlIGluIGNvbnRyb2wuIFRoaXMgY2FuIGJlIHVzZWQgd2hlblxyXG4gICAqIHlvdSB3YW50IHRvIHRyYW5zaXRpb24gYmFzZWQgb24gc29tZSBzdGF0ZS5cclxuICAgKi9cblxuICBGZWF0dXJlc1tGZWF0dXJlc1tcIlN0YXRpY1wiXSA9IDJdID0gXCJTdGF0aWNcIjtcbn0pKEZlYXR1cmVzIHx8IChGZWF0dXJlcyA9IHt9KSk7XG5cbnZhciBSZW5kZXJTdHJhdGVneTtcblxuKGZ1bmN0aW9uIChSZW5kZXJTdHJhdGVneSkge1xuICBSZW5kZXJTdHJhdGVneVtSZW5kZXJTdHJhdGVneVtcIlVubW91bnRcIl0gPSAwXSA9IFwiVW5tb3VudFwiO1xuICBSZW5kZXJTdHJhdGVneVtSZW5kZXJTdHJhdGVneVtcIkhpZGRlblwiXSA9IDFdID0gXCJIaWRkZW5cIjtcbn0pKFJlbmRlclN0cmF0ZWd5IHx8IChSZW5kZXJTdHJhdGVneSA9IHt9KSk7XG5cbmZ1bmN0aW9uIHJlbmRlcihfcmVmKSB7XG4gIHZhciBwcm9wcyA9IF9yZWYucHJvcHMsXG4gICAgICBzbG90ID0gX3JlZi5zbG90LFxuICAgICAgZGVmYXVsdFRhZyA9IF9yZWYuZGVmYXVsdFRhZyxcbiAgICAgIGZlYXR1cmVzID0gX3JlZi5mZWF0dXJlcyxcbiAgICAgIF9yZWYkdmlzaWJsZSA9IF9yZWYudmlzaWJsZSxcbiAgICAgIHZpc2libGUgPSBfcmVmJHZpc2libGUgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJHZpc2libGUsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lO1xuICAvLyBWaXNpYmxlIGFsd2F5cyByZW5kZXJcbiAgaWYgKHZpc2libGUpIHJldHVybiBfcmVuZGVyKHByb3BzLCBzbG90LCBkZWZhdWx0VGFnLCBuYW1lKTtcbiAgdmFyIGZlYXR1cmVGbGFncyA9IGZlYXR1cmVzICE9IG51bGwgPyBmZWF0dXJlcyA6IEZlYXR1cmVzLk5vbmU7XG5cbiAgaWYgKGZlYXR1cmVGbGFncyAmIEZlYXR1cmVzLlN0YXRpYykge1xuICAgIHZhciBfcHJvcHMkc3RhdGljID0gcHJvcHNbXCJzdGF0aWNcIl0sXG4gICAgICAgIGlzU3RhdGljID0gX3Byb3BzJHN0YXRpYyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkc3RhdGljLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIFtcInN0YXRpY1wiXSk7IC8vIFdoZW4gdGhlIGBzdGF0aWNgIHByb3AgaXMgcGFzc2VkIGFzIGB0cnVlYCwgdGhlbiB0aGUgdXNlciBpcyBpbiBjb250cm9sLCB0aHVzIHdlIGRvbid0IGNhcmUgYWJvdXQgYW55dGhpbmcgZWxzZVxuXG5cbiAgICBpZiAoaXNTdGF0aWMpIHJldHVybiBfcmVuZGVyKHJlc3QsIHNsb3QsIGRlZmF1bHRUYWcsIG5hbWUpO1xuICB9XG5cbiAgaWYgKGZlYXR1cmVGbGFncyAmIEZlYXR1cmVzLlJlbmRlclN0cmF0ZWd5KSB7XG4gICAgdmFyIF9tYXRjaDtcblxuICAgIHZhciBfcHJvcHMkdW5tb3VudCA9IHByb3BzLnVubW91bnQsXG4gICAgICAgIHVubW91bnQgPSBfcHJvcHMkdW5tb3VudCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyR1bm1vdW50LFxuICAgICAgICBfcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJ1bm1vdW50XCJdKTtcblxuICAgIHZhciBzdHJhdGVneSA9IHVubW91bnQgPyBSZW5kZXJTdHJhdGVneS5Vbm1vdW50IDogUmVuZGVyU3RyYXRlZ3kuSGlkZGVuO1xuICAgIHJldHVybiBtYXRjaChzdHJhdGVneSwgKF9tYXRjaCA9IHt9LCBfbWF0Y2hbUmVuZGVyU3RyYXRlZ3kuVW5tb3VudF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LCBfbWF0Y2hbUmVuZGVyU3RyYXRlZ3kuSGlkZGVuXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfcmVuZGVyKF9leHRlbmRzKHt9LCBfcmVzdCwge1xuICAgICAgICBoaWRkZW46IHRydWUsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgIH1cbiAgICAgIH0pLCBzbG90LCBkZWZhdWx0VGFnLCBuYW1lKTtcbiAgICB9LCBfbWF0Y2gpKTtcbiAgfSAvLyBObyBmZWF0dXJlcyBlbmFibGVkLCBqdXN0IHJlbmRlclxuXG5cbiAgcmV0dXJuIF9yZW5kZXIocHJvcHMsIHNsb3QsIGRlZmF1bHRUYWcsIG5hbWUpO1xufVxuXG5mdW5jdGlvbiBfcmVuZGVyKHByb3BzLCBzbG90LCB0YWcsIG5hbWUpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmIChzbG90ID09PSB2b2lkIDApIHtcbiAgICBzbG90ID0ge307XG4gIH1cblxuICB2YXIgX29taXQgPSBvbWl0KHByb3BzLCBbJ3VubW91bnQnLCAnc3RhdGljJ10pLFxuICAgICAgX29taXQkYXMgPSBfb21pdC5hcyxcbiAgICAgIENvbXBvbmVudCA9IF9vbWl0JGFzID09PSB2b2lkIDAgPyB0YWcgOiBfb21pdCRhcyxcbiAgICAgIGNoaWxkcmVuID0gX29taXQuY2hpbGRyZW4sXG4gICAgICBfb21pdCRyZWZOYW1lID0gX29taXQucmVmTmFtZSxcbiAgICAgIHJlZk5hbWUgPSBfb21pdCRyZWZOYW1lID09PSB2b2lkIDAgPyAncmVmJyA6IF9vbWl0JHJlZk5hbWUsXG4gICAgICBwYXNzVGhyb3VnaFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX29taXQsIFtcImFzXCIsIFwiY2hpbGRyZW5cIiwgXCJyZWZOYW1lXCJdKTsgLy8gVGhpcyBhbGxvd3MgdXMgdG8gdXNlIGA8SGVhZGxlc3NVSUNvbXBvbmVudCBhcz17TXlDb21wb25lbnR9IHJlZk5hbWU9XCJpbm5lclJlZlwiIC8+YFxuXG5cbiAgdmFyIHJlZlJlbGF0ZWRQcm9wcyA9IHByb3BzLnJlZiAhPT0gdW5kZWZpbmVkID8gKF9yZWYyID0ge30sIF9yZWYyW3JlZk5hbWVdID0gcHJvcHMucmVmLCBfcmVmMikgOiB7fTtcbiAgdmFyIHJlc29sdmVkQ2hpbGRyZW4gPSB0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicgPyBjaGlsZHJlbihzbG90KSA6IGNoaWxkcmVuOyAvLyBBbGxvdyBmb3IgY2xhc3NOYW1lIHRvIGJlIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2xvdCBhcyB0aGUgY29udGVudHNcblxuICBpZiAocGFzc1Rocm91Z2hQcm9wcy5jbGFzc05hbWUgJiYgdHlwZW9mIHBhc3NUaHJvdWdoUHJvcHMuY2xhc3NOYW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcGFzc1Rocm91Z2hQcm9wcy5jbGFzc05hbWUgPSBwYXNzVGhyb3VnaFByb3BzLmNsYXNzTmFtZShzbG90KTtcbiAgfVxuXG4gIGlmIChDb21wb25lbnQgPT09IEZyYWdtZW50KSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHBhc3NUaHJvdWdoUHJvcHMpLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQocmVzb2x2ZWRDaGlsZHJlbikgfHwgQXJyYXkuaXNBcnJheShyZXNvbHZlZENoaWxkcmVuKSAmJiByZXNvbHZlZENoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFsnUGFzc2luZyBwcm9wcyBvbiBcIkZyYWdtZW50XCIhJywgJycsIFwiVGhlIGN1cnJlbnQgY29tcG9uZW50IDxcIiArIG5hbWUgKyBcIiAvPiBpcyByZW5kZXJpbmcgYSBcXFwiRnJhZ21lbnRcXFwiLlwiLCBcIkhvd2V2ZXIgd2UgbmVlZCB0byBwYXNzdGhyb3VnaCB0aGUgZm9sbG93aW5nIHByb3BzOlwiLCBPYmplY3Qua2V5cyhwYXNzVGhyb3VnaFByb3BzKS5tYXAoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICByZXR1cm4gXCIgIC0gXCIgKyBsaW5lO1xuICAgICAgICB9KS5qb2luKCdcXG4nKSwgJycsICdZb3UgY2FuIGFwcGx5IGEgZmV3IHNvbHV0aW9uczonLCBbJ0FkZCBhbiBgYXM9XCIuLi5cImAgcHJvcCwgdG8gZW5zdXJlIHRoYXQgd2UgcmVuZGVyIGFuIGFjdHVhbCBlbGVtZW50IGluc3RlYWQgb2YgYSBcIkZyYWdtZW50XCIuJywgJ1JlbmRlciBhIHNpbmdsZSBlbGVtZW50IGFzIHRoZSBjaGlsZCBzbyB0aGF0IHdlIGNhbiBmb3J3YXJkIHRoZSBwcm9wcyBvbnRvIHRoYXQgZWxlbWVudC4nXS5tYXAoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICByZXR1cm4gXCIgIC0gXCIgKyBsaW5lO1xuICAgICAgICB9KS5qb2luKCdcXG4nKV0uam9pbignXFxuJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2xvbmVFbGVtZW50KHJlc29sdmVkQ2hpbGRyZW4sIE9iamVjdC5hc3NpZ24oe30sIC8vIEZpbHRlciBvdXQgdW5kZWZpbmVkIHZhbHVlcyBzbyB0aGF0IHRoZXkgZG9uJ3Qgb3ZlcnJpZGUgdGhlIGV4aXN0aW5nIHZhbHVlc1xuICAgICAgbWVyZ2VFdmVudEZ1bmN0aW9ucyhjb21wYWN0KG9taXQocGFzc1Rocm91Z2hQcm9wcywgWydyZWYnXSkpLCByZXNvbHZlZENoaWxkcmVuLnByb3BzLCBbJ29uQ2xpY2snXSksIHJlZlJlbGF0ZWRQcm9wcykpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KENvbXBvbmVudCwgT2JqZWN0LmFzc2lnbih7fSwgb21pdChwYXNzVGhyb3VnaFByb3BzLCBbJ3JlZiddKSwgQ29tcG9uZW50ICE9PSBGcmFnbWVudCAmJiByZWZSZWxhdGVkUHJvcHMpLCByZXNvbHZlZENoaWxkcmVuKTtcbn1cbi8qKlxyXG4gKiBXZSBjYW4gdXNlIHRoaXMgZnVuY3Rpb24gZm9yIHRoZSBmb2xsb3dpbmcgdXNlQ2FzZTpcclxuICpcclxuICogPE1lbnUuSXRlbT4gPGJ1dHRvbiBvbkNsaWNrPXtjb25zb2xlLmxvZ30gLz4gPC9NZW51Lkl0ZW0+XHJcbiAqXHJcbiAqIE91ciBgTWVudS5JdGVtYCB3aWxsIGhhdmUgYW4gaW50ZXJuYWwgYG9uQ2xpY2tgLCBpZiB5b3UgcGFzc3Rocm91Z2ggYW4gYG9uQ2xpY2tgIHRvIHRoZSBhY3R1YWxcclxuICogYE1lbnUuSXRlbWAgY29tcG9uZW50IHdlIHdpbGwgY2FsbCBpdCBjb3JyZWN0bHkuIEhvd2V2ZXIsIHdoZW4gd2UgaGF2ZSBhbiBgb25DbGlja2Agb24gdGhlIGFjdHVhbFxyXG4gKiBmaXJzdCBjaGlsZCwgdGhhdCBvbmUgc2hvdWxkIF9hbHNvXyBiZSBjYWxsZWQgKGJ1dCBiZWZvcmUgdGhpcyBpbXBsZW1lbnRhdGlvbiwgaXQgd2FzIGp1c3RcclxuICogb3ZlcnJpZGluZyB0aGUgYG9uQ2xpY2tgKS4gQnV0IGl0IGlzIG9ubHkgd2hlbiB3ZSAqcmVuZGVyKiB0aGF0IHdlIGhhdmUgYWNjZXNzIHRvIHRoZSBleGlzdGluZ1xyXG4gKiBwcm9wcyBvZiB0aGlzIGNvbXBvbmVudC5cclxuICpcclxuICogSXQncyBhIGJpdCBoYWNreSwgYW5kIG5vdCB0aGF0IGNsZWFuLCBidXQgaXQgaXMgc29tZXRoaW5nIGludGVybmFsIGFuZCB3ZSBoYXZlIHRlc3RzIHRvIHJlbHkgb25cclxuICogc28gdGhhdCB3ZSBjYW4gcmVmYWN0b3IgdGhpcyBsYXRlciAoaWYgbmVlZGVkKS5cclxuICovXG5cblxuZnVuY3Rpb24gbWVyZ2VFdmVudEZ1bmN0aW9ucyhwYXNzVGhyb3VnaFByb3BzLCBleGlzdGluZ1Byb3BzLCBmdW5jdGlvbnNUb01lcmdlKSB7XG4gIHZhciBjbG9uZSA9IE9iamVjdC5hc3NpZ24oe30sIHBhc3NUaHJvdWdoUHJvcHMpO1xuXG4gIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkge1xuICAgIHZhciBmdW5jID0gX3N0ZXAudmFsdWU7XG5cbiAgICBpZiAocGFzc1Rocm91Z2hQcm9wc1tmdW5jXSAhPT0gdW5kZWZpbmVkICYmIGV4aXN0aW5nUHJvcHNbZnVuY10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIF9PYmplY3QkYXNzaWduO1xuXG4gICAgICBPYmplY3QuYXNzaWduKGNsb25lLCAoX09iamVjdCRhc3NpZ24gPSB7fSwgX09iamVjdCRhc3NpZ25bZnVuY10gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gUHJvcHMgd2UgY29udHJvbFxuICAgICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHBhc3NUaHJvdWdoUHJvcHNbZnVuY10oZXZlbnQpOyAvLyBFeGlzdGluZyBwcm9wcyBvbiB0aGUgY29tcG9uZW50XG5cbiAgICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSBleGlzdGluZ1Byb3BzW2Z1bmNdKGV2ZW50KTtcbiAgICAgIH0sIF9PYmplY3QkYXNzaWduKSk7XG4gICAgfVxuICB9O1xuXG4gIGZvciAodmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UoZnVuY3Rpb25zVG9NZXJnZSksIF9zdGVwOyAhKF9zdGVwID0gX2l0ZXJhdG9yKCkpLmRvbmU7KSB7XG4gICAgX2xvb3AoKTtcbiAgfVxuXG4gIHJldHVybiBjbG9uZTtcbn1cbi8qKlxyXG4gKiBUaGlzIGlzIGEgaGFjaywgYnV0IGJhc2ljYWxseSB3ZSB3YW50IHRvIGtlZXAgdGhlIGZ1bGwgJ0FQSScgb2YgdGhlIGNvbXBvbmVudCwgYnV0IHdlIGRvIHdhbnQgdG9cclxuICogd3JhcCBpdCBpbiBhIGZvcndhcmRSZWYgc28gdGhhdCB3ZSBfY2FuXyBwYXNzdGhyb3VnaCB0aGUgcmVmXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIGZvcndhcmRSZWZXaXRoQXMoY29tcG9uZW50KSB7XG4gIHZhciBfY29tcG9uZW50JGRpc3BsYXlOYW07XG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZm9yd2FyZFJlZihjb21wb25lbnQpLCB7XG4gICAgZGlzcGxheU5hbWU6IChfY29tcG9uZW50JGRpc3BsYXlOYW0gPSBjb21wb25lbnQuZGlzcGxheU5hbWUpICE9IG51bGwgPyBfY29tcG9uZW50JGRpc3BsYXlOYW0gOiBjb21wb25lbnQubmFtZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY29tcGFjdChvYmplY3QpIHtcbiAgdmFyIGNsb25lID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqZWN0KTtcblxuICBmb3IgKHZhciBrZXkgaW4gY2xvbmUpIHtcbiAgICBpZiAoY2xvbmVba2V5XSA9PT0gdW5kZWZpbmVkKSBkZWxldGUgY2xvbmVba2V5XTtcbiAgfVxuXG4gIHJldHVybiBjbG9uZTtcbn1cblxuZnVuY3Rpb24gb21pdChvYmplY3QsIGtleXNUb09taXQpIHtcbiAgaWYgKGtleXNUb09taXQgPT09IHZvaWQgMCkge1xuICAgIGtleXNUb09taXQgPSBbXTtcbiAgfVxuXG4gIHZhciBjbG9uZSA9IE9iamVjdC5hc3NpZ24oe30sIG9iamVjdCk7XG5cbiAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2Uoa2V5c1RvT21pdCksIF9zdGVwMjsgIShfc3RlcDIgPSBfaXRlcmF0b3IyKCkpLmRvbmU7KSB7XG4gICAgdmFyIGtleSA9IF9zdGVwMi52YWx1ZTtcbiAgICBpZiAoa2V5IGluIGNsb25lKSBkZWxldGUgY2xvbmVba2V5XTtcbiAgfVxuXG4gIHJldHVybiBjbG9uZTtcbn1cblxuZXhwb3J0IHsgRmVhdHVyZXMsIFJlbmRlclN0cmF0ZWd5LCBmb3J3YXJkUmVmV2l0aEFzLCByZW5kZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlbmRlci5lc20uanMubWFwXG4iLCIvKipcbiAqIEZpbGU6IFBsdXNTb2lsZC50c3hcbiAqIFByb2plY3Q6IGNoYXR0aW5nLW1pbmltYWxcbiAqIEZpbGUgQ3JlYXRlZDogMDIgT2N0IDIwMjEgMTE6MzA6NDBcbiAqIEF1dGhvcjogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIExhc3QgTW9kaWZpZWQ6IDAyIE9jdCAyMDIxIDExOjMxOjA5XG4gKiBNb2RpZmllZCBCeTogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAyMSB1bmQzZmluZWQuY29tXG4gKi9cbmV4cG9ydCBkZWZhdWx0IChwcm9wczogYW55KSA9PiAoXG4gIDxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gdmlld0JveD0nMCAwIDIwIDIwJyBmaWxsPSdjdXJyZW50Q29sb3InPlxuICAgIDxwYXRoXG4gICAgICBmaWxsUnVsZT0nZXZlbm9kZCdcbiAgICAgIGQ9J00xMCA1YTEgMSAwIDAxMSAxdjNoM2ExIDEgMCAxMTAgMmgtM3YzYTEgMSAwIDExLTIgMHYtM0g2YTEgMSAwIDExMC0yaDNWNmExIDEgMCAwMTEtMXonXG4gICAgICBjbGlwUnVsZT0nZXZlbm9kZCdcbiAgICAvPlxuICA8L3N2Zz5cbik7XG4iLCIvKipcbiAqIEZpbGU6IE1pbnVzU29pbGQudHN4XG4gKiBQcm9qZWN0OiBjaGF0dGluZy1taW5pbWFsXG4gKiBGaWxlIENyZWF0ZWQ6IDAyIE9jdCAyMDIxIDExOjMxOjM3XG4gKiBBdXRob3I6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBMYXN0IE1vZGlmaWVkOiAwMiBPY3QgMjAyMSAxMTozMTo1N1xuICogTW9kaWZpZWQgQnk6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgdW5kM2ZpbmVkLmNvbVxuICovXG5leHBvcnQgZGVmYXVsdCAocHJvcHM6IGFueSkgPT4gKFxuICA8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9IHZpZXdCb3g9JzAgMCAyMCAyMCcgZmlsbD0nY3VycmVudENvbG9yJz5cbiAgICA8cGF0aCBmaWxsUnVsZT0nZXZlbm9kZCcgZD0nTTUgMTBhMSAxIDAgMDExLTFoOGExIDEgMCAxMTAgMkg2YTEgMSAwIDAxLTEtMXonIGNsaXBSdWxlPSdldmVub2RkJyAvPlxuICA8L3N2Zz5cbik7XG4iLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UobywgYWxsb3dBcnJheUxpa2UpIHtcbiAgdmFyIGl0O1xuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgaWYgKGl0KSBvID0gaXQ7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHtcbiAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IG9baSsrXVxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG4gIH1cblxuICBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpO1xuICByZXR1cm4gaXQubmV4dC5iaW5kKGl0KTtcbn1cblxuZXhwb3J0IHsgX2FycmF5TGlrZVRvQXJyYXkgYXMgYXJyYXlMaWtlVG9BcnJheSwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSBhcyBjcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UsIF9leHRlbmRzIGFzIGV4dGVuZHMsIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGFzIG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UsIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBhcyB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9X3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy5qcy5tYXBcbiIsImZ1bmN0aW9uIG1hdGNoKHZhbHVlLCBsb29rdXApIHtcbiAgaWYgKHZhbHVlIGluIGxvb2t1cCkge1xuICAgIHZhciByZXR1cm5WYWx1ZSA9IGxvb2t1cFt2YWx1ZV07XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZW9mIHJldHVyblZhbHVlID09PSAnZnVuY3Rpb24nID8gcmV0dXJuVmFsdWUuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJldHVyblZhbHVlO1xuICB9XG5cbiAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiVHJpZWQgdG8gaGFuZGxlIFxcXCJcIiArIHZhbHVlICsgXCJcXFwiIGJ1dCB0aGVyZSBpcyBubyBoYW5kbGVyIGRlZmluZWQuIE9ubHkgZGVmaW5lZCBoYW5kbGVycyBhcmU6IFwiICsgT2JqZWN0LmtleXMobG9va3VwKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBcIlxcXCJcIiArIGtleSArIFwiXFxcIlwiO1xuICB9KS5qb2luKCcsICcpICsgXCIuXCIpO1xuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGVycm9yLCBtYXRjaCk7XG4gIHRocm93IGVycm9yO1xufVxuXG5leHBvcnQgeyBtYXRjaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0Y2guZXNtLmpzLm1hcFxuIiwiLy8gVE9ETzogVGhpcyBtdXN0IGFscmVhZHkgZXhpc3Qgc29tZXdoZXJlLCByaWdodD8g8J+klFxuLy8gUmVmOiBodHRwczovL3d3dy53My5vcmcvVFIvdWlldmVudHMta2V5LyNuYW1lZC1rZXktYXR0cmlidXRlLXZhbHVlc1xudmFyIEtleXM7XG5cbihmdW5jdGlvbiAoS2V5cykge1xuICBLZXlzW1wiU3BhY2VcIl0gPSBcIiBcIjtcbiAgS2V5c1tcIkVudGVyXCJdID0gXCJFbnRlclwiO1xuICBLZXlzW1wiRXNjYXBlXCJdID0gXCJFc2NhcGVcIjtcbiAgS2V5c1tcIkJhY2tzcGFjZVwiXSA9IFwiQmFja3NwYWNlXCI7XG4gIEtleXNbXCJBcnJvd0xlZnRcIl0gPSBcIkFycm93TGVmdFwiO1xuICBLZXlzW1wiQXJyb3dVcFwiXSA9IFwiQXJyb3dVcFwiO1xuICBLZXlzW1wiQXJyb3dSaWdodFwiXSA9IFwiQXJyb3dSaWdodFwiO1xuICBLZXlzW1wiQXJyb3dEb3duXCJdID0gXCJBcnJvd0Rvd25cIjtcbiAgS2V5c1tcIkhvbWVcIl0gPSBcIkhvbWVcIjtcbiAgS2V5c1tcIkVuZFwiXSA9IFwiRW5kXCI7XG4gIEtleXNbXCJQYWdlVXBcIl0gPSBcIlBhZ2VVcFwiO1xuICBLZXlzW1wiUGFnZURvd25cIl0gPSBcIlBhZ2VEb3duXCI7XG4gIEtleXNbXCJUYWJcIl0gPSBcIlRhYlwiO1xufSkoS2V5cyB8fCAoS2V5cyA9IHt9KSk7XG5cbmV4cG9ydCB7IEtleXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtleWJvYXJkLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG52YXIgdXNlSXNvTW9ycGhpY0VmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0O1xuXG5leHBvcnQgeyB1c2VJc29Nb3JwaGljRWZmZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtaXNvLW1vcnBoaWMtZWZmZWN0LmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbnZhciBzdGF0ZSA9IHtcbiAgc2VydmVySGFuZG9mZkNvbXBsZXRlOiBmYWxzZVxufTtcbmZ1bmN0aW9uIHVzZVNlcnZlckhhbmRvZmZDb21wbGV0ZSgpIHtcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHN0YXRlLnNlcnZlckhhbmRvZmZDb21wbGV0ZSksXG4gICAgICBzZXJ2ZXJIYW5kb2ZmQ29tcGxldGUgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRTZXJ2ZXJIYW5kb2ZmQ29tcGxldGUgPSBfdXNlU3RhdGVbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc2VydmVySGFuZG9mZkNvbXBsZXRlID09PSB0cnVlKSByZXR1cm47XG4gICAgc2V0U2VydmVySGFuZG9mZkNvbXBsZXRlKHRydWUpO1xuICB9LCBbc2VydmVySGFuZG9mZkNvbXBsZXRlXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHN0YXRlLnNlcnZlckhhbmRvZmZDb21wbGV0ZSA9PT0gZmFsc2UpIHN0YXRlLnNlcnZlckhhbmRvZmZDb21wbGV0ZSA9IHRydWU7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHNlcnZlckhhbmRvZmZDb21wbGV0ZTtcbn1cblxuZXhwb3J0IHsgdXNlU2VydmVySGFuZG9mZkNvbXBsZXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2Utc2VydmVyLWhhbmRvZmYtY29tcGxldGUuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlIGFzIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UgfSBmcm9tICcuLi9fdmlydHVhbC9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLmpzJztcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gdXNlU3luY1JlZnMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZWZzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHJlZnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgY2FjaGUgPSB1c2VSZWYocmVmcyk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgY2FjaGUuY3VycmVudCA9IHJlZnM7XG4gIH0sIFtyZWZzXSk7XG4gIHJldHVybiB1c2VDYWxsYmFjayhmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKGNhY2hlLmN1cnJlbnQpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvcigpKS5kb25lOykge1xuICAgICAgdmFyIHJlZiA9IF9zdGVwLnZhbHVlO1xuICAgICAgaWYgKHJlZiA9PSBudWxsKSBjb250aW51ZTtcbiAgICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSByZWYodmFsdWUpO2Vsc2UgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICB9XG4gIH0sIFtjYWNoZV0pO1xufVxuXG5leHBvcnQgeyB1c2VTeW5jUmVmcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlLXN5bmMtcmVmcy5lc20uanMubWFwXG4iLCIvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvNzcxMVxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMDYxMlxuLy8gU2VlOiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3JtLWNvbnRyb2wtaW5mcmFzdHJ1Y3R1cmUuaHRtbCNjb25jZXB0LWZlLWRpc2FibGVkICgyLilcbmZ1bmN0aW9uIGlzRGlzYWJsZWRSZWFjdElzc3VlNzcxMShlbGVtZW50KSB7XG4gIHZhciBfcmVmLCBfcGFyZW50O1xuXG4gIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIHZhciBsZWdlbmQgPSBudWxsO1xuXG4gIHdoaWxlIChwYXJlbnQgJiYgIShwYXJlbnQgaW5zdGFuY2VvZiBIVE1MRmllbGRTZXRFbGVtZW50KSkge1xuICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBIVE1MTGVnZW5kRWxlbWVudCkgbGVnZW5kID0gcGFyZW50O1xuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xuICB9XG5cbiAgdmFyIGlzUGFyZW50RGlzYWJsZWQgPSAoX3JlZiA9ICgoX3BhcmVudCA9IHBhcmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9wYXJlbnQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpKSA9PT0gJycpICE9IG51bGwgPyBfcmVmIDogZmFsc2U7XG4gIGlmIChpc1BhcmVudERpc2FibGVkICYmIGlzRmlyc3RMZWdlbmQobGVnZW5kKSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gaXNQYXJlbnREaXNhYmxlZDtcbn1cblxuZnVuY3Rpb24gaXNGaXJzdExlZ2VuZChlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudCkgcmV0dXJuIGZhbHNlO1xuICB2YXIgcHJldmlvdXMgPSBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cbiAgd2hpbGUgKHByZXZpb3VzICE9PSBudWxsKSB7XG4gICAgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgSFRNTExlZ2VuZEVsZW1lbnQpIHJldHVybiBmYWxzZTtcbiAgICBwcmV2aW91cyA9IHByZXZpb3VzLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IHsgaXNEaXNhYmxlZFJlYWN0SXNzdWU3NzExIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWdzLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSXNvTW9ycGhpY0VmZmVjdCB9IGZyb20gJy4vdXNlLWlzby1tb3JwaGljLWVmZmVjdC5lc20uanMnO1xuaW1wb3J0IHsgdXNlU2VydmVySGFuZG9mZkNvbXBsZXRlIH0gZnJvbSAnLi91c2Utc2VydmVyLWhhbmRvZmYtY29tcGxldGUuZXNtLmpzJztcblxuLy8gZGlkbid0IHRha2UgY2FyZSBvZiB0aGUgU3VzcGVuc2UgY2FzZS4gVG8gZml4IHRoaXMgd2UgdXNlZCB0aGUgYXBwcm9hY2ggdGhlIEByZWFjaC11aS9hdXRvLWlkXG4vLyB1c2VzLlxuLy9cbi8vIENyZWRpdHM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjaC9yZWFjaC11aS9ibG9iL2RldmVsb3AvcGFja2FnZXMvYXV0by1pZC9zcmMvaW5kZXgudHN4XG5cbnZhciBpZCA9IDA7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWQoKSB7XG4gIHJldHVybiArK2lkO1xufVxuXG5mdW5jdGlvbiB1c2VJZCgpIHtcbiAgdmFyIHJlYWR5ID0gdXNlU2VydmVySGFuZG9mZkNvbXBsZXRlKCk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHJlYWR5ID8gZ2VuZXJhdGVJZCA6IG51bGwpLFxuICAgICAgaWQgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRJZCA9IF91c2VTdGF0ZVsxXTtcblxuICB1c2VJc29Nb3JwaGljRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaWQgPT09IG51bGwpIHNldElkKGdlbmVyYXRlSWQoKSk7XG4gIH0sIFtpZF0pO1xuICByZXR1cm4gaWQgIT0gbnVsbCA/ICcnICsgaWQgOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCB7IHVzZUlkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtaWQuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIHVzZVdpbmRvd0V2ZW50KHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gIHZhciBsaXN0ZW5lclJlZiA9IHVzZVJlZihsaXN0ZW5lcik7XG4gIGxpc3RlbmVyUmVmLmN1cnJlbnQgPSBsaXN0ZW5lcjtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50KSB7XG4gICAgICBsaXN0ZW5lclJlZi5jdXJyZW50LmNhbGwod2luZG93LCBldmVudCk7XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICB9O1xuICB9LCBbdHlwZSwgb3B0aW9uc10pO1xufVxuXG5leHBvcnQgeyB1c2VXaW5kb3dFdmVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlLXdpbmRvdy1ldmVudC5lc20uanMubWFwXG4iLCJpbXBvcnQgeyB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gdXNlSXNNb3VudGVkKCkge1xuICB2YXIgbW91bnRlZCA9IHVzZVJlZihmYWxzZSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgbW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgbW91bnRlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW10pO1xuICByZXR1cm4gbW91bnRlZDtcbn1cblxuZXhwb3J0IHsgdXNlSXNNb3VudGVkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtaXMtbW91bnRlZC5lc20uanMubWFwXG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxudmFyIENvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcbkNvbnRleHQuZGlzcGxheU5hbWUgPSAnT3BlbkNsb3NlZENvbnRleHQnO1xudmFyIFN0YXRlO1xuXG4oZnVuY3Rpb24gKFN0YXRlKSB7XG4gIFN0YXRlW1N0YXRlW1wiT3BlblwiXSA9IDBdID0gXCJPcGVuXCI7XG4gIFN0YXRlW1N0YXRlW1wiQ2xvc2VkXCJdID0gMV0gPSBcIkNsb3NlZFwiO1xufSkoU3RhdGUgfHwgKFN0YXRlID0ge30pKTtcblxuZnVuY3Rpb24gdXNlT3BlbkNsb3NlZCgpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoQ29udGV4dCk7XG59XG5mdW5jdGlvbiBPcGVuQ2xvc2VkUHJvdmlkZXIoX3JlZikge1xuICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHZhbHVlXG4gIH0sIGNoaWxkcmVuKTtcbn1cblxuZXhwb3J0IHsgT3BlbkNsb3NlZFByb3ZpZGVyLCBTdGF0ZSwgdXNlT3BlbkNsb3NlZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3Blbi1jbG9zZWQuZXNtLmpzLm1hcFxuIiwiZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoeCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgb2JqZWN0OiAnICsgeCk7XG59XG5cbnZhciBGb2N1cztcblxuKGZ1bmN0aW9uIChGb2N1cykge1xuICAvKiogRm9jdXMgdGhlIGZpcnN0IG5vbi1kaXNhYmxlZCBpdGVtLiAqL1xuICBGb2N1c1tGb2N1c1tcIkZpcnN0XCJdID0gMF0gPSBcIkZpcnN0XCI7XG4gIC8qKiBGb2N1cyB0aGUgcHJldmlvdXMgbm9uLWRpc2FibGVkIGl0ZW0uICovXG5cbiAgRm9jdXNbRm9jdXNbXCJQcmV2aW91c1wiXSA9IDFdID0gXCJQcmV2aW91c1wiO1xuICAvKiogRm9jdXMgdGhlIG5leHQgbm9uLWRpc2FibGVkIGl0ZW0uICovXG5cbiAgRm9jdXNbRm9jdXNbXCJOZXh0XCJdID0gMl0gPSBcIk5leHRcIjtcbiAgLyoqIEZvY3VzIHRoZSBsYXN0IG5vbi1kaXNhYmxlZCBpdGVtLiAqL1xuXG4gIEZvY3VzW0ZvY3VzW1wiTGFzdFwiXSA9IDNdID0gXCJMYXN0XCI7XG4gIC8qKiBGb2N1cyBhIHNwZWNpZmljIGl0ZW0gYmFzZWQgb24gdGhlIGBpZGAgb2YgdGhlIGl0ZW0uICovXG5cbiAgRm9jdXNbRm9jdXNbXCJTcGVjaWZpY1wiXSA9IDRdID0gXCJTcGVjaWZpY1wiO1xuICAvKiogRm9jdXMgbm8gaXRlbXMgYXQgYWxsLiAqL1xuXG4gIEZvY3VzW0ZvY3VzW1wiTm90aGluZ1wiXSA9IDVdID0gXCJOb3RoaW5nXCI7XG59KShGb2N1cyB8fCAoRm9jdXMgPSB7fSkpO1xuXG5mdW5jdGlvbiBjYWxjdWxhdGVBY3RpdmVJbmRleChhY3Rpb24sIHJlc29sdmVycykge1xuICB2YXIgaXRlbXMgPSByZXNvbHZlcnMucmVzb2x2ZUl0ZW1zKCk7XG4gIGlmIChpdGVtcy5sZW5ndGggPD0gMCkgcmV0dXJuIG51bGw7XG4gIHZhciBjdXJyZW50QWN0aXZlSW5kZXggPSByZXNvbHZlcnMucmVzb2x2ZUFjdGl2ZUluZGV4KCk7XG4gIHZhciBhY3RpdmVJbmRleCA9IGN1cnJlbnRBY3RpdmVJbmRleCAhPSBudWxsID8gY3VycmVudEFjdGl2ZUluZGV4IDogLTE7XG5cbiAgdmFyIG5leHRBY3RpdmVJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi5mb2N1cykge1xuICAgICAgY2FzZSBGb2N1cy5GaXJzdDpcbiAgICAgICAgcmV0dXJuIGl0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiAhcmVzb2x2ZXJzLnJlc29sdmVEaXNhYmxlZChpdGVtKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgRm9jdXMuUHJldmlvdXM6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgaWR4ID0gaXRlbXMuc2xpY2UoKS5yZXZlcnNlKCkuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtLCBpZHgsIGFsbCkge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUluZGV4ICE9PSAtMSAmJiBhbGwubGVuZ3RoIC0gaWR4IC0gMSA+PSBhY3RpdmVJbmRleCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuICFyZXNvbHZlcnMucmVzb2x2ZURpc2FibGVkKGl0ZW0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChpZHggPT09IC0xKSByZXR1cm4gaWR4O1xuICAgICAgICAgIHJldHVybiBpdGVtcy5sZW5ndGggLSAxIC0gaWR4O1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgRm9jdXMuTmV4dDpcbiAgICAgICAgcmV0dXJuIGl0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSwgaWR4KSB7XG4gICAgICAgICAgaWYgKGlkeCA8PSBhY3RpdmVJbmRleCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIHJldHVybiAhcmVzb2x2ZXJzLnJlc29sdmVEaXNhYmxlZChpdGVtKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgRm9jdXMuTGFzdDpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfaWR4ID0gaXRlbXMuc2xpY2UoKS5yZXZlcnNlKCkuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gIXJlc29sdmVycy5yZXNvbHZlRGlzYWJsZWQoaXRlbSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoX2lkeCA9PT0gLTEpIHJldHVybiBfaWR4O1xuICAgICAgICAgIHJldHVybiBpdGVtcy5sZW5ndGggLSAxIC0gX2lkeDtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIEZvY3VzLlNwZWNpZmljOlxuICAgICAgICByZXR1cm4gaXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmVycy5yZXNvbHZlSWQoaXRlbSkgPT09IGFjdGlvbi5pZDtcbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgRm9jdXMuTm90aGluZzpcbiAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFzc2VydE5ldmVyKGFjdGlvbik7XG4gICAgfVxuICB9KCk7XG5cbiAgcmV0dXJuIG5leHRBY3RpdmVJbmRleCA9PT0gLTEgPyBjdXJyZW50QWN0aXZlSW5kZXggOiBuZXh0QWN0aXZlSW5kZXg7XG59XG5cbmV4cG9ydCB7IEZvY3VzLCBjYWxjdWxhdGVBY3RpdmVJbmRleCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsY3VsYXRlLWFjdGl2ZS1pbmRleC5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbmRzIGFzIF9leHRlbmRzLCBvYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGFzIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIH0gZnJvbSAnLi4vLi4vX3ZpcnR1YWwvX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy5qcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlUmVkdWNlciwgY3JlYXRlUmVmLCB1c2VNZW1vLCBjcmVhdGVDb250ZXh0LCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNvbnRleHQsIEZyYWdtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWF0Y2ggfSBmcm9tICcuLi8uLi91dGlscy9tYXRjaC5lc20uanMnO1xuaW1wb3J0IHsgcmVuZGVyLCBmb3J3YXJkUmVmV2l0aEFzLCBGZWF0dXJlcyB9IGZyb20gJy4uLy4uL3V0aWxzL3JlbmRlci5lc20uanMnO1xuaW1wb3J0IHsgdXNlU3luY1JlZnMgfSBmcm9tICcuLi8uLi9ob29rcy91c2Utc3luYy1yZWZzLmVzbS5qcyc7XG5pbXBvcnQgeyBLZXlzIH0gZnJvbSAnLi4va2V5Ym9hcmQuZXNtLmpzJztcbmltcG9ydCB7IGlzRGlzYWJsZWRSZWFjdElzc3VlNzcxMSB9IGZyb20gJy4uLy4uL3V0aWxzL2J1Z3MuZXNtLmpzJztcbmltcG9ydCB7IHVzZUlzb01vcnBoaWNFZmZlY3QgfSBmcm9tICcuLi8uLi9ob29rcy91c2UtaXNvLW1vcnBoaWMtZWZmZWN0LmVzbS5qcyc7XG5pbXBvcnQgeyB1c2VJZCB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZS1pZC5lc20uanMnO1xuaW1wb3J0IHsgaXNGb2N1c2FibGVFbGVtZW50LCBGb2N1c2FibGVNb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvZm9jdXMtbWFuYWdlbWVudC5lc20uanMnO1xuaW1wb3J0IHsgdXNlV2luZG93RXZlbnQgfSBmcm9tICcuLi8uLi9ob29rcy91c2Utd2luZG93LWV2ZW50LmVzbS5qcyc7XG5pbXBvcnQgeyBPcGVuQ2xvc2VkUHJvdmlkZXIsIFN0YXRlLCB1c2VPcGVuQ2xvc2VkIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwvb3Blbi1jbG9zZWQuZXNtLmpzJztcbmltcG9ydCB7IHVzZVJlc29sdmVCdXR0b25UeXBlIH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlLXJlc29sdmUtYnV0dG9uLXR5cGUuZXNtLmpzJztcbmltcG9ydCB7IGRpc3Bvc2FibGVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvZGlzcG9zYWJsZXMuZXNtLmpzJztcbmltcG9ydCB7IHVzZURpc3Bvc2FibGVzIH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlLWRpc3Bvc2FibGVzLmVzbS5qcyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVBY3RpdmVJbmRleCwgRm9jdXMgfSBmcm9tICcuLi8uLi91dGlscy9jYWxjdWxhdGUtYWN0aXZlLWluZGV4LmVzbS5qcyc7XG5pbXBvcnQgeyB1c2VUcmVlV2Fsa2VyIH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlLXRyZWUtd2Fsa2VyLmVzbS5qcyc7XG5cbnZhciBfcmVkdWNlcnM7XG52YXIgTWVudVN0YXRlcztcblxuKGZ1bmN0aW9uIChNZW51U3RhdGVzKSB7XG4gIE1lbnVTdGF0ZXNbTWVudVN0YXRlc1tcIk9wZW5cIl0gPSAwXSA9IFwiT3BlblwiO1xuICBNZW51U3RhdGVzW01lbnVTdGF0ZXNbXCJDbG9zZWRcIl0gPSAxXSA9IFwiQ2xvc2VkXCI7XG59KShNZW51U3RhdGVzIHx8IChNZW51U3RhdGVzID0ge30pKTtcblxudmFyIEFjdGlvblR5cGVzO1xuXG4oZnVuY3Rpb24gKEFjdGlvblR5cGVzKSB7XG4gIEFjdGlvblR5cGVzW0FjdGlvblR5cGVzW1wiT3Blbk1lbnVcIl0gPSAwXSA9IFwiT3Blbk1lbnVcIjtcbiAgQWN0aW9uVHlwZXNbQWN0aW9uVHlwZXNbXCJDbG9zZU1lbnVcIl0gPSAxXSA9IFwiQ2xvc2VNZW51XCI7XG4gIEFjdGlvblR5cGVzW0FjdGlvblR5cGVzW1wiR29Ub0l0ZW1cIl0gPSAyXSA9IFwiR29Ub0l0ZW1cIjtcbiAgQWN0aW9uVHlwZXNbQWN0aW9uVHlwZXNbXCJTZWFyY2hcIl0gPSAzXSA9IFwiU2VhcmNoXCI7XG4gIEFjdGlvblR5cGVzW0FjdGlvblR5cGVzW1wiQ2xlYXJTZWFyY2hcIl0gPSA0XSA9IFwiQ2xlYXJTZWFyY2hcIjtcbiAgQWN0aW9uVHlwZXNbQWN0aW9uVHlwZXNbXCJSZWdpc3Rlckl0ZW1cIl0gPSA1XSA9IFwiUmVnaXN0ZXJJdGVtXCI7XG4gIEFjdGlvblR5cGVzW0FjdGlvblR5cGVzW1wiVW5yZWdpc3Rlckl0ZW1cIl0gPSA2XSA9IFwiVW5yZWdpc3Rlckl0ZW1cIjtcbn0pKEFjdGlvblR5cGVzIHx8IChBY3Rpb25UeXBlcyA9IHt9KSk7XG5cbnZhciByZWR1Y2VycyA9IChfcmVkdWNlcnMgPSB7fSwgX3JlZHVjZXJzW0FjdGlvblR5cGVzLkNsb3NlTWVudV0gPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgaWYgKHN0YXRlLm1lbnVTdGF0ZSA9PT0gTWVudVN0YXRlcy5DbG9zZWQpIHJldHVybiBzdGF0ZTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgIGFjdGl2ZUl0ZW1JbmRleDogbnVsbCxcbiAgICBtZW51U3RhdGU6IE1lbnVTdGF0ZXMuQ2xvc2VkXG4gIH0pO1xufSwgX3JlZHVjZXJzW0FjdGlvblR5cGVzLk9wZW5NZW51XSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICBpZiAoc3RhdGUubWVudVN0YXRlID09PSBNZW51U3RhdGVzLk9wZW4pIHJldHVybiBzdGF0ZTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgIG1lbnVTdGF0ZTogTWVudVN0YXRlcy5PcGVuXG4gIH0pO1xufSwgX3JlZHVjZXJzW0FjdGlvblR5cGVzLkdvVG9JdGVtXSA9IGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gIHZhciBhY3RpdmVJdGVtSW5kZXggPSBjYWxjdWxhdGVBY3RpdmVJbmRleChhY3Rpb24sIHtcbiAgICByZXNvbHZlSXRlbXM6IGZ1bmN0aW9uIHJlc29sdmVJdGVtcygpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5pdGVtcztcbiAgICB9LFxuICAgIHJlc29sdmVBY3RpdmVJbmRleDogZnVuY3Rpb24gcmVzb2x2ZUFjdGl2ZUluZGV4KCkge1xuICAgICAgcmV0dXJuIHN0YXRlLmFjdGl2ZUl0ZW1JbmRleDtcbiAgICB9LFxuICAgIHJlc29sdmVJZDogZnVuY3Rpb24gcmVzb2x2ZUlkKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLmlkO1xuICAgIH0sXG4gICAgcmVzb2x2ZURpc2FibGVkOiBmdW5jdGlvbiByZXNvbHZlRGlzYWJsZWQoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uZGF0YVJlZi5jdXJyZW50LmRpc2FibGVkO1xuICAgIH1cbiAgfSk7XG4gIGlmIChzdGF0ZS5zZWFyY2hRdWVyeSA9PT0gJycgJiYgc3RhdGUuYWN0aXZlSXRlbUluZGV4ID09PSBhY3RpdmVJdGVtSW5kZXgpIHJldHVybiBzdGF0ZTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgIHNlYXJjaFF1ZXJ5OiAnJyxcbiAgICBhY3RpdmVJdGVtSW5kZXg6IGFjdGl2ZUl0ZW1JbmRleFxuICB9KTtcbn0sIF9yZWR1Y2Vyc1tBY3Rpb25UeXBlcy5TZWFyY2hdID0gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgdmFyIHNlYXJjaFF1ZXJ5ID0gc3RhdGUuc2VhcmNoUXVlcnkgKyBhY3Rpb24udmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgdmFyIG1hdGNoID0gc3RhdGUuaXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdmFyIF9pdGVtJGRhdGFSZWYkY3VycmVudDtcblxuICAgIHJldHVybiAoKF9pdGVtJGRhdGFSZWYkY3VycmVudCA9IGl0ZW0uZGF0YVJlZi5jdXJyZW50LnRleHRWYWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pdGVtJGRhdGFSZWYkY3VycmVudC5zdGFydHNXaXRoKHNlYXJjaFF1ZXJ5KSkgJiYgIWl0ZW0uZGF0YVJlZi5jdXJyZW50LmRpc2FibGVkO1xuICB9KTtcbiAgaWYgKG1hdGNoID09PSAtMSB8fCBtYXRjaCA9PT0gc3RhdGUuYWN0aXZlSXRlbUluZGV4KSByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgc2VhcmNoUXVlcnk6IHNlYXJjaFF1ZXJ5XG4gIH0pO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgc2VhcmNoUXVlcnk6IHNlYXJjaFF1ZXJ5LFxuICAgIGFjdGl2ZUl0ZW1JbmRleDogbWF0Y2hcbiAgfSk7XG59LCBfcmVkdWNlcnNbQWN0aW9uVHlwZXMuQ2xlYXJTZWFyY2hdID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5zZWFyY2hRdWVyeSA9PT0gJycpIHJldHVybiBzdGF0ZTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgIHNlYXJjaFF1ZXJ5OiAnJ1xuICB9KTtcbn0sIF9yZWR1Y2Vyc1tBY3Rpb25UeXBlcy5SZWdpc3Rlckl0ZW1dID0gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgIGl0ZW1zOiBbXS5jb25jYXQoc3RhdGUuaXRlbXMsIFt7XG4gICAgICBpZDogYWN0aW9uLmlkLFxuICAgICAgZGF0YVJlZjogYWN0aW9uLmRhdGFSZWZcbiAgICB9XSlcbiAgfSk7XG59LCBfcmVkdWNlcnNbQWN0aW9uVHlwZXMuVW5yZWdpc3Rlckl0ZW1dID0gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgdmFyIG5leHRJdGVtcyA9IHN0YXRlLml0ZW1zLnNsaWNlKCk7XG4gIHZhciBjdXJyZW50QWN0aXZlSXRlbSA9IHN0YXRlLmFjdGl2ZUl0ZW1JbmRleCAhPT0gbnVsbCA/IG5leHRJdGVtc1tzdGF0ZS5hY3RpdmVJdGVtSW5kZXhdIDogbnVsbDtcbiAgdmFyIGlkeCA9IG5leHRJdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gYS5pZCA9PT0gYWN0aW9uLmlkO1xuICB9KTtcbiAgaWYgKGlkeCAhPT0gLTEpIG5leHRJdGVtcy5zcGxpY2UoaWR4LCAxKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgIGl0ZW1zOiBuZXh0SXRlbXMsXG4gICAgYWN0aXZlSXRlbUluZGV4OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaWR4ID09PSBzdGF0ZS5hY3RpdmVJdGVtSW5kZXgpIHJldHVybiBudWxsO1xuICAgICAgaWYgKGN1cnJlbnRBY3RpdmVJdGVtID09PSBudWxsKSByZXR1cm4gbnVsbDsgLy8gSWYgd2UgcmVtb3ZlZCB0aGUgaXRlbSBiZWZvcmUgdGhlIGFjdHVhbCBhY3RpdmUgaW5kZXgsIHRoZW4gaXQgd291bGQgYmUgb3V0IG9mIHN5bmMuIFRvXG4gICAgICAvLyBmaXggdGhpcywgd2Ugd2lsbCBmaW5kIHRoZSBjb3JyZWN0IChuZXcpIGluZGV4IHBvc2l0aW9uLlxuXG4gICAgICByZXR1cm4gbmV4dEl0ZW1zLmluZGV4T2YoY3VycmVudEFjdGl2ZUl0ZW0pO1xuICAgIH0oKVxuICB9KTtcbn0sIF9yZWR1Y2Vycyk7XG52YXIgTWVudUNvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcbk1lbnVDb250ZXh0LmRpc3BsYXlOYW1lID0gJ01lbnVDb250ZXh0JztcblxuZnVuY3Rpb24gdXNlTWVudUNvbnRleHQoY29tcG9uZW50KSB7XG4gIHZhciBjb250ZXh0ID0gdXNlQ29udGV4dChNZW51Q29udGV4dCk7XG5cbiAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKFwiPFwiICsgY29tcG9uZW50ICsgXCIgLz4gaXMgbWlzc2luZyBhIHBhcmVudCA8XCIgKyBNZW51Lm5hbWUgKyBcIiAvPiBjb21wb25lbnQuXCIpO1xuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyLCB1c2VNZW51Q29udGV4dCk7XG4gICAgdGhyb3cgZXJyO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIHN0YXRlUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XG4gIHJldHVybiBtYXRjaChhY3Rpb24udHlwZSwgcmVkdWNlcnMsIHN0YXRlLCBhY3Rpb24pO1xufSAvLyAtLS1cblxuXG52YXIgREVGQVVMVF9NRU5VX1RBRyA9IEZyYWdtZW50O1xuZnVuY3Rpb24gTWVudShwcm9wcykge1xuICB2YXIgX21hdGNoO1xuXG4gIHZhciByZWR1Y2VyQmFnID0gdXNlUmVkdWNlcihzdGF0ZVJlZHVjZXIsIHtcbiAgICBtZW51U3RhdGU6IE1lbnVTdGF0ZXMuQ2xvc2VkLFxuICAgIGJ1dHRvblJlZjogY3JlYXRlUmVmKCksXG4gICAgaXRlbXNSZWY6IGNyZWF0ZVJlZigpLFxuICAgIGl0ZW1zOiBbXSxcbiAgICBzZWFyY2hRdWVyeTogJycsXG4gICAgYWN0aXZlSXRlbUluZGV4OiBudWxsXG4gIH0pO1xuICB2YXIgX3JlZHVjZXJCYWckID0gcmVkdWNlckJhZ1swXSxcbiAgICAgIG1lbnVTdGF0ZSA9IF9yZWR1Y2VyQmFnJC5tZW51U3RhdGUsXG4gICAgICBpdGVtc1JlZiA9IF9yZWR1Y2VyQmFnJC5pdGVtc1JlZixcbiAgICAgIGJ1dHRvblJlZiA9IF9yZWR1Y2VyQmFnJC5idXR0b25SZWYsXG4gICAgICBkaXNwYXRjaCA9IHJlZHVjZXJCYWdbMV07IC8vIEhhbmRsZSBvdXRzaWRlIGNsaWNrXG5cbiAgdXNlV2luZG93RXZlbnQoJ21vdXNlZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBfYnV0dG9uUmVmJGN1cnJlbnQsIF9pdGVtc1JlZiRjdXJyZW50O1xuXG4gICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICBpZiAobWVudVN0YXRlICE9PSBNZW51U3RhdGVzLk9wZW4pIHJldHVybjtcbiAgICBpZiAoKF9idXR0b25SZWYkY3VycmVudCA9IGJ1dHRvblJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2J1dHRvblJlZiRjdXJyZW50LmNvbnRhaW5zKHRhcmdldCkpIHJldHVybjtcbiAgICBpZiAoKF9pdGVtc1JlZiRjdXJyZW50ID0gaXRlbXNSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pdGVtc1JlZiRjdXJyZW50LmNvbnRhaW5zKHRhcmdldCkpIHJldHVybjtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5DbG9zZU1lbnVcbiAgICB9KTtcblxuICAgIGlmICghaXNGb2N1c2FibGVFbGVtZW50KHRhcmdldCwgRm9jdXNhYmxlTW9kZS5Mb29zZSkpIHtcbiAgICAgIHZhciBfYnV0dG9uUmVmJGN1cnJlbnQyO1xuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgKF9idXR0b25SZWYkY3VycmVudDIgPSBidXR0b25SZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9idXR0b25SZWYkY3VycmVudDIuZm9jdXMoKTtcbiAgICB9XG4gIH0pO1xuICB2YXIgc2xvdCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcGVuOiBtZW51U3RhdGUgPT09IE1lbnVTdGF0ZXMuT3BlblxuICAgIH07XG4gIH0sIFttZW51U3RhdGVdKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogcmVkdWNlckJhZ1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KE9wZW5DbG9zZWRQcm92aWRlciwge1xuICAgIHZhbHVlOiBtYXRjaChtZW51U3RhdGUsIChfbWF0Y2ggPSB7fSwgX21hdGNoW01lbnVTdGF0ZXMuT3Blbl0gPSBTdGF0ZS5PcGVuLCBfbWF0Y2hbTWVudVN0YXRlcy5DbG9zZWRdID0gU3RhdGUuQ2xvc2VkLCBfbWF0Y2gpKVxuICB9LCByZW5kZXIoe1xuICAgIHByb3BzOiBwcm9wcyxcbiAgICBzbG90OiBzbG90LFxuICAgIGRlZmF1bHRUYWc6IERFRkFVTFRfTUVOVV9UQUcsXG4gICAgbmFtZTogJ01lbnUnXG4gIH0pKSk7XG59IC8vIC0tLVxuXG52YXIgREVGQVVMVF9CVVRUT05fVEFHID0gJ2J1dHRvbic7XG52YXIgQnV0dG9uID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWZXaXRoQXMoZnVuY3Rpb24gQnV0dG9uKHByb3BzLCByZWYpIHtcbiAgdmFyIF9zdGF0ZSRpdGVtc1JlZiRjdXJyZTtcblxuICB2YXIgX3VzZU1lbnVDb250ZXh0ID0gdXNlTWVudUNvbnRleHQoW01lbnUubmFtZSwgQnV0dG9uLm5hbWVdLmpvaW4oJy4nKSksXG4gICAgICBzdGF0ZSA9IF91c2VNZW51Q29udGV4dFswXSxcbiAgICAgIGRpc3BhdGNoID0gX3VzZU1lbnVDb250ZXh0WzFdO1xuXG4gIHZhciBidXR0b25SZWYgPSB1c2VTeW5jUmVmcyhzdGF0ZS5idXR0b25SZWYsIHJlZik7XG4gIHZhciBpZCA9IFwiaGVhZGxlc3N1aS1tZW51LWJ1dHRvbi1cIiArIHVzZUlkKCk7XG4gIHZhciBkID0gdXNlRGlzcG9zYWJsZXMoKTtcbiAgdmFyIGhhbmRsZUtleURvd24gPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgLy8gUmVmOiBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtcHJhY3RpY2VzLTEuMi8ja2V5Ym9hcmQtaW50ZXJhY3Rpb24tMTNcbiAgICAgIGNhc2UgS2V5cy5TcGFjZTpcbiAgICAgIGNhc2UgS2V5cy5FbnRlcjpcbiAgICAgIGNhc2UgS2V5cy5BcnJvd0Rvd246XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuT3Blbk1lbnVcbiAgICAgICAgfSk7XG4gICAgICAgIGQubmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuR29Ub0l0ZW0sXG4gICAgICAgICAgICBmb2N1czogRm9jdXMuRmlyc3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIEtleXMuQXJyb3dVcDpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5PcGVuTWVudVxuICAgICAgICB9KTtcbiAgICAgICAgZC5uZXh0RnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5Hb1RvSXRlbSxcbiAgICAgICAgICAgIGZvY3VzOiBGb2N1cy5MYXN0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0sIFtkaXNwYXRjaCwgZF0pO1xuICB2YXIgaGFuZGxlS2V5VXAgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgY2FzZSBLZXlzLlNwYWNlOlxuICAgICAgICAvLyBSZXF1aXJlZCBmb3IgZmlyZWZveCwgZXZlbnQucHJldmVudERlZmF1bHQoKSBpbiBoYW5kbGVLZXlEb3duIGZvclxuICAgICAgICAvLyB0aGUgU3BhY2Uga2V5IGRvZXNuJ3QgY2FuY2VsIHRoZSBoYW5kbGVLZXlVcCwgd2hpY2ggaW4gdHVyblxuICAgICAgICAvLyB0cmlnZ2VycyBhICpjbGljayouXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSwgW10pO1xuICB2YXIgaGFuZGxlQ2xpY2sgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoaXNEaXNhYmxlZFJlYWN0SXNzdWU3NzExKGV2ZW50LmN1cnJlbnRUYXJnZXQpKSByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHJldHVybjtcblxuICAgIGlmIChzdGF0ZS5tZW51U3RhdGUgPT09IE1lbnVTdGF0ZXMuT3Blbikge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5DbG9zZU1lbnVcbiAgICAgIH0pO1xuICAgICAgZC5uZXh0RnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3N0YXRlJGJ1dHRvblJlZiRjdXJyO1xuXG4gICAgICAgIHJldHVybiAoX3N0YXRlJGJ1dHRvblJlZiRjdXJyID0gc3RhdGUuYnV0dG9uUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkYnV0dG9uUmVmJGN1cnIuZm9jdXMoe1xuICAgICAgICAgIHByZXZlbnRTY3JvbGw6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5PcGVuTWVudVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbZGlzcGF0Y2gsIGQsIHN0YXRlLCBwcm9wcy5kaXNhYmxlZF0pO1xuICB2YXIgc2xvdCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcGVuOiBzdGF0ZS5tZW51U3RhdGUgPT09IE1lbnVTdGF0ZXMuT3BlblxuICAgIH07XG4gIH0sIFtzdGF0ZV0pO1xuICB2YXIgcGFzc3Rocm91Z2hQcm9wcyA9IHByb3BzO1xuICB2YXIgcHJvcHNXZUNvbnRyb2wgPSB7XG4gICAgcmVmOiBidXR0b25SZWYsXG4gICAgaWQ6IGlkLFxuICAgIHR5cGU6IHVzZVJlc29sdmVCdXR0b25UeXBlKHByb3BzLCBzdGF0ZS5idXR0b25SZWYpLFxuICAgICdhcmlhLWhhc3BvcHVwJzogdHJ1ZSxcbiAgICAnYXJpYS1jb250cm9scyc6IChfc3RhdGUkaXRlbXNSZWYkY3VycmUgPSBzdGF0ZS5pdGVtc1JlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3N0YXRlJGl0ZW1zUmVmJGN1cnJlLmlkLFxuICAgICdhcmlhLWV4cGFuZGVkJzogcHJvcHMuZGlzYWJsZWQgPyB1bmRlZmluZWQgOiBzdGF0ZS5tZW51U3RhdGUgPT09IE1lbnVTdGF0ZXMuT3BlbixcbiAgICBvbktleURvd246IGhhbmRsZUtleURvd24sXG4gICAgb25LZXlVcDogaGFuZGxlS2V5VXAsXG4gICAgb25DbGljazogaGFuZGxlQ2xpY2tcbiAgfTtcbiAgcmV0dXJuIHJlbmRlcih7XG4gICAgcHJvcHM6IF9leHRlbmRzKHt9LCBwYXNzdGhyb3VnaFByb3BzLCBwcm9wc1dlQ29udHJvbCksXG4gICAgc2xvdDogc2xvdCxcbiAgICBkZWZhdWx0VGFnOiBERUZBVUxUX0JVVFRPTl9UQUcsXG4gICAgbmFtZTogJ01lbnUuQnV0dG9uJ1xuICB9KTtcbn0pOyAvLyAtLS1cblxudmFyIERFRkFVTFRfSVRFTVNfVEFHID0gJ2Rpdic7XG52YXIgSXRlbXNSZW5kZXJGZWF0dXJlcyA9IEZlYXR1cmVzLlJlbmRlclN0cmF0ZWd5IHwgRmVhdHVyZXMuU3RhdGljO1xudmFyIEl0ZW1zID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWZXaXRoQXMoZnVuY3Rpb24gSXRlbXMocHJvcHMsIHJlZikge1xuICB2YXIgX3N0YXRlJGl0ZW1zJHN0YXRlJGFjLCBfc3RhdGUkYnV0dG9uUmVmJGN1cnI0O1xuXG4gIHZhciBfdXNlTWVudUNvbnRleHQyID0gdXNlTWVudUNvbnRleHQoW01lbnUubmFtZSwgSXRlbXMubmFtZV0uam9pbignLicpKSxcbiAgICAgIHN0YXRlID0gX3VzZU1lbnVDb250ZXh0MlswXSxcbiAgICAgIGRpc3BhdGNoID0gX3VzZU1lbnVDb250ZXh0MlsxXTtcblxuICB2YXIgaXRlbXNSZWYgPSB1c2VTeW5jUmVmcyhzdGF0ZS5pdGVtc1JlZiwgcmVmKTtcbiAgdmFyIGlkID0gXCJoZWFkbGVzc3VpLW1lbnUtaXRlbXMtXCIgKyB1c2VJZCgpO1xuICB2YXIgc2VhcmNoRGlzcG9zYWJsZXMgPSB1c2VEaXNwb3NhYmxlcygpO1xuICB2YXIgdXNlc09wZW5DbG9zZWRTdGF0ZSA9IHVzZU9wZW5DbG9zZWQoKTtcblxuICB2YXIgdmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodXNlc09wZW5DbG9zZWRTdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHVzZXNPcGVuQ2xvc2VkU3RhdGUgPT09IFN0YXRlLk9wZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlLm1lbnVTdGF0ZSA9PT0gTWVudVN0YXRlcy5PcGVuO1xuICB9KCk7XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY29udGFpbmVyID0gc3RhdGUuaXRlbXNSZWYuY3VycmVudDtcbiAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuO1xuICAgIGlmIChzdGF0ZS5tZW51U3RhdGUgIT09IE1lbnVTdGF0ZXMuT3BlbikgcmV0dXJuO1xuICAgIGlmIChjb250YWluZXIgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHJldHVybjtcbiAgICBjb250YWluZXIuZm9jdXMoe1xuICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICAgIH0pO1xuICB9LCBbc3RhdGUubWVudVN0YXRlLCBzdGF0ZS5pdGVtc1JlZl0pO1xuICB1c2VUcmVlV2Fsa2VyKHtcbiAgICBjb250YWluZXI6IHN0YXRlLml0ZW1zUmVmLmN1cnJlbnQsXG4gICAgZW5hYmxlZDogc3RhdGUubWVudVN0YXRlID09PSBNZW51U3RhdGVzLk9wZW4sXG4gICAgYWNjZXB0OiBmdW5jdGlvbiBhY2NlcHQobm9kZSkge1xuICAgICAgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKCdyb2xlJykgPT09ICdtZW51aXRlbScpIHJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1Q7XG4gICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoJ3JvbGUnKSkgcmV0dXJuIE5vZGVGaWx0ZXIuRklMVEVSX1NLSVA7XG4gICAgICByZXR1cm4gTm9kZUZpbHRlci5GSUxURVJfQUNDRVBUO1xuICAgIH0sXG4gICAgd2FsazogZnVuY3Rpb24gd2Fsayhub2RlKSB7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZSgncm9sZScsICdub25lJyk7XG4gICAgfVxuICB9KTtcbiAgdmFyIGhhbmRsZUtleURvd24gPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBzZWFyY2hEaXNwb3NhYmxlcy5kaXNwb3NlKCk7XG5cbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgLy8gUmVmOiBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtcHJhY3RpY2VzLTEuMi8ja2V5Ym9hcmQtaW50ZXJhY3Rpb24tMTJcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgRmFsbHRocm91Z2ggaXMgZXhwZWN0ZWQgaGVyZVxuICAgICAgY2FzZSBLZXlzLlNwYWNlOlxuICAgICAgICBpZiAoc3RhdGUuc2VhcmNoUXVlcnkgIT09ICcnKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuU2VhcmNoLFxuICAgICAgICAgICAgdmFsdWU6IGV2ZW50LmtleVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIC8vIFdoZW4gaW4gdHlwZSBhaGVhZCBtb2RlLCBmYWxsdGhyb3VnaFxuXG4gICAgICBjYXNlIEtleXMuRW50ZXI6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuQ2xvc2VNZW51XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzdGF0ZS5hY3RpdmVJdGVtSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICB2YXIgX2RvY3VtZW50JGdldEVsZW1lbnRCO1xuXG4gICAgICAgICAgdmFyIF9pZCA9IHN0YXRlLml0ZW1zW3N0YXRlLmFjdGl2ZUl0ZW1JbmRleF0uaWQ7XG4gICAgICAgICAgKF9kb2N1bWVudCRnZXRFbGVtZW50QiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF9pZCkpID09IG51bGwgPyB2b2lkIDAgOiBfZG9jdW1lbnQkZ2V0RWxlbWVudEIuY2xpY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3Bvc2FibGVzKCkubmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgX3N0YXRlJGJ1dHRvblJlZiRjdXJyMjtcblxuICAgICAgICAgIHJldHVybiAoX3N0YXRlJGJ1dHRvblJlZiRjdXJyMiA9IHN0YXRlLmJ1dHRvblJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3N0YXRlJGJ1dHRvblJlZiRjdXJyMi5mb2N1cyh7XG4gICAgICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBLZXlzLkFycm93RG93bjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuR29Ub0l0ZW0sXG4gICAgICAgICAgZm9jdXM6IEZvY3VzLk5leHRcbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgS2V5cy5BcnJvd1VwOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5Hb1RvSXRlbSxcbiAgICAgICAgICBmb2N1czogRm9jdXMuUHJldmlvdXNcbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgS2V5cy5Ib21lOlxuICAgICAgY2FzZSBLZXlzLlBhZ2VVcDpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuR29Ub0l0ZW0sXG4gICAgICAgICAgZm9jdXM6IEZvY3VzLkZpcnN0XG4gICAgICAgIH0pO1xuXG4gICAgICBjYXNlIEtleXMuRW5kOlxuICAgICAgY2FzZSBLZXlzLlBhZ2VEb3duOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5Hb1RvSXRlbSxcbiAgICAgICAgICBmb2N1czogRm9jdXMuTGFzdFxuICAgICAgICB9KTtcblxuICAgICAgY2FzZSBLZXlzLkVzY2FwZTpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5DbG9zZU1lbnVcbiAgICAgICAgfSk7XG4gICAgICAgIGRpc3Bvc2FibGVzKCkubmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgX3N0YXRlJGJ1dHRvblJlZiRjdXJyMztcblxuICAgICAgICAgIHJldHVybiAoX3N0YXRlJGJ1dHRvblJlZiRjdXJyMyA9IHN0YXRlLmJ1dHRvblJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3N0YXRlJGJ1dHRvblJlZiRjdXJyMy5mb2N1cyh7XG4gICAgICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBLZXlzLlRhYjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoZXZlbnQua2V5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlNlYXJjaCxcbiAgICAgICAgICAgIHZhbHVlOiBldmVudC5rZXlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZWFyY2hEaXNwb3NhYmxlcy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkNsZWFyU2VhcmNoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCAzNTApO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9LCBbZGlzcGF0Y2gsIHNlYXJjaERpc3Bvc2FibGVzLCBzdGF0ZV0pO1xuICB2YXIgaGFuZGxlS2V5VXAgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgY2FzZSBLZXlzLlNwYWNlOlxuICAgICAgICAvLyBSZXF1aXJlZCBmb3IgZmlyZWZveCwgZXZlbnQucHJldmVudERlZmF1bHQoKSBpbiBoYW5kbGVLZXlEb3duIGZvclxuICAgICAgICAvLyB0aGUgU3BhY2Uga2V5IGRvZXNuJ3QgY2FuY2VsIHRoZSBoYW5kbGVLZXlVcCwgd2hpY2ggaW4gdHVyblxuICAgICAgICAvLyB0cmlnZ2VycyBhICpjbGljayouXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSwgW10pO1xuICB2YXIgc2xvdCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcGVuOiBzdGF0ZS5tZW51U3RhdGUgPT09IE1lbnVTdGF0ZXMuT3BlblxuICAgIH07XG4gIH0sIFtzdGF0ZV0pO1xuICB2YXIgcHJvcHNXZUNvbnRyb2wgPSB7XG4gICAgJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCc6IHN0YXRlLmFjdGl2ZUl0ZW1JbmRleCA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IChfc3RhdGUkaXRlbXMkc3RhdGUkYWMgPSBzdGF0ZS5pdGVtc1tzdGF0ZS5hY3RpdmVJdGVtSW5kZXhdKSA9PSBudWxsID8gdm9pZCAwIDogX3N0YXRlJGl0ZW1zJHN0YXRlJGFjLmlkLFxuICAgICdhcmlhLWxhYmVsbGVkYnknOiAoX3N0YXRlJGJ1dHRvblJlZiRjdXJyNCA9IHN0YXRlLmJ1dHRvblJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3N0YXRlJGJ1dHRvblJlZiRjdXJyNC5pZCxcbiAgICBpZDogaWQsXG4gICAgb25LZXlEb3duOiBoYW5kbGVLZXlEb3duLFxuICAgIG9uS2V5VXA6IGhhbmRsZUtleVVwLFxuICAgIHJvbGU6ICdtZW51JyxcbiAgICB0YWJJbmRleDogMCxcbiAgICByZWY6IGl0ZW1zUmVmXG4gIH07XG4gIHZhciBwYXNzdGhyb3VnaFByb3BzID0gcHJvcHM7XG4gIHJldHVybiByZW5kZXIoe1xuICAgIHByb3BzOiBfZXh0ZW5kcyh7fSwgcGFzc3Rocm91Z2hQcm9wcywgcHJvcHNXZUNvbnRyb2wpLFxuICAgIHNsb3Q6IHNsb3QsXG4gICAgZGVmYXVsdFRhZzogREVGQVVMVF9JVEVNU19UQUcsXG4gICAgZmVhdHVyZXM6IEl0ZW1zUmVuZGVyRmVhdHVyZXMsXG4gICAgdmlzaWJsZTogdmlzaWJsZSxcbiAgICBuYW1lOiAnTWVudS5JdGVtcydcbiAgfSk7XG59KTsgLy8gLS0tXG5cbnZhciBERUZBVUxUX0lURU1fVEFHID0gRnJhZ21lbnQ7XG5cbmZ1bmN0aW9uIEl0ZW0ocHJvcHMpIHtcbiAgdmFyIF9wcm9wcyRkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkLFxuICAgICAgZGlzYWJsZWQgPSBfcHJvcHMkZGlzYWJsZWQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJGRpc2FibGVkLFxuICAgICAgb25DbGljayA9IHByb3BzLm9uQ2xpY2ssXG4gICAgICBwYXNzdGhyb3VnaFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIFtcImRpc2FibGVkXCIsIFwib25DbGlja1wiXSk7XG5cbiAgdmFyIF91c2VNZW51Q29udGV4dDMgPSB1c2VNZW51Q29udGV4dChbTWVudS5uYW1lLCBJdGVtLm5hbWVdLmpvaW4oJy4nKSksXG4gICAgICBzdGF0ZSA9IF91c2VNZW51Q29udGV4dDNbMF0sXG4gICAgICBkaXNwYXRjaCA9IF91c2VNZW51Q29udGV4dDNbMV07XG5cbiAgdmFyIGlkID0gXCJoZWFkbGVzc3VpLW1lbnUtaXRlbS1cIiArIHVzZUlkKCk7XG4gIHZhciBhY3RpdmUgPSBzdGF0ZS5hY3RpdmVJdGVtSW5kZXggIT09IG51bGwgPyBzdGF0ZS5pdGVtc1tzdGF0ZS5hY3RpdmVJdGVtSW5kZXhdLmlkID09PSBpZCA6IGZhbHNlO1xuICB1c2VJc29Nb3JwaGljRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc3RhdGUubWVudVN0YXRlICE9PSBNZW51U3RhdGVzLk9wZW4pIHJldHVybjtcbiAgICBpZiAoIWFjdGl2ZSkgcmV0dXJuO1xuICAgIHZhciBkID0gZGlzcG9zYWJsZXMoKTtcbiAgICBkLm5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RvY3VtZW50JGdldEVsZW1lbnRCMjtcblxuICAgICAgcmV0dXJuIChfZG9jdW1lbnQkZ2V0RWxlbWVudEIyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKSA9PSBudWxsID8gdm9pZCAwIDogX2RvY3VtZW50JGdldEVsZW1lbnRCMi5zY3JvbGxJbnRvVmlldyA9PSBudWxsID8gdm9pZCAwIDogX2RvY3VtZW50JGdldEVsZW1lbnRCMi5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgIGJsb2NrOiAnbmVhcmVzdCdcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBkLmRpc3Bvc2U7XG4gIH0sIFtpZCwgYWN0aXZlLCBzdGF0ZS5tZW51U3RhdGVdKTtcbiAgdmFyIGJhZyA9IHVzZVJlZih7XG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkXG4gIH0pO1xuICB1c2VJc29Nb3JwaGljRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBiYWcuY3VycmVudC5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICB9LCBbYmFnLCBkaXNhYmxlZF0pO1xuICB1c2VJc29Nb3JwaGljRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2RvY3VtZW50JGdldEVsZW1lbnRCMywgX2RvY3VtZW50JGdldEVsZW1lbnRCNDtcblxuICAgIGJhZy5jdXJyZW50LnRleHRWYWx1ZSA9IChfZG9jdW1lbnQkZ2V0RWxlbWVudEIzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKSA9PSBudWxsID8gdm9pZCAwIDogKF9kb2N1bWVudCRnZXRFbGVtZW50QjQgPSBfZG9jdW1lbnQkZ2V0RWxlbWVudEIzLnRleHRDb250ZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2RvY3VtZW50JGdldEVsZW1lbnRCNC50b0xvd2VyQ2FzZSgpO1xuICB9LCBbYmFnLCBpZF0pO1xuICB1c2VJc29Nb3JwaGljRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5SZWdpc3Rlckl0ZW0sXG4gICAgICBpZDogaWQsXG4gICAgICBkYXRhUmVmOiBiYWdcbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuVW5yZWdpc3Rlckl0ZW0sXG4gICAgICAgIGlkOiBpZFxuICAgICAgfSk7XG4gICAgfTtcbiAgfSwgW2JhZywgaWRdKTtcbiAgdmFyIGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGRpc2FibGVkKSByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5DbG9zZU1lbnVcbiAgICB9KTtcbiAgICBkaXNwb3NhYmxlcygpLm5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3N0YXRlJGJ1dHRvblJlZiRjdXJyNTtcblxuICAgICAgcmV0dXJuIChfc3RhdGUkYnV0dG9uUmVmJGN1cnI1ID0gc3RhdGUuYnV0dG9uUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkYnV0dG9uUmVmJGN1cnI1LmZvY3VzKHtcbiAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKG9uQ2xpY2spIHJldHVybiBvbkNsaWNrKGV2ZW50KTtcbiAgfSwgW2Rpc3BhdGNoLCBzdGF0ZS5idXR0b25SZWYsIGRpc2FibGVkLCBvbkNsaWNrXSk7XG4gIHZhciBoYW5kbGVGb2N1cyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZGlzYWJsZWQpIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5Hb1RvSXRlbSxcbiAgICAgIGZvY3VzOiBGb2N1cy5Ob3RoaW5nXG4gICAgfSk7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuR29Ub0l0ZW0sXG4gICAgICBmb2N1czogRm9jdXMuU3BlY2lmaWMsXG4gICAgICBpZDogaWRcbiAgICB9KTtcbiAgfSwgW2Rpc2FibGVkLCBpZCwgZGlzcGF0Y2hdKTtcbiAgdmFyIGhhbmRsZU1vdmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRpc2FibGVkKSByZXR1cm47XG4gICAgaWYgKGFjdGl2ZSkgcmV0dXJuO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkdvVG9JdGVtLFxuICAgICAgZm9jdXM6IEZvY3VzLlNwZWNpZmljLFxuICAgICAgaWQ6IGlkXG4gICAgfSk7XG4gIH0sIFtkaXNhYmxlZCwgYWN0aXZlLCBpZCwgZGlzcGF0Y2hdKTtcbiAgdmFyIGhhbmRsZUxlYXZlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGlmIChkaXNhYmxlZCkgcmV0dXJuO1xuICAgIGlmICghYWN0aXZlKSByZXR1cm47XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuR29Ub0l0ZW0sXG4gICAgICBmb2N1czogRm9jdXMuTm90aGluZ1xuICAgIH0pO1xuICB9LCBbZGlzYWJsZWQsIGFjdGl2ZSwgZGlzcGF0Y2hdKTtcbiAgdmFyIHNsb3QgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlOiBhY3RpdmUsXG4gICAgICBkaXNhYmxlZDogZGlzYWJsZWRcbiAgICB9O1xuICB9LCBbYWN0aXZlLCBkaXNhYmxlZF0pO1xuICB2YXIgcHJvcHNXZUNvbnRyb2wgPSB7XG4gICAgaWQ6IGlkLFxuICAgIHJvbGU6ICdtZW51aXRlbScsXG4gICAgdGFiSW5kZXg6IGRpc2FibGVkID09PSB0cnVlID8gdW5kZWZpbmVkIDogLTEsXG4gICAgJ2FyaWEtZGlzYWJsZWQnOiBkaXNhYmxlZCA9PT0gdHJ1ZSA/IHRydWUgOiB1bmRlZmluZWQsXG4gICAgZGlzYWJsZWQ6IHVuZGVmaW5lZCxcbiAgICBvbkNsaWNrOiBoYW5kbGVDbGljayxcbiAgICBvbkZvY3VzOiBoYW5kbGVGb2N1cyxcbiAgICBvblBvaW50ZXJNb3ZlOiBoYW5kbGVNb3ZlLFxuICAgIG9uTW91c2VNb3ZlOiBoYW5kbGVNb3ZlLFxuICAgIG9uUG9pbnRlckxlYXZlOiBoYW5kbGVMZWF2ZSxcbiAgICBvbk1vdXNlTGVhdmU6IGhhbmRsZUxlYXZlXG4gIH07XG4gIHJldHVybiByZW5kZXIoe1xuICAgIHByb3BzOiBfZXh0ZW5kcyh7fSwgcGFzc3Rocm91Z2hQcm9wcywgcHJvcHNXZUNvbnRyb2wpLFxuICAgIHNsb3Q6IHNsb3QsXG4gICAgZGVmYXVsdFRhZzogREVGQVVMVF9JVEVNX1RBRyxcbiAgICBuYW1lOiAnTWVudS5JdGVtJ1xuICB9KTtcbn0gLy8gLS0tXG5cblxuTWVudS5CdXR0b24gPSBCdXR0b247XG5NZW51Lkl0ZW1zID0gSXRlbXM7XG5NZW51Lkl0ZW0gPSBJdGVtO1xuXG5leHBvcnQgeyBNZW51IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZW51LmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSXNvTW9ycGhpY0VmZmVjdCB9IGZyb20gJy4vdXNlLWlzby1tb3JwaGljLWVmZmVjdC5lc20uanMnO1xuXG5mdW5jdGlvbiByZXNvbHZlVHlwZShwcm9wcykge1xuICB2YXIgX3Byb3BzJGFzO1xuXG4gIGlmIChwcm9wcy50eXBlKSByZXR1cm4gcHJvcHMudHlwZTtcbiAgdmFyIHRhZyA9IChfcHJvcHMkYXMgPSBwcm9wcy5hcykgIT0gbnVsbCA/IF9wcm9wcyRhcyA6ICdidXR0b24nO1xuICBpZiAodHlwZW9mIHRhZyA9PT0gJ3N0cmluZycgJiYgdGFnLnRvTG93ZXJDYXNlKCkgPT09ICdidXR0b24nKSByZXR1cm4gJ2J1dHRvbic7XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIHVzZVJlc29sdmVCdXR0b25UeXBlKHByb3BzLCByZWYpIHtcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVzb2x2ZVR5cGUocHJvcHMpO1xuICB9KSxcbiAgICAgIHR5cGUgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRUeXBlID0gX3VzZVN0YXRlWzFdO1xuXG4gIHVzZUlzb01vcnBoaWNFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHNldFR5cGUocmVzb2x2ZVR5cGUocHJvcHMpKTtcbiAgfSwgW3Byb3BzLnR5cGUsIHByb3BzLmFzXSk7XG4gIHVzZUlzb01vcnBoaWNFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlKSByZXR1cm47XG4gICAgaWYgKCFyZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgaWYgKHJlZi5jdXJyZW50IGluc3RhbmNlb2YgSFRNTEJ1dHRvbkVsZW1lbnQgJiYgIXJlZi5jdXJyZW50Lmhhc0F0dHJpYnV0ZSgndHlwZScpKSB7XG4gICAgICBzZXRUeXBlKCdidXR0b24nKTtcbiAgICB9XG4gIH0sIFt0eXBlLCByZWZdKTtcbiAgcmV0dXJuIHR5cGU7XG59XG5cbmV4cG9ydCB7IHVzZVJlc29sdmVCdXR0b25UeXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtcmVzb2x2ZS1idXR0b24tdHlwZS5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBjcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UgYXMgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSB9IGZyb20gJy4uL192aXJ0dWFsL19yb2xsdXBQbHVnaW5CYWJlbEhlbHBlcnMuanMnO1xuXG5mdW5jdGlvbiBkaXNwb3NhYmxlcygpIHtcbiAgdmFyIGRpc3Bvc2FibGVzID0gW107XG4gIHZhciBhcGkgPSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lOiBmdW5jdGlvbiAoX3JlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCkge1xuICAgICAgICByZXR1cm4gX3JlcXVlc3RBbmltYXRpb25GcmFtZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lLnRvU3RyaW5nKCk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICAgIH0oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICBhcGkuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgICB9KTtcbiAgICB9KSxcbiAgICBuZXh0RnJhbWU6IGZ1bmN0aW9uIG5leHRGcmFtZSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBhcGkucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXBpLnJlcXVlc3RBbmltYXRpb25GcmFtZS5hcHBseShhcGksIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiAoX3NldFRpbWVvdXQpIHtcbiAgICAgIGZ1bmN0aW9uIHNldFRpbWVvdXQoKSB7XG4gICAgICAgIHJldHVybiBfc2V0VGltZW91dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICBzZXRUaW1lb3V0LnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3NldFRpbWVvdXQudG9TdHJpbmcoKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0O1xuICAgIH0oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRpbWVyID0gc2V0VGltZW91dC5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICBhcGkuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB9KTtcbiAgICB9KSxcbiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChjYikge1xuICAgICAgZGlzcG9zYWJsZXMucHVzaChjYik7XG4gICAgfSxcbiAgICBkaXNwb3NlOiBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShkaXNwb3NhYmxlcy5zcGxpY2UoMCkpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvcigpKS5kb25lOykge1xuICAgICAgICB2YXIgZGlzcG9zZSA9IF9zdGVwLnZhbHVlO1xuICAgICAgICBkaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gYXBpO1xufVxuXG5leHBvcnQgeyBkaXNwb3NhYmxlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcG9zYWJsZXMuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGRpc3Bvc2FibGVzIH0gZnJvbSAnLi4vdXRpbHMvZGlzcG9zYWJsZXMuZXNtLmpzJztcblxuZnVuY3Rpb24gdXNlRGlzcG9zYWJsZXMoKSB7XG4gIC8vIFVzaW5nIHVzZVN0YXRlIGluc3RlYWQgb2YgdXNlUmVmIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGUgaW5pdGlhbGl6ZXIgZnVuY3Rpb24uXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShkaXNwb3NhYmxlcyksXG4gICAgICBkID0gX3VzZVN0YXRlWzBdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBkLmRpc3Bvc2UoKTtcbiAgICB9O1xuICB9LCBbZF0pO1xuICByZXR1cm4gZDtcbn1cblxuZXhwb3J0IHsgdXNlRGlzcG9zYWJsZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS1kaXNwb3NhYmxlcy5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBkaXNwb3NhYmxlcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2Rpc3Bvc2FibGVzLmVzbS5qcyc7XG5pbXBvcnQgeyBvbmNlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvb25jZS5lc20uanMnO1xuXG5mdW5jdGlvbiBhZGRDbGFzc2VzKG5vZGUpIHtcbiAgdmFyIF9ub2RlJGNsYXNzTGlzdDtcblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgY2xhc3Nlc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBub2RlICYmIGNsYXNzZXMubGVuZ3RoID4gMCAmJiAoX25vZGUkY2xhc3NMaXN0ID0gbm9kZS5jbGFzc0xpc3QpLmFkZC5hcHBseShfbm9kZSRjbGFzc0xpc3QsIGNsYXNzZXMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzc2VzKG5vZGUpIHtcbiAgdmFyIF9ub2RlJGNsYXNzTGlzdDI7XG5cbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBjbGFzc2VzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICB9XG5cbiAgbm9kZSAmJiBjbGFzc2VzLmxlbmd0aCA+IDAgJiYgKF9ub2RlJGNsYXNzTGlzdDIgPSBub2RlLmNsYXNzTGlzdCkucmVtb3ZlLmFwcGx5KF9ub2RlJGNsYXNzTGlzdDIsIGNsYXNzZXMpO1xufVxuXG52YXIgUmVhc29uO1xuXG4oZnVuY3Rpb24gKFJlYXNvbikge1xuICBSZWFzb25bXCJGaW5pc2hlZFwiXSA9IFwiZmluaXNoZWRcIjtcbiAgUmVhc29uW1wiQ2FuY2VsbGVkXCJdID0gXCJjYW5jZWxsZWRcIjtcbn0pKFJlYXNvbiB8fCAoUmVhc29uID0ge30pKTtcblxuZnVuY3Rpb24gd2FpdEZvclRyYW5zaXRpb24obm9kZSwgZG9uZSkge1xuICB2YXIgZCA9IGRpc3Bvc2FibGVzKCk7XG4gIGlmICghbm9kZSkgcmV0dXJuIGQuZGlzcG9zZTsgLy8gU2FmYXJpIHJldHVybnMgYSBjb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiB2YWx1ZXMsIHNvIGxldCdzIHNvcnQgdGhlbSBhbmQgdGFrZSB0aGUgaGlnaGVzdCB2YWx1ZS5cblxuICB2YXIgX2dldENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpLFxuICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gX2dldENvbXB1dGVkU3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgICAgdHJhbnNpdGlvbkRlbGF5ID0gX2dldENvbXB1dGVkU3R5bGUudHJhbnNpdGlvbkRlbGF5O1xuXG4gIHZhciBfbWFwID0gW3RyYW5zaXRpb25EdXJhdGlvbiwgdHJhbnNpdGlvbkRlbGF5XS5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIF92YWx1ZSRzcGxpdCRmaWx0ZXIkbSA9IHZhbHVlLnNwbGl0KCcsJykgLy8gUmVtb3ZlIGZhbHN5IHdlIGNhbid0IHdvcmsgd2l0aFxuICAgIC5maWx0ZXIoQm9vbGVhbikgLy8gVmFsdWVzIGFyZSByZXR1cm5lZCBhcyBgMC4zc2Agb3IgYDc1bXNgXG4gICAgLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIHYuaW5jbHVkZXMoJ21zJykgPyBwYXJzZUZsb2F0KHYpIDogcGFyc2VGbG9hdCh2KSAqIDEwMDA7XG4gICAgfSkuc29ydChmdW5jdGlvbiAoYSwgeikge1xuICAgICAgcmV0dXJuIHogLSBhO1xuICAgIH0pLFxuICAgICAgICBfdmFsdWUkc3BsaXQkZmlsdGVyJG0yID0gX3ZhbHVlJHNwbGl0JGZpbHRlciRtWzBdLFxuICAgICAgICByZXNvbHZlZFZhbHVlID0gX3ZhbHVlJHNwbGl0JGZpbHRlciRtMiA9PT0gdm9pZCAwID8gMCA6IF92YWx1ZSRzcGxpdCRmaWx0ZXIkbTI7XG5cbiAgICByZXR1cm4gcmVzb2x2ZWRWYWx1ZTtcbiAgfSksXG4gICAgICBkdXJhdGlvbk1zID0gX21hcFswXSxcbiAgICAgIGRlbGF5c01zID0gX21hcFsxXTsgLy8gV2FpdGluZyBmb3IgdGhlIHRyYW5zaXRpb24gdG8gZW5kLiBXZSBjb3VsZCB1c2UgdGhlIGB0cmFuc2l0aW9uZW5kYCBldmVudCwgaG93ZXZlciB3aGVuIG5vXG4gIC8vIGFjdHVhbCB0cmFuc2l0aW9uL2R1cmF0aW9uIGlzIGRlZmluZWQgdGhlbiB0aGUgYHRyYW5zaXRpb25lbmRgIGV2ZW50IGlzIG5vdCBmaXJlZC5cbiAgLy9cbiAgLy8gVE9ETzogRG93bnNpZGUgaXMsIHdoZW4geW91IHNsb3cgZG93biB0cmFuc2l0aW9ucyB2aWEgZGV2dG9vbHMgdGhpcyB0aW1lb3V0IGlzIHN0aWxsIHVzaW5nIHRoZVxuICAvLyBmdWxsIDEwMCUgc3BlZWQgaW5zdGVhZCBvZiB0aGUgMjUlIG9yIDEwJS5cblxuXG4gIGlmIChkdXJhdGlvbk1zICE9PSAwKSB7XG4gICAgZC5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGRvbmUoUmVhc29uLkZpbmlzaGVkKTtcbiAgICB9LCBkdXJhdGlvbk1zICsgZGVsYXlzTXMpO1xuICB9IGVsc2Uge1xuICAgIC8vIE5vIHRyYW5zaXRpb24gaXMgaGFwcGVuaW5nLCBzbyB3ZSBzaG91bGQgY2xlYW51cCBhbHJlYWR5LiBPdGhlcndpc2Ugd2UgaGF2ZSB0byB3YWl0IHVudGlsIHdlXG4gICAgLy8gZ2V0IGRpc3Bvc2VkLlxuICAgIGRvbmUoUmVhc29uLkZpbmlzaGVkKTtcbiAgfSAvLyBJZiB3ZSBnZXQgZGlzcG9zZWQgYmVmb3JlIHRoZSB0aW1lb3V0IHJ1bnMgd2Ugc2hvdWxkIGNsZWFudXAgYW55d2F5XG5cblxuICBkLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRvbmUoUmVhc29uLkNhbmNlbGxlZCk7XG4gIH0pO1xuICByZXR1cm4gZC5kaXNwb3NlO1xufVxuXG5mdW5jdGlvbiB0cmFuc2l0aW9uKG5vZGUsIGJhc2UsIGZyb20sIHRvLCBlbnRlcmVkLCBkb25lKSB7XG4gIHZhciBkID0gZGlzcG9zYWJsZXMoKTtcblxuICB2YXIgX2RvbmUgPSBkb25lICE9PSB1bmRlZmluZWQgPyBvbmNlKGRvbmUpIDogZnVuY3Rpb24gKCkge307XG5cbiAgcmVtb3ZlQ2xhc3Nlcy5hcHBseSh2b2lkIDAsIFtub2RlXS5jb25jYXQoZW50ZXJlZCkpO1xuICBhZGRDbGFzc2VzLmFwcGx5KHZvaWQgMCwgW25vZGVdLmNvbmNhdChiYXNlLCBmcm9tKSk7XG4gIGQubmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICByZW1vdmVDbGFzc2VzLmFwcGx5KHZvaWQgMCwgW25vZGVdLmNvbmNhdChmcm9tKSk7XG4gICAgYWRkQ2xhc3Nlcy5hcHBseSh2b2lkIDAsIFtub2RlXS5jb25jYXQodG8pKTtcbiAgICBkLmFkZCh3YWl0Rm9yVHJhbnNpdGlvbihub2RlLCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZW1vdmVDbGFzc2VzLmFwcGx5KHZvaWQgMCwgW25vZGVdLmNvbmNhdCh0bywgYmFzZSkpO1xuICAgICAgYWRkQ2xhc3Nlcy5hcHBseSh2b2lkIDAsIFtub2RlXS5jb25jYXQoZW50ZXJlZCkpO1xuICAgICAgcmV0dXJuIF9kb25lKHJlYXNvbik7XG4gICAgfSkpO1xuICB9KTsgLy8gT25jZSB3ZSBnZXQgZGlzcG9zZWQsIHdlIHNob3VsZCBlbnN1cmUgdGhhdCB3ZSBjbGVhbnVwIGFmdGVyIG91cnNlbHZlcy4gSW4gY2FzZSBvZiBhbiB1bm1vdW50LFxuICAvLyB0aGUgbm9kZSBpdHNlbGYgd2lsbCBiZSBudWxsaWZpZWQgYW5kIHdpbGwgYmUgYSBuby1vcC4gSW4gY2FzZSBvZiBhIGZ1bGwgdHJhbnNpdGlvbiB0aGUgY2xhc3Nlc1xuICAvLyBhcmUgYWxyZWFkeSByZW1vdmVkIHdoaWNoIGlzIGFsc28gYSBuby1vcC4gSG93ZXZlciBpZiB5b3UgZ28gZnJvbSBlbnRlciAtPiBsZWF2ZSBtaWQtdHJhbnNpdGlvblxuICAvLyB0aGVuIHdlIGhhdmUgc29tZSBsZWZ0b3ZlcnMgdGhhdCBzaG91bGQgYmUgY2xlYW5lZC5cblxuICBkLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlbW92ZUNsYXNzZXMuYXBwbHkodm9pZCAwLCBbbm9kZV0uY29uY2F0KGJhc2UsIGZyb20sIHRvLCBlbnRlcmVkKSk7XG4gIH0pOyAvLyBXaGVuIHdlIGdldCBkaXNwb3NlZCBlYXJseSwgdGhhbiB3ZSBzaG91bGQgYWxzbyBjYWxsIHRoZSBkb25lIG1ldGhvZCBidXQgc3dpdGNoIHRoZSByZWFzb24uXG5cbiAgZC5hZGQoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfZG9uZShSZWFzb24uQ2FuY2VsbGVkKTtcbiAgfSk7XG4gIHJldHVybiBkLmRpc3Bvc2U7XG59XG5cbmV4cG9ydCB7IFJlYXNvbiwgdHJhbnNpdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNpdGlvbi5lc20uanMubWFwXG4iLCJpbXBvcnQgeyB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUlzb01vcnBoaWNFZmZlY3QgfSBmcm9tICcuL3VzZS1pc28tbW9ycGhpYy1lZmZlY3QuZXNtLmpzJztcblxuZnVuY3Rpb24gdXNlVHJlZVdhbGtlcihfcmVmKSB7XG4gIHZhciBjb250YWluZXIgPSBfcmVmLmNvbnRhaW5lcixcbiAgICAgIGFjY2VwdCA9IF9yZWYuYWNjZXB0LFxuICAgICAgd2FsayA9IF9yZWYud2FsayxcbiAgICAgIF9yZWYkZW5hYmxlZCA9IF9yZWYuZW5hYmxlZCxcbiAgICAgIGVuYWJsZWQgPSBfcmVmJGVuYWJsZWQgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJGVuYWJsZWQ7XG4gIHZhciBhY2NlcHRSZWYgPSB1c2VSZWYoYWNjZXB0KTtcbiAgdmFyIHdhbGtSZWYgPSB1c2VSZWYod2Fsayk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgYWNjZXB0UmVmLmN1cnJlbnQgPSBhY2NlcHQ7XG4gICAgd2Fsa1JlZi5jdXJyZW50ID0gd2FsaztcbiAgfSwgW2FjY2VwdCwgd2Fsa10pO1xuICB1c2VJc29Nb3JwaGljRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuO1xuICAgIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICAgIHZhciBhY2NlcHQgPSBhY2NlcHRSZWYuY3VycmVudDtcbiAgICB2YXIgd2FsayA9IHdhbGtSZWYuY3VycmVudDtcbiAgICB2YXIgYWNjZXB0Tm9kZSA9IE9iamVjdC5hc3NpZ24oZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBhY2NlcHQobm9kZSk7XG4gICAgfSwge1xuICAgICAgYWNjZXB0Tm9kZTogYWNjZXB0XG4gICAgfSk7XG4gICAgdmFyIHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoY29udGFpbmVyLCBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCwgYWNjZXB0Tm9kZSwgZmFsc2UpO1xuXG4gICAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgICB3YWxrKHdhbGtlci5jdXJyZW50Tm9kZSk7XG4gICAgfVxuICB9LCBbY29udGFpbmVyLCBlbmFibGVkLCBhY2NlcHRSZWYsIHdhbGtSZWZdKTtcbn1cblxuZXhwb3J0IHsgdXNlVHJlZVdhbGtlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlLXRyZWUtd2Fsa2VyLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiB1c2VJc0luaXRpYWxSZW5kZXIoKSB7XG4gIHZhciBpbml0aWFsID0gdXNlUmVmKHRydWUpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGluaXRpYWwuY3VycmVudCA9IGZhbHNlO1xuICB9LCBbXSk7XG4gIHJldHVybiBpbml0aWFsLmN1cnJlbnQ7XG59XG5cbmV4cG9ydCB7IHVzZUlzSW5pdGlhbFJlbmRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlLWlzLWluaXRpYWwtcmVuZGVyLmVzbS5qcy5tYXBcbiIsImZ1bmN0aW9uIG9uY2UoY2IpIHtcbiAgdmFyIHN0YXRlID0ge1xuICAgIGNhbGxlZDogZmFsc2VcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc3RhdGUuY2FsbGVkKSByZXR1cm47XG4gICAgc3RhdGUuY2FsbGVkID0gdHJ1ZTtcbiAgICByZXR1cm4gY2IuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5leHBvcnQgeyBvbmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbmNlLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgYXMgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UsIGV4dGVuZHMgYXMgX2V4dGVuZHMsIGNyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSBhcyBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlIH0gZnJvbSAnLi4vLi4vX3ZpcnR1YWwvX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy5qcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZUVmZmVjdCwgRnJhZ21lbnQsIHVzZUNvbnRleHQsIGNyZWF0ZUNvbnRleHQsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtYXRjaCB9IGZyb20gJy4uLy4uL3V0aWxzL21hdGNoLmVzbS5qcyc7XG5pbXBvcnQgeyByZW5kZXIsIFJlbmRlclN0cmF0ZWd5LCBGZWF0dXJlcyB9IGZyb20gJy4uLy4uL3V0aWxzL3JlbmRlci5lc20uanMnO1xuaW1wb3J0IHsgdXNlSXNvTW9ycGhpY0VmZmVjdCB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZS1pc28tbW9ycGhpYy1lZmZlY3QuZXNtLmpzJztcbmltcG9ydCB7IHVzZVNlcnZlckhhbmRvZmZDb21wbGV0ZSB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZS1zZXJ2ZXItaGFuZG9mZi1jb21wbGV0ZS5lc20uanMnO1xuaW1wb3J0IHsgdXNlSWQgfSBmcm9tICcuLi8uLi9ob29rcy91c2UtaWQuZXNtLmpzJztcbmltcG9ydCB7IHVzZUlzTW91bnRlZCB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZS1pcy1tb3VudGVkLmVzbS5qcyc7XG5pbXBvcnQgeyB1c2VPcGVuQ2xvc2VkLCBTdGF0ZSwgT3BlbkNsb3NlZFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwvb3Blbi1jbG9zZWQuZXNtLmpzJztcbmltcG9ydCB7IHVzZUlzSW5pdGlhbFJlbmRlciB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZS1pcy1pbml0aWFsLXJlbmRlci5lc20uanMnO1xuaW1wb3J0IHsgdHJhbnNpdGlvbiwgUmVhc29uIH0gZnJvbSAnLi91dGlscy90cmFuc2l0aW9uLmVzbS5qcyc7XG5cbmZ1bmN0aW9uIHVzZVNwbGl0Q2xhc3NlcyhjbGFzc2VzKSB7XG4gIGlmIChjbGFzc2VzID09PSB2b2lkIDApIHtcbiAgICBjbGFzc2VzID0gJyc7XG4gIH1cblxuICByZXR1cm4gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNsYXNzZXMuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgcmV0dXJuIGNsYXNzTmFtZS50cmltKCkubGVuZ3RoID4gMTtcbiAgICB9KTtcbiAgfSwgW2NsYXNzZXNdKTtcbn1cblxudmFyIFRyYW5zaXRpb25Db250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQobnVsbCk7XG5UcmFuc2l0aW9uQ29udGV4dC5kaXNwbGF5TmFtZSA9ICdUcmFuc2l0aW9uQ29udGV4dCc7XG52YXIgVHJlZVN0YXRlcztcblxuKGZ1bmN0aW9uIChUcmVlU3RhdGVzKSB7XG4gIFRyZWVTdGF0ZXNbXCJWaXNpYmxlXCJdID0gXCJ2aXNpYmxlXCI7XG4gIFRyZWVTdGF0ZXNbXCJIaWRkZW5cIl0gPSBcImhpZGRlblwiO1xufSkoVHJlZVN0YXRlcyB8fCAoVHJlZVN0YXRlcyA9IHt9KSk7XG5cbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb25Db250ZXh0KCkge1xuICB2YXIgY29udGV4dCA9IHVzZUNvbnRleHQoVHJhbnNpdGlvbkNvbnRleHQpO1xuXG4gIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBIDxUcmFuc2l0aW9uLkNoaWxkIC8+IGlzIHVzZWQgYnV0IGl0IGlzIG1pc3NpbmcgYSBwYXJlbnQgPFRyYW5zaXRpb24gLz4gb3IgPFRyYW5zaXRpb24uUm9vdCAvPi4nKTtcbiAgfVxuXG4gIHJldHVybiBjb250ZXh0O1xufVxuXG5mdW5jdGlvbiB1c2VQYXJlbnROZXN0aW5nKCkge1xuICB2YXIgY29udGV4dCA9IHVzZUNvbnRleHQoTmVzdGluZ0NvbnRleHQpO1xuXG4gIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBIDxUcmFuc2l0aW9uLkNoaWxkIC8+IGlzIHVzZWQgYnV0IGl0IGlzIG1pc3NpbmcgYSBwYXJlbnQgPFRyYW5zaXRpb24gLz4gb3IgPFRyYW5zaXRpb24uUm9vdCAvPi4nKTtcbiAgfVxuXG4gIHJldHVybiBjb250ZXh0O1xufVxuXG52YXIgTmVzdGluZ0NvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcbk5lc3RpbmdDb250ZXh0LmRpc3BsYXlOYW1lID0gJ05lc3RpbmdDb250ZXh0JztcblxuZnVuY3Rpb24gaGFzQ2hpbGRyZW4oYmFnKSB7XG4gIGlmICgnY2hpbGRyZW4nIGluIGJhZykgcmV0dXJuIGhhc0NoaWxkcmVuKGJhZy5jaGlsZHJlbik7XG4gIHJldHVybiBiYWcuY3VycmVudC5maWx0ZXIoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlO1xuICAgIHJldHVybiBzdGF0ZSA9PT0gVHJlZVN0YXRlcy5WaXNpYmxlO1xuICB9KS5sZW5ndGggPiAwO1xufVxuXG5mdW5jdGlvbiB1c2VOZXN0aW5nKGRvbmUpIHtcbiAgdmFyIGRvbmVSZWYgPSB1c2VSZWYoZG9uZSk7XG4gIHZhciB0cmFuc2l0aW9uYWJsZUNoaWxkcmVuID0gdXNlUmVmKFtdKTtcbiAgdmFyIG1vdW50ZWQgPSB1c2VJc01vdW50ZWQoKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBkb25lUmVmLmN1cnJlbnQgPSBkb25lO1xuICB9LCBbZG9uZV0pO1xuICB2YXIgdW5yZWdpc3RlciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChjaGlsZElkLCBzdHJhdGVneSkge1xuICAgIHZhciBfbWF0Y2g7XG5cbiAgICBpZiAoc3RyYXRlZ3kgPT09IHZvaWQgMCkge1xuICAgICAgc3RyYXRlZ3kgPSBSZW5kZXJTdHJhdGVneS5IaWRkZW47XG4gICAgfVxuXG4gICAgdmFyIGlkeCA9IHRyYW5zaXRpb25hYmxlQ2hpbGRyZW4uY3VycmVudC5maW5kSW5kZXgoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICB2YXIgaWQgPSBfcmVmMi5pZDtcbiAgICAgIHJldHVybiBpZCA9PT0gY2hpbGRJZDtcbiAgICB9KTtcbiAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuO1xuICAgIG1hdGNoKHN0cmF0ZWd5LCAoX21hdGNoID0ge30sIF9tYXRjaFtSZW5kZXJTdHJhdGVneS5Vbm1vdW50XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyYW5zaXRpb25hYmxlQ2hpbGRyZW4uY3VycmVudC5zcGxpY2UoaWR4LCAxKTtcbiAgICB9LCBfbWF0Y2hbUmVuZGVyU3RyYXRlZ3kuSGlkZGVuXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyYW5zaXRpb25hYmxlQ2hpbGRyZW4uY3VycmVudFtpZHhdLnN0YXRlID0gVHJlZVN0YXRlcy5IaWRkZW47XG4gICAgfSwgX21hdGNoKSk7XG5cbiAgICBpZiAoIWhhc0NoaWxkcmVuKHRyYW5zaXRpb25hYmxlQ2hpbGRyZW4pICYmIG1vdW50ZWQuY3VycmVudCkge1xuICAgICAgZG9uZVJlZi5jdXJyZW50ID09IG51bGwgPyB2b2lkIDAgOiBkb25lUmVmLmN1cnJlbnQoKTtcbiAgICB9XG4gIH0sIFtkb25lUmVmLCBtb3VudGVkLCB0cmFuc2l0aW9uYWJsZUNoaWxkcmVuXSk7XG4gIHZhciByZWdpc3RlciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChjaGlsZElkKSB7XG4gICAgdmFyIGNoaWxkID0gdHJhbnNpdGlvbmFibGVDaGlsZHJlbi5jdXJyZW50LmZpbmQoZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICB2YXIgaWQgPSBfcmVmMy5pZDtcbiAgICAgIHJldHVybiBpZCA9PT0gY2hpbGRJZDtcbiAgICB9KTtcblxuICAgIGlmICghY2hpbGQpIHtcbiAgICAgIHRyYW5zaXRpb25hYmxlQ2hpbGRyZW4uY3VycmVudC5wdXNoKHtcbiAgICAgICAgaWQ6IGNoaWxkSWQsXG4gICAgICAgIHN0YXRlOiBUcmVlU3RhdGVzLlZpc2libGVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQuc3RhdGUgIT09IFRyZWVTdGF0ZXMuVmlzaWJsZSkge1xuICAgICAgY2hpbGQuc3RhdGUgPSBUcmVlU3RhdGVzLlZpc2libGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1bnJlZ2lzdGVyKGNoaWxkSWQsIFJlbmRlclN0cmF0ZWd5LlVubW91bnQpO1xuICAgIH07XG4gIH0sIFt0cmFuc2l0aW9uYWJsZUNoaWxkcmVuLCB1bnJlZ2lzdGVyXSk7XG4gIHJldHVybiB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2hpbGRyZW46IHRyYW5zaXRpb25hYmxlQ2hpbGRyZW4sXG4gICAgICByZWdpc3RlcjogcmVnaXN0ZXIsXG4gICAgICB1bnJlZ2lzdGVyOiB1bnJlZ2lzdGVyXG4gICAgfTtcbiAgfSwgW3JlZ2lzdGVyLCB1bnJlZ2lzdGVyLCB0cmFuc2l0aW9uYWJsZUNoaWxkcmVuXSk7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgZXZlbnROYW1lcyA9IFsnYmVmb3JlRW50ZXInLCAnYWZ0ZXJFbnRlcicsICdiZWZvcmVMZWF2ZScsICdhZnRlckxlYXZlJ107XG5cbmZ1bmN0aW9uIGVuc3VyZUV2ZW50SG9va3NFeGlzdChldmVudHMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGZvciAodmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UoZXZlbnROYW1lcyksIF9zdGVwOyAhKF9zdGVwID0gX2l0ZXJhdG9yKCkpLmRvbmU7KSB7XG4gICAgdmFyIF9ldmVudHMkbmFtZTtcblxuICAgIHZhciBuYW1lID0gX3N0ZXAudmFsdWU7XG4gICAgcmVzdWx0W25hbWVdID0gKF9ldmVudHMkbmFtZSA9IGV2ZW50c1tuYW1lXSkgIT0gbnVsbCA/IF9ldmVudHMkbmFtZSA6IG5vb3A7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiB1c2VFdmVudHMoZXZlbnRzKSB7XG4gIHZhciBldmVudHNSZWYgPSB1c2VSZWYoZW5zdXJlRXZlbnRIb29rc0V4aXN0KGV2ZW50cykpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGV2ZW50c1JlZi5jdXJyZW50ID0gZW5zdXJlRXZlbnRIb29rc0V4aXN0KGV2ZW50cyk7XG4gIH0sIFtldmVudHNdKTtcbiAgcmV0dXJuIGV2ZW50c1JlZjtcbn0gLy8gLS0tXG5cblxudmFyIERFRkFVTFRfVFJBTlNJVElPTl9DSElMRF9UQUcgPSAnZGl2JztcbnZhciBUcmFuc2l0aW9uQ2hpbGRSZW5kZXJGZWF0dXJlcyA9IEZlYXR1cmVzLlJlbmRlclN0cmF0ZWd5O1xuXG5mdW5jdGlvbiBUcmFuc2l0aW9uQ2hpbGQocHJvcHMpIHtcbiAgdmFyIF9tYXRjaDM7XG5cbiAgdmFyIGJlZm9yZUVudGVyID0gcHJvcHMuYmVmb3JlRW50ZXIsXG4gICAgICBhZnRlckVudGVyID0gcHJvcHMuYWZ0ZXJFbnRlcixcbiAgICAgIGJlZm9yZUxlYXZlID0gcHJvcHMuYmVmb3JlTGVhdmUsXG4gICAgICBhZnRlckxlYXZlID0gcHJvcHMuYWZ0ZXJMZWF2ZSxcbiAgICAgIGVudGVyID0gcHJvcHMuZW50ZXIsXG4gICAgICBlbnRlckZyb20gPSBwcm9wcy5lbnRlckZyb20sXG4gICAgICBlbnRlclRvID0gcHJvcHMuZW50ZXJUbyxcbiAgICAgIGVudGVyZWQgPSBwcm9wcy5lbnRlcmVkLFxuICAgICAgbGVhdmUgPSBwcm9wcy5sZWF2ZSxcbiAgICAgIGxlYXZlRnJvbSA9IHByb3BzLmxlYXZlRnJvbSxcbiAgICAgIGxlYXZlVG8gPSBwcm9wcy5sZWF2ZVRvLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJiZWZvcmVFbnRlclwiLCBcImFmdGVyRW50ZXJcIiwgXCJiZWZvcmVMZWF2ZVwiLCBcImFmdGVyTGVhdmVcIiwgXCJlbnRlclwiLCBcImVudGVyRnJvbVwiLCBcImVudGVyVG9cIiwgXCJlbnRlcmVkXCIsIFwibGVhdmVcIiwgXCJsZWF2ZUZyb21cIiwgXCJsZWF2ZVRvXCJdKTtcblxuICB2YXIgY29udGFpbmVyID0gdXNlUmVmKG51bGwpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShUcmVlU3RhdGVzLlZpc2libGUpLFxuICAgICAgc3RhdGUgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRTdGF0ZSA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgc3RyYXRlZ3kgPSByZXN0LnVubW91bnQgPyBSZW5kZXJTdHJhdGVneS5Vbm1vdW50IDogUmVuZGVyU3RyYXRlZ3kuSGlkZGVuO1xuXG4gIHZhciBfdXNlVHJhbnNpdGlvbkNvbnRleHQgPSB1c2VUcmFuc2l0aW9uQ29udGV4dCgpLFxuICAgICAgc2hvdyA9IF91c2VUcmFuc2l0aW9uQ29udGV4dC5zaG93LFxuICAgICAgYXBwZWFyID0gX3VzZVRyYW5zaXRpb25Db250ZXh0LmFwcGVhcjtcblxuICB2YXIgX3VzZVBhcmVudE5lc3RpbmcgPSB1c2VQYXJlbnROZXN0aW5nKCksXG4gICAgICByZWdpc3RlciA9IF91c2VQYXJlbnROZXN0aW5nLnJlZ2lzdGVyLFxuICAgICAgdW5yZWdpc3RlciA9IF91c2VQYXJlbnROZXN0aW5nLnVucmVnaXN0ZXI7XG5cbiAgdmFyIGluaXRpYWwgPSB1c2VJc0luaXRpYWxSZW5kZXIoKTtcbiAgdmFyIGlkID0gdXNlSWQoKTtcbiAgdmFyIGlzVHJhbnNpdGlvbmluZyA9IHVzZVJlZihmYWxzZSk7XG4gIHZhciBuZXN0aW5nID0gdXNlTmVzdGluZyhmdW5jdGlvbiAoKSB7XG4gICAgLy8gV2hlbiBhbGwgY2hpbGRyZW4gaGF2ZSBiZWVuIHVubW91bnRlZCB3ZSBjYW4gb25seSBoaWRlIG91cnNlbHZlcyBpZiBhbmQgb25seSBpZiB3ZSBhcmUgbm90XG4gICAgLy8gdHJhbnNpdGlvbmluZyBvdXJzZWx2ZXMuIE90aGVyd2lzZSB3ZSB3b3VsZCB1bm1vdW50IGJlZm9yZSB0aGUgdHJhbnNpdGlvbnMgYXJlIGZpbmlzaGVkLlxuICAgIGlmICghaXNUcmFuc2l0aW9uaW5nLmN1cnJlbnQpIHtcbiAgICAgIHNldFN0YXRlKFRyZWVTdGF0ZXMuSGlkZGVuKTtcbiAgICAgIHVucmVnaXN0ZXIoaWQpO1xuICAgICAgZXZlbnRzLmN1cnJlbnQuYWZ0ZXJMZWF2ZSgpO1xuICAgIH1cbiAgfSk7XG4gIHVzZUlzb01vcnBoaWNFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghaWQpIHJldHVybjtcbiAgICByZXR1cm4gcmVnaXN0ZXIoaWQpO1xuICB9LCBbcmVnaXN0ZXIsIGlkXSk7XG4gIHVzZUlzb01vcnBoaWNFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBfbWF0Y2gyO1xuXG4gICAgLy8gSWYgd2UgYXJlIGluIGFub3RoZXIgbW9kZSB0aGFuIHRoZSBIaWRkZW4gbW9kZSB0aGVuIGlnbm9yZVxuICAgIGlmIChzdHJhdGVneSAhPT0gUmVuZGVyU3RyYXRlZ3kuSGlkZGVuKSByZXR1cm47XG4gICAgaWYgKCFpZCkgcmV0dXJuOyAvLyBNYWtlIHN1cmUgdGhhdCB3ZSBhcmUgdmlzaWJsZVxuXG4gICAgaWYgKHNob3cgJiYgc3RhdGUgIT09IFRyZWVTdGF0ZXMuVmlzaWJsZSkge1xuICAgICAgc2V0U3RhdGUoVHJlZVN0YXRlcy5WaXNpYmxlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtYXRjaChzdGF0ZSwgKF9tYXRjaDIgPSB7fSwgX21hdGNoMltUcmVlU3RhdGVzLkhpZGRlbl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdW5yZWdpc3RlcihpZCk7XG4gICAgfSwgX21hdGNoMltUcmVlU3RhdGVzLlZpc2libGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlZ2lzdGVyKGlkKTtcbiAgICB9LCBfbWF0Y2gyKSk7XG4gIH0sIFtzdGF0ZSwgaWQsIHJlZ2lzdGVyLCB1bnJlZ2lzdGVyLCBzaG93LCBzdHJhdGVneV0pO1xuICB2YXIgZW50ZXJDbGFzc2VzID0gdXNlU3BsaXRDbGFzc2VzKGVudGVyKTtcbiAgdmFyIGVudGVyRnJvbUNsYXNzZXMgPSB1c2VTcGxpdENsYXNzZXMoZW50ZXJGcm9tKTtcbiAgdmFyIGVudGVyVG9DbGFzc2VzID0gdXNlU3BsaXRDbGFzc2VzKGVudGVyVG8pO1xuICB2YXIgZW50ZXJlZENsYXNzZXMgPSB1c2VTcGxpdENsYXNzZXMoZW50ZXJlZCk7XG4gIHZhciBsZWF2ZUNsYXNzZXMgPSB1c2VTcGxpdENsYXNzZXMobGVhdmUpO1xuICB2YXIgbGVhdmVGcm9tQ2xhc3NlcyA9IHVzZVNwbGl0Q2xhc3NlcyhsZWF2ZUZyb20pO1xuICB2YXIgbGVhdmVUb0NsYXNzZXMgPSB1c2VTcGxpdENsYXNzZXMobGVhdmVUbyk7XG4gIHZhciBldmVudHMgPSB1c2VFdmVudHMoe1xuICAgIGJlZm9yZUVudGVyOiBiZWZvcmVFbnRlcixcbiAgICBhZnRlckVudGVyOiBhZnRlckVudGVyLFxuICAgIGJlZm9yZUxlYXZlOiBiZWZvcmVMZWF2ZSxcbiAgICBhZnRlckxlYXZlOiBhZnRlckxlYXZlXG4gIH0pO1xuICB2YXIgcmVhZHkgPSB1c2VTZXJ2ZXJIYW5kb2ZmQ29tcGxldGUoKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocmVhZHkgJiYgc3RhdGUgPT09IFRyZWVTdGF0ZXMuVmlzaWJsZSAmJiBjb250YWluZXIuY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEaWQgeW91IGZvcmdldCB0byBwYXNzdGhyb3VnaCB0aGUgYHJlZmAgdG8gdGhlIGFjdHVhbCBET00gbm9kZT8nKTtcbiAgICB9XG4gIH0sIFtjb250YWluZXIsIHN0YXRlLCByZWFkeV0pOyAvLyBTa2lwcGluZyBpbml0aWFsIHRyYW5zaXRpb25cblxuICB2YXIgc2tpcCA9IGluaXRpYWwgJiYgIWFwcGVhcjtcbiAgdXNlSXNvTW9ycGhpY0VmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5vZGUgPSBjb250YWluZXIuY3VycmVudDtcbiAgICBpZiAoIW5vZGUpIHJldHVybjtcbiAgICBpZiAoc2tpcCkgcmV0dXJuO1xuICAgIGlzVHJhbnNpdGlvbmluZy5jdXJyZW50ID0gdHJ1ZTtcbiAgICBpZiAoc2hvdykgZXZlbnRzLmN1cnJlbnQuYmVmb3JlRW50ZXIoKTtcbiAgICBpZiAoIXNob3cpIGV2ZW50cy5jdXJyZW50LmJlZm9yZUxlYXZlKCk7XG4gICAgcmV0dXJuIHNob3cgPyB0cmFuc2l0aW9uKG5vZGUsIGVudGVyQ2xhc3NlcywgZW50ZXJGcm9tQ2xhc3NlcywgZW50ZXJUb0NsYXNzZXMsIGVudGVyZWRDbGFzc2VzLCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpc1RyYW5zaXRpb25pbmcuY3VycmVudCA9IGZhbHNlO1xuICAgICAgaWYgKHJlYXNvbiA9PT0gUmVhc29uLkZpbmlzaGVkKSBldmVudHMuY3VycmVudC5hZnRlckVudGVyKCk7XG4gICAgfSkgOiB0cmFuc2l0aW9uKG5vZGUsIGxlYXZlQ2xhc3NlcywgbGVhdmVGcm9tQ2xhc3NlcywgbGVhdmVUb0NsYXNzZXMsIGVudGVyZWRDbGFzc2VzLCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpc1RyYW5zaXRpb25pbmcuY3VycmVudCA9IGZhbHNlO1xuICAgICAgaWYgKHJlYXNvbiAhPT0gUmVhc29uLkZpbmlzaGVkKSByZXR1cm47IC8vIFdoZW4gd2UgZG9uJ3QgaGF2ZSBjaGlsZHJlbiBhbnltb3JlIHdlIGNhbiBzYWZlbHkgdW5yZWdpc3RlciBmcm9tIHRoZSBwYXJlbnQgYW5kIGhpZGVcbiAgICAgIC8vIG91cnNlbHZlcy5cblxuICAgICAgaWYgKCFoYXNDaGlsZHJlbihuZXN0aW5nKSkge1xuICAgICAgICBzZXRTdGF0ZShUcmVlU3RhdGVzLkhpZGRlbik7XG4gICAgICAgIHVucmVnaXN0ZXIoaWQpO1xuICAgICAgICBldmVudHMuY3VycmVudC5hZnRlckxlYXZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtldmVudHMsIGlkLCBpc1RyYW5zaXRpb25pbmcsIHVucmVnaXN0ZXIsIG5lc3RpbmcsIGNvbnRhaW5lciwgc2tpcCwgc2hvdywgZW50ZXJDbGFzc2VzLCBlbnRlckZyb21DbGFzc2VzLCBlbnRlclRvQ2xhc3NlcywgbGVhdmVDbGFzc2VzLCBsZWF2ZUZyb21DbGFzc2VzLCBsZWF2ZVRvQ2xhc3Nlc10pO1xuICB2YXIgcHJvcHNXZUNvbnRyb2wgPSB7XG4gICAgcmVmOiBjb250YWluZXJcbiAgfTtcbiAgdmFyIHBhc3N0aHJvdWdoUHJvcHMgPSByZXN0O1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChOZXN0aW5nQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBuZXN0aW5nXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoT3BlbkNsb3NlZFByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IG1hdGNoKHN0YXRlLCAoX21hdGNoMyA9IHt9LCBfbWF0Y2gzW1RyZWVTdGF0ZXMuVmlzaWJsZV0gPSBTdGF0ZS5PcGVuLCBfbWF0Y2gzW1RyZWVTdGF0ZXMuSGlkZGVuXSA9IFN0YXRlLkNsb3NlZCwgX21hdGNoMykpXG4gIH0sIHJlbmRlcih7XG4gICAgcHJvcHM6IF9leHRlbmRzKHt9LCBwYXNzdGhyb3VnaFByb3BzLCBwcm9wc1dlQ29udHJvbCksXG4gICAgZGVmYXVsdFRhZzogREVGQVVMVF9UUkFOU0lUSU9OX0NISUxEX1RBRyxcbiAgICBmZWF0dXJlczogVHJhbnNpdGlvbkNoaWxkUmVuZGVyRmVhdHVyZXMsXG4gICAgdmlzaWJsZTogc3RhdGUgPT09IFRyZWVTdGF0ZXMuVmlzaWJsZSxcbiAgICBuYW1lOiAnVHJhbnNpdGlvbi5DaGlsZCdcbiAgfSkpKTtcbn1cblxuZnVuY3Rpb24gVHJhbnNpdGlvbihwcm9wcykge1xuICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gIHZhciBzaG93ID0gcHJvcHMuc2hvdyxcbiAgICAgIF9wcm9wcyRhcHBlYXIgPSBwcm9wcy5hcHBlYXIsXG4gICAgICBhcHBlYXIgPSBfcHJvcHMkYXBwZWFyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRhcHBlYXIsXG4gICAgICB1bm1vdW50ID0gcHJvcHMudW5tb3VudCxcbiAgICAgIHBhc3N0aHJvdWdoUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgW1wic2hvd1wiLCBcImFwcGVhclwiLCBcInVubW91bnRcIl0pO1xuXG4gIHZhciB1c2VzT3BlbkNsb3NlZFN0YXRlID0gdXNlT3BlbkNsb3NlZCgpO1xuXG4gIGlmIChzaG93ID09PSB1bmRlZmluZWQgJiYgdXNlc09wZW5DbG9zZWRTdGF0ZSAhPT0gbnVsbCkge1xuICAgIHZhciBfbWF0Y2g0O1xuXG4gICAgc2hvdyA9IG1hdGNoKHVzZXNPcGVuQ2xvc2VkU3RhdGUsIChfbWF0Y2g0ID0ge30sIF9tYXRjaDRbU3RhdGUuT3Blbl0gPSB0cnVlLCBfbWF0Y2g0W1N0YXRlLkNsb3NlZF0gPSBmYWxzZSwgX21hdGNoNCkpO1xuICB9XG5cbiAgaWYgKCFbdHJ1ZSwgZmFsc2VdLmluY2x1ZGVzKHNob3cpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBIDxUcmFuc2l0aW9uIC8+IGlzIHVzZWQgYnV0IGl0IGlzIG1pc3NpbmcgYSBgc2hvdz17dHJ1ZSB8IGZhbHNlfWAgcHJvcC4nKTtcbiAgfVxuXG4gIHZhciBfdXNlU3RhdGUyID0gdXNlU3RhdGUoc2hvdyA/IFRyZWVTdGF0ZXMuVmlzaWJsZSA6IFRyZWVTdGF0ZXMuSGlkZGVuKSxcbiAgICAgIHN0YXRlID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldFN0YXRlID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgbmVzdGluZ0JhZyA9IHVzZU5lc3RpbmcoZnVuY3Rpb24gKCkge1xuICAgIHNldFN0YXRlKFRyZWVTdGF0ZXMuSGlkZGVuKTtcbiAgfSk7XG4gIHZhciBpbml0aWFsID0gdXNlSXNJbml0aWFsUmVuZGVyKCk7XG4gIHZhciB0cmFuc2l0aW9uQmFnID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3c6IHNob3csXG4gICAgICBhcHBlYXI6IGFwcGVhciB8fCAhaW5pdGlhbFxuICAgIH07XG4gIH0sIFtzaG93LCBhcHBlYXIsIGluaXRpYWxdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc2hvdykge1xuICAgICAgc2V0U3RhdGUoVHJlZVN0YXRlcy5WaXNpYmxlKTtcbiAgICB9IGVsc2UgaWYgKCFoYXNDaGlsZHJlbihuZXN0aW5nQmFnKSkge1xuICAgICAgc2V0U3RhdGUoVHJlZVN0YXRlcy5IaWRkZW4pO1xuICAgIH1cbiAgfSwgW3Nob3csIG5lc3RpbmdCYWddKTtcbiAgdmFyIHNoYXJlZFByb3BzID0ge1xuICAgIHVubW91bnQ6IHVubW91bnRcbiAgfTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTmVzdGluZ0NvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogbmVzdGluZ0JhZ1xuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zaXRpb25Db250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHRyYW5zaXRpb25CYWdcbiAgfSwgcmVuZGVyKHtcbiAgICBwcm9wczogX2V4dGVuZHMoe30sIHNoYXJlZFByb3BzLCB7XG4gICAgICBhczogRnJhZ21lbnQsXG4gICAgICBjaGlsZHJlbjogUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2l0aW9uQ2hpbGQsIE9iamVjdC5hc3NpZ24oe30sIHNoYXJlZFByb3BzLCBwYXNzdGhyb3VnaFByb3BzKSlcbiAgICB9KSxcbiAgICBkZWZhdWx0VGFnOiBGcmFnbWVudCxcbiAgICBmZWF0dXJlczogVHJhbnNpdGlvbkNoaWxkUmVuZGVyRmVhdHVyZXMsXG4gICAgdmlzaWJsZTogc3RhdGUgPT09IFRyZWVTdGF0ZXMuVmlzaWJsZSxcbiAgICBuYW1lOiAnVHJhbnNpdGlvbidcbiAgfSkpKTtcbn1cblxuVHJhbnNpdGlvbi5DaGlsZCA9IGZ1bmN0aW9uIENoaWxkKHByb3BzKSB7XG4gIHZhciBoYXNUcmFuc2l0aW9uQ29udGV4dCA9IHVzZUNvbnRleHQoVHJhbnNpdGlvbkNvbnRleHQpICE9PSBudWxsO1xuICB2YXIgaGFzT3BlbkNsb3NlZENvbnRleHQgPSB1c2VPcGVuQ2xvc2VkKCkgIT09IG51bGw7XG4gIHJldHVybiAhaGFzVHJhbnNpdGlvbkNvbnRleHQgJiYgaGFzT3BlbkNsb3NlZENvbnRleHQgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zaXRpb24sIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zaXRpb25DaGlsZCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKTtcbn07XG5cblRyYW5zaXRpb24uUm9vdCA9IFRyYW5zaXRpb247XG5cbmV4cG9ydCB7IFRyYW5zaXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zaXRpb24uZXNtLmpzLm1hcFxuIiwiY29uc3QgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG5cbmZ1bmN0aW9uIE1lbnVJY29uKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBPYmplY3QuYXNzaWduKHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDIwIDIwXCIsXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICB9LCBwcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTMgNWExIDEgMCAwMTEtMWgxMmExIDEgMCAxMTAgMkg0YTEgMSAwIDAxLTEtMXpNMyAxMGExIDEgMCAwMTEtMWgxMmExIDEgMCAxMTAgMkg0YTEgMSAwIDAxLTEtMXpNMyAxNWExIDEgMCAwMTEtMWgxMmExIDEgMCAxMTAgMkg0YTEgMSAwIDAxLTEtMXpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1lbnVJY29uOyIsIi8qKlxuICogRmlsZTogaW5kZXgudHNcbiAqIFByb2plY3Q6IGNoYXR0aW5nLW1pbmltYWxcbiAqIEZpbGUgQ3JlYXRlZDogMDIgT2N0IDIwMjEgMTg6MTA6NDlcbiAqIEF1dGhvcjogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIExhc3QgTW9kaWZpZWQ6IDAyIE9jdCAyMDIxIDE4OjEzOjQ4XG4gKiBNb2RpZmllZCBCeTogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAyMSB1bmQzZmluZWQuY29tXG4gKi9cbmltcG9ydCB7RnJhZ21lbnR9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7VHJhbnNpdGlvbn0gZnJvbSAnQGhlYWRsZXNzdWkvcmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCAoe2NoaWxkcmVufTogYW55KSA9PiAoXG4gIDxUcmFuc2l0aW9uXG4gICAgYXM9e0ZyYWdtZW50fVxuICAgIGVudGVyPSd1My10cmFuc2l0aW9uIHUzLWVhc2Utb3V0IHUzLWR1cmF0aW9uLTEwMCdcbiAgICBlbnRlckZyb209J3UzLXRyYW5zZm9ybSB1My1vcGFjaXR5LTAgdTMtc2NhbGUtOTUnXG4gICAgZW50ZXJUbz0ndTMtdHJhbnNmb3JtIHUzLW9wYWNpdHktMTAwIHUzLXNjYWxlLTEwMCdcbiAgICBsZWF2ZT0ndTMtdHJhbnNpdGlvbiB1My1lYXNlLWluIHUzLWR1cmF0aW9uLTc1J1xuICAgIGxlYXZlRnJvbT0ndTMtdHJhbnNmb3JtIHUzLW9wYWNpdHktMTAwIHUzLXNjYWxlLTEwMCdcbiAgICBsZWF2ZVRvPSd1My10cmFuc2Zvcm0gdTMtb3BhY2l0eS0wIHUzLXNjYWxlLTk1J1xuICA+XG4gICAge2NoaWxkcmVufVxuICA8L1RyYW5zaXRpb24+XG4pO1xuIiwiLyoqXG4gKiBGaWxlOiBNZW51SXRlbS50c3hcbiAqIFByb2plY3Q6IGNoYXR0aW5nLW1pbmltYWxcbiAqIEZpbGUgQ3JlYXRlZDogMDIgT2N0IDIwMjEgMTg6MTQ6NTRcbiAqIEF1dGhvcjogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIExhc3QgTW9kaWZpZWQ6IDAyIE9jdCAyMDIxIDE4OjUxOjQxXG4gKiBNb2RpZmllZCBCeTogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAyMSB1bmQzZmluZWQuY29tXG4gKi9cbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHtNZW51fSBmcm9tICdAaGVhZGxlc3N1aS9yZWFjdCc7XG5cbnR5cGUgTWVudUl0ZW1Qcm9wcyA9IHtcbiAgbmFtZTogc3RyaW5nIHwgUmVhY3QuUmVhY3ROb2RlO1xuICBpY29uPzogUmVhY3QuUmVhY3ROb2RlO1xuICBjbGFzc0FjdGl2ZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgY2xhc3NOYW1lPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBvbkNsaWNrOiAoKSA9PiB2b2lkOyBcbn1cblxuZXhwb3J0IGRlZmF1bHQgKHByb3BzOiBNZW51SXRlbVByb3BzKSA9PiB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSB8fCAndTMtZ3JvdXAgdTMtdGV4dC1ncmF5LTkwMCB1My1mbGV4IHUzLXJvdW5kZWQtbWQgdTMtaXRlbXMtY2VudGVyIHUzLXctZnVsbCB1My1weC0yIHUzLXB5LTEgdTMtdGV4dC1zbSc7XG4gIGNvbnN0IGNsYXNzQWN0aXZlID0gcHJvcHMuY2xhc3NBY3RpdmUgfHwgJ3UzLWJnLXByaW1hcnkgdTMtdGV4dC13aGl0ZSc7XG5cbiAgcmV0dXJuIChcbiAgICA8TWVudS5JdGVtPlxuICAgICAgeyh7YWN0aXZlfSkgPT4gKFxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9IGNsYXNzTmFtZT17Y2xzeChjbGFzc05hbWUsIHtbY2xhc3NBY3RpdmVdOiBhY3RpdmV9KX0+XG4gICAgICAgICAge3Byb3BzLmljb259XG4gICAgICAgICAge3Byb3BzLm5hbWV9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKX1cbiAgICA8L01lbnUuSXRlbT5cbiAgKTtcbn07XG4iLCIvKipcbiAqIEZpbGU6IGluZGV4LnRzXG4gKiBQcm9qZWN0OiBjaGF0dGluZy1taW5pbWFsXG4gKiBGaWxlIENyZWF0ZWQ6IDAyIE9jdCAyMDIxIDE4OjAwOjUxXG4gKiBBdXRob3I6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBMYXN0IE1vZGlmaWVkOiAwMiBPY3QgMjAyMSAxODowNjo1OVxuICogTW9kaWZpZWQgQnk6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgdW5kM2ZpbmVkLmNvbVxuICovXG5pbXBvcnQgeyBjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCc7XG5cbmltcG9ydCBSb290TWVudSBmcm9tICcuL1Jvb3RNZW51JztcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdCgpKFJvb3RNZW51KTsiLCIvKipcbiAqIEZpbGU6IFJvb3RNZW51LnRzeFxuICogUHJvamVjdDogY2hhdHRpbmctbWluaW1hbFxuICogRmlsZSBDcmVhdGVkOiAwMiBPY3QgMjAyMSAxODowMDo1OVxuICogQXV0aG9yOiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogTGFzdCBNb2RpZmllZDogMTMgT2N0IDIwMjEgMTc6NDk6NDNcbiAqIE1vZGlmaWVkIEJ5OiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogQ29weXJpZ2h0IChjKSAyMDIxIHVuZDNmaW5lZC5jb21cbiAqL1xuaW1wb3J0IHtNZW51fSBmcm9tICdAaGVhZGxlc3N1aS9yZWFjdCc7XG5pbXBvcnQge0ZyYWdtZW50LCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGV9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNZW51U29saWQgZnJvbSAnQGhlcm9pY29ucy9yZWFjdC9zb2xpZC9NZW51SWNvbic7XG5cbmltcG9ydCBUcmFuc2l0aW9uRG93biBmcm9tICdAY29tcG9uZW50cy93aWRnZXRzL1RyYW5zaXRpb25Eb3duJztcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAY29tcG9uZW50cy93aWRnZXRzL01lbnUvTWVudUl0ZW0nO1xuXG5pbXBvcnQgY2xhc3NlcyBmcm9tICcuL3N0eWxlcy5tb2R1bGUuc2Nzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvb3RNZW51KHsgaGlzdG9yeSB9OmFueSkge1xuICBjb25zdCBoYW5kbGVDbGljayA9IChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICBoaXN0b3J5LnB1c2gocGF0aCk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxNZW51IGFzPSdkaXYnIGNsYXNzTmFtZT0ndTMtcmVsYXRpdmUgdTMtaW5saW5lLWJsb2NrJz5cbiAgICAgIDxNZW51LkJ1dHRvbiBjbGFzc05hbWU9e2NsYXNzZXMubWVudUJ0bn0+XG4gICAgICAgIDxNZW51U29saWRcbiAgICAgICAgICBjbGFzc05hbWU9J3UzLXctNCB1My1oLTQgdTMtdGV4dC12aW9sZXQtMjAwIGhvdmVyOnRleHQtdmlvbGV0LTEwMCdcbiAgICAgICAgICBhcmlhLWhpZGRlbj0ndHJ1ZSdcbiAgICAgICAgLz5cbiAgICAgIDwvTWVudS5CdXR0b24+XG4gICAgICA8VHJhbnNpdGlvbkRvd24+XG4gICAgICAgIDxNZW51Lkl0ZW1zIGNsYXNzTmFtZT17Y2xhc3Nlcy5tZW51SXRlbXN9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd1My1weC0xIHUzLXB5LTEnPlxuICAgICAgICAgICAgPE1lbnVJdGVtIG5hbWU9J0dp4bubaSB0aGnhu4d1JyBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDbGljaygnL2Fib3V0Jyl9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvTWVudS5JdGVtcz5cbiAgICAgIDwvVHJhbnNpdGlvbkRvd24+XG4gICAgPC9NZW51PlxuICApO1xufVxuIiwiLyoqXG4gKiBGaWxlOiBSb3V0ZS5wcm9kLnRzeFxuICogUHJvamVjdDogY2hhdHRpbmctbWluaW1hbFxuICogRmlsZSBDcmVhdGVkOiAwNyBPY3QgMjAyMSAyMDo1MzoxNVxuICogQXV0aG9yOiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogTGFzdCBNb2RpZmllZDogMDcgT2N0IDIwMjEgMjA6NTU6MzVcbiAqIE1vZGlmaWVkIEJ5OiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogQ29weXJpZ2h0IChjKSAyMDIxIHVuZDNmaW5lZC5jb21cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7U3dpdGNoLCBSb3V0ZSwgUmVkaXJlY3QsIFJvdXRlQ2hpbGRyZW5Qcm9wc30gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5cbmltcG9ydCBBc3luY0NvbXBvbmVudCBmcm9tICdAY29tcG9uZW50cy9Bc3luY0NvbXBvbmVudCc7XG5cbmNvbnN0IExhenlMb2dnZWRJbiA9IFJlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCdAY29tcG9uZW50cy9Mb2dnZWRJbicpKTtcbmNvbnN0IExhenlFcnJvclBhZ2UgPSBSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnQHBhZ2VzL0Vycm9yJykpO1xuY29uc3QgTGF6eUFib3V0UGFnZSA9IFJlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCdAcGFnZXMvQWJvdXQnKSk7XG5jb25zdCBMYXp5Q29ubmVjdFBhZ2UgPSBSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnQHBhZ2VzL0Nvbm5lY3QnKSk7XG5jb25zdCBMYXp5Sm9pblBhZ2UgPSBSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnQHBhZ2VzL0pvaW4nKSk7XG5jb25zdCBMYXp5VGVhbVBhZ2UgPSBSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnQHBhZ2VzL1RlYW0nKSk7XG5cbmNvbnN0IExvZ2dlZEluID0gQXN5bmNDb21wb25lbnQoTGF6eUxvZ2dlZEluKTtcbmNvbnN0IEVycm9yUGFnZSA9IEFzeW5jQ29tcG9uZW50KExhenlFcnJvclBhZ2UpO1xuY29uc3QgQWJvdXRQYWdlID0gQXN5bmNDb21wb25lbnQoTGF6eUFib3V0UGFnZSk7XG5jb25zdCBDb25uZWN0UGFnZSA9IEFzeW5jQ29tcG9uZW50KExhenlDb25uZWN0UGFnZSk7XG5jb25zdCBKb2luVGVhbVBhZ2UgPSBBc3luY0NvbXBvbmVudChMYXp5Sm9pblBhZ2UpO1xuY29uc3QgVGVhbVBhZ2UgPSBBc3luY0NvbXBvbmVudChMYXp5VGVhbVBhZ2UpO1xuXG5jb25zdCBMb2dnZWRJblJvdXRlID0gKHtjb21wb25lbnQ6IENvbXBvbmVudCwgLi4ucmVzdH06IGFueSkgPT4gKFxuICA8Um91dGVcbiAgICB7Li4ucmVzdH1cbiAgICByZW5kZXI9eyhwcm9wcykgPT4gKFxuICAgICAgPExvZ2dlZEluIHsuLi5wcm9wc30+XG4gICAgICAgIDxDb21wb25lbnQgey4uLnByb3BzfSAvPlxuICAgICAgPC9Mb2dnZWRJbj5cbiAgICApfVxuICAvPlxuKTtcblxuZXhwb3J0IGRlZmF1bHQgKHByb3BzOiBSb3V0ZUNoaWxkcmVuUHJvcHMpID0+IChcbiAgPFN3aXRjaD5cbiAgICA8Um91dGUgcGF0aD17Jy9lcnJvcid9IGNvbXBvbmVudD17RXJyb3JQYWdlfSAvPlxuICAgIDxSb3V0ZSBwYXRoPXsnL2Fib3V0J30gY29tcG9uZW50PXtBYm91dFBhZ2V9IC8+XG4gICAgPFJvdXRlIHBhdGg9eycvY29ubmVjdCd9IGNvbXBvbmVudD17Q29ubmVjdFBhZ2V9IC8+XG4gICAgPExvZ2dlZEluUm91dGUgcGF0aD17Jy9qb2luJ30gY29tcG9uZW50PXtKb2luVGVhbVBhZ2V9IC8+XG4gICAgPExvZ2dlZEluUm91dGUgcGF0aD17Jy86dGVhbSd9IGNvbXBvbmVudD17VGVhbVBhZ2V9IC8+XG4gICAgPFJlZGlyZWN0IHRvPXt7Li4ucHJvcHMubG9jYXRpb24sIHBhdGhuYW1lOiAnL2Nvbm5lY3QnfX0gLz5cbiAgPC9Td2l0Y2g+XG4pO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbm93O1xuIiwiLyoqIFVzZWQgdG8gbWF0Y2ggYSBzaW5nbGUgd2hpdGVzcGFjZSBjaGFyYWN0ZXIuICovXG52YXIgcmVXaGl0ZXNwYWNlID0gL1xccy87XG5cbi8qKlxuICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZVxuICogY2hhcmFjdGVyIG9mIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3Rlci5cbiAqL1xuZnVuY3Rpb24gdHJpbW1lZEVuZEluZGV4KHN0cmluZykge1xuICB2YXIgaW5kZXggPSBzdHJpbmcubGVuZ3RoO1xuXG4gIHdoaWxlIChpbmRleC0tICYmIHJlV2hpdGVzcGFjZS50ZXN0KHN0cmluZy5jaGFyQXQoaW5kZXgpKSkge31cbiAgcmV0dXJuIGluZGV4O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRyaW1tZWRFbmRJbmRleDtcbiIsInZhciB0cmltbWVkRW5kSW5kZXggPSByZXF1aXJlKCcuL190cmltbWVkRW5kSW5kZXgnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbVN0YXJ0ID0gL15cXHMrLztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50cmltYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRyaW0oc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdcbiAgICA/IHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKVxuICAgIDogc3RyaW5nO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUcmltO1xuIiwidmFyIGJhc2VUcmltID0gcmVxdWlyZSgnLi9fYmFzZVRyaW0nKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvTnVtYmVyKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiBJbmZpbml0eVxuICpcbiAqIF8udG9OdW1iZXIoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBOQU47XG4gIH1cbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgfVxuICB2YWx1ZSA9IGJhc2VUcmltKHZhbHVlKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9OdW1iZXI7XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgbm93ID0gcmVxdWlyZSgnLi9ub3cnKSxcbiAgICB0b051bWJlciA9IHJlcXVpcmUoJy4vdG9OdW1iZXInKTtcblxuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAqIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICpcbiAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICogICAnbGVhZGluZyc6IHRydWUsXG4gKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gKiB9KSk7XG4gKlxuICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZ1xuICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgOiB0aW1lV2FpdGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVib3VuY2U7XG4iLCJ2YXIgZGVib3VuY2UgPSByZXF1aXJlKCcuL2RlYm91bmNlJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICpcbiAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdGhyb3R0bGU7XG4iLCIvKipcbiAqIEZpbGU6IFJvb3RYLnRzeFxuICogUHJvamVjdDogY2hhdHRpbmctbWluaW1hbFxuICogRmlsZSBDcmVhdGVkOiAwNyBPY3QgMjAyMSAyMDo0NzozMlxuICogQXV0aG9yOiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogTGFzdCBNb2RpZmllZDogMjEgT2N0IDIwMjEgMTA6NTU6MDVcbiAqIE1vZGlmaWVkIEJ5OiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogQ29weXJpZ2h0IChjKSAyMDIxIHVuZDNmaW5lZC5jb21cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGYXN0Q2xpY2sgZnJvbSAnZmFzdGNsaWNrJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuXG5pbXBvcnQgSWNvblJlZnJlc2ggZnJvbSAnQGhlcm9pY29ucy9yZWFjdC9vdXRsaW5lL1JlZnJlc2hJY29uJztcblxuaW1wb3J0IHtDbGllbnQ0fSBmcm9tICdjaGF0dGluZy1yZWR1eC9jbGllbnQnO1xuaW1wb3J0IHtzZXRVcmx9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvZ2VuZXJhbCc7XG5pbXBvcnQge3NldFN5c3RlbUVtb2ppc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9lbW9qaXMnO1xuXG5pbXBvcnQge2dldEN1cnJlbnRVc2VyfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdXNlcnMnO1xuXG5pbXBvcnQge2VtaXRVc2VyTG9nZ2VkT3V0RXZlbnQsIHJlZGlyZWN0VXNlclRvRGVmYXVsdFRlYW19IGZyb20gJyRhY3Rpb25zL2dsb2JhbF9hY3Rpb25zJztcblxuaW1wb3J0IHN0b3JlIGZyb20gJyRzdG9yZXMvcmVkdXhfc3RvcmUuanN4JztcbmltcG9ydCB7Z2V0U2l0ZVVSTCwgZ2V0QXBpVVJMLCBnZXREb21haW59IGZyb20gJyR1dGlscy91cmwnO1xuXG5pbXBvcnQge0Vtb2ppSW5kaWNlc0J5QWxpYXN9IGZyb20gJyR1dGlscy9lbW9qaSc7XG5pbXBvcnQge1N0b3JhZ2VQcmVmaXhlc30gZnJvbSAnJHV0aWxzL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7bG9hZFJlY2VudGx5VXNlZEN1c3RvbUVtb2ppc30gZnJvbSAnJGFjdGlvbnMvZW1vamlfYWN0aW9ucyc7XG5pbXBvcnQgTG9jYWxTdG9yYWdlU3RvcmUgZnJvbSAnJHN0b3Jlcy9sb2NhbF9zdG9yYWdlX3N0b3JlJztcblxuaW1wb3J0IHtyb290RWxlbWVudH0gZnJvbSAnQHV0aWxzL2ludGVncmF0ZSc7XG5pbXBvcnQge0FwcENvbnRleHRQcm92aWRlcn0gZnJvbSAnQHV0aWxzL0FwcENvbnRleHQnO1xuXG5pbXBvcnQgSW50bFByb3ZpZGVyIGZyb20gJ0Bjb21wb25lbnRzL0ludGxQcm92aWRlcic7XG5pbXBvcnQgTG9hZGluZ1NjcmVlbiBmcm9tICdAY29tcG9uZW50cy9Mb2FkaW5nU2NyZWVuJztcbmltcG9ydCBMb2dvIGZyb20gJ0Bjb21wb25lbnRzL0ljb25zL0xvZ28nO1xuaW1wb3J0IFBsdXNTb2lsZCBmcm9tICdAY29tcG9uZW50cy9JY29ucy9QbHVzU29pbGQnO1xuaW1wb3J0IE1pbnVzU29pbGQgZnJvbSAnQGNvbXBvbmVudHMvSWNvbnMvTWludXNTb2lsZCc7XG5pbXBvcnQgUm9vdE1lbnUgZnJvbSAnQGNvbXBvbmVudHMvUm9vdE1lbnUnO1xuXG5pbXBvcnQgUm91dGUgZnJvbSAnLi9Sb3V0ZS5wcm9kJztcblxuaW1wb3J0IHR5cGUge1Byb3BzLCBTdGF0ZX0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgY2xhc3NlcyBmcm9tICcuL3N0eWxlcy5tb2R1bGUuc2Nzcyc7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSAnbG9kYXNoL3Rocm90dGxlJztcblxuY2xhc3MgUm9vdFggZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBwcml2YXRlIG1vdW50ZWQ6IGJvb2xlYW47XG4gIHByaXZhdGUgdGl0bGVSZWY6IFJlYWN0LlJlZk9iamVjdDxhbnk+O1xuICBwcml2YXRlIGRlYm91bmNlUmVsb2FkOiBhbnk7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMubW91bnRlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy50aXRsZVJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuXG4gICAgc2V0VXJsKGdldEFwaVVSTCgpIHx8IGdldFNpdGVVUkwoKSk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgc2V0U3lzdGVtRW1vamlzKEVtb2ppSW5kaWNlc0J5QWxpYXMpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCB0aGlzLmhhbmRsZUxvZ291dExvZ2luU2lnbmFsKTtcbiAgICAvLyBQcmV2ZW50IGRyYWcgYW5kIGRyb3AgZmlsZXMgZnJvbSBuYXZpZ2F0aW5nIGF3YXkgZnJvbSB0aGUgYXBwXG4gICAgcm9vdEVsZW1lbnQoKT8uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuaGFuZGxlRG5kRXZlbnQpO1xuICAgIHJvb3RFbGVtZW50KCk/LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5oYW5kbGVEbmRFdmVudCk7XG5cbiAgICB0aGlzLmRlYm91bmNlUmVsb2FkID0gdGhyb3R0bGUoXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMuaGlzdG9yeS5yZXBsYWNlKCcvJyk7XG4gICAgICB9LFxuICAgICAgNTAwMCxcbiAgICAgIHt0cmFpbGluZzogZmFsc2V9XG4gICAgKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb25maWdMb2FkZWQ6ICEhcHJvcHMuc2l0ZU5hbWUsXG4gICAgICBleHBhbmRlZDogdHJ1ZSxcbiAgICAgIHJlbG9hZDogZmFsc2UsXG4gICAgICBiYWRnZTogJycsXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIEZhc3RDbGljayhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndTMtY2hhdHRpbmcnKSk7XG5cbiAgICByb290RWxlbWVudCgpPy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS11My1jaGF0dGluZy1jb250ZW50LXdpZHRoJywgYCR7cm9vdEVsZW1lbnQoKT8uY2xpZW50V2lkdGggfHwgNDQwfXB4YCk7XG4gICAgcm9vdEVsZW1lbnQoKT8uY2xhc3NMaXN0LmFkZCgndTMtY2hhdC1tYWluJyk7XG5cbiAgICB0aGlzLm1vdW50ZWQgPSB0cnVlO1xuICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChwcm9wcy5jbGllbnRJZCkge1xuICAgICAgY29uc3QgdG9rZW4gPSBMb2NhbFN0b3JhZ2VTdG9yZS5nZXRUb2tlbihwcm9wcy5jbGllbnRJZCk7XG4gICAgICBjb25zdCBjc3JmID0gTG9jYWxTdG9yYWdlU3RvcmUuZ2V0Q3NyZihwcm9wcy5jbGllbnRJZCk7XG5cbiAgICAgIGlmICh0b2tlbiAmJiBjc3JmKSB7XG4gICAgICAgIENsaWVudDQuc2V0VG9rZW4odG9rZW4pO1xuICAgICAgICBDbGllbnQ0LnNldENTUkYoY3NyZik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFwcm9wcy5zaXRlTmFtZSAmJiBwcm9wcy5jbGllbnRJZCkge1xuICAgICAgY29uc3QgW2NsaWVudCwgbGljZW5zZSwgYXBwLCBtZV0gPSBhd2FpdCBwcm9wcy5hY3Rpb25zLmxvYWRNZUFuZENvbmZpZyhwcm9wcy5jbGllbnRJZCk7XG4gICAgICBpZiAocHJvcHMubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvJyAmJiBtZSAmJiBtZS5kYXRhKSB7XG4gICAgICAgIHJlZGlyZWN0VXNlclRvRGVmYXVsdFRlYW0ocHJvcHMuaGlzdG9yeSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaGFuZGxlQ29uZmlnTG9hZGVkKG1lICYmIG1lLmRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3Qge2xvY2F0aW9uLCBub0FjY291bnRzLCBhbGxvd2VkRG9tYWlucywgY2xpZW50VmFsaWR9ID0gdGhpcy5wcm9wcztcblxuICAgIC8vIFZhbGlkYXRlIGNsaWVudFxuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUuY29uZmlnTG9hZGVkICYmXG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSAhPT0gJy9lcnJvcicgJiZcbiAgICAgICFjbGllbnRWYWxpZCAmJlxuICAgICAgYWxsb3dlZERvbWFpbnMuaW5kZXhPZihnZXREb21haW4oKSkgPT09IC0xXG4gICAgKSB7XG4gICAgICBwcmV2UHJvcHMuaGlzdG9yeS5yZXBsYWNlKCcvZXJyb3I/dHlwZT1jbGllbnQtaW52YWxpZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nICYmIG5vQWNjb3VudHMgJiYgIXRoaXMucHJvcHMuY3VycmVudFVzZXJJZCkge1xuICAgICAgcHJldlByb3BzLmhpc3RvcnkucmVwbGFjZSgnL2Nvbm5lY3QnKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLm1vdW50ZWQgPSBmYWxzZTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIHRoaXMuaGFuZGxlTG9nb3V0TG9naW5TaWduYWwpO1xuICB9XG5cbiAgaGFuZGxlQ29uZmlnTG9hZGVkID0gKHNraXBDb25uZWN0OiBib29sZWFuKSA9PiB7XG4gICAgY29uc3Qge2xvY2F0aW9uLCBoaXN0b3J5LCBub0FjY291bnRzLCBjdXJyZW50VXNlcklkfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAobm9BY2NvdW50cyB8fCAoIWN1cnJlbnRVc2VySWQgJiYgIXNraXBDb25uZWN0KSkge1xuICAgICAgaGlzdG9yeS5wdXNoKGAvY29ubmVjdD9uZXh0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLnBhdGhuYW1lKX1gKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtjb25maWdMb2FkZWQ6IHRydWV9KTtcbiAgICBsb2FkUmVjZW50bHlVc2VkQ3VzdG9tRW1vamlzKCkoc3RvcmUuZGlzcGF0Y2gsIHN0b3JlLmdldFN0YXRlKTtcbiAgfTtcblxuICBoYW5kbGVMb2dvdXRMb2dpblNpZ25hbCA9IChlOiBTdG9yYWdlRXZlbnQpID0+IHtcbiAgICAvLyB3aGVuIG9uZSB0YWIgb24gYSBicm93c2VyIGxvZ3Mgb3V0LCBpdCBzZXRzIF9fbG9nb3V0X18gaW4gbG9jYWxTdG9yYWdlIHRvIHRyaWdnZXIgb3RoZXIgdGFicyB0byBsb2cgb3V0XG4gICAgY29uc3QgaXNOZXdMb2NhbFN0b3JhZ2VFdmVudCA9IChldmVudDogU3RvcmFnZUV2ZW50KSA9PiBldmVudC5zdG9yYWdlQXJlYSA9PT0gbG9jYWxTdG9yYWdlICYmIGV2ZW50Lm5ld1ZhbHVlO1xuXG4gICAgaWYgKGUua2V5ID09PSBTdG9yYWdlUHJlZml4ZXMuTE9HT1VUICYmIGlzTmV3TG9jYWxTdG9yYWdlRXZlbnQoZSkpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdkZXRlY3RlZCBsb2dvdXQgZnJvbSBhIGRpZmZlcmVudCB0YWInKTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGVtaXRVc2VyTG9nZ2VkT3V0RXZlbnQoJyN1My1hcHAnLCBmYWxzZSwgZmFsc2UsIHRoaXMucHJvcHMuaGlzdG9yeSk7XG4gICAgfVxuXG4gICAgaWYgKGUua2V5ID09PSBTdG9yYWdlUHJlZml4ZXMuTE9HSU4gJiYgaXNOZXdMb2NhbFN0b3JhZ2VFdmVudChlKSkge1xuICAgICAgY29uc3QgaXNMb2dnZWRJbiA9IGdldEN1cnJlbnRVc2VyKHN0b3JlLmdldFN0YXRlKCkpO1xuXG4gICAgICAvLyBtYWtlIHN1cmUgdGhpcyBpcyBub3QgdGhlIHNhbWUgdGFiIHdoaWNoIHNlbnQgbG9naW4gc2lnbmFsXG4gICAgICAvLyBiZWNhdXNlIGFub3RoZXIgdGFicyB3aWxsIGFsc28gc2VuZCBsb2dpbiBzaWduYWwgYWZ0ZXIgcmVsb2FkaW5nXG4gICAgICBpZiAoaXNMb2dnZWRJbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGRldGVjdGVkIGxvZ2luIGZyb20gYSBkaWZmZXJlbnQgdGFiXG4gICAgICBmdW5jdGlvbiBvblZpc2liaWxpdHlDaGFuZ2UoKSB7XG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgfVxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uVmlzaWJpbGl0eUNoYW5nZSwgZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVEbmRFdmVudCA9IChlOiBhbnkpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfTtcblxuICBoYW5kbGVFeHBhbm5lZCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5leHBhbmRlZCA9PT0gdHJ1ZSkge1xuICAgICAgcm9vdEVsZW1lbnQoKT8uY2xhc3NMaXN0LmFkZCgndTMtY29sbGFwc2VkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3RFbGVtZW50KCk/LmNsYXNzTGlzdC5yZW1vdmUoJ3UzLWNvbGxhcHNlZCcpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe2V4cGFuZGVkOiAhdGhpcy5zdGF0ZS5leHBhbmRlZH0pO1xuICB9O1xuXG4gIGhhbmRsZVJlbG9hZCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5kZWJvdW5jZVJlbG9hZCkgdGhpcy5kZWJvdW5jZVJlbG9hZC5jYW5jZWwoKTtcbiAgICB0aGlzLnNldFN0YXRlKHtyZWxvYWQ6IHRydWV9KTtcbiAgICB0aGlzLmRlYm91bmNlUmVsb2FkKCk7XG4gIH07XG5cbiAgc2V0VGl0bGUgPSAodGl0bGU6IHN0cmluZykgPT4ge1xuICAgIHRoaXMudGl0bGVSZWYuY3VycmVudC5pbm5lckhUTUwgPSB0aXRsZTtcbiAgfTtcblxuICBzZWxlY3REb3QgPSAodHlwZTogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7YmFkZ2U6IHR5cGV9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge2NvbmZpZ0xvYWRlZCwgcmVsb2FkfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAoIWNvbmZpZ0xvYWRlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEludGxQcm92aWRlcj5cbiAgICAgICAgICA8TG9hZGluZ1NjcmVlbiBtZXNzYWdlPSdU4bqjaSBjw6BpIMSR4bq3dCcgLz5cbiAgICAgICAgPC9JbnRsUHJvdmlkZXI+XG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBleHBhbmRlZCA9IDxQbHVzU29pbGQgY2xhc3NOYW1lPXsndTMtdy0zLjUgdTMtaC0zLjUnfSAvPjtcbiAgICBpZiAodGhpcy5zdGF0ZS5leHBhbmRlZCkge1xuICAgICAgZXhwYW5kZWQgPSA8TWludXNTb2lsZCBjbGFzc05hbWU9eyd1My13LTMuNSB1My1oLTMuNSd9IC8+O1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8SW50bFByb3ZpZGVyPlxuICAgICAgICA8QXBwQ29udGV4dFByb3ZpZGVyIHZhbHVlPXt7c2V0VGl0bGU6IHRoaXMuc2V0VGl0bGUsIHNlbGVjdERvdDogdGhpcy5zZWxlY3REb3R9fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5oZWFkZXJCYXJ9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMudGl0bGV9PlxuICAgICAgICAgICAgICA8TG9nbyBjbGFzc05hbWU9eyd1My13LTQgdTMtaC00J30gLz5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChjbGFzc2VzLnRpdGxlRG90LCB7XG4gICAgICAgICAgICAgICAgICBbY2xhc3Nlcy51bnJlYWRdOiB0aGlzLnN0YXRlLmJhZGdlID09PSAnVW5yZWFkJyxcbiAgICAgICAgICAgICAgICAgIFtjbGFzc2VzLm1lbnRpb25dOiB0aGlzLnN0YXRlLmJhZGdlID09PSAnTWVudGlvbicsXG4gICAgICAgICAgICAgICAgICAndTMtYW5pbWF0ZS1waW5nJzogdGhpcy5zdGF0ZS5iYWRnZSAhPT0gJycsXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goY2xhc3Nlcy50aXRsZURvdCwgY2xhc3Nlcy54LCB7XG4gICAgICAgICAgICAgICAgICBbY2xhc3Nlcy51bnJlYWRdOiB0aGlzLnN0YXRlLmJhZGdlID09PSAnVW5yZWFkJyxcbiAgICAgICAgICAgICAgICAgIFtjbGFzc2VzLm1lbnRpb25dOiB0aGlzLnN0YXRlLmJhZGdlID09PSAnTWVudGlvbicsXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxoMyByZWY9e3RoaXMudGl0bGVSZWZ9PlUzIENoYXQ8L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5hY3Rpb25zfT5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhhbmRsZVJlbG9hZH0gY2xhc3NOYW1lPXtjbGFzc2VzLnJlZnJlc2h9PlxuICAgICAgICAgICAgICAgIDxJY29uUmVmcmVzaFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KCd1My1oLTQgdTMtdy00IHUzLXRleHQtd2hpdGUnLCB7XG4gICAgICAgICAgICAgICAgICAgICd1My1hbmltYXRlLXNwaW4nOiByZWxvYWQsXG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhhbmRsZUV4cGFubmVkfSBjbGFzc05hbWU9e2NsYXNzZXMuZXhwYW5uZWR9PlxuICAgICAgICAgICAgICAgIHtleHBhbmRlZH1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxSb290TWVudSBoaXN0b3J5PXt0aGlzLnByb3BzLmhpc3Rvcnl9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xzeChjbGFzc2VzLnJvb3RDb250ZW50LCB7J3UzLWNvbGxhcHNlZCc6ICF0aGlzLnN0YXRlLmV4cGFuZGVkfSl9PlxuICAgICAgICAgICAgPFJvdXRlIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0FwcENvbnRleHRQcm92aWRlcj5cbiAgICAgIDwvSW50bFByb3ZpZGVyPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUm9vdFg7XG4iLCIvKipcbiAqIEZpbGU6IGluZGV4LnRzXG4gKiBQcm9qZWN0OiBjaGF0dGluZy1taW5pbWFsXG4gKiBGaWxlIENyZWF0ZWQ6IDMwIFNlcCAyMDIxIDA5OjI1OjM5XG4gKiBBdXRob3I6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBMYXN0IE1vZGlmaWVkOiAwNyBPY3QgMjAyMSAyMjo1NTowM1xuICogTW9kaWZpZWQgQnk6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgdW5kM2ZpbmVkLmNvbVxuICovXG5pbXBvcnQge2JpbmRBY3Rpb25DcmVhdG9ycywgRGlzcGF0Y2h9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuXG5pbXBvcnQge2dldENvbmZpZywgZ2V0QXBwSW5mb30gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2dlbmVyYWwnO1xuaW1wb3J0IHtnZXRDdXJyZW50VXNlcklkfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdXNlcnMnO1xuaW1wb3J0IHtnZXRUZWFtfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdGVhbXMnO1xuaW1wb3J0IHtHZW5lcmljQWN0aW9ufSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcblxuaW1wb3J0IHtsb2FkTWVBbmRDb25maWd9IGZyb20gJyRhY3Rpb25zL3ZpZXdzL3Jvb3QnO1xuaW1wb3J0IExvY2FsU3RvcmFnZVN0b3JlIGZyb20gJyRzdG9yZXMvbG9jYWxfc3RvcmFnZV9zdG9yZSc7XG5pbXBvcnQge0dsb2JhbFN0YXRlfSBmcm9tICckdHlwZXMvc3RvcmUnO1xuXG5pbXBvcnQge2dldEluaXREYXRhfSBmcm9tICdAdXRpbHMvaW50ZWdyYXRlJztcblxuaW1wb3J0IHR5cGUge1N0YXRlUHJvcHMsIERpc3BhdGNoUHJvcHMsIE93blByb3BzfSBmcm9tICcuL3R5cGVzJzsgXG5cbmltcG9ydCBSb290IGZyb20gJy4vUm9vdCc7XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZTogR2xvYmFsU3RhdGUpIHtcbiAgY29uc3QgY2xpZW50SW5mbyA9IGdldEluaXREYXRhKCk7XG4gIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZyhzdGF0ZSk7XG4gIGNvbnN0IGFwcEluZm8gPSBnZXRBcHBJbmZvKHN0YXRlKTtcbiAgY29uc3QgcGx1Z2lucyA9IHN0YXRlLnBsdWdpbnMuY29tcG9uZW50cy5DdXN0b21Sb3V0ZUNvbXBvbmVudDtcbiAgXG4gIGNvbnN0IGNsaWVudFZhbGlkID0gY2xpZW50SW5mby5jbGllbnRJZCA9PT0gYXBwSW5mby5jbGllbnRJZDtcbiAgY29uc3QgYWxsb3dlZERvbWFpbnMgPSBhcHBJbmZvLmFsbG93ZWQ7XG4gIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBnZXRDdXJyZW50VXNlcklkKHN0YXRlKTtcbiAgY29uc3QgdGVhbUlkID0gTG9jYWxTdG9yYWdlU3RvcmUuZ2V0UHJldmlvdXNUZWFtSWQoZ2V0Q3VycmVudFVzZXJJZChzdGF0ZSkpO1xuICBjb25zdCBwZXJtYWxpbmtSZWRpcmVjdFRlYW0gPSBnZXRUZWFtKHN0YXRlLCB0ZWFtSWQgYXMgc3RyaW5nKTtcblxuICByZXR1cm4ge1xuICAgIHNpdGVOYW1lOiBjb25maWcuU2l0ZU5hbWUsXG4gICAgbm9BY2NvdW50czogY29uZmlnLk5vQWNjb3VudHMgPT09ICd0cnVlJyxcbiAgICBjbGllbnRWYWxpZCxcbiAgICBjbGllbnRJZDogY2xpZW50SW5mby5jbGllbnRJZCxcbiAgICBhbGxvd2VkRG9tYWlucyxcbiAgICBoYXNVc2VyVG9rZW46ICEhY2xpZW50SW5mby51c2VyVG9rZW4sXG4gICAgcGVybWFsaW5rUmVkaXJlY3RUZWFtTmFtZTogcGVybWFsaW5rUmVkaXJlY3RUZWFtID8gcGVybWFsaW5rUmVkaXJlY3RUZWFtLm5hbWUgOiAnJyxcbiAgICBjdXJyZW50VXNlcklkLFxuICAgIHBsdWdpbnMsXG4gIH07XG59XG5cbmZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaDogRGlzcGF0Y2g8R2VuZXJpY0FjdGlvbj4pIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb25zOiBiaW5kQWN0aW9uQ3JlYXRvcnMoXG4gICAgICB7XG4gICAgICAgIGxvYWRNZUFuZENvbmZpZyxcbiAgICAgIH0sXG4gICAgICBkaXNwYXRjaFxuICAgICksXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3Q8U3RhdGVQcm9wcywgRGlzcGF0Y2hQcm9wcywgT3duUHJvcHMsIEdsb2JhbFN0YXRlPihtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoUm9vdCk7XG4iXSwibmFtZXMiOlsidXNlcklkIiwiZGlzcGF0Y2giLCJnZXRTdGF0ZSIsInN0YXRlIiwiY3VycmVudFVzZXJJZCIsImdldEN1cnJlbnRVc2VySWQiLCJjaGFubmVsTmFtZSIsImdldERpcmVjdENoYW5uZWxOYW1lIiwiY2hhbm5lbCIsImdldENoYW5uZWxCeU5hbWUiLCJDaGFubmVsQWN0aW9ucyIsIm5vdyIsIkRhdGUiLCJwcmVmRGlyZWN0IiwiY2F0ZWdvcnkiLCJQcmVmZXJlbmNlcyIsIkNBVEVHT1JZX0RJUkVDVF9DSEFOTkVMX1NIT1ciLCJuYW1lIiwidmFsdWUiLCJwcmVmT3BlblRpbWUiLCJDQVRFR09SWV9DSEFOTkVMX09QRU5fVElNRSIsImlkIiwidG9TdHJpbmciLCJhY3Rpb25zIiwidHlwZSIsIlByZWZlcmVuY2VUeXBlcyIsIlJFQ0VJVkVEX1BSRUZFUkVOQ0VTIiwiZGF0YSIsImJhdGNoQWN0aW9ucyIsInNhdmVQcmVmZXJlbmNlcyIsInVzZXJfaWQiLCJjYXRlZ29yeUlkIiwiZ2V0Q3VycmVudENhdGVnb3J5IiwiZ2V0Q2F0ZWdvcnkiLCJjaGFubmVsVW5sb2FkZWQiLCJnZXRDaGFubmVsSWRzSW5DYXRlZ29yeSIsImZpbHRlciIsImdldENoYW5uZWwiLCJnZXRDdXJyZW50VGVhbUlkIiwidW5yZWFkcyIsImdldFVucmVhZENoYW5uZWxJZHMiLCJDb25zdGFudHMiLCJETV9DSEFOTkVMIiwibG9hZE5ld0RNSWZOZWVkZWQiLCJHTV9DSEFOTkVMIiwibG9hZE5ld0dNSWZOZWVkZWQiLCJsb2FkUHJvZmlsZXNGb3JTaWRlYmFyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNsaWVudElkIiwiZ2V0TWV0YSIsInVzZXJUb2tlbiIsIm1ldGFOYW1lIiwibWV0YXMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImkiLCJsZW5ndGgiLCJnZXRBdHRyaWJ1dGUiLCJjaGFubmVsSWQiLCJsYXN0Vmlld2VkQXQiLCJBY3Rpb25UeXBlcyIsIlVQREFURV9DSEFOTkVMX0xBU1RfVklFV0VEX0FUIiwiY2hhbm5lbF9pZCIsImxhc3Rfdmlld2VkX2F0IiwiZmlsZUlkIiwiaGFuZGxlVmlld0FjdGlvbiIsIlRPR0dMRV9HRVRfUFVCTElDX0xJTktfTU9EQUwiLCJUT0dHTEVfTEVBVkVfUFJJVkFURV9DSEFOTkVMX01PREFMIiwiZ2V0VGVhbXNMaXN0IiwiZm9yRWFjaCIsImN1cnJlbnRUZWFtIiwicHJldmlvdXNDaGFubmVsIiwiTG9jYWxTdG9yYWdlU3RvcmUiLCJnZXRQcmV2aW91c0NoYW5uZWxOYW1lIiwicGVudWx0aW1hdGVDaGFubmVsIiwiZ2V0UGVudWx0aW1hdGVDaGFubmVsTmFtZSIsInJlbW92ZVByZXZpb3VzQ2hhbm5lbE5hbWUiLCJyZW1vdmVQZW51bHRpbWF0ZUNoYW5uZWxOYW1lIiwiaml0dGVyIiwicmVjZW50UG9zdElkSW5DaGFubmVsIiwiZ2V0TW9zdFJlY2VudFBvc3RJZEluQ2hhbm5lbCIsImVudGl0aWVzIiwicG9zdHMiLCJwb3N0c0luQ2hhbm5lbCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImxvYWRVbnJlYWRzIiwicmVjZW50UG9zdCIsImdldFBvc3QiLCJzeW5jUG9zdHNJbkNoYW5uZWwiLCJjcmVhdGVfYXQiLCJjaGFuIiwidGVhbUlkIiwidGVhbV9pZCIsImlzUkhTT3BlbmVkIiwiZ2V0SXNSaHNPcGVuIiwiaXNQaW5uZWRQb3N0c1Nob3dpbmciLCJnZXRSaHNTdGF0ZSIsIlJIU1N0YXRlcyIsIlBJTiIsImlzQ2hhbm5lbEZpbGVzU2hvd2luZyIsIkNIQU5ORUxfRklMRVMiLCJtZW1iZXIiLCJnZXRNeUNoYW5uZWxNZW1iZXIiLCJjdXJyZW50Q2hhbm5lbElkIiwiZ2V0Q3VycmVudENoYW5uZWxJZCIsImdldENoYW5uZWxTdGF0cyIsInBlbnVsdGltYXRlIiwic2V0UGVudWx0aW1hdGVDaGFubmVsTmFtZSIsInNldFByZXZpb3VzQ2hhbm5lbE5hbWUiLCJ1cGRhdGVSaHNTdGF0ZSIsIkNoYW5uZWxUeXBlcyIsIlNFTEVDVF9DSEFOTkVMIiwiU0VMRUNUX0NIQU5ORUxfV0lUSF9NRU1CRVIiLCJhcHBzRW5hYmxlZCIsImZldGNoQXBwQmluZGluZ3MiLCJmYWtlIiwic3VjY2VzcyIsImZhaWwiLCJvdGhlclVzZXJJZCIsIlV0aWxzIiwicmVzIiwiY3JlYXRlRGlyZWN0Q2hhbm5lbCIsInB1c2giLCJjbG9zZVJpZ2h0SGFuZFNpZGUiLCJzdGF0dXMiLCJVUERBVEVfVE9BU1RfU1RBVFVTIiwicG9zdElkIiwiUE9TVF9JTkNSRUFTRV9BTU9VTlQiLCJQT1NUX0NIVU5LX1NJWkUiLCJMT0FESU5HX1BPU1RTIiwicmVzdWx0IiwiUG9zdFJlcXVlc3RUeXBlcyIsIkJFRk9SRV9JRCIsIlBvc3RBY3Rpb25zIiwiZXJyb3IiLCJtb3JlVG9Mb2FkIiwiSU5DUkVBU0VfUE9TVF9WSVNJQklMSVRZIiwiYW1vdW50Iiwib3JkZXIiLCJwcmV2X3Bvc3RfaWQiLCJuZXh0X3Bvc3RfaWQiLCJ0aW1lIiwiUG9zdHMiLCJhdExhdGVzdE1lc3NhZ2UiLCJhdE9sZGVzdG1lc3NhZ2UiLCJSRUNFSVZFRF9QT1NUU19GT1JfQ0hBTk5FTF9BVF9USU1FIiwiZm9jdXNlZFBvc3RJZCIsIlVQREFURV9NT0JJTEVfVklFVyIsImlzTW9iaWxlIiwicHJlZml4IiwiYWRkTGFzdFZpZXdBdFRvUHJvZmlsZXMiLCJtYWtlQWRkTGFzdFZpZXdBdFRvUHJvZmlsZXMiLCJjdXJyZW50VGVhbUlkIiwicmVzcG9zZSIsImF1dG9jb21wbGV0ZVVzZXJzIiwidXNlcnMiLCJvdXRfb2ZfY2hhbm5lbCIsInRlcm0iLCJlcnIiLCJzZXJ2ZXJfZXJyb3JfaWQiLCJUT0dHTEVfQ0hBTk5FTF9OQU1FX1VQREFURV9NT0RBTCIsInBhcmVudFBvc3RJZCIsImFzeW5jIiwiYWN0aW9uRGlzcGF0Y2giLCJhY3Rpb25HZXRTdGF0ZSIsImNvbmZpZyIsImdldENvbmZpZyIsInQiLCJzdGF0cyIsImdldEN1cnJlbnRDaGFubmVsU3RhdHMiLCJtZW1iZXJzSW5DaGFubmVsIiwibWVtYmVyX2NvdW50IiwidGltZUJldHdlZW5Vc2VyVHlwaW5nVXBkYXRlc01pbGxpc2Vjb25kcyIsIlRpbWVCZXR3ZWVuVXNlclR5cGluZ1VwZGF0ZXNNaWxsaXNlY29uZHMiLCJtYXhOb3RpZmljYXRpb25zUGVyQ2hhbm5lbCIsIk1heE5vdGlmaWNhdGlvbnNQZXJDaGFubmVsIiwibGFzdFRpbWVUeXBpbmdTZW50IiwiRW5hYmxlVXNlclR5cGluZ01lc3NhZ2VzIiwidXNlclR5cGluZyIsIlRPR0dMRV9TSE9SVENVVFNfTU9EQUwiLCJFdmVudEVtaXR0ZXIiLCJlbWl0IiwiRXZlbnRUeXBlcyIsIlBPU1RfTElTVF9TQ1JPTExfVE9fQk9UVE9NIiwiY3VycmVudENoYW5uZWwiLCJnZXRDdXJyZW50Q2hhbm5lbCIsImNoYW5uZWxzSW5UZWFtIiwiZ2V0Q2hhbm5lbHNOYW1lTWFwSW5DdXJyZW50VGVhbSIsImRpcmVjdENoYW5uZWwiLCJnZXRBbGxEaXJlY3RDaGFubmVsc05hbWVNYXBJbkN1cnJlbnRUZWFtIiwiY2hhbm5lbHMiLCJPYmplY3QiLCJhc3NpZ24iLCJjaGFubmVsVG9Td2l0Y2hUbyIsImxvY2FsU3RvcmFnZVN0b3JlIiwiZ2V0TGFzdFZpZXdlZENoYW5uZWxOYW1lIiwiZ2V0UmVkaXJlY3RDaGFubmVsTmFtZUZvclRlYW0iLCJ0ZWFtVXJsIiwiZ2V0Q3VycmVudFJlbGF0aXZlVGVhbVVybCIsInVzZXJuYW1lIiwiZGlzcGxheV9uYW1lIiwidXNlciIsImdldFVzZXJCeVVzZXJuYW1lIiwib3BlbkRpcmVjdENoYW5uZWxUb1VzZXJJZCIsImJyb3dzZXJIaXN0b3J5IiwiZ21DaGFubmVsIiwiZm9jdXMiLCJCUk9XU0VSX0NIQU5HRV9GT0NVUyIsImVsZW1lbnQiLCJwcmV2ZW50U2Nyb2xsIiwiY29udGFpbmVyIiwiZWxlbWVudHMiLCJBcnJheSIsImlzQXJyYXkiLCJib2R5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb2N1c2FibGVTZWxlY3RvciIsImdldEZvY3VzYWJsZUVsZW1lbnRzIiwiYWN0aXZlIiwiYWN0aXZlRWxlbWVudCIsImRpcmVjdGlvbiIsIkZvY3VzIiwiRmlyc3QiLCJOZXh0IiwiRGlyZWN0aW9uIiwiUHJldmlvdXMiLCJMYXN0IiwiRXJyb3IiLCJzdGFydEluZGV4IiwiTWF0aCIsIm1heCIsImluZGV4T2YiLCJmb2N1c09wdGlvbnMiLCJOb1Njcm9sbCIsIm9mZnNldCIsInRvdGFsIiwibmV4dCIsInVuZGVmaW5lZCIsIl9uZXh0IiwiRm9jdXNSZXN1bHQiLCJuZXh0SWR4IiwiV3JhcEFyb3VuZCIsIlVuZGVyZmxvdyIsIk92ZXJmbG93IiwiaGFzQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiU3VjY2VzcyIsInVzZUNvbnRleHQiLCJBcHBDb250ZXh0IiwibG9hZE1lQW5kQ29uZmlnIiwicHJvbWlzZXMiLCJnZXRDbGllbnRDb25maWciLCJnZXRMaWNlbnNlQ29uZmlnIiwiZ2V0QXBwSW5mbyIsInJlc29sdmVkUHJvbWlzZXMiLCJhbGwiLCJnZXRVc2VySWQiLCJVc2VyQWN0aW9ucyIsInBsdWdpblRyYW5zbGF0aW9uU291cmNlcyIsImxvYWRUcmFuc2xhdGlvbnMiLCJsb2NhbGUiLCJ1cmwiLCJ0cmFuc2xhdGlvbnMiLCJlbiIsInZhbHVlcyIsInBsdWdpbkZ1bmMiLCJzZXJ2ZXJUcmFuc2xhdGlvbnMiLCJDbGllbnQ0IiwiZ2V0VHJhbnNsYXRpb25zIiwiY29uc29sZSIsIlJFQ0VJVkVEX1RSQU5TTEFUSU9OUyIsIkZhc3RDbGljayIsImxheWVyIiwib3B0aW9ucyIsIm9sZE9uQ2xpY2siLCJ0cmFja2luZ0NsaWNrIiwidHJhY2tpbmdDbGlja1N0YXJ0IiwidGFyZ2V0RWxlbWVudCIsInRvdWNoU3RhcnRYIiwidG91Y2hTdGFydFkiLCJsYXN0VG91Y2hJZGVudGlmaWVyIiwidG91Y2hCb3VuZGFyeSIsInRhcERlbGF5IiwidGFwVGltZW91dCIsIm5vdE5lZWRlZCIsIm1ldGhvZHMiLCJjb250ZXh0IiwidGhpcyIsImwiLCJiaW5kIiwiZGV2aWNlSXNBbmRyb2lkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uTW91c2UiLCJvbkNsaWNrIiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwib25Ub3VjaENhbmNlbCIsIkV2ZW50IiwicHJvdG90eXBlIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhbGxiYWNrIiwiY2FwdHVyZSIsInJtdiIsIk5vZGUiLCJjYWxsIiwiaGlqYWNrZWQiLCJhZHYiLCJldmVudCIsInByb3BhZ2F0aW9uU3RvcHBlZCIsIm9uY2xpY2siLCJtZXRob2QiLCJhcHBseSIsImFyZ3VtZW50cyIsImRldmljZUlzV2luZG93c1Bob25lIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiZGV2aWNlSXNJT1MiLCJ0ZXN0IiwiZGV2aWNlSXNJT1M0IiwiZGV2aWNlSXNJT1NXaXRoQmFkVGFyZ2V0IiwiZGV2aWNlSXNCbGFja0JlcnJ5MTAiLCJuZWVkc0NsaWNrIiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImRpc2FibGVkIiwiY2xhc3NOYW1lIiwibmVlZHNGb2N1cyIsInJlYWRPbmx5Iiwic2VuZENsaWNrIiwiY2xpY2tFdmVudCIsInRvdWNoIiwiYmx1ciIsImNoYW5nZWRUb3VjaGVzIiwiY3JlYXRlRXZlbnQiLCJpbml0TW91c2VFdmVudCIsImRldGVybWluZUV2ZW50VHlwZSIsIndpbmRvdyIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY2xpZW50WCIsImNsaWVudFkiLCJmb3J3YXJkZWRUb3VjaEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInRhZ05hbWUiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInVwZGF0ZVNjcm9sbFBhcmVudCIsInNjcm9sbFBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJmYXN0Q2xpY2tTY3JvbGxQYXJlbnQiLCJjb250YWlucyIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsImZhc3RDbGlja0xhc3RTY3JvbGxUb3AiLCJzY3JvbGxUb3AiLCJnZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0IiwiZXZlbnRUYXJnZXQiLCJub2RlVHlwZSIsIlRFWFRfTk9ERSIsInBhcmVudE5vZGUiLCJzZWxlY3Rpb24iLCJ0YXJnZXRUb3VjaGVzIiwiZ2V0U2VsZWN0aW9uIiwicmFuZ2VDb3VudCIsImlzQ29sbGFwc2VkIiwiaWRlbnRpZmllciIsInByZXZlbnREZWZhdWx0IiwidGltZVN0YW1wIiwicGFnZVgiLCJwYWdlWSIsImxhc3RDbGlja1RpbWUiLCJ0b3VjaEhhc01vdmVkIiwiYm91bmRhcnkiLCJhYnMiLCJmaW5kQ29udHJvbCIsImxhYmVsRWxlbWVudCIsImNvbnRyb2wiLCJodG1sRm9yIiwicXVlcnlTZWxlY3RvciIsImZvckVsZW1lbnQiLCJ0YXJnZXRUYWdOYW1lIiwiY2FuY2VsTmV4dENsaWNrIiwiZWxlbWVudEZyb21Qb2ludCIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJ0b3AiLCJjYW5jZWxhYmxlIiwic3RvcFByb3BhZ2F0aW9uIiwicGVybWl0dGVkIiwiZGV0YWlsIiwiZGVzdHJveSIsIm1ldGFWaWV3cG9ydCIsImNocm9tZVZlcnNpb24iLCJibGFja2JlcnJ5VmVyc2lvbiIsIm9udG91Y2hzdGFydCIsImV4ZWMiLCJjb250ZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsV2lkdGgiLCJvdXRlcldpZHRoIiwibWF0Y2giLCJzdHlsZSIsIm1zVG91Y2hBY3Rpb24iLCJ0b3VjaEFjdGlvbiIsImF0dGFjaCIsIm1vZHVsZSIsImV4cG9ydHMiLCJwcm9wcyIsInhtbG5zIiwiZmlsbCIsInZpZXdCb3giLCJzdHJva2UiLCJjcmVhdGVTZWxlY3RvciIsImVuYWJsZWQiLCJ1c2VySUQiLCJjaGFubmVsSUQiLCJ0ZWFtSUQiLCJiaW5kQ2xpZW50RnVuYyIsImNsaWVudEZ1bmMiLCJnZXRBcHBzQmluZGluZ3MiLCJvblN1Y2Nlc3MiLCJBcHBzVHlwZXMiLCJSRUNFSVZFRF9BUFBfQklORElOR1MiLCJrbm93blVzZXJzIiwiZmV0Y2hSZXN1bHQiLCJnZXRLbm93blVzZXJzIiwiU2V0IiwiYWRkIiwiYWxsVXNlcnMiLCJrZXlzIiwiZ2V0VXNlcnMiLCJ1c2Vyc1RvUmVtb3ZlIiwiaGFzIiwieCIsInVzZXJUb1JlbW92ZSIsIlVzZXJUeXBlcyIsIlBST0ZJTEVfTk9fTE9OR0VSX1ZJU0lCTEUiLCJBZG1pblR5cGVzIiwiR0VUX0FOQUxZVElDU19SRVFVRVNUIiwiZ2V0QW5hbHl0aWNzIiwiR0VUX0FOQUxZVElDU19GQUlMVVJFIiwibG9nRXJyb3IiLCJHRVRfQU5BTFlUSUNTX1NVQ0NFU1MiLCJSRUNFSVZFRF9TWVNURU1fQU5BTFlUSUNTIiwiUkVDRUlWRURfVEVBTV9BTkFMWVRJQ1MiLCJnZXRNeUNoYW5uZWxNZW1iZXJzaGlwcyIsImdldEFsbENoYW5uZWxzIiwicHJvZmlsZXMiLCJtZW1iZXJzaGlwcyIsImFsbENoYW5uZWxzIiwiRE1jaGFubmVscyIsInJlZHVjZSIsImFjYyIsIkdlbmVyYWwiLCJtYXAiLCJwcm9maWxlIiwibWVtYmVyc2hpcCIsImdldFByZXZpb3VzVGVhbUlkIiwidmlld3MiLCJ0b2FzdFN0YXR1cyIsInByZWZldGNoIiwiUFJFRkVUQ0hfUE9TVFNfRk9SX0NIQU5ORUwiLCJSZXF1ZXN0U3RhdHVzIiwiU1RBUlRFRCIsIkZBSUxVUkUiLCJTVUNDRVNTIiwic2luY2UiLCJzb2NrZXRTdGF0dXMiLCJ3ZWJzb2NrZXQiLCJnZXRTb2NrZXRTdGF0dXMiLCJzaW5jZVRpbWVUb0dldFBvc3RzIiwibGFzdFBvc3RzQXBpQ2FsbEZvckNoYW5uZWwiLCJsYXN0R2V0UG9zdHMiLCJnZXRMYXN0UG9zdHNBcGlUaW1lRm9yQ2hhbm5lbCIsImxhc3REaXNjb25uZWN0QXQiLCJNQVhfV0VCU09DS0VUX1JFVFJZX1RJTUUiLCJXZWJDbGllbnQiLCJjb25zdHJ1Y3RvciIsImNvbm4iLCJjb25uZWN0aW9uVXJsIiwicmVzcG9uc2VTZXF1ZW5jZSIsInNlcnZlclNlcXVlbmNlIiwiY29ubmVjdEZhaWxDb3VudCIsImV2ZW50Q2FsbGJhY2siLCJyZXNwb25zZUNhbGxiYWNrcyIsImZpcnN0Q29ubmVjdENhbGxiYWNrIiwicmVjb25uZWN0Q2FsbGJhY2siLCJtaXNzZWRFdmVudENhbGxiYWNrIiwiZXJyb3JDYWxsYmFjayIsImNsb3NlQ2FsbGJhY2siLCJjb25uZWN0aW9uSWQiLCJpbml0aWFsaXplIiwidG9rZW4iLCJXZWJTb2NrZXQiLCJyZWxpYWJsZVdlYlNvY2tldHMiLCJzdG9yZSIsIkVuYWJsZVJlbGlhYmxlV2ViU29ja2V0cyIsIm9ub3BlbiIsInNlbmRNZXNzYWdlIiwib25jbG9zZSIsInJldHJ5VGltZSIsIm9uZXJyb3IiLCJldnQiLCJvbm1lc3NhZ2UiLCJtc2ciLCJKU09OIiwicGFyc2UiLCJzZXFfcmVwbHkiLCJkZWxldGVQcm9wZXJ0eSIsIlNvY2tldEV2ZW50cyIsIkhFTExPIiwiY29ubmVjdGlvbl9pZCIsInNlcSIsImNsb3NlIiwic2V0RXZlbnRDYWxsYmFjayIsInNldEZpcnN0Q29ubmVjdENhbGxiYWNrIiwic2V0UmVjb25uZWN0Q2FsbGJhY2siLCJzZXRNaXNzZWRFdmVudENhbGxiYWNrIiwic2V0RXJyb3JDYWxsYmFjayIsInNldENsb3NlQ2FsbGJhY2siLCJyZWFkeVN0YXRlIiwiT1BFTiIsImFjdGlvbiIsInJlc3BvbnNlQ2FsbGJhY2siLCJzZW5kIiwic3RyaW5naWZ5IiwiQ0xPU0VEIiwicGFyZW50SWQiLCJwYXJlbnRfaWQiLCJ1c2VyVXBkYXRlQWN0aXZlU3RhdHVzIiwidXNlcklzQWN0aXZlIiwibWFudWFsIiwidXNlcl9pc19hY3RpdmUiLCJnZXRTdGF0dXNlcyIsImdldFN0YXR1c2VzQnlJZHMiLCJ1c2VySWRzIiwidXNlcl9pZHMiLCJwbHVnaW5FdmVudEhhbmRsZXJzIiwibG9nIiwiY29ublVybCIsIldlYnNvY2tldFVSTCIsIlVSTCIsImltcG9ydCIsInByb3RvY29sIiwiaG9zdCIsIldlYnNvY2tldFNlY3VyZVBvcnQiLCJXZWJzb2NrZXRQb3J0Iiwic3Vic3RyaW5nIiwiZ2V0VXJsVmVyc2lvbiIsImhhbmRsZUV2ZW50IiwiaGFuZGxlRmlyc3RDb25uZWN0IiwicmVjb25uZWN0IiwiaGFuZGxlQ2xvc2UiLCJnZXRUb2tlbiIsImluY2x1ZGVXZWJTb2NrZXQiLCJHZW5lcmFsVHlwZXMiLCJXRUJTT0NLRVRfU1VDQ0VTUyIsInRpbWVzdGFtcCIsInRlYW1zIiwibW9zdFJlY2VudElkIiwibW9zdFJlY2VudFBvc3QiLCJsb2FkQ2hhbm5lbHNGb3JDdXJyZW50VXNlcjIiLCJoYW5kbGVSZWZyZXNoQXBwc0JpbmRpbmdzIiwiZ2V0UG9zdHMiLCJUZWFtQWN0aW9ucyIsImNoZWNrRm9yTW9kaWZpZWRVc2VycyIsIlJFU0VUX1dTX0VSUk9SX0NPVU5UIiwiY2xlYXJFcnJvcnMiLCJmYWlsQ291bnQiLCJtZXNzYWdlIiwiQW5ub3VuY2VtZW50QmFyTWVzc2FnZXMiLCJXRUJTT0NLRVRfUE9SVF9FUlJPUiIsIldFQlNPQ0tFVF9GQUlMVVJFIiwiSU5DUkVNRU5UX1dTX0VSUk9SX0NPVU5UIiwiUE9TVEVEIiwiRVBIRU1FUkFMX01FU1NBR0UiLCJQT1NUX0VESVRFRCIsInBvc3QiLCJyZWNlaXZlZFBvc3QiLCJicm9hZGNhc3QiLCJpc0FjdGl2ZSIsInZpZXdDaGFubmVsIiwiUE9TVF9ERUxFVEVEIiwicG9zdERlbGV0ZWQiLCJpc19waW5uZWQiLCJQT1NUX1VOUkVBRCIsIlBPU1RfVU5SRUFEX1NVQ0NFU1MiLCJtc2dDb3VudCIsIm1zZ19jb3VudCIsIm1lbnRpb25Db3VudCIsIm1lbnRpb25fY291bnQiLCJMRUFWRV9URUFNIiwiUkVDRUlWRURfUFJPRklMRV9OT1RfSU5fVEVBTSIsIlRlYW1UeXBlcyIsIlJFTU9WRV9NRU1CRVJfRlJPTV9URUFNIiwiY2hhbm5lbHNQZXJUZWFtIiwiZ2V0Q2hhbm5lbHNJblRlYW0iLCJSRU1PVkVfTUVNQkVSX0ZST01fQ0hBTk5FTCIsImN1cnJlbnRVc2VyIiwiZ2V0Q3VycmVudFVzZXIiLCJnbG9iYWwiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwic3RhcnRzV2l0aCIsImlzR3Vlc3QiLCJyZW1vdmVOb3RWaXNpYmxlVXNlcnMiLCJ0ZWFtIiwiZ2V0VGVhbSIsIm1lbWJlcnMiLCJnZXRDaGFubmVsTWVtYmVyc0luQ2hhbm5lbHMiLCJpc01lbWJlciIsInNvbWUiLCJVUERBVEVfVEVBTSIsIlVQREFURURfVEVBTSIsIlVQREFURV9URUFNX1NDSEVNRSIsIkRFTEVURV9URUFNIiwiZGVsZXRlZFRlYW0iLCJkZWxldGVfYXQiLCJteU1lbWJlcnMiLCJ0ZWFtTWVtYmVycyIsInRlYW1NZW1iZXIiLCJmaW5kIiwibSIsIm5ld1RlYW1JZCIsIm15VGVhbXMiLCJtZW1iZXJUZWFtSWQiLCJSRUNFSVZFRF9URUFNX0RFTEVURUQiLCJTRUxFQ1RfVEVBTSIsImdsb2JhbFN0YXRlIiwicmVkaXJlY3RDaGFubmVsIiwiZ2V0Q3VycmVudFRlYW1VcmwiLCJBRERFRF9UT19URUFNIiwiVVNFUl9BRERFRCIsImRvRGlzcGF0Y2giLCJkb0dldFN0YXRlIiwibGljZW5zZSIsImdldExpY2Vuc2UiLCJpc1RpbWV6b25lRW5hYmxlZCIsIkV4cGVyaW1lbnRhbFRpbWV6b25lIiwiUkVDRUlWRURfUFJPRklMRV9JTl9DSEFOTkVMIiwiSXNMaWNlbnNlZCIsIkxEQVBHcm91cHMiLCJnZXRDaGFubmVsTWVtYmVyQ291bnRzQnlHcm91cCIsImZldGNoQ2hhbm5lbEFuZEFkZFRvU2lkZWJhciIsIkNsb3VkIiwiaXNDdXJyZW50VXNlclN5c3RlbUFkbWluIiwiZ2V0U3RhbmRhcmRBbmFseXRpY3MiLCJoYW5kbGVVc2VyQWRkZWRFdmVudCIsIlVTRVJfUkVNT1ZFRCIsInJoc0NoYW5uZWxJZCIsImdldFNlbGVjdGVkQ2hhbm5lbElkIiwicmVtb3Zlcl9pZCIsIkxFQVZFX0NIQU5ORUwiLCJnZXRVc2VyIiwibG9hZFVzZXIiLCJpbmZvIiwiUkVDRUlWRURfUFJPRklMRV9OT1RfSU5fQ0hBTk5FTCIsImhhdmVJU3lzdGVtUGVybWlzc2lvbiIsInBlcm1pc3Npb24iLCJQZXJtaXNzaW9ucyIsIlZJRVdfTUVNQkVSUyIsImhhdmVJVGVhbVBlcm1pc3Npb24iLCJVU0VSX1VQREFURUQiLCJ1c2VySXNHdWVzdCIsImlzTERBUEVuYWJsZWQiLCJnZXRNZW1iZXJzSW5DdXJyZW50Q2hhbm5lbCIsIm1lbWJlckV4aXN0cyIsImdldENoYW5uZWxNZW1iZXIiLCJ1cGRhdGVfYXQiLCJSRUNFSVZFRF9QUk9GSUxFIiwiUk9MRV9BRERFRCIsInJvbGUiLCJSb2xlVHlwZXMiLCJSRUNFSVZFRF9ST0xFIiwiUk9MRV9SRU1PVkVEIiwiUk9MRV9ERUxFVEVEIiwiQ0hBTk5FTF9TQ0hFTUVfVVBEQVRFRCIsIk1FTUJFUlJPTEVfVVBEQVRFRCIsIm1lbWJlckRhdGEiLCJuZXdSb2xlcyIsInJvbGVzIiwic3BsaXQiLCJsb2FkUm9sZXNJZk5lZWRlZCIsIlJFQ0VJVkVEX01ZX1RFQU1fTUVNQkVSIiwiUk9MRV9VUERBVEVEIiwiQ0hBTk5FTF9DUkVBVEVEIiwibXlEaXNwYXRjaCIsIm15R2V0U3RhdGUiLCJnZXRDaGFubmVsQW5kTXlNZW1iZXIiLCJhZGRDaGFubmVsVG9Jbml0aWFsQ2F0ZWdvcnkiLCJoYW5kbGVDaGFubmVsQ3JlYXRlZEV2ZW50IiwiQ0hBTk5FTF9ERUxFVEVEIiwidmlld0FyY2hpdmVkQ2hhbm5lbHMiLCJFeHBlcmltZW50YWxWaWV3QXJjaGl2ZWRDaGFubmVscyIsIlJFQ0VJVkVEX0NIQU5ORUxfREVMRVRFRCIsImRlbGV0ZUF0IiwiQ0hBTk5FTF9VTkFSQ0hJVkVEIiwiUkVDRUlWRURfQ0hBTk5FTF9VTkFSQ0hJVkVEIiwiQ0hBTk5FTF9DT05WRVJURUQiLCJSRUNFSVZFRF9DSEFOTkVMIiwiUFJJVkFURV9DSEFOTkVMIiwiQ0hBTk5FTF9VUERBVEVEIiwicmVwbGFjZSIsImhhbmRsZUNoYW5uZWxVcGRhdGVkRXZlbnQiLCJDSEFOTkVMX01FTUJFUl9VUERBVEVEIiwiY2hhbm5lbE1lbWJlciIsIlJFQ0VJVkVEX01ZX0NIQU5ORUxfTUVNQkVSIiwiRElSRUNUX0FEREVEIiwiR1JPVVBfQURERUQiLCJoYW5kbGVHcm91cEFkZGVkRXZlbnQiLCJQUkVGRVJFTkNFX0NIQU5HRUQiLCJwcmVmZXJlbmNlIiwiYWRkZWROZXdEbVVzZXIiLCJQUkVGRVJFTkNFU19DSEFOR0VEIiwicHJlZmVyZW5jZXMiLCJmaW5kSW5kZXgiLCJQUkVGRVJFTkNFU19ERUxFVEVEIiwiREVMRVRFRF9QUkVGRVJFTkNFUyIsIlRZUElORyIsIldlYnNvY2tldEV2ZW50cyIsIlNUT1BfVFlQSU5HIiwicGFyc2VJbnQiLCJnZXRNaXNzaW5nUHJvZmlsZXNCeUlkcyIsImdldFN0YXR1c0ZvclVzZXJJZCIsIk9OTElORSIsImhhbmRsZVVzZXJUeXBpbmdFdmVudCIsIlNUQVRVU19DSEFOR0VEIiwiUkVDRUlWRURfU1RBVFVTRVMiLCJzZXJ2ZXJfdmVyc2lvbiIsIlJFQUNUSU9OX0FEREVEIiwicmVhY3Rpb24iLCJnZXRDdXN0b21FbW9qaUZvclJlYWN0aW9uIiwiZW1vamlfbmFtZSIsIlBvc3RUeXBlcyIsIlJFQ0VJVkVEX1JFQUNUSU9OIiwiUkVBQ1RJT05fUkVNT1ZFRCIsIlJFQUNUSU9OX0RFTEVURUQiLCJFTU9KSV9BRERFRCIsImVtb2ppIiwiRW1vamlUeXBlcyIsIlJFQ0VJVkVEX0NVU1RPTV9FTU9KSSIsIkNIQU5ORUxfVklFV0VEIiwibWFya0NoYW5uZWxBc1JlYWQiLCJQTFVHSU5fRU5BQkxFRCIsIlBMVUdJTl9ESVNBQkxFRCIsIm1hbmlmZXN0IiwiVVNFUl9ST0xFX1VQREFURUQiLCJkZW1vdGVkIiwiaW5jbHVkZXMiLCJQRVJNSVNTSU9OU19TWVNURU1fQURNSU4iLCJDT05GSUdfQ0hBTkdFRCIsIkNMSUVOVF9DT05GSUdfUkVDRUlWRUQiLCJMSUNFTlNFX0NIQU5HRUQiLCJDTElFTlRfTElDRU5TRV9SRUNFSVZFRCIsIlBMVUdJTl9TVEFUVVNFU19DSEFOR0VEIiwiUkVDRUlWRURfUExVR0lOX1NUQVRVU0VTIiwicGx1Z2luX3N0YXR1c2VzIiwiT1BFTl9ESUFMT0ciLCJkaWFsb2ciLCJJbnRlZ3JhdGlvblR5cGVzIiwiUkVDRUlWRURfRElBTE9HIiwiY3VycmVudFRyaWdnZXJJZCIsImludGVncmF0aW9ucyIsImRpYWxvZ1RyaWdnZXJJZCIsInRyaWdnZXJfaWQiLCJSRUNFSVZFRF9HUk9VUCIsImdyb3VwIiwiR3JvdXBUeXBlcyIsIlJFQ0VJVkVEX01ZX0dST1VQUyIsIlJFQ0VJVkVEX0dST1VQX0FTU09DSUFURURfVE9fVEVBTSIsImdyb3VwcyIsImdyb3VwX2lkIiwiUkVDRUlWRURfR1JPVVBfTk9UX0FTU09DSUFURURfVE9fVEVBTSIsIlJFQ0VJVkVEX0dST1VQX0FTU09DSUFURURfVE9fQ0hBTk5FTCIsIlJFQ0VJVkVEX0dST1VQX05PVF9BU1NPQ0lBVEVEX1RPX0NIQU5ORUwiLCJXQVJOX01FVFJJQ19TVEFUVVNfUkVDRUlWRUQiLCJyZWNlaXZlZERhdGEiLCJ3YXJuTWV0cmljU3RhdHVzIiwiYmFubmVyRGF0YSIsIldhcm5NZXRyaWNUeXBlcyIsIlNZU1RFTV9XQVJOX01FVFJJQ19OVU1CRVJfT0ZfQUNUSVZFX1VTRVJTXzUwMCIsIldBUk5fTUVUUklDX1NUQVRVU19OVU1CRVJfT0ZfVVNFUlMiLCJTWVNURU1fV0FSTl9NRVRSSUNfTlVNQkVSX09GX1BPU1RTXzJNIiwiV0FSTl9NRVRSSUNfU1RBVFVTX05VTUJFUl9PRl9QT1NUUyIsIlNIT1dfTk9USUNFIiwiV0FSTl9NRVRSSUNfU1RBVFVTX1JFTU9WRUQiLCJ3YXJuTWV0cmljSWQiLCJTSURFQkFSX0NBVEVHT1JZX0NSRUFURUQiLCJmZXRjaE15Q2F0ZWdvcmllcyIsImhhbmRsZVNpZGViYXJDYXRlZ29yeUNyZWF0ZWQiLCJTSURFQkFSX0NBVEVHT1JZX1VQREFURUQiLCJoYW5kbGVTaWRlYmFyQ2F0ZWdvcnlVcGRhdGVkIiwiU0lERUJBUl9DQVRFR09SWV9ERUxFVEVEIiwiaGFuZGxlU2lkZWJhckNhdGVnb3J5RGVsZXRlZCIsIlNJREVCQVJfQ0FURUdPUllfT1JERVJfVVBEQVRFRCIsInJlY2VpdmVkQ2F0ZWdvcnlPcmRlciIsImhhbmRsZVNpZGViYXJDYXRlZ29yeU9yZGVyVXBkYXRlZCIsIlVTRVJfQUNUSVZBVElPTl9TVEFUVVNfQ0hBTkdFRCIsImdldFN1YnNjcmlwdGlvblN0YXRzIiwiQ2xvdWRUeXBlcyIsIlJFQ0VJVkVEX0NMT1VEX1NVQlNDUklQVElPTl9TVEFUUyIsIkNMT1VEX1BBWU1FTlRfU1RBVFVTX1VQREFURUQiLCJnZXRTdWJzY3JpcHRpb24iLCJSRUNFSVZFRF9DTE9VRF9TVUJTQ1JJUFRJT04iLCJGSVJTVF9BRE1JTl9WSVNJVF9NQVJLRVRQTEFDRV9TVEFUVVNfUkVDRUlWRUQiLCJmaXJzdEFkbWluVmlzaXRNYXJrZXRwbGFjZVN0YXR1cyIsIlRIUkVBRF9GT0xMT1dfQ0hBTkdFRCIsImdldFRocmVhZCIsInRocmVhZF9pZCIsImZldGNoVGhyZWFkIiwiaGFuZGxlVGhyZWFkRm9sbG93Q2hhbmdlZCIsIlRIUkVBRF9SRUFEX0NIQU5HRUQiLCJ0aHJlYWQiLCJ0aHJlYWRzIiwicHJldlVucmVhZE1lbnRpb25zIiwidW5yZWFkX21lbnRpb25zIiwibmV3VW5yZWFkTWVudGlvbnMiLCJwcmV2VW5yZWFkUmVwbGllcyIsInVucmVhZF9yZXBsaWVzIiwibmV3VW5yZWFkUmVwbGllcyIsImhhbmRsZVRocmVhZFJlYWRDaGFuZ2VkIiwiVEhSRUFEX1VQREFURUQiLCJ0aHJlYWREYXRhIiwiaGFuZGxlVGhyZWFkVXBkYXRlZCIsIkNPTlRBQ1RfQ0hBTkdFRCIsImNvbnRhY3QiLCJDb250YWN0VHlwZXMiLCJORVdfQ09OVEFDVCIsIkFQUFNfRlJBTUVXT1JLX1JFRlJFU0hfQklORElOR1MiLCJwbHVnaW5FdmVudHMiLCJoYXNPd25Qcm9wZXJ0eSIsImhhbmRsZU5ld1Bvc3RFdmVudERlYm91bmNlZCIsIndhaXQiLCJ0aW1lb3V0IiwicXVldWUiLCJjb3VudCIsInRyaWdnZXJlZCIsImNydEVuYWJsZWQiLCJpc0NvbGxhcHNlZFRocmVhZHNFbmFibGVkIiwicmVjZWl2ZWROZXdQb3N0IiwiZ2V0VGhyZWFkc0ZvclBvc3RzIiwiaGFuZGxlTmV3UG9zdEV2ZW50cyIsImhhbmRsZU5ld1Bvc3QiLCJnZXRJc01hbnVhbFN0YXR1c0ZvclVzZXJJZCIsInNldF9vbmxpbmUiLCJVc2VyU3RhdHVzZXMiLCJoYW5kbGVOZXdQb3N0RXZlbnQiLCJkZWJvdW5jZVBvc3RFdmVudCIsIl9kZWZpbmVQcm9wZXJ0eSIsIm9iaiIsImtleSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiaW52YXJpYW50IiwiY29uZGl0aW9uIiwiZm9ybWF0IiwiX2xlbiIsImFyZ3MiLCJfa2V5IiwiYXJnSW5kZXgiLCJTdHJpbmciLCJmcmFtZXNUb1BvcCIsIkRpc3BhdGNoZXIiLCJfY2FsbGJhY2tzIiwiX2lzRGlzcGF0Y2hpbmciLCJfaXNIYW5kbGVkIiwiX2lzUGVuZGluZyIsIl9sYXN0SUQiLCJfcHJvdG8iLCJyZWdpc3RlciIsInVucmVnaXN0ZXIiLCJ3YWl0Rm9yIiwiaWRzIiwiaWkiLCJfaW52b2tlQ2FsbGJhY2siLCJwYXlsb2FkIiwiX3N0YXJ0RGlzcGF0Y2hpbmciLCJfc3RvcERpc3BhdGNoaW5nIiwiaXNEaXNwYXRjaGluZyIsIl9wZW5kaW5nUGF5bG9hZCIsIlBheWxvYWRTb3VyY2VzIiwiQXBwRGlzcGF0Y2hlciIsIkZsdXgiLCJoYW5kbGVTZXJ2ZXJBY3Rpb24iLCJ3YXJuIiwic291cmNlIiwiU0VSVkVSX0FDVElPTiIsIlZJRVdfQUNUSU9OIiwiQnJvd3NlclN0b3JlIiwic2V0SXRlbSIsIkFjdGlvbnMiLCJnZXRJdGVtIiwiZGVmYXVsdFZhbHVlIiwiU2VsZWN0b3JzIiwicmVtb3ZlSXRlbSIsInNldEdsb2JhbEl0ZW0iLCJnZXRHbG9iYWxJdGVtIiwicmVtb3ZlR2xvYmFsSXRlbSIsInNpZ25hbExvZ291dCIsImlzTG9jYWxTdG9yYWdlU3VwcG9ydGVkIiwibG9nb3V0SWQiLCJTdG9yYWdlUHJlZml4ZXMiLCJBTk5PVU5DRU1FTlQiLCJMT0dPVVQiLCJpc1NpZ25hbGxpbmdMb2dvdXQiLCJzZXNzaW9uU3RvcmFnZSIsInNpZ25hbExvZ2luIiwibG9naW5JZCIsIkxPR0lOIiwiaXNTaWduYWxsaW5nTG9naW4iLCJjbGVhciIsImhhc0NoZWNrZWRMb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2VTdXBwb3J0ZWQiLCJsb2NhbFN0b3JhZ2UiLCJlIiwiRXJyb3JQYWdlVHlwZXMiLCJMT0NBTF9TVE9SQUdFIiwiaGFzU2VlbkxhbmRpbmdQYWdlIiwiTEFORElOR19QQUdFX1NFRU4iLCJzZXRMYW5kaW5nUGFnZVNlZW4iLCJsYW5kaW5nUGFnZVNlZW4iLCJnZXRMYW5kaW5nUHJlZmVyZW5jZSIsInNpdGVVcmwiLCJMQU5ESU5HX1BSRUZFUkVOQ0UiLCJzZXRMYW5kaW5nUHJlZmVyZW5jZVRvTWF0dGVybW9zdEFwcCIsIkxhbmRpbmdQcmVmZXJlbmNlVHlwZXMiLCJNQVRURVJNT1NUQVBQIiwic2V0TGFuZGluZ1ByZWZlcmVuY2VUb0Jyb3dzZXIiLCJCUk9XU0VSIiwiY2xlYXJMYW5kaW5nUHJlZmVyZW5jZSIsInJlZGlyZWN0VG8iLCJzaG91bGRTaWduYWxMb2dvdXQiLCJ1c2VyQWN0aW9uIiwiaGlzdG9yeSIsInNldFdhc0xvZ2dlZEluIiwibG9nb3V0IiwidGhlbiIsImNhdGNoIiwiZ2V0VGVhbU1lbWJlcnNoaXBzIiwibG9hZE1lIiwiZ2V0Q3VycmVudExvY2FsZSIsImdldE15VGVhbXMiLCJ0ZWFtc09yZGVyIiwidGVhbXNPcmRlckxpc3QiLCJzb3J0IiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwibnVtZXJpYyIsImNvbXBhcmVUZWFtc0J5RGlzcGxheU5hbWUiLCJmaWx0ZXJBbmRTb3J0VGVhbXNCeURpc3BsYXlOYW1lIiwibXlUZWFtIiwiaCIsInBhdGhzdHIiLCJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJzZXRUaXRsZSIsInNlbGVjdERvdCIsIkFwcENvbnRleHRQcm92aWRlciIsIlByb3ZpZGVyIiwiUHVyZUNvbXBvbmVudCIsInNldEFjY2VwdExhbmd1YWdlIiwibG9hZFRyYW5zbGF0aW9uc0lmTmVjZXNzYXJ5IiwibG9jYWxlSW5mbyIsIkkxOG4iLCJjb21wb25lbnREaWRNb3VudCIsImxvY2FsaXplTWVzc2FnZSIsImhhbmRsZUxvY2FsZUNoYW5nZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsInJlbmRlciIsImNoaWxkcmVuIiwiQmFzZUludGxQcm92aWRlciIsIm1lc3NhZ2VzIiwidGV4dENvbXBvbmVudCIsIndyYXBSaWNoVGV4dENodW5rc0luRnJhZ21lbnQiLCJjb25uZWN0IiwiYmluZEFjdGlvbkNyZWF0b3JzIiwiSW50bFByb3ZpZGVyIiwiZm9ybWF0TWVzc2FnZSIsInVzZUludGwiLCJ5IiwiZW5hYmxlQmFja2dyb3VuZCIsImRlZmF1bHRNZXNzYWdlIiwiZCIsInJ4IiwicnkiLCJ0cmFuc2Zvcm0iLCJmaWxsUnVsZSIsImNsaXBSdWxlIiwiRmVhdHVyZXMiLCJSZW5kZXJTdHJhdGVneSIsIl9leHRlbmRzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJleGNsdWRlZCIsInNvdXJjZUtleXMiLCJfYXJyYXlMaWtlVG9BcnJheSIsImFyciIsImxlbiIsImFycjIiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlIiwibyIsImFsbG93QXJyYXlMaWtlIiwiaXQiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm1pbkxlbiIsIm4iLCJzbGljZSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsImRvbmUiLCJUeXBlRXJyb3IiLCJsb29rdXAiLCJyZXR1cm5WYWx1ZSIsImpvaW4iLCJjYXB0dXJlU3RhY2tUcmFjZSIsIl9yZWYiLCJzbG90IiwiZGVmYXVsdFRhZyIsImZlYXR1cmVzIiwiX3JlZiR2aXNpYmxlIiwidmlzaWJsZSIsIl9yZW5kZXIiLCJmZWF0dXJlRmxhZ3MiLCJOb25lIiwiU3RhdGljIiwiX3Byb3BzJHN0YXRpYyIsImlzU3RhdGljIiwicmVzdCIsIl9tYXRjaCIsIl9wcm9wcyR1bm1vdW50IiwidW5tb3VudCIsIl9yZXN0IiwiVW5tb3VudCIsIkhpZGRlbiIsImhpZGRlbiIsImRpc3BsYXkiLCJ0YWciLCJfcmVmMiIsIl9vbWl0Iiwib21pdCIsIl9vbWl0JGFzIiwiYXMiLCJDb21wb25lbnQiLCJfb21pdCRyZWZOYW1lIiwicmVmTmFtZSIsInBhc3NUaHJvdWdoUHJvcHMiLCJyZWZSZWxhdGVkUHJvcHMiLCJyZWYiLCJyZXNvbHZlZENoaWxkcmVuIiwiRnJhZ21lbnQiLCJpc1ZhbGlkRWxlbWVudCIsImxpbmUiLCJjbG9uZUVsZW1lbnQiLCJleGlzdGluZ1Byb3BzIiwiZnVuY3Rpb25zVG9NZXJnZSIsIl9zdGVwIiwiY2xvbmUiLCJfbG9vcCIsIl9PYmplY3QkYXNzaWduIiwiZnVuYyIsImRlZmF1bHRQcmV2ZW50ZWQiLCJfaXRlcmF0b3IiLCJtZXJnZUV2ZW50RnVuY3Rpb25zIiwib2JqZWN0IiwiY29tcGFjdCIsImNyZWF0ZUVsZW1lbnQiLCJmb3J3YXJkUmVmV2l0aEFzIiwiY29tcG9uZW50IiwiX2NvbXBvbmVudCRkaXNwbGF5TmFtIiwiZm9yd2FyZFJlZiIsImRpc3BsYXlOYW1lIiwia2V5c1RvT21pdCIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJLZXlzIiwidXNlSXNvTW9ycGhpY0VmZmVjdCIsInVzZUxheW91dEVmZmVjdCIsInVzZUVmZmVjdCIsInNlcnZlckhhbmRvZmZDb21wbGV0ZSIsInVzZVNlcnZlckhhbmRvZmZDb21wbGV0ZSIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwic2V0U2VydmVySGFuZG9mZkNvbXBsZXRlIiwidXNlU3luY1JlZnMiLCJyZWZzIiwiY2FjaGUiLCJ1c2VSZWYiLCJjdXJyZW50IiwidXNlQ2FsbGJhY2siLCJpc0Rpc2FibGVkUmVhY3RJc3N1ZTc3MTEiLCJfcGFyZW50IiwicGFyZW50IiwibGVnZW5kIiwiSFRNTEZpZWxkU2V0RWxlbWVudCIsIkhUTUxMZWdlbmRFbGVtZW50IiwiaXNQYXJlbnREaXNhYmxlZCIsInByZXZpb3VzIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImlzRmlyc3RMZWdlbmQiLCJnZW5lcmF0ZUlkIiwidXNlSWQiLCJyZWFkeSIsInNldElkIiwidXNlV2luZG93RXZlbnQiLCJsaXN0ZW5lciIsImxpc3RlbmVyUmVmIiwiaGFuZGxlciIsIkZvY3VzYWJsZU1vZGUiLCJzZWxlY3RvciIsInVzZUlzTW91bnRlZCIsIm1vdW50ZWQiLCJTdGF0ZSIsIl9yZWR1Y2VycyIsIk1lbnVTdGF0ZXMiLCJDb250ZXh0IiwidXNlT3BlbkNsb3NlZCIsIk9wZW5DbG9zZWRQcm92aWRlciIsInJlc29sdmVUeXBlIiwiX3Byb3BzJGFzIiwidXNlUmVzb2x2ZUJ1dHRvblR5cGUiLCJzZXRUeXBlIiwiSFRNTEJ1dHRvbkVsZW1lbnQiLCJkaXNwb3NhYmxlcyIsImFwaSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyYWYiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm5leHRGcmFtZSIsIl9zZXRUaW1lb3V0IiwidGltZXIiLCJjbGVhclRpbWVvdXQiLCJjYiIsImRpc3Bvc2UiLCJzcGxpY2UiLCJ1c2VEaXNwb3NhYmxlcyIsImNhbGN1bGF0ZUFjdGl2ZUluZGV4IiwicmVzb2x2ZXJzIiwiaXRlbXMiLCJyZXNvbHZlSXRlbXMiLCJjdXJyZW50QWN0aXZlSW5kZXgiLCJyZXNvbHZlQWN0aXZlSW5kZXgiLCJhY3RpdmVJbmRleCIsIm5leHRBY3RpdmVJbmRleCIsIml0ZW0iLCJyZXNvbHZlRGlzYWJsZWQiLCJpZHgiLCJyZXZlcnNlIiwiX2lkeCIsIlNwZWNpZmljIiwicmVzb2x2ZUlkIiwiTm90aGluZyIsImFzc2VydE5ldmVyIiwicmVkdWNlcnMiLCJDbG9zZU1lbnUiLCJtZW51U3RhdGUiLCJDbG9zZWQiLCJhY3RpdmVJdGVtSW5kZXgiLCJPcGVuTWVudSIsIk9wZW4iLCJHb1RvSXRlbSIsImRhdGFSZWYiLCJzZWFyY2hRdWVyeSIsIlNlYXJjaCIsIl9pdGVtJGRhdGFSZWYkY3VycmVudCIsInRleHRWYWx1ZSIsIkNsZWFyU2VhcmNoIiwiUmVnaXN0ZXJJdGVtIiwiY29uY2F0IiwiVW5yZWdpc3Rlckl0ZW0iLCJuZXh0SXRlbXMiLCJjdXJyZW50QWN0aXZlSXRlbSIsIk1lbnVDb250ZXh0IiwidXNlTWVudUNvbnRleHQiLCJNZW51Iiwic3RhdGVSZWR1Y2VyIiwiREVGQVVMVF9NRU5VX1RBRyIsInJlZHVjZXJCYWciLCJ1c2VSZWR1Y2VyIiwiYnV0dG9uUmVmIiwiY3JlYXRlUmVmIiwiaXRlbXNSZWYiLCJfcmVkdWNlckJhZyQiLCJfYnV0dG9uUmVmJGN1cnJlbnQiLCJfaXRlbXNSZWYkY3VycmVudCIsIl9idXR0b25SZWYkY3VycmVudDIiLCJtb2RlIiwiU3RyaWN0IiwibWF0Y2hlcyIsIkxvb3NlIiwiaXNGb2N1c2FibGVFbGVtZW50IiwidXNlTWVtbyIsIm9wZW4iLCJSZWFzb24iLCJCdXR0b24iLCJfc3RhdGUkaXRlbXNSZWYkY3VycmUiLCJfdXNlTWVudUNvbnRleHQiLCJoYW5kbGVLZXlEb3duIiwiU3BhY2UiLCJFbnRlciIsIkFycm93RG93biIsIkFycm93VXAiLCJoYW5kbGVLZXlVcCIsImhhbmRsZUNsaWNrIiwiY3VycmVudFRhcmdldCIsIl9zdGF0ZSRidXR0b25SZWYkY3VyciIsIm9uS2V5RG93biIsIm9uS2V5VXAiLCJJdGVtc1JlbmRlckZlYXR1cmVzIiwiSXRlbXMiLCJfc3RhdGUkaXRlbXMkc3RhdGUkYWMiLCJfc3RhdGUkYnV0dG9uUmVmJGN1cnI0IiwiYWNjZXB0Iiwid2FsayIsIl9yZWYkZW5hYmxlZCIsImFjY2VwdFJlZiIsIndhbGtSZWYiLCJfdXNlTWVudUNvbnRleHQyIiwic2VhcmNoRGlzcG9zYWJsZXMiLCJ1c2VzT3BlbkNsb3NlZFN0YXRlIiwibm9kZSIsIk5vZGVGaWx0ZXIiLCJGSUxURVJfUkVKRUNUIiwiRklMVEVSX1NLSVAiLCJGSUxURVJfQUNDRVBUIiwiYWNjZXB0Tm9kZSIsIndhbGtlciIsImNyZWF0ZVRyZWVXYWxrZXIiLCJTSE9XX0VMRU1FTlQiLCJuZXh0Tm9kZSIsImN1cnJlbnROb2RlIiwiX2RvY3VtZW50JGdldEVsZW1lbnRCIiwiX2lkIiwiY2xpY2siLCJfc3RhdGUkYnV0dG9uUmVmJGN1cnIyIiwiSG9tZSIsIlBhZ2VVcCIsIkVuZCIsIlBhZ2VEb3duIiwiRXNjYXBlIiwiX3N0YXRlJGJ1dHRvblJlZiRjdXJyMyIsIlRhYiIsInRhYkluZGV4IiwiREVGQVVMVF9JVEVNX1RBRyIsInVzZUlzSW5pdGlhbFJlbmRlciIsImluaXRpYWwiLCJhZGRDbGFzc2VzIiwiX25vZGUkY2xhc3NMaXN0IiwiY2xhc3NlcyIsImNsYXNzTGlzdCIsInJlbW92ZUNsYXNzZXMiLCJfbm9kZSRjbGFzc0xpc3QyIiwiX2xlbjIiLCJfa2V5MiIsInJlbW92ZSIsInRyYW5zaXRpb24iLCJiYXNlIiwidG8iLCJlbnRlcmVkIiwiX2RvbmUiLCJjYWxsZWQiLCJvbmNlIiwiX2dldENvbXB1dGVkU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiX21hcCIsInRyYW5zaXRpb25EdXJhdGlvbiIsInRyYW5zaXRpb25EZWxheSIsIl92YWx1ZSRzcGxpdCRmaWx0ZXIkbTIiLCJCb29sZWFuIiwidiIsInBhcnNlRmxvYXQiLCJ6IiwiZHVyYXRpb25NcyIsImRlbGF5c01zIiwiRmluaXNoZWQiLCJDYW5jZWxsZWQiLCJ3YWl0Rm9yVHJhbnNpdGlvbiIsInJlYXNvbiIsInVzZVNwbGl0Q2xhc3NlcyIsInRyaW0iLCJJdGVtIiwiX3Byb3BzJGRpc2FibGVkIiwicGFzc3Rocm91Z2hQcm9wcyIsIl91c2VNZW51Q29udGV4dDMiLCJfZG9jdW1lbnQkZ2V0RWxlbWVudEIyIiwic2Nyb2xsSW50b1ZpZXciLCJibG9jayIsImJhZyIsIl9kb2N1bWVudCRnZXRFbGVtZW50QjMiLCJfZG9jdW1lbnQkZ2V0RWxlbWVudEI0IiwidGV4dENvbnRlbnQiLCJfc3RhdGUkYnV0dG9uUmVmJGN1cnI1IiwiaGFuZGxlRm9jdXMiLCJoYW5kbGVNb3ZlIiwiaGFuZGxlTGVhdmUiLCJvbkZvY3VzIiwib25Qb2ludGVyTW92ZSIsIm9uTW91c2VNb3ZlIiwib25Qb2ludGVyTGVhdmUiLCJvbk1vdXNlTGVhdmUiLCJUcmVlU3RhdGVzIiwiVHJhbnNpdGlvbkNvbnRleHQiLCJOZXN0aW5nQ29udGV4dCIsImhhc0NoaWxkcmVuIiwiVmlzaWJsZSIsInVzZU5lc3RpbmciLCJkb25lUmVmIiwidHJhbnNpdGlvbmFibGVDaGlsZHJlbiIsImNoaWxkSWQiLCJzdHJhdGVneSIsImNoaWxkIiwiX3JlZjMiLCJub29wIiwiZXZlbnROYW1lcyIsImVuc3VyZUV2ZW50SG9va3NFeGlzdCIsImV2ZW50cyIsIl9ldmVudHMkbmFtZSIsIlRyYW5zaXRpb25DaGlsZFJlbmRlckZlYXR1cmVzIiwiVHJhbnNpdGlvbkNoaWxkIiwiX21hdGNoMyIsImJlZm9yZUVudGVyIiwiYWZ0ZXJFbnRlciIsImJlZm9yZUxlYXZlIiwiYWZ0ZXJMZWF2ZSIsImVudGVyIiwiZW50ZXJGcm9tIiwiZW50ZXJUbyIsImxlYXZlIiwibGVhdmVGcm9tIiwibGVhdmVUbyIsInNldFN0YXRlIiwiX3VzZVRyYW5zaXRpb25Db250ZXh0IiwidXNlVHJhbnNpdGlvbkNvbnRleHQiLCJzaG93IiwiYXBwZWFyIiwiX3VzZVBhcmVudE5lc3RpbmciLCJ1c2VQYXJlbnROZXN0aW5nIiwiaXNUcmFuc2l0aW9uaW5nIiwibmVzdGluZyIsIl9tYXRjaDIiLCJlbnRlckNsYXNzZXMiLCJlbnRlckZyb21DbGFzc2VzIiwiZW50ZXJUb0NsYXNzZXMiLCJlbnRlcmVkQ2xhc3NlcyIsImxlYXZlQ2xhc3NlcyIsImxlYXZlRnJvbUNsYXNzZXMiLCJsZWF2ZVRvQ2xhc3NlcyIsImV2ZW50c1JlZiIsInVzZUV2ZW50cyIsInNraXAiLCJwcm9wc1dlQ29udHJvbCIsIlRyYW5zaXRpb24iLCJfbWF0Y2g0IiwiX3Byb3BzJGFwcGVhciIsIl91c2VTdGF0ZTIiLCJuZXN0aW5nQmFnIiwidHJhbnNpdGlvbkJhZyIsInNoYXJlZFByb3BzIiwiQ2hpbGQiLCJoYXNUcmFuc2l0aW9uQ29udGV4dCIsImhhc09wZW5DbG9zZWRDb250ZXh0IiwiUm9vdCIsImNsYXNzQWN0aXZlIiwiY2xzeCIsImljb24iLCJNZW51U29saWQiLCJUcmFuc2l0aW9uRG93biIsIk1lbnVJdGVtIiwicGF0aCIsIkxhenlMb2dnZWRJbiIsImxhenkiLCJfX3ZpdGVQcmVsb2FkIiwiTGF6eUVycm9yUGFnZSIsIkxhenlBYm91dFBhZ2UiLCJMYXp5Q29ubmVjdFBhZ2UiLCJMYXp5Sm9pblBhZ2UiLCJMYXp5VGVhbVBhZ2UiLCJMb2dnZWRJbiIsIkFzeW5jQ29tcG9uZW50IiwiRXJyb3JQYWdlIiwiQWJvdXRQYWdlIiwiQ29ubmVjdFBhZ2UiLCJKb2luVGVhbVBhZ2UiLCJUZWFtUGFnZSIsIkxvZ2dlZEluUm91dGUiLCJSb3V0ZSIsIlN3aXRjaCIsIlJlZGlyZWN0Iiwicm9vdCIsInJlcXVpcmUiLCJyZVdoaXRlc3BhY2UiLCJ0cmltbWVkRW5kSW5kZXgiLCJzdHJpbmciLCJpbmRleCIsImNoYXJBdCIsInJlVHJpbVN0YXJ0IiwiYmFzZVRyaW0iLCJpc09iamVjdCIsImlzU3ltYm9sIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzT2N0YWwiLCJmcmVlUGFyc2VJbnQiLCJ0b051bWJlciIsIm90aGVyIiwidmFsdWVPZiIsImlzQmluYXJ5IiwibmF0aXZlTWF4IiwibmF0aXZlTWluIiwibWluIiwiZGVib3VuY2UiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJ0cmFpbGluZyIsImludm9rZUZ1bmMiLCJ0aGlzQXJnIiwibGVhZGluZ0VkZ2UiLCJ0aW1lckV4cGlyZWQiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRyYWlsaW5nRWRnZSIsInRpbWVXYWl0aW5nIiwicmVtYWluaW5nV2FpdCIsImRlYm91bmNlZCIsImlzSW52b2tpbmciLCJjYW5jZWwiLCJmbHVzaCIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJza2lwQ29ubmVjdCIsIm5vQWNjb3VudHMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjb25maWdMb2FkZWQiLCJpc05ld0xvY2FsU3RvcmFnZUV2ZW50Iiwic3RvcmFnZUFyZWEiLCJuZXdWYWx1ZSIsIm9uVmlzaWJpbGl0eUNoYW5nZSIsInJlbG9hZCIsImV4cGFuZGVkIiwiZGVib3VuY2VSZWxvYWQiLCJ0aXRsZSIsInRpdGxlUmVmIiwiaW5uZXJIVE1MIiwiYmFkZ2UiLCJnZXRBcGlVUkwiLCJFbW9qaUluZGljZXNCeUFsaWFzIiwiaGFuZGxlTG9nb3V0TG9naW5TaWduYWwiLCJoYW5kbGVEbmRFdmVudCIsInRocm90dGxlIiwic2l0ZU5hbWUiLCJzZXRQcm9wZXJ0eSIsInJvb3RFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJjc3JmIiwiZ2V0Q3NyZiIsInNldFRva2VuIiwic2V0Q1NSRiIsImNsaWVudCIsImFwcCIsIm1lIiwiaGFuZGxlQ29uZmlnTG9hZGVkIiwiYWxsb3dlZERvbWFpbnMiLCJjbGllbnRWYWxpZCIsImdldERvbWFpbiIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiTG9hZGluZ1NjcmVlbiIsIlBsdXNTb2lsZCIsIk1pbnVzU29pbGQiLCJMb2dvIiwiaGFuZGxlUmVsb2FkIiwiSWNvblJlZnJlc2giLCJoYW5kbGVFeHBhbm5lZCIsIlJvb3RNZW51IiwiUm9vdFgiLCJjbGllbnRJbmZvIiwiZ2V0SW5pdERhdGEiLCJhcHBJbmZvIiwicGx1Z2lucyIsImNvbXBvbmVudHMiLCJDdXN0b21Sb3V0ZUNvbXBvbmVudCIsImFsbG93ZWQiLCJwZXJtYWxpbmtSZWRpcmVjdFRlYW0iLCJTaXRlTmFtZSIsIk5vQWNjb3VudHMiLCJoYXNVc2VyVG9rZW4iLCJwZXJtYWxpbmtSZWRpcmVjdFRlYW1OYW1lIl0sIm1hcHBpbmdzIjoia3FMQXNCMENBLGdCQUN4QkMsRUFBVUMsV0FDZEMsRUFBUUQsSUFDUkUsRUFBZ0JDLEVBQWlCRixHQUNqQ0csRUFBY0MsRUFBcUJILEVBQWVKLEdBQ2xEUSxFQUFVQyxFQUFpQk4sRUFBT0csT0FFbkNFLFNBQ01QLEVBQVNTLEVBQW1DTixFQUFlSixNQUczRCxNQUFPLGtDQUNaVyxFQUFNQyxLQUFLRCxNQUNY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
