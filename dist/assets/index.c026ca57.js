import{B as e,A as s,y as t,x as r,H as n,I as a}from"./vendor.03f03dd4.js";import{c6 as i,Q as c,aX as o}from"./index.90fcf14c.js";import{g as u,b as l}from"./index.6757c313.js";function d(){return async(e,s)=>{const{clientId:t,userToken:r}=u();return e(i(t,r))}}var f="u3-cxx-60f4e87e",x="u3-cxx-8589d34b",h="u3-cxx-1d18b684",p="u3-cxx-8bc66879";var m=n=>{const[a,i]=e.exports.useState(!1),[c,o]=e.exports.useState(!1),[u,d]=e.exports.useState("");e.exports.useState(5);const{currentUser:m,actions:v,location:g,history:S}=n,y=async()=>{const{data:e,error:s}=await v.userConnect();if(e){const e=(t=g.search,new URLSearchParams(t).get("next")||"");return e&&"/connect"!==e?S.replace(e):k()}var t;s&&(d(s.message),o(!0))},k=async()=>{i(!0),await l(n.history)};return e.exports.useEffect((()=>{if(n.initializing||!m){if(n.initializing||m&&a)return()=>{};y()}else k()}),[]),s("div",{className:t(f),children:[s("div",{className:x,children:[s("svg",{viewBox:"-2000 -1000 4000 2000",children:[r("path",{id:"inf",d:"M354-354A500 500 0 1 1 354 354L-354-354A500 500 0 1 0-354 354z"}),r("use",{xlinkHref:"#inf",strokeDasharray:"1570 5143",strokeDashoffset:"6713px"})]}),r("p",{children:"Kết nối tài khoản"})]}),u?s("div",{className:h,children:[r("p",{children:u}),r("button",{className:p,onClick:y,children:"Thử lại"})]}):null]})};var v=n((function(e){return{initializing:e.requests.users.logout.status===c.SUCCESS||!e.storage.initialized,currentUser:o(e)}}),(function(e){return{actions:a({userConnect:d},e)}}))(m);export{v as default};
