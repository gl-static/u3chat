import{B as e,A as a,y as s,x as r,F as i,G as t}from"./vendor.71af6d42.js";import{V as n,a_ as c}from"./index.a5dd54a2.js";import{b as o,d}from"./index.aee8f6ad.js";var l="u3-cxx-60f4e87e",u="u3-cxx-8589d34b",f="u3-cxx-1d18b684",x="u3-cxx-8bc66879";const h=["/connect","/error","/initial"];var m=i=>{const[t,n]=e.exports.useState(!1),[c,d]=e.exports.useState(""),{currentUser:m,actions:p,location:v,history:g}=i,y=async()=>{""!==c&&d("");const{data:e,error:a}=await p.userConnect();if(e){const e=(s=v.search,new URLSearchParams(s).get("next")||"");return e&&-1===h.indexOf(e)?g.replace(e):S()}var s;a&&d(a.message)},S=async()=>{n(!0),await o(i.history)};return e.exports.useEffect((()=>{if(i.initializing||!m){if(i.initializing||m&&t)return()=>{};y()}else S()}),[]),a("div",{className:s(l),children:[a("div",{className:u,children:[a("svg",{viewBox:"-2000 -1000 4000 2000",children:[r("path",{id:"inf",d:"M354-354A500 500 0 1 1 354 354L-354-354A500 500 0 1 0-354 354z"}),r("use",{xlinkHref:"#inf",strokeDasharray:"1570 5143",strokeDashoffset:"6713px"})]}),r("p",{children:"Kết nối tài khoản"})]}),c?a("div",{className:f,children:[r("p",{children:c}),r("button",{className:x,onClick:y,children:"Thử lại"})]}):null]})};var p=i((function(e){return{initializing:e.requests.users.logout.status===n.SUCCESS||!e.storage.initialized,currentUser:c(e)}}),(function(e){return{actions:t({userConnect:d},e)}}))(m);export{p as default};
