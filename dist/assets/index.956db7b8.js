var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,r=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&i(e,n,t[n]);if(a)for(var n of a(t))o.call(t,n)&&i(e,n,t[n]);return e},l=(e,a)=>t(e,n(a)),c=(e,t,n)=>(i(e,"symbol"!=typeof t?t+"":t,n),n);import{q as d,E as u,F as m,a as h,R as p,B as _,x as g,G as f,I as b,J as v,K as y,A as w,y as E,S as C,C as S,L as T,M as k,N as A,O as I}from"./vendor.b4a3f96f.js";import{g as N,a as D,b as R,c as x,f as L,d as O,e as M,C as P,l as U,h as F,i as G,j as H,k as j,m as B,n as V,o as Y,t as W,P as q,p as z,s as J,q as $,r as K,u as Q,v as X,L as Z,w as ee,x as te,A as ne,y as ae,z as se,B as oe,D as ie,E as re,F as le,U as ce,G as de,H as ue,I as me,J as he,K as pe,M as _e,N as ge,O as fe,Q as be,R as ve,S as ye,T as we,V as Ee,W as Ce,X as Se,Y as Te,Z as ke,_ as Ae,$ as Ie,a0 as Ne,a1 as De,a2 as Re,a3 as xe,a4 as Le,a5 as Oe,a6 as Me,a7 as Pe,a8 as Ue,a9 as Fe,aa as Ge,ab as He,ac as je,ad as Be,ae as Ve,af as Ye,ag as We,ah as qe,ai as ze,aj as Je,ak as $e,al as Ke,am as Qe,an as Xe,ao as Ze,ap as et,aq as tt,ar as nt,as as at,at as st,au as ot,av as it,aw as rt,ax as lt,ay as ct,az as dt,aA as ut,aB as mt,aC as ht,aD as pt,aE as _t,aF as gt,aG as ft,aH as bt,aI as vt,aJ as yt,aK as wt,aL as Et,aM as Ct,aN as St,aO as Tt,aP as kt,aQ as At,aR as It,aS as Nt,aT as Dt,aU as Rt,aV as xt,aW as Lt,aX as Ot,aY as Mt,aZ as Pt,a_ as Ut,a$ as Ft,b0 as Gt,b1 as Ht,b2 as jt,b3 as Bt,b4 as Vt,b5 as Yt,b6 as Wt,b7 as qt,b8 as zt,b9 as Jt,ba as $t,bb as Kt,bc as Qt,bd as Xt,be as Zt,bf as en,bg as tn,bh as nn,bi as an,bj as sn,bk as on,bl as rn,bm as ln,bn as cn,bo as dn,bp as un,bq as mn,br as hn,bs as pn,bt as _n,bu as gn,bv as fn,bw as bn,bx as vn,by as yn,bz as wn,bA as En,bB as Cn,bC as Sn,bD as Tn,bE as kn,bF as An,bG as In,bH as Nn,bI as Dn,bJ as Rn,bK as xn,bL as Ln,bM as On,bN as Mn,bO as Pn,bP as Un,bQ as Fn,bR as Gn,bS as Hn,bT as jn,bU as Bn,bV as Vn,bW as Yn}from"./index.c04d0919.js";function Wn(e){return async(t,n)=>{const a=n(),s=B(a),o=$(s,e),i=V(a,o);if(!i)return t(Y(s,e));W("api","api_channels_join_direct");const l=Date.now(),c={category:q.CATEGORY_DIRECT_CHANNEL_SHOW,name:e,value:"true"},u={category:q.CATEGORY_CHANNEL_OPEN_TIME,name:i.id,value:l.toString()},m=[{type:z.RECEIVED_PREFERENCES,data:[c]},{type:z.RECEIVED_PREFERENCES,data:[u]}];return t(d(m)),t(J(s,[r({user_id:s},c),r({user_id:s},u)])),{data:i}}}function qn(){return async(e,t)=>{const n=t(),a=N(n),s=D(n,a),o=R(n,s?s.id:"all",s?s.type:"").filter((e=>!x(n,e)));await e(L(O(n),o));const i=M(n);for(const r of i){const t=x(n,r);t&&t.type===P.DM_CHANNEL?e(U(t.id)):t&&t.type===P.GM_CHANNEL&&e(F(t.id))}return await G(),{data:!0}}}function zn(e,t,n){return async(a,s)=>{const o=s(),i=O(o);if(!i)return{data:!1};const{data:l,error:c}=await a(j(i,e));return l&&t?t(l):c&&n&&n(r({id:c.server_error_id},c)),{data:!0}}}function Jn(){return document.getElementById("u3-chatting")}function $n(){return{clientId:Kn("u3:secret")||"",userToken:Kn("u3:session")||""}}function Kn(e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)if(t[n].getAttribute("property")===e)return t[n].getAttribute("content");return""}var Qn={"about.buildnumber":"Build Number:","about.cloudEdition":"Cloud","about.copyright":"Copyright 2015 - {currentYear} Gomlo, Inc. All rights reserved","about.database":"Database:","about.date":"Build Date:","about.dbversion":"Database Schema Version:","about.enterpriseEditione1":"Enterprise Edition","about.enterpriseEditionLearn":"Learn more about Enterprise Edition at ","about.enterpriseEditionSst":"High trust messaging for the enterprise","about.enterpriseEditionSt":"Modern communication from behind your firewall.","about.hash":"Build Hash:","about.hashee":"EE Build Hash:","about.hashwebapp":"Webapp Build Hash:","about.licensed":"Licensed to:","about.notice":"Gomlo is made possible by the open source software used in our [server](!https://about.chatting.gomlo.me/platform-notice-txt/), [desktop](!https://about.chatting.gomlo.me/desktop-notice-txt/) and [mobile](!https://about.chatting.gomlo.me/mobile-notice-txt/) apps.","about.privacy":"Privacy Policy","about.teamEditionLearn":"Join the Gomlo community at ","about.teamEditionSt":"All your team communication in one place, instantly searchable and accessible anywhere.","about.teamEditiont0":"Team Edition","about.teamEditiont1":"Enterprise Edition","about.title":"About {appTitle}","about.tos":"Terms of Service","about.version":"Gomlo Version:","access_history.title":"Access History","accessibility.button.attachment":"attachment","accessibility.button.dialog":"{dialogName} dialog","accessibility.button.Info":"Info","accessibility.button.Search":"Search","accessibility.sections.centerContent":"message list main region","accessibility.sections.centerFooter":"message input complimentary region","accessibility.sections.channelHeader":"channel header region","accessibility.sections.lhsHeader":"team menu region","accessibility.sections.lhsList":"channel sidebar region","accessibility.sections.lhsNavigator":"channel navigator region","accessibility.sections.rhs":"{regionTitle} complimentary region","accessibility.sections.rhsContent":"message details complimentary region","accessibility.sections.rhsFooter":"reply input region","accessibility.sidebar.types.mention":"mention","accessibility.sidebar.types.mentions":"mentions","accessibility.sidebar.types.private":"private channel","accessibility.sidebar.types.public":"public channel","accessibility.sidebar.types.shared":"shared","accessibility.sidebar.types.unread":"unread","activity_log_modal.android":"Android","activity_log_modal.androidNativeApp":"Android Native App","activity_log_modal.androidNativeClassicApp":"Android Native Classic App","activity_log_modal.desktop":"Native Desktop App","activity_log_modal.iphoneNativeApp":"iPhone Native App","activity_log_modal.iphoneNativeClassicApp":"iPhone Native Classic App","activity_log.activeSessions":"Active Sessions","activity_log.browser":"Browser: {browser}","activity_log.firstTime":"First time active: {date}, {time}","activity_log.lastActivity":"Last activity: {date}, {time}","activity_log.logout":"Log Out","activity_log.moreInfo":"More info","activity_log.os":"OS: {os}","activity_log.sessionId":"Session ID: {id}","activity_log.sessionsDescription":"Sessions are created when you log in through a new browser on a device. Sessions let you use Gomlo without having to log in again for a time period specified by the System Admin. To end the session sooner, use the 'Log Out' button.","add_channels_to_scheme.title":"Add Channels to **Channel Selection** List","add_groups_to_channel.title":"Add New Groups to {channelName} Channel","add_groups_to_team.title":"Add New Groups to {teamName} Team","add_teams_to_scheme.confirmation.accept":"Yes, Move Team","add_teams_to_scheme.confirmation.message":"This team is already selected in another team scheme, are you sure you want to move it to this team scheme?","add_teams_to_scheme.confirmation.title":"Team Override Scheme Change?","add_teams_to_scheme.title":"Add Teams to **Team Selection** List","add_user_to_channel_modal.add":"Add","add_user_to_channel_modal.cancel":"Cancel","add_user_to_channel_modal.help":"Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.","add_user_to_channel_modal.membershipExistsError":"{name} is already a member of that channel","add_user_to_channel_modal.title":"Add {name} to a Channel","add_users_to_role.title":"Add users to {roleName}","add_users_to_team.title":"Add New Members to {teamName} Team","announcement_bar.error.email_verification_required":"Check your email inbox to verify the address.","announcement_bar.error.past_grace":"Enterprise license is expired and some features may be disabled. Please contact your System Administrator for details.","announcement_bar.error.preview_mode":"Preview Mode: Email notifications have not been configured.","announcement_bar.error.warn_metric_status.link":"Learn more","announcement_bar.notification.email_verified":"Email verified","announcement_bar.number_active_users_warn_metric_status.text":"You now have over {limit} users. We strongly recommend using advanced features for large-scale servers.","announcement_bar.number_of_posts_warn_metric_status.text":"You now have over {limit} posts. We strongly advise using advanced features to avoid degraded performance.","announcement_bar.warn_metric_status_ack.text":"Thank you for contacting Gomlo. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_posts_ack.text":"Thank you for contacting Gomlo. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_posts.text":"You now have over 2,000,000 posts. We strongly advise using advanced features to avoid degraded performance.","announcement_bar.warn_metric_status.number_of_users_ack.text":"Thank you for contacting Gomlo. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_users.text":"You now have over 500 users. We strongly recommend using advanced features for large-scale servers.","announcement_bar.warn.contact_support_text":"To renew your license, contact support at support@chatting.gomlo.me.","announcement_bar.warn.email_support":"[Contact support](!{email}).","announcement_bar.warn.no_internet_connection":"Looks like you do not have access to the internet.","api.channel.add_guest.added":"{addedUsername} added to the channel as a guest by {username}.","api.channel.add_member.added":"{addedUsername} added to the channel by {username}.","api.channel.delete_channel.archived":"{username} archived the channel.","api.channel.guest_join_channel.post_and_forget":"{username} joined the channel as a guest.","api.channel.join_channel.post_and_forget":"{username} joined the channel.","api.channel.leave.left":"{username} left the channel.","api.channel.post_convert_channel_to_private.updated_from":"{username} converted the channel from public to private","api.channel.post_update_channel_displayname_message_and_forget.updated_from":"{username} updated the channel display name from: {old} to: {new}","api.channel.post_update_channel_header_message_and_forget.removed":"{username} removed the channel header (was: {old})","api.channel.post_update_channel_header_message_and_forget.updated_from":"{username} updated the channel header <br></br><strong>From:</strong> {old} <br></br><strong>To:</strong> {new}","api.channel.post_update_channel_header_message_and_forget.updated_to":"{username} updated the channel header to: {new}","api.channel.remove_member.removed":"{removedUsername} was removed from the channel","api.channel.restore_channel.unarchived":"{username} unarchived the channel.","api.team.add_member.added":"{addedUsername} added to the team by {username}","api.team.join_team.post_and_forget":"{username} joined the team.","api.team.leave.left":"{username} left the team.","api.team.remove_user_from_team.removed":"{removedUsername} was removed from the team.","app.channel.post_update_channel_purpose_message.removed":"{username} removed the channel purpose (was: {old})","app.channel.post_update_channel_purpose_message.updated_from":"{username} updated the channel purpose from: {old} to: {new}","app.channel.post_update_channel_purpose_message.updated_to":"{username} updated the channel purpose to: {new}","app.plugin.marketplace_plugins.app_error":"Error connecting to the marketplace server. Please check your settings in the [System Console]({siteURL}/admin_console/plugins/plugin_management).","apps.error":"Error: {error}","apps.error.command.field_missing":"Required fields missing: `{fieldName}`.","apps.error.command.unknown_channel":"Unknown channel for field `{fieldName}`: `{option}`.","apps.error.command.unknown_option":"Unknown option for field `{fieldName}`: `{option}`.","apps.error.command.unknown_user":"Unknown user for field `{fieldName}`: `{option}`.","apps.error.form.no_call":"`call` is not defined.","apps.error.form.no_form":"`form` is not defined.","apps.error.form.refresh":"There has been an error updating the modal. Contact the app developer. Details: {details}","apps.error.form.refresh_no_refresh":"Called refresh on no refresh field.","apps.error.form.submit.pretext":"There has been an error submitting the modal. Contact the app developer. Details: {details}","apps.error.lookup.error_preparing_request":"Error preparing lookup request: {errorMessage}","apps.error.parser":"Parsing error: {error}","apps.error.parser.empty_value":"empty values are not allowed","apps.error.parser.missing_call":"Missing binding call.","apps.error.parser.missing_field_value":"Field value is missing.","apps.error.parser.missing_quote":"Matching double quote expected before end of input.","apps.error.parser.missing_tick":"Matching tick quote expected before end of input.","apps.error.parser.multiple_equal":"Multiple `=` signs are not allowed.","apps.error.parser.no_argument_pos_x":"Unable to identify argument.","apps.error.parser.no_bindings":"No command bindings.","apps.error.parser.no_match":"`{command}`: No matching command found in this workspace.","apps.error.parser.no_slash_start":"Command must start with a `/`.","apps.error.parser.unexpected_error":"Unexpected error.","apps.error.parser.unexpected_flag":"Command does not accept flag `{flagName}`.","apps.error.parser.unexpected_state":"Unreachable: Unexpected state in matchBinding: `{state}`.","apps.error.parser.unexpected_whitespace":"Unreachable: Unexpected whitespace.","apps.error.responses.form.no_form":"Response type is `form`, but no form was included in response.","apps.error.responses.navigate.no_submit":"Response type is `navigate`, but the call was not a submission.","apps.error.responses.navigate.no_url":"Response type is `navigate`, but no url was included in response.","apps.error.responses.unexpected_error":"Received an unexpected error.","apps.error.responses.unexpected_type":"App response type was not expected. Response type: {type}","apps.error.responses.unknown_type":"App response type not supported. Response type: {type}.","apps.error.unknown":"Unknown error occurred.","apps.suggestion.dynamic.error":"Dynamic select error","apps.suggestion.errors.parser_error":"Parsing error","apps.suggestion.no_dynamic":"No data was returned for dynamic suggestions","apps.suggestion.no_static":"No matching options.","apps.suggestion.no_suggestion":"No matching suggestions.",archivedChannelMessage:"You are viewing an **archived channel**. New messages cannot be posted.","atmos/camo":"atmos/camo","authorize.access":"Allow **{appName}** access?","authorize.allow":"Allow","authorize.app":"The app **{appName}** would like the ability to access and modify your basic information.","authorize.deny":"Deny","authorize.title":"Authorize **{appName}** to Connect to Your **Gomlo** User Account","avatars.overflowUnnamedOnly":"{overflowUnnamedCount, plural, =1 {one other} other {# others}}","avatars.overflowUsers":"{overflowUnnamedCount, plural, =0 {{names}} =1 {{names} and one other} other {{names} and # others}}","backstage_list.search":"Search","backstage_navbar.backToGomlo":"Back to {siteName}","backstage_sidebar.bots":"Bot Accounts","backstage_sidebar.emoji":"Custom Emoji","backstage_sidebar.integrations":"Integrations","backstage_sidebar.integrations.commands":"Slash Commands","backstage_sidebar.integrations.incoming_webhooks":"Incoming Webhooks","backstage_sidebar.integrations.oauthApps":"OAuth 2.0 Applications","backstage_sidebar.integrations.outgoing_webhooks":"Outgoing Webhooks","call_button.menuAriaLabel":"Call type selector","center_panel.archived.closeChannel":"Close Channel","center_panel.direct.closeDirectMessage":"Close Direct Message","center_panel.direct.closeGroupMessage":"Close Group Message","channel_header.addChannelHeader":"Add a channel description","channel_header.channelFiles":"Channel files","channel_header.channelHasGuests":"This channel has guests","channel_header.channelMembers":"Members","channel_header.convert":"Convert to Private Channel","channel_header.delete":"Archive Channel","channel_header.directchannel.you":"{displayname} (you) ","channel_header.editLink":"Edit","channel_header.flagged":"Saved posts","channel_header.groupConstrained":"Members managed by linked groups.","channel_header.groupMessageHasGuests":"This group message has guests","channel_header.leave":"Leave Channel","channel_header.manageMembers":"Manage Members","channel_header.menuAriaLabel":"Channel Menu","channel_header.mute":"Mute Channel","channel_header.pinnedPosts":"Pinned posts","channel_header.recentMentions":"Recent mentions","channel_header.rename":"Rename","channel_header.search":"Search","channel_header.setHeader":"Edit Banner","channel_header.setPurpose":"Edit Purpose","channel_header.unarchive":"Unarchive Group","channel_header.unmute":"Unmute Group","channel_header.userHelpGuide":"Help","channel_header.viewMembers":"View Members","channel_info.about":"About","channel_info.header":"Header:","channel_info.id":"ID: ","channel_info.notFound":"No Channel Found","channel_info.purpose":"Purpose:","channel_info.url":"URL:","channel_invite.addNewMembers":"Add people to {channel}","channel_loader.posted":"Posted","channel_loader.postedImage":" posted an image","channel_loader.socketError":"Please check connection, Gomlo unreachable. If issue persists, ask administrator to check WebSocket port.","channel_loader.someone":"Someone","channel_loader.something":" did something new","channel_loader.unknown_error":"We received an unexpected status code from the server.","channel_loader.uploadedFile":" uploaded a file","channel_loader.uploadedImage":" uploaded an image","channel_members_dropdown.channel_admin":"Admin","channel_members_dropdown.channel_admins":"Group Admins","channel_members_dropdown.channel_mod":"Mod","channel_members_dropdown.channel_mods":"Group Mods","channel_members_dropdown.channel_guest":"Guest","channel_members_dropdown.channel_member":"Member","channel_members_dropdown.channel_members":"Group Members","channel_members_dropdown.make_channel_admin":"Make as Admin","channel_members_dropdown.make_channel_admins":"Make as Admins","channel_members_dropdown.make_channel_mod":"Make as Mod","channel_members_dropdown.make_channel_mods":"Make as Mods","channel_members_dropdown.make_channel_member":"Make as Member","channel_members_dropdown.make_channel_members":"Make as Members","channel_members_dropdown.menuAriaLabel":"Change the role of channel member","channel_members_dropdown.remove_from_channel":"Kick user","channel_members_dropdown.shared_member":"Shared Member","channel_members_modal.addNew":" Add Members","channel_members_modal.members":" Members","channel_modal.cancel":"Cancel","channel_modal.createNew":"Create Channel","channel_modal.descriptionHelp":"Describe how this channel should be used.","channel_modal.displayNameError":"Display name must have at least 2 characters.","channel_modal.edit":"Edit","channel_modal.header":"Header","channel_modal.headerEx":'E.g.: "[Link Title](http://example.com)"',"channel_modal.headerHelp":"Set text that will appear in the header of the channel beside the channel name. For example, include frequently used links by typing [Link Title](http://example.com).","channel_modal.modalTitle":"New Channel","channel_modal.name":"Name","channel_modal.nameEx":'E.g.: "Bugs", "Marketing", "客户支持"',"channel_modal.optional":"(optional)","channel_modal.privateHint":" - Only invited members can join this channel","channel_modal.privateName":"Private","channel_modal.publicHint":" - Anyone can join this channel","channel_modal.publicName":"Public","channel_modal.purpose":"Purpose","channel_modal.purposeEx":'E.g.: "A channel to file bugs and improvements"',"channel_modal.type":"Type","channel_notifications.allActivity":"For all activity","channel_notifications.globalDefault":"Global default ({notifyLevel})","channel_notifications.ignoreChannelMentions":"Ignore mentions for @group, @here and @all","channel_notifications.ignoreChannelMentions.help":"When enabled, @group, @here and @all will not trigger mentions or mention notifications in this channel.","channel_notifications.ignoreChannelMentions.off.title":"Off","channel_notifications.ignoreChannelMentions.on.title":"On","channel_notifications.levels.all":"All","channel_notifications.levels.default":"Default","channel_notifications.levels.mention":"Mention","channel_notifications.levels.none":"None","channel_notifications.muteChannel.help":"Muting turns off desktop, email and push notifications for this channel. The channel will not be marked as unread unless you're mentioned.","channel_notifications.muteChannel.off.title":"Off","channel_notifications.muteChannel.on.title":"On","channel_notifications.muteChannel.on.title.collapse":"Mute is enabled. Desktop, email and push notifications will not be sent for this channel.","channel_notifications.muteChannel.settings":"Mute channel","channel_notifications.never":"Never","channel_notifications.onlyMentions":"Only for mentions","channel_notifications.override":'Selecting an option other than "Default" will override the global notification settings. Desktop notifications are available on Firefox, Safari, and Chrome.',"channel_notifications.overridePush":'Selecting an option other than "Global default" will override the global notification settings for mobile push notifications in account settings. Push notifications must be enabled by the System Admin.',"channel_notifications.preferences":"Notification Preferences for ","channel_notifications.push":"Send mobile push notifications","channel_notifications.sendDesktop":"Send desktop notifications","channel_select.placeholder":"--- Select a channel ---","channel_switch_modal.deactivated":"Deactivated","channel_switch_modal.title":"Switch a chat","channel_toggle_button.private":"Private","channel_toggle_button.public":"Public","channelHeader.addToFavorites":"Add to Favorites","channelHeader.removeFromFavorites":"Remove from Favorites","channelHeader.unmute":"Unmute","cloud.upgrade.notrightnow":"Not right now","combined_system_message.added_to_channel.many_expanded":"{users} and {lastUser} were **added to the channel** by {actor}.","combined_system_message.added_to_channel.one":"{firstUser} **added to the channel** by {actor}.","combined_system_message.added_to_channel.one_you":"You were **added to the channel** by {actor}.","combined_system_message.added_to_channel.two":"{firstUser} and {secondUser} **added to the channel** by {actor}.","combined_system_message.added_to_team.many_expanded":"{users} and {lastUser} were **added to the team** by {actor}.","combined_system_message.added_to_team.one":"{firstUser} **added to the team** by {actor}.","combined_system_message.added_to_team.one_you":"You were **added to the team** by {actor}.","combined_system_message.added_to_team.two":"{firstUser} and {secondUser} **added to the team** by {actor}.","combined_system_message.joined_channel.many_expanded":"{users} and {lastUser} **joined the channel**.","combined_system_message.joined_channel.one":"{firstUser} **joined the channel**.","combined_system_message.joined_channel.one_you":"You **joined the channel**.","combined_system_message.joined_channel.two":"{firstUser} and {secondUser} **joined the channel**.","combined_system_message.joined_team.many_expanded":"{users} and {lastUser} **joined the team**.","combined_system_message.joined_team.one":"{firstUser} **joined the team**.","combined_system_message.joined_team.one_you":"You **joined the team**.","combined_system_message.joined_team.two":"{firstUser} and {secondUser} **joined the team**.","combined_system_message.left_channel.many_expanded":"{users} and {lastUser} **left the channel**.","combined_system_message.left_channel.one":"{firstUser} **left the channel**.","combined_system_message.left_channel.one_you":"You **left the channel**.","combined_system_message.left_channel.two":"{firstUser} and {secondUser} **left the channel**.","combined_system_message.left_team.many_expanded":"{users} and {lastUser} **left the team**.","combined_system_message.left_team.one":"{firstUser} **left the team**.","combined_system_message.left_team.one_you":"You **left the team**.","combined_system_message.left_team.two":"{firstUser} and {secondUser} **left the team**.","combined_system_message.removed_from_channel.many_expanded":"{users} and {lastUser} were **removed from the channel**.","combined_system_message.removed_from_channel.one":"{firstUser} was **removed from the channel**.","combined_system_message.removed_from_channel.one_you":"You were **removed from the channel**.","combined_system_message.removed_from_channel.two":"{firstUser} and {secondUser} were **removed from the channel**.","combined_system_message.removed_from_team.many_expanded":"{users} and {lastUser} were **removed from the team**.","combined_system_message.removed_from_team.one":"{firstUser} was **removed from the team**.","combined_system_message.removed_from_team.one_you":"You were **removed from the team**.","combined_system_message.removed_from_team.two":"{firstUser} and {secondUser} were **removed from the team**.","combined_system_message.you":"You","confirm_modal.cancel":"Cancel","confirm.notification_sent_to_admin.modal_body":"A notification has been sent to your administrator.","confirm.notification_sent_to_admin.modal_done":"Done","confirm.notification_sent_to_admin.modal_title":"Thank you!","convert_channel.cancel":"No, cancel","convert_channel.confirm":"Yes, convert to private channel","convert_channel.question1":"When you convert **{display_name}** to a private channel, history and membership are preserved. Publicly shared files remain accessible to anyone with the link. Membership in a private channel is by invitation only.","convert_channel.question2":"The change is permanent and cannot be undone.","convert_channel.question3":"Are you sure you want to convert **{display_name}** to a private channel?","convert_channel.title":"Convert {display_name} to a Private Channel?","copy_url_context_menu.getChannelLink":"Copy Link","create_category_modal.create":"Create","create_category_modal.createCategory":"Create New Category","create_comment.addComment":"Add a comment...","create_comment.comment":"Add Comment","create_comment.commentTitle":"Comment","create_comment.file":"File uploading","create_comment.files":"Files uploading","create_post.comment":"Comment","create_post.deactivated":"You are viewing an archived channel with a **deactivated user**. New messages cannot be posted.","create_post.error_message":"Your message is too long. Character count: {length}/{limit}","create_post.fileProcessing":"Processing...","create_post.icon":"Create a post","create_post.post":"Post","create_post.read_only":"This channel is read-only. Only members with permission can post here.","create_post.send_message":"Send a message","create_post.shortcutsNotSupported":"Keyboard shortcuts are not supported on your device.","create_post.tutorialTip.title":"Sending Messages","create_post.tutorialTip1":"Type here to write a message and press **Enter** to post it.","create_post.tutorialTip2":"Click the **Attachment** button to upload an image or a file.","create_post.write":"Write to {channelDisplayName}","custom_emoji.header":"Custom Emoji","custom_status.modal_cancel":"Clear Status","custom_status.modal_confirm":"Set Status","custom_status.set_status":"Set a status","custom_status.suggestions.in_a_meeting":"In a meeting","custom_status.suggestions.on_a_vacation":"On a vacation","custom_status.suggestions.out_for_lunch":"Out for lunch","custom_status.suggestions.out_sick":"Out sick","custom_status.suggestions.recent_title":"RECENT","custom_status.suggestions.title":"SUGGESTIONS","custom_status.suggestions.working_from_home":"Working from home","date_separator.today":"Today","date_separator.yesterday":"Yesterday","deactivate_member_modal.deactivate":"Deactivate","deactivate_member_modal.desc":"This action deactivates {username}. They will be logged out and not have access to any teams or channels on this system.\n","deactivate_member_modal.desc.confirm":" Are you sure you want to deactivate {username}?","deactivate_member_modal.desc.for_users_with_bot_accounts":"This action deactivates {username}.\n \n * They will be logged out and not have access to any teams or channels on this system.\n * Bot accounts they manage will be disabled along with their integrations. To enable them again, go to [Integrations > Bot Accounts]({siteURL}/_redirect/integrations/bots). [Learn more about bot accounts](!https://chatting.gomlo.me/pl/default-bot-accounts).\n \n \n","deactivate_member_modal.sso_warning":"You must also deactivate this user in the SSO provider or they will be reactivated on next login or sync.","deactivate_member_modal.title":"Deactivate {username}","default_channel.purpose":"Post messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.","delete_category_modal.delete":"Delete","delete_category_modal.deleteCategory":"Delete this category?","delete_category_modal.helpText":"Channels in **{category_name}** will move back to the Channels and Direct messages categories. You're not removed from any channels.","delete_channel.cancel":"Cancel","delete_channel.confirm":"Confirm ARCHIVE Channel","delete_channel.del":"Archive","delete_channel.question":"This will archive the channel from the team and remove it from the user interface. Archived channels can be unarchived if needed again. \n \nAre you sure you wish to archive the {display_name} channel?","delete_channel.viewArchived.question":"This will archive the channel from the team. Channel contents will still be accessible by channel members.\n \nAre you sure you wish to archive the **{display_name}** channel?","delete_post.cancel":"Cancel","delete_post.comment":"Comment","delete_post.confirm":"Confirm {term} Delete","delete_post.del":"Delete","delete_post.post":"Post","delete_post.question":"Are you sure you want to delete this {term}?","delete_post.warning":"This post has {count, number} {count, plural, one {comment} other {comments}} on it.","demote_to_user_modal.demote":"Demote","demote_to_user_modal.desc":"This action demotes the user {username} to a guest. It will restrict the user's ability to join public channels and interact with users outside of the channels they are currently members of. Are you sure you want to demote user {username} to guest?","demote_to_user_modal.title":"Demote User {username} to Guest","device_icons.android":"Android Icon","device_icons.apple":"Apple Icon","device_icons.linux":"Linux Icon","device_icons.windows":"Windows Icon","discard_changes_modal.leave":"Yes, Discard","discard_changes_modal.message":"You have unsaved changes, are you sure you want to discard them?","discard_changes_modal.title":"Discard Changes?","dnd_custom_time_picker_modal.date":"Date","dnd_custom_time_picker_modal.defaultMsg":"Disable notifications until","dnd_custom_time_picker_modal.submitButton":"Disable Notifications","dnd_custom_time_picker_modal.time":"Time","edit_category_modal.helpText":"Drag channels into this category to organize your sidebar.","edit_category_modal.placeholder":"Name your category","edit_channel_header_modal.cancel":"Cancel","edit_channel_header_modal.description":"Edit the text appearing next to the channel name in the channel header.","edit_channel_header_modal.error":"The text entered exceeds the character limit. The channel header is limited to {maxLength} characters.","edit_channel_header_modal.save":"Save","edit_channel_header_modal.title":"Edit Header for {channel}","edit_channel_header_modal.title_dm":"Edit Header","edit_channel_header.editHeader":"Edit the Channel Header...","edit_channel_header.previewHeader":"Edit Header","edit_channel_private_purpose_modal.body":'This text appears in the "View Info" modal of the private channel.',"edit_channel_purpose_modal.body":'Describe how this channel should be used. This text appears in the channel list in the "More..." menu and helps others decide whether to join.',"edit_channel_purpose_modal.cancel":"Cancel","edit_channel_purpose_modal.save":"Save","edit_channel_purpose_modal.title1":"Edit Purpose","edit_channel_purpose_modal.title2":"Edit Purpose for ","edit_command.update":"Update","edit_command.updating":"Updating...","edit_post.cancel":"Cancel","edit_post.edit":"Edit {title}","edit_post.editPost":"Edit the post...","edit_post.save":"Save","edit_post.time_limit_button.for_n_seconds":"For {n} seconds","edit_post.time_limit_button.no_limit":"Anytime","edit_post.time_limit_modal.description":'Setting a time limit **applies to all users** who have the "Edit Post" permissions in any permission scheme.',"edit_post.time_limit_modal.invalid_time_limit":"Invalid time limit","edit_post.time_limit_modal.option_label_anytime":"Anytime","edit_post.time_limit_modal.option_label_time_limit.postinput":"seconds after posting","edit_post.time_limit_modal.option_label_time_limit.preinput":"Can edit for","edit_post.time_limit_modal.save_button":"Save Edit Time","edit_post.time_limit_modal.subscript":"Set the length of time users have to edit their messages after posting.","edit_post.time_limit_modal.title":"Configure Global Edit Post Time Limit","email_verify.almost":"{siteName}: You are almost done","email_verify.failed":" Failed to send verification email.","email_verify.notVerifiedBody":"Please verify your email address. Check your inbox for an email.","email_verify.resend":"Resend Email","email_verify.sent":" Verification email sent.","emoji_list.actions":"Actions","emoji_list.add":"Add Custom Emoji","emoji_list.creator":"Creator","emoji_list.delete":"Delete","emoji_list.delete.confirm.button":"Delete","emoji_list.delete.confirm.msg":"This action permanently deletes the custom emoji. Are you sure you want to delete it?","emoji_list.delete.confirm.title":"Delete Custom Emoji","emoji_list.empty":"No Custom Emoji Found","emoji_list.header":"Custom Emoji","emoji_list.help":"Custom emoji are available to everyone on your server. Type ':' followed by two characters in a message box to bring up the emoji selection menu.","emoji_list.help2":"Tip: If you add #, ##, or ### as the first character on a new line containing emoji, you can use larger sized emoji. To try it out, send a message such as: '# :smile:'.","emoji_list.image":"Image","emoji_list.name":"Name","emoji_list.search":"Search Custom Emoji","emoji_picker_item.emoji_aria_label":"{emojiName} emoji","emoji_picker.activity":"Activity","emoji_picker.close":"Close","emoji_picker.custom":"Custom","emoji_picker.emojiPicker":"Emoji Picker","emoji_picker.flags":"Flags","emoji_picker.foods":"Foods","emoji_picker.header":"Emoji Picker","emoji_picker.nature":"Nature","emoji_picker.objects":"Objects","emoji_picker.people":"People","emoji_picker.places":"Places","emoji_picker.recent":"Recently Used","emoji_picker.search":"Search emojis","emoji_picker.search_emoji":"Search for an emoji","emoji_picker.searchResults":"Search Results","emoji_picker.symbols":"Symbols","error.channel_not_found.message":"The channel you're requesting is private or does not exist. Please contact an Administrator to be added to the channel.","error.channel_not_found.message_guest":"Your guest account has no channels assigned. Please contact an administrator.","error.channel_not_found.title":"Channel Not Found","error.channelNotFound.guest_link":"Back","error.channelNotFound.link":"Back to {defaultChannelName}","error.generic.link":"Back to {siteName}","error.generic.link_login":"Back to Login Page","error.generic.message":"An error has occurred.","error.generic.title":"Error","error.local_storage.help1":"Enable cookies","error.local_storage.help2":"Turn off private browsing","error.local_storage.help3":"Use a supported browser (IE 11, Chrome 61+, Firefox 60+, Safari 12+, Edge 42+)","error.local_storage.message":"Gomlo was unable to load because a setting in your browser prevents the use of its local storage features. To allow Gomlo to load, try the following actions:","error.local_storage.title":"Cannot Load Gomlo","error.maxFreeUsersReached.description":"New users cannot be added to this workspace because it has reached the user limit for the free version of Gomlo Cloud. The system administrator has been notified","error.maxFreeUsersReached.title":"This workspace has reached the user limit.","error.not_found.message":"The page you were trying to reach does not exist","error.not_found.title":"Page Not Found","error.oauth_access_denied":"You must authorize Gomlo to log in with {service}.","error.oauth_access_denied.title":"Authorization Error","error.oauth_invalid_param.title":"OAuth Parameter Error","error.oauth_missing_code":"The service provider {service} did not provide an authorization code in the redirect URL.","error.oauth_missing_code.forum":"If you reviewed the above and are still having trouble with configuration, you may post in our {link} where we'll be happy to help with issues during setup.","error.oauth_missing_code.forum.link":"Troubleshooting forum","error.oauth_missing_code.gitlab":"For {link} please make sure you followed the setup instructions.","error.oauth_missing_code.gitlab.link":"GitLab","error.oauth_missing_code.google":"For {link} make sure your administrator enabled the Google+ API.","error.oauth_missing_code.google.link":"Google Apps","error.oauth_missing_code.office365":"For {link} make sure the administrator of your Microsoft organization has enabled the Gomlo app.","error.oauth_missing_code.office365.link":"Office 365","error.oauth_missing_code.title":"Gomlo Needs Your Help","error.plugin_not_found.desc":"The plugin you are looking for does not exist.","error.plugin_not_found.title":"Plugin Not Found","error.team_not_found.message":"The team you're requesting is private or does not exist. Please contact your Administrator for an invitation.","error.team_not_found.title":"Team Not Found","file_attachment.thumbnail":"file thumbnail","file_info_preview.size":"Size ","file_info_preview.type":"File type ","file_search_result_item.copy_link":"Copy link","file_search_result_item.download":"Download","file_search_result_item.more_actions":"More Actions","file_search_result_item.open_in_channel":"Open in channel","file_upload.disabled":"File attachments are disabled.","file_upload.drag_folder":"Folders cannot be uploaded. Please drag all files separately.","file_upload.fileAbove":"File above {max}MB cannot be uploaded: {filename}","file_upload.filesAbove":"Files above {max}MB cannot be uploaded: {filenames}","file_upload.generic_error":"There was a problem uploading your files.","file_upload.limited":"Uploads limited to {count, number} files maximum. Please use additional posts for more files.","file_upload.menuAriaLabel":"Upload type selector","file_upload.pasted":"Image Pasted at ","file_upload.upload_files":"Upload files","file_upload.zeroBytesFile":"You are uploading an empty file: {filename}","file_upload.zeroBytesFiles":"You are uploading empty files: {filenames}","filtered_channels_list.search":"Search channels","filtered_user_list.countTotal":"{count, number} {count, plural, one {member} other {members}} of {total, number} total","filtered_user_list.countTotalPage":"{startCount, number} - {endCount, number} {count, plural, one {member} other {members}} of {total, number} total","filtered_user_list.next":"Next","filtered_user_list.prev":"Previous","filtered_user_list.search":"Search users","filtered_user_list.team":"Team:","filtered_user_list.userStatus":"User Status:","flag_post.flag":"Save","flag_post.unflag":"Remove from Saved","full_screen_modal.back":"Back","full_screen_modal.close":"Close","general_button.close":"Close","general_button.esc":"Esc","generic_icons.add":"Add Icon","generic_icons.add-mail":"Add Mail Icon","generic_icons.add-reaction":"Add Reaction Icon","generic_icons.adminOnlyIcon":"Admin View Only Icon","generic_icons.alert":"Alert Icon","generic_icons.archive":"Archive Icon","generic_icons.arrow.down":"Down Arrow Icon","generic_icons.attach":"Attachment Icon","generic_icons.back":"Back Icon","generic_icons.bot":"Bot Icon","generic_icons.breadcrumb":"Breadcrumb Icon","generic_icons.camera":"Camera Icon","generic_icons.channel.arrow-right":"Arrow right","generic_icons.channel.draft":"Channel Draft Icon","generic_icons.channel.private":"Private Channel Icon","generic_icons.channel.public":"Public Channel Icon","generic_icons.close":"Close Icon","generic_icons.collapse":"Collapse Icon","generic_icons.download":"Download Icon","generic_icons.dropdown":"Dropdown Icon","generic_icons.edit":"Edit Icon","generic_icons.elipsisHorizontalIcon":"Ellipsis Horizontal Icon","generic_icons.expand":"Expand Icon","generic_icons.fail":"Faliure Icon","generic_icons.flag":"Save Icon","generic_icons.flagged":"Saved Icon","generic_icons.info":"Info Icon","generic_icons.invite":"Invite Icon","generic_icons.invite_members":"Invite Members Icon","generic_icons.link":"Link Icon","generic_icons.loading":"Loading Icon","generic_icons.logout":"Logout Icon","generic_icons.mail":"Mail Icon","generic_icons.chatting":"Gomlo Logo","generic_icons.member":"Member Icon","generic_icons.mention":"Mention Icon","generic_icons.menu":"Menu Icon","generic_icons.message":"Message Icon","generic_icons.muted":"Muted Icon","generic_icons.next":"Next Icon","generic_icons.pin":"Pin Icon","generic_icons.plugin":"Plugin Icon","generic_icons.plugins":"Plugins","generic_icons.previous":"Previous Icon","generic_icons.reload":"Reload Icon","generic_icons.remove":"Remove Icon","generic_icons.reply":"Reply Icon","generic_icons.search":"Search Icon","generic_icons.select":"Select Icon","generic_icons.settings":"Settings Icon","generic_icons.success":"Success Icon","generic_icons.upload":"Upload Icon","generic_icons.userGuide":"Help","generic_icons.warning":"Warning Icon","generic_modal.cancel":"Cancel","generic_modal.confirm":"Confirm","generic.done":"Done","generic.next":"Next","generic.previous":"Previous","get_link.clipboard":" Link copied","get_link.close":"Close","get_link.copy":"Copy Link","get_public_link_modal.help":"The link below allows anyone to see this file without being registered on this server.","get_public_link_modal.title":"Copy Public Link","gif_picker.gfycat":"Search Gfycat","globalThreads.heading":"Followed threads","globalThreads.noThreads.subtitle":"Any threads you are mentioned in or have participated in will show here along with any threads you have followed.","globalThreads.noThreads.title":"No followed threads yet","globalThreads.sidebarLink":"Threads","globalThreads.subtitle":"Threads you’re participating in will automatically show here","globalThreads.threadList.noUnreadThreads":"No unread threads","globalThreads.threadPane.unselectedTitle":"{numUnread, plural, =0 {Looks like you’re all caught up} other {Catch up on your threads}}","globalThreads.title":"{prefix}Threads - {displayName} {siteName}","group_list_modal.addGroupButton":"Add Groups","group_list_modal.removeGroupButton":"Remove Group",groups:"{team} Groups","inProduct_notices.adminOnlyMessage":"Visible to Admins only","input.clear":"Clear","integrations.add":"Add","integrations.command.description":"Slash commands send events to external integrations","integrations.command.title":"Slash Commands","integrations.delete.confirm.button":"Delete","integrations.delete.confirm.title":"Delete Integration","integrations.done":"Done","integrations.edit":"Edit","integrations.header":"Integrations","integrations.help":"Visit the {appDirectory} to find self-hosted, third-party apps and integrations for Gomlo.","integrations.help.appDirectory":"App Directory","integrations.incomingWebhook.description":"Incoming webhooks allow external integrations to send messages","integrations.incomingWebhook.title":"Incoming Webhooks","integrations.oauthApps.description":"OAuth 2.0 allows external applications to make authorized requests to the Gomlo API","integrations.oauthApps.title":"OAuth 2.0 Applications","integrations.outgoingWebhook.description":"Outgoing webhooks allow external integrations to receive and respond to messages","integrations.outgoingWebhook.title":"Outgoing Webhooks","integrations.successful":"Setup Successful","interactive_dialog.cancel":"Cancel","interactive_dialog.element.optional":"(optional)","interactive_dialog.submit":"Submit","interactive_dialog.submitting":"Submitting...","intro_messages.addGroupsToTeam":"Add other groups to this team","intro_messages.anyMember":" Any member can join and read this channel.","intro_messages.beginning":"Beginning of {name}","intro_messages.creator":"This is the start of the {name} channel, created by {creator} on {date}.","intro_messages.creatorPrivate":"This is the start of the {name} private channel, created by {creator} on {date}.","intro_messages.default":"**Welcome to {display_name}!**\n \nPost messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.","intro_messages.DM":"This is the start of your direct message history with {teammate}.\nDirect messages and files shared here are not shown to people outside this area.","intro_messages.GM":"This is the start of your group message history with {names}.\nMessages and files shared here are not shown to people outside this area.","intro_messages.group_message":"This is the start of your group message history with these teammates. Messages and files shared here are not shown to people outside this area.","intro_messages.inviteGropusToChannel.button":"Add groups to this private channel","intro_messages.inviteMembersToChannel.button":"Add members to this channel","intro_messages.inviteMembersToPrivateChannel.button":"Add members to this private channel","intro_messages.inviteOthers":"Invite others to this team","intro_messages.inviteOthersToWorkspace.button":"Invite others to the workspace","intro_messages.inviteOthersToWorkspace.title":"Let’s add some people to the workspace!","intro_messages.noCreator":"This is the start of the {name} channel, created on {date}.","intro_messages.noCreatorPrivate":"This is the start of the {name} private channel, created on {date}.","intro_messages.offTopic":"This is the start of {display_name}, a channel for non-work-related conversations.","intro_messages.onlyInvited":" Only invited members can see this private channel.","intro_messages.purpose":" This channel's purpose is: {purpose}","intro_messages.purposePrivate":" This private channel's purpose is: {purpose}","intro_messages.readonly.default":"**Welcome to {display_name}!**\n \nMessages can only be posted by system admins. Everyone automatically becomes a permanent member of this channel when they join the team.","intro_messages.setHeader":"Set a Header","intro_messages.teammate":"This is the start of your direct message history with this teammate. Direct messages and files shared here are not shown to people outside this area.","invitation_modal.confirm.done":"Done","invitation_modal.confirm.guests_title":"**Guests** Invited to **{teamName}**","invitation_modal.confirm.members_subtitle":"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited, and **{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent","invitation_modal.confirm.members_subtitle_without_not_sent":"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited","invitation_modal.confirm.members_subtitle_without_sent":"**{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent","invitation_modal.confirm.members_subtitle_without_sent_and_not_sent":"No invitation sent","invitation_modal.confirm.members_title":"**Members** Invited to **{teamName}**","invitation_modal.confirm.not-sent-header":"Invitations Not Sent","invitation_modal.confirm.sent-header":"Successful Invites","invitation_modal.guests.add_channels.placeholder":"Search and add channels","invitation_modal.guests.add_channels.title":"Search and Add Channels","invitation_modal.guests.add_people.description":"Add existing guests or send email invites to new guests.","invitation_modal.guests.add_people.description-email-disabled":"Add existing guests.","invitation_modal.guests.add_people.title":"Invite People","invitation_modal.guests.add-channels.description":"Specify the channels the guests have access to.","invitation_modal.guests.custom-message.description":"Create a custom message to make your invite more personal.","invitation_modal.guests.custom-message.link":"Set a custom message","invitation_modal.guests.custom-message.title":"Custom message","invitation_modal.guests.invite_button":"Invite Guests","invitation_modal.guests.search-and-add.placeholder":"Add guests or email addresses","invitation_modal.guests.search-and-add.placeholder-email-disabled":"Add guests","invitation_modal.guests.title":"Invite **Guests** to {teamName}","invitation_modal.guests.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email to invite","invitation_modal.guests.users_emails_input.no_user_found_matching-email-disabled":"No one found matching **{text}**","invitation_modal.guests.users_emails_input.valid_email":"Invite **{email}** as a guest","invitation_modal.invite_guests.description":"Invite guests to one or more channels. Guests only have access to messages, files, and people in the channels they are members of.","invitation_modal.invite_guests.title":"Invite **Guests**","invitation_modal.invite_members.description":"Invite new team members with a link or by email. Team members have access to messages and files in open teams and public channels.","invitation_modal.invite_members.description-email-disabled":"Invite new team members with a link. Team members have access to messages and files in open teams and public channels.","invitation_modal.invite_members.exceeded_max_add_members_batch":"No more than **{text}** people can be invited at once","invitation_modal.invite_members.hit_cloud_user_limit":"You can only invite **{num} more {num, plural, one {member} other {members}}** to the team on the free tier.","invitation_modal.invite_members.title":"Invite **Members**","invitation_modal.invite.more":"Invite More People","invitation_modal.members.invite_button":"Invite Members","invitation_modal.members.or":"OR","invitation_modal.members.search_and_add.title":"Add or Invite People","invitation_modal.members.search-and-add.description":"Add existing members or send email invites to new members.","invitation_modal.members.search-and-add.description-email-disabled":"Add existing members to this team.","invitation_modal.members.search-and-add.placeholder":"Add members or email addresses","invitation_modal.members.search-and-add.placeholder-email-disabled":"Add members","invitation_modal.members.share_link.copy_button":"Copy Link","invitation_modal.members.share_link.description":"Share this link to invite people to this team.","invitation_modal.members.share_link.input":"team invite link","invitation_modal.members.share_link.link_copied":"Link Copied","invitation_modal.members.share_link.title":"Share This Link","invitation_modal.members.title":"Invite **Members** to {teamName}","invitation_modal.members.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email to invite","invitation_modal.members.users_emails_input.no_user_found_matching-email-disabled":"No one found matching **{text}**","invitation_modal.members.users_emails_input.valid_email":"Invite **{email}** as a team member","invitation_modal.title":"Invite people to **{teamName}**","invitation-modal.confirm.details-header":"Details","invitation-modal.confirm.not-valid-channel":"Does not match a valid channel name.","invitation-modal.confirm.not-valid-user-or-email":"Does not match a valid user or email.","invitation-modal.confirm.people-header":"People","invitation-modal.discard-changes.button":"Yes, Discard","invitation-modal.discard-changes.message":"You have unsent invitations, are you sure you want to discard them?","invitation-modal.discard-changes.title":"Discard Changes","invitation-modal.notify-admin.failed":"Failed. Try again later.","invitation-modal.notify-admin.notify":"Notify the admin.","invitation-modal.notify-admin.sending":"Sending...","invitation-modal.notify-admin.sent":"Sent!","invite.guests.added-to-channel":"An invitation email has been sent.","invite.guests.already-all-channels-member":"This person is already a member of all the channels.","invite.guests.already-some-channels-member":"This person is already a member of some of the channels.","invite.guests.new-member":"This guest has been added to the team and {count, plural, one {channel} other {channels}}.","invite.guests.unable-to-add-the-user-to-the-channels":"Unable to add the guest to the channels.","invite.members.added-to-team":"This member has been added to the team.","invite.members.already-member":"This person is already a team member.","invite.members.invite-sent":"An invitation email has been sent.","invite.members.unable-to-add-the-user-to-the-team":"Unable to add the user to the team.","invite.members.user-is-guest":"Contact your admin to make this guest a full member.","invite.members.user-is-not-guest":"This person is already a member.","invite.rate-limit-exceeded":"Invite emails rate limit exceeded.",join_team_group_constrained_denied:"You need to be a member of a linked group to join this team.",join_team_group_constrained_denied_admin:"You need to be a member of a linked group to join this team. You can add a group to this team [here]({siteURL}/admin_console/user_management/groups).","katex.error":"Couldn't compile your Latex code. Please review the syntax and try again.","last_users_message.added_to_channel.type":"were **added to the channel** by {actor}.","last_users_message.added_to_team.type":"were **added to the team** by {actor}.","last_users_message.first":"{firstUser} and ","last_users_message.joined_channel.type":"**joined the channel**.","last_users_message.joined_team.type":"**joined the team**.","last_users_message.left_channel.type":"**left the channel**.","last_users_message.left_team.type":"**left the team**.","last_users_message.others":"{numOthers} others ","last_users_message.removed_from_channel.type":"were **removed from the channel**.","last_users_message.removed_from_team.type":"were **removed from the team**.","leave_private_channel_modal.leave":"Yes, leave channel","leave_private_channel_modal.message":"Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.","leave_private_channel_modal.title":"Leave Private Channel {channel}","leave_team_modal_guest_only_private.desc":"**You will be removed from {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** You won't be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_guest_only_public.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} on this team.** You won't be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_guest.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} and {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** You won't be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_private.desc":"**You will be removed from {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels} } on this team.** If the team is private you won't be able to rejoin it the team without an invitation from another team member. Are you sure?","leave_team_modal_public.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels} } on this team.** Are you sure?","leave_team_modal.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} and {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** If the team is private you won't be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal.no":"No","leave_team_modal.title":"Leave the team?","leave_team_modal.yes":"Yes","list_modal.paginatorCount":"{startCount, number} - {endCount, number} of {total, number} total","loading_screen.loading":"Loading",local:"local","manage_channel_groups_modal.search_placeholder":"Search groups","manage_team_groups_modal.search_placeholder":"Search groups","members_popover.button.message":"message","members_popover.manageMembers":"Manage Members","members_popover.title":"Channel Members","members_popover.viewMembers":"View Members","message_submit_error.invalidCommand":"Command with a trigger of ''{command}'' not found. ","message_submit_error.sendAsMessageLink":"Click here to send as a message.","mobile.set_status.away.icon":"Away Icon","mobile.set_status.dnd.icon":"Do Not Disturb Icon","mobile.set_status.offline.icon":"Offline Icon","mobile.set_status.online.icon":"Online Icon","modal.manual_status.ask":"Do not ask me again","modal.manual_status.auto_responder.message_":'Would you like to switch your status to "{status}" and disable Automatic Replies?',"modal.manual_status.auto_responder.message_away":'Would you like to switch your status to "Away" and disable Automatic Replies?',"modal.manual_status.auto_responder.message_dnd":'Would you like to switch your status to "Do Not Disturb" and disable Automatic Replies?',"modal.manual_status.auto_responder.message_offline":'Would you like to switch your status to "Offline" and disable Automatic Replies?',"modal.manual_status.auto_responder.message_online":'Would you like to switch your status to "Online" and disable Automatic Replies?',"modal.manual_status.button_":'Yes, set my status to "{status}"',"modal.manual_status.button_away":'Yes, set my status to "Away"',"modal.manual_status.button_dnd":'Yes, set my status to "Do Not Disturb"',"modal.manual_status.button_offline":'Yes, set my status to "Offline"',"modal.manual_status.button_online":'Yes, set my status to "Online"',"modal.manual_status.cancel_":'No, keep it as "{status}"',"modal.manual_status.cancel_away":'No, keep it as "Away"',"modal.manual_status.cancel_dnd":'No, keep it as "Do Not Disturb"',"modal.manual_status.cancel_offline":'No, keep it as "Offline"',"modal.manual_status.cancel_ooo":'No, keep it as "Out of Office"',"modal.manual_status.message_":'Would you like to switch your status to "{status}"?',"modal.manual_status.message_away":'Would you like to switch your status to "Away"?',"modal.manual_status.message_dnd":'Would you like to switch your status to "Do Not Disturb"?',"modal.manual_status.message_offline":'Would you like to switch your status to "Offline"?',"modal.manual_status.message_online":'Would you like to switch your status to "Online"?',"modal.manual_status.title_":'Your Status is Set to "{status}"',"modal.manual_status.title_away":'Your Status is Set to "Away"',"modal.manual_status.title_dnd":'Your Status is Set to "Do Not Disturb"',"modal.manual_status.title_offline":'Your Status is Set to "Offline"',"modal.manual_status.title_ooo":'Your Status is Set to "Out of Office"',"more_channels.create":"Create Channel","more_channels.createClick":"Click 'Create New Channel' to make a new one","more_channels.joining":"Joining...","more_channels.next":"Next","more_channels.noMore":"No more channels to join","more_channels.prev":"Previous","more_channels.show_archived_channels":"Show: Archived Channels","more_channels.show_public_channels":"Show: Public Channels","more_channels.title":"More Channels","more_direct_channels.directchannel.deactivated":"{displayname} - Deactivated","more_direct_channels.directchannel.you":"{displayname} (you)","more_direct_channels.new_convo_note":"This will start a new conversation. If you're adding a lot of people, consider creating a private channel instead.","more_direct_channels.new_convo_note.full":"You've reached the maximum number of people for this conversation. Consider creating a private channel instead.","more_direct_channels.title":"Direct Messages","more_public_direct_channels.channels":"Channels","more_public_direct_channels.direct_messages":"Direct Messages","more_public_direct_channels.title":"Channels and Direct Messages","msg_typing.areTyping":"{users} and {last} are typing...","msg_typing.isTyping":"{user} is typing...","multiselect.add":"Add","multiselect.addChannelsPlaceholder":"Search and add channels","multiselect.addGroupsPlaceholder":"Search and add groups","multiselect.adding":"Adding...","multiselect.addTeamsPlaceholder":"Search and add teams","multiselect.go":"Go","multiselect.list.notFound":"No results found matching **{searchQuery}**","multiselect.loading":"Loading...","multiselect.numGroupsRemaining":"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {group} other {groups}}. ","multiselect.numMembers":"{memberOptions, number} of {totalCount, number} members","multiselect.numPeopleRemaining":"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {person} other {people}}. ","multiselect.numRemaining":"You can add {num, number} more","multiselect.placeholder":"Search for people","multiselect.selectChannels":"Use ↑↓ to browse, ↵ to select.","multiselect.selectTeams":"Use ↑↓ to browse, ↵ to select.","navbar_dropdown.about":"About {appTitle}","navbar_dropdown.accountSettings":"Account Settings","navbar_dropdown.addGroupsToTeam":"Add Groups to Team","navbar_dropdown.console":"System Console","navbar_dropdown.create":"Create a Team","navbar_dropdown.help":"Help","navbar_dropdown.logout":"Log Out","navbar_dropdown.menuAriaLabel":"main menu","navbar_dropdown.switchTo":"Switch to ","navbar_dropdown.teamSettings":"Team Settings","navbar_dropdown.viewMembers":"View Members","navbar.addGroups":"Add Groups","navbar.addMembers":"Add Members","navbar.click":"Click here","navbar.clickToAddHeader":"{clickHere} to add one.","navbar.noHeader":"No channel header yet.","navbar.preferences":"Notification Preferences","navbar.toggle2":"Toggle sidebar","navbar.viewInfo":"View Info","navbar.viewPinnedPosts":"View Pinned Posts","no_results.channel_files_filtered.subtitle":"This channel doesn't contains any file with the selected file format.","no_results.channel_files_filtered.title":"No files found","no_results.channel_files.subtitle":"Files posted in this channel will show here.","no_results.channel_files.title":"No files yet","no_results.channel_search.subtitle":"Check the spelling or try another search.","no_results.contact_search.subtitle":"Check the spelling or try another search.","no_results.channel_search.title":"No results for {channelName}","no_results.contact_search.title":"No contacts match with {channelName}","no_results.flagged_posts.subtitle":"Saved messages are only visible to you. Mark messages for follow-up or save something for later by clicking the {icon} to save them here.","no_results.flagged_posts.title":"No Saved posts yet","no_results.mentions.subtitle":"Messages where someone mentions you or includes your trigger words are saved here.","no_results.mentions.title":"No mentions yet","no_results.pinned_posts.subtitle":"Pin important messages which are visible to the whole channel. Open the context menu on a message and choose {text} to save it here.","no_results.pinned_posts.title":"No pinned posts yet","notification.dm":"Direct Message","notify_all.confirm":"Confirm","notify_all.question":"By using @all or @group you are about to send notifications to {totalMembers} people. Are you sure you want to do this?","notify_all.question_groups":"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people**. Are you sure you want to do this?","notify_all.question_one_group":"By using **{mention}** you are about to send notifications to **{totalMembers} people**. Are you sure you want to do this?","notify_all.question_timezone":"By using @all or @group you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.question_timezone_groups":"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.question_timezone_one_group":"By using **{mention}** you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.title.confirm":"Confirm Sending Notifications to Entire Channel","notify_all.title.confirm_groups":"Confirm sending notifications to groups",numMembers:"{num, number} {num, plural, one {member} other {members}}",passwordRequirements:"Password Requirements:","pending_post_actions.cancel":"Cancel","pending_post_actions.retry":"Retry","permalink.error.access":"Permalink belongs to a deleted message or to a channel to which you do not have access.","permalink.error.title":"Message Not Found","permalink.show_dialog_warn.description":"You are about to join {channel} without explicitly being added by the channel admin. Are you sure you wish to join this private channel?","permalink.show_dialog_warn.join":"Join","permalink.show_dialog_warn.title":"Join private channel","picture_selector.image.ariaLabel":"Picture selector image","picture_selector.remove_picture":"Remove picture","picture_selector.select_button.ariaLabel":"Select picture","post_body.check_for_out_of_channel_groups_mentions.message":"did not get notified by this mention because they are not in the channel. They cannot be added to the channel because they are not a member of the linked groups. To add them to this channel, they must be added to the linked groups.","post_body.check_for_out_of_channel_mentions.link.and":" and ","post_body.check_for_out_of_channel_mentions.link.private":"add them to this private channel","post_body.check_for_out_of_channel_mentions.link.public":"add them to the channel","post_body.check_for_out_of_channel_mentions.message_last":"? They will have access to all message history.","post_body.check_for_out_of_channel_mentions.message.multiple":"did not get notified by this mention because they are not in the channel. Would you like to ","post_body.check_for_out_of_channel_mentions.message.one":"did not get notified by this mention because they are not in the channel. Would you like to ","post_body.check_for_out_of_channel_mentions.others":"{numOthers} others","post_body.commentedOn":"Commented on {name}'s message: ","post_body.deleted":"(message deleted)","post_body.plusMore":" plus {count, number} other {count, plural, one {file} other {files}}","post_delete.notPosted":"Comment could not be posted","post_delete.okay":"Okay","post_delete.someone":"Someone deleted the message on which you tried to post a comment.","post_header.update_status":"Update your status","post_info.auto_responder":"AUTOMATIC REPLY","post_info.bot":"BOT","post_info.comment_icon.tooltip.reply":"Reply","post_info.del":"Delete","post_info.dot_menu.tooltip.more_actions":"More actions","post_info.edit":"Edit","post_info.guest":"GUEST","post_info.info.view_additional_info":"View additional info","post_info.menuAriaLabel":"Post extra options","post_info.message.show_less":"Show less","post_info.message.show_more":"Show more","post_info.message.visible":"(Only visible to you)","post_info.message.visible.compact":" (Only visible to you)","post_info.permalink":"Copy Link","post_info.pin":"Pin to Channel","post_info.reply":"Reply","post_info.submenu.icon":"submenu icon","post_info.submenu.mobile":"mobile submenu","post_info.system":"System","post_info.tooltip.add_reactions":"Add Reaction","post_info.unpin":"Unpin from Channel","post_info.unread":"Mark as Unread","post_message_view.edited":"(edited)","post_pre_header.flagged":"Saved","post_pre_header.pinned":"Pinned","post.ariaLabel.attachment":", 1 attachment","post.ariaLabel.attachmentMultiple":", {attachmentCount} attachments","post.ariaLabel.message":"At {time} {date}, {authorName} wrote, {message}","post.ariaLabel.messageIsFlagged":", message is saved","post.ariaLabel.messageIsFlaggedAndPinned":", message is saved and pinned","post.ariaLabel.messageIsPinned":", message is pinned","post.ariaLabel.reaction":", 1 reaction","post.ariaLabel.reactionMultiple":", {reactionCount} reactions","post.ariaLabel.replyMessage":"At {time} {date}, {authorName} replied, {message}","postlist.toast.history":"Viewing message history","postlist.toast.newMessages":"{count, number} new {count, plural, one {message} other {messages}}","postlist.toast.newMessagesSince":"{count, number} new {count, plural, one {message} other {messages}} {isToday, select, true {} other {since}} {date}","postlist.toast.scrollToBottom":"Jump to recents","postlist.toast.scrollToLatest":"Jump to new messages","postlist.toast.searchHint":"Tip: Try {searchShortcut} to search this channel","posts_view.loadMore":"Load More messages","posts_view.newMsg":"New Messages","promote_to_user_modal.desc":"This action promotes the guest {username} to a member. It will allow the user to join public channels and interact with users outside of the channels they are currently members of. Are you sure you want to promote guest {username} to member?","promote_to_user_modal.promote":"Promote","promote_to_user_modal.title":"Promote guest {username} to member","quick_switch_modal.channels":"Channels","quick_switch_modal.channelsShortcut.mac":"- ⌘K","quick_switch_modal.channelsShortcut.windows":"- CTRL+K","quick_switch_modal.help":"Start typing then use TAB to toggle channels/teams, **▲▼** to browse, **ENTER** to select, **ESC** to dismiss.","quick_switch_modal.help_mobile":"Type to find a channel.","quick_switch_modal.help_no_team":"Type to find a channel. Use **UP/DOWN** to browse, **ENTER** to select, **ESC** to dismiss.","quick_switch_modal.input":"quick switch input","quick_switch_modal.switchChannels":"Switch a chat","quick_switch_modal.teams":"Teams","quick_switch_modal.teamsShortcut.mac":"- ⌘⌥K","quick_switch_modal.teamsShortcut.windows":"- CTRL+ALT+K","reaction_list.addReactionTooltip":"Add a reaction","reaction.add.ariaLabel":"Add a reaction","reaction.clickToAdd":"(click to add)","reaction.clickToRemove":"(click to remove)","reaction.container.ariaLabel":"reactions","reaction.othersReacted":"{otherUsers, number} {otherUsers, plural, one {user} other {users}}","reaction.reacted":"{users} {reactionVerb} with {emoji}","reaction.reactionVerb.user":"reacted","reaction.reactionVerb.users":"reacted","reaction.reactionVerb.you":"reacted","reaction.reactionVerb.youAndUsers":"reacted","reaction.reactWidth.ariaLabel":"react with","reaction.removeReact.ariaLabel":"remove reaction","reaction.usersAndOthersReacted":"{users} and {otherUsers, number} other {otherUsers, plural, one {user} other {users}}","reaction.usersReacted":"{users} and {lastUser}","reaction.you":"You",remove_group_confirm_button:"Yes, Remove Group and {memberCount, plural, one {Member} other {Members}}",remove_group_confirm_message:"{memberCount, number} {memberCount, plural, one {member} other {members}} associated to this group will be removed from the team. Are you sure you wish to remove this group and {memberCount} {memberCount, plural, one {member} other {members}}?",remove_group_confirm_title:"Remove Group and {memberCount, number} {memberCount, plural, one {Member} other {Members}}","remove_next_steps_modal.confirm":"Remove","remove_next_steps_modal.header":"Remove {title}?","remove_next_steps_modal.helpText":"Access {title} any time through the Main Menu","remove_next_steps_modal.mainText":"This will remove this section from your sidebar, but you can access it later in the Help section of the Main Menu.","removed_channel.channelName":"the channel","removed_channel.from":"Removed from ","removed_channel.okay":"Okay","removed_channel.remover":"{remover} removed you from {channel}","removed_channel.someone":"Someone","rename_category_modal.rename":"Rename","rename_category_modal.renameCategory":"Rename Category","rename_channel.cancel":"Cancel","rename_channel.defaultError":" - Cannot be changed for the default channel","rename_channel.displayName":"Display Name","rename_channel.displayNameHolder":"Enter display name","rename_channel.maxLength":"This field must be less than {maxLength, number} characters","rename_channel.minLength":"Display name must have at least {minLength, number} characters.","rename_channel.save":"Save","rename_channel.title":"Rename Channel","rename_channel.url":"URL","revoke_user_sessions_modal.desc":"This action revokes all sessions for {username}. They will be logged out from all devices. Are you sure you want to revoke all sessions for {username}?","revoke_user_sessions_modal.revoke":"Revoke","revoke_user_sessions_modal.title":"Revoke Sessions for {username}","rhs_card.jump":"Jump","rhs_card.message_by":"Message by {avatar} {user}","rhs_comment.comment":"Comment","rhs_header.backToFlaggedTooltip":"Back to saved posts","rhs_header.backToPinnedTooltip":"Back to pinned posts","rhs_header.backToResultsTooltip":"Back to search results","rhs_header.closeSidebarTooltip":"Close","rhs_header.closeTooltip.icon":"Close Sidebar Icon","rhs_header.collapseSidebarTooltip":"Collapse Sidebar","rhs_header.collapseSidebarTooltip.icon":"Collapse Sidebar Icon","rhs_header.details":"Thread","rhs_header.expandSidebarTooltip":"Expand Sidebar","rhs_header.expandSidebarTooltip.icon":"Expand Sidebar Icon","rhs_root.mobile.add_reaction":"Add Reaction","rhs_root.mobile.flag":"Save","rhs_root.mobile.unflag":"Remove from Saved","rhs_thread.rootPostDeletedMessage.body":"Part of this thread has been deleted due to a data retention policy. You can no longer reply to this thread.","save_button.save":"Save","save_button.saving":"Saving","search_bar.files_tab":"Files","search_bar.messages_tab":"Messages","search_bar.search":"Search","search_bar.search_types.files":"FILES","search_bar.search_types.messages":"MESSAGES","search_bar.usage.search_type_files":"Files","search_bar.usage.search_type_messages":"Messages","search_bar.usage.search_type_question":"What are you searching for?","search_bar.usage.title":"Search options","search_bar.usage.title_files":"File search options","search_bar.usage.title_messages":"Message search options","search_files_list_option.after":"Files after a date","search_files_list_option.before":"Files before a date","search_files_list_option.exclude":"Exclude search terms","search_files_list_option.ext":"Files with a extension","search_files_list_option.from":"Files from a user","search_files_list_option.in":"Files in a channel","search_files_list_option.on":"Files on a date","search_files_list_option.phrases":"Files with phrases","search_header.loading":"Searching...","search_header.title5":"Extra Information","search_item.channelArchived":"Archived","search_item.direct":"Direct Message (with {username})","search_item.file_badge.direct_message":"Direct Message","search_item.file_badge.group_message":"Group Message","search_item.jump":"Jump","search_list_option.after":"Messages after a date","search_list_option.before":"Messages before a date","search_list_option.exclude":"Exclude search terms","search_list_option.from":"Messages from a user","search_list_option.in":"Messages in a channel","search_list_option.on":"Messages on a date","search_list_option.phrases":"Messages with phrases","search_results.channel-files-header":"Recent files","search_results.usage.dataRetention":"Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.","select_team.icon":"Select Team Icon","select_team.join.icon":"Join Team Icon","select_team.private.icon":"Private Team","setting_item_max.cancel":"Cancel","setting_item_min.edit":"Edit","setting_picture.cancel":"Cancel","setting_picture.help.profile":"Upload a picture in BMP, JPG or PNG format. Maximum file size: {max}","setting_picture.help.team":"Upload a team icon in BMP, JPG or PNG format.\nSquare images with a solid background color are recommended.","setting_picture.remove":"Remove This Icon","setting_picture.remove_profile_picture":"Remove Profile Picture","setting_picture.save":"Save","setting_picture.select":"Select","setting_picture.uploading":"Uploading...","setting_upload.import":"Import","setting_upload.noFile":"No file selected.","setting_upload.select":"Select file","shared_channel_indicator.tooltip":"Shared with trusted organizations","shared_user_indicator.tooltip":"From a trusted organization","sidebar_header.tutorial.body1":"The **Main Menu** is where you can **Invite New Members**, access your **Account Settings** and set your **Theme Color**.","sidebar_header.tutorial.body2":"Team administrators can also access their **Team Settings** from this menu.","sidebar_header.tutorial.body3":"System administrators will find a **System Console** option to administrate the entire system.","sidebar_header.tutorial.title":"Main Menu","sidebar_left.add_channel_dropdown.browseChannels":"Browse Channels","sidebar_left.add_channel_dropdown.browseOrCreateChannels":"Browse or create channels","sidebar_left.add_channel_dropdown.createCategory":"Create New Category","sidebar_left.add_channel_dropdown.createNewChannel":"Create New Channel","sidebar_left.add_channel_dropdown.dropdownAriaLabel":"Add Channel Dropdown","sidebar_left.channel_filter.filterByUnread":"Filter by unread","sidebar_left.channel_filter.showAllChannels":"Show all channels","sidebar_left.channel_navigator.channelSwitcherLabel":"Channel Switcher","sidebar_left.channel_navigator.goBackLabel":"Back","sidebar_left.channel_navigator.goForwardLabel":"Forward","sidebar_left.channel_navigator.jumpTo":"Find contacts or chat","sidebar_left.sidebar_category_menu.createCategory":"Create New Category","sidebar_left.sidebar_category_menu.deleteCategory":"Delete Category","sidebar_left.sidebar_category_menu.dropdownAriaLabel":"Edit category menu","sidebar_left.sidebar_category_menu.editCategory":"Category options","sidebar_left.sidebar_category_menu.muteCategory":"Mute Category","sidebar_left.sidebar_category_menu.renameCategory":"Rename Category","sidebar_left.sidebar_category_menu.unmuteCategory":"Unmute Category","sidebar_left.sidebar_category.newDropBoxLabel":"Drag channels here...","sidebar_left.sidebar_category.newLabel":"new","sidebar_left.sidebar_channel_menu.addMembers":"Add Members","sidebar_left.sidebar_channel_menu.copyLink":"Copy Link","sidebar_left.sidebar_channel_menu.dropdownAriaLabel":"Edit channel menu","sidebar_left.sidebar_channel_menu.editChannel":"Channel options","sidebar_left.sidebar_channel_menu.favoriteChannel":"Favorite","sidebar_left.sidebar_channel_menu.leaveChannel":"Leave Channel","sidebar_left.sidebar_channel_menu.leaveConversation":"Close Conversation","sidebar_left.sidebar_channel_menu.markAsRead":"Mark as Read","sidebar_left.sidebar_channel_menu.moveTo":"Move to","sidebar_left.sidebar_channel_menu.moveToNewCategory":"New Category","sidebar_left.sidebar_channel_menu.muteChannel":"Mute Channel","sidebar_left.sidebar_channel_menu.muteConversation":"Mute Conversation","sidebar_left.sidebar_channel_menu.unfavoriteChannel":"Unfavorite","sidebar_left.sidebar_channel_menu.unmuteChannel":"Unmute Channel","sidebar_left.sidebar_channel_menu.unmuteConversation":"Unmute Conversation","sidebar_left.sidebar_channel.selectedCount":"{count} selected","sidebar_next_steps.gettingStarted":"Getting Started","sidebar_next_steps.otherAreasToExplore":"A few other areas to explore","sidebar_next_steps.stepsComplete":"{complete} / {total} steps complete","sidebar_next_steps.tipsAndNextSteps":"Tips & Next Steps","sidebar_right_menu.console":"System Console","sidebar_right_menu.flagged":"Saved Posts","sidebar_right_menu.recentMentions":"Recent Mentions","sidebar.allDirectMessages":"All direct messages","sidebar.browseChannelDirectChannel":"Browse channels and direct messages","sidebar.createChannel":"Create a public channel","sidebar.createDirectMessage":"Write a direct message","sidebar.createGroup":"Create a private channel","sidebar.createPublicPrivateChannel":"Create a public or private channel","sidebar.directchannel.you":"{displayname} (you)","sidebar.leave":"Leave the channel","sidebar.moreDmAria":"See more direct messages","sidebar.moreElips":"More...","sidebar.morePublicAria":"See more public channels","sidebar.morePublicDmAria":"See more public channels and direct messages","sidebar.openDirectMessage":"Open a Direct Message","sidebar.removeList":"Remove from this list","sidebar.show":"Show","sidebar.sort":"Sort","sidebar.sortedByRecencyLabel":"Recent activity","sidebar.sortedManually":"Manually","sidebar.team_select":"{siteName} - Join a team","sidebar.types.alpha":"Groups","sidebar.types.channels":"Groups","sidebar.types.direct":"Direct messages","sidebar.types.direct_messages":"Direct messages","sidebar.types.favorite":"Favorite channel","sidebar.types.favorites":"Favorites","sidebar.types.private":"Private groups","sidebar.types.public":"Public groups","sidebar.types.recent":"Recent activity","sidebar.types.unreads":"Unreads","sidebar.unreads":"More unreads","someting.string":"defaultString","status_dropdown.custom_status.tooltip_clear":"Clear","status_dropdown.dnd_sub_menu_header":"Disable notifications until:","status_dropdown.menuAriaLabel":"set status","status_dropdown.set_away":"Away","status_dropdown.set_custom":"Set a Custom Status","status_dropdown.set_dnd":"Do Not Disturb","status_dropdown.set_dnd.extra":"Disables all notifications","status_dropdown.set_offline":"Offline","status_dropdown.set_online":"Online","status_dropdown.set_ooo":"Out of Office","status_dropdown.set_ooo.extra":"Automatic Replies are enabled","status_dropdown.set_your_status":"Set your status","string.id":"default message","suggestion_list.no_matches":"No items match __{value}__","suggestion.archive":"Archived Channels","suggestion.mention.all":"Notifies everyone in this channel","suggestion.mention.channel":"Notifies everyone in this channel","suggestion.mention.channels":"My Channels","suggestion.mention.groups":"Group Mentions","suggestion.mention.here":"Notifies everyone online in this channel","suggestion.mention.members":"Channel Members","suggestion.mention.morechannels":"Other Channels","suggestion.mention.moremembers":"Other Members","suggestion.mention.nonmembers":"Not in Channel","suggestion.mention.special":"Special Mentions","suggestion.mention.unread.channels":"Unread Channels","suggestion.search.direct":"Direct Messages","suggestion.search.private":"Private Channels","suggestion.search.public":"Public Channels","suggestion.user.isCurrent":"(you)","textbox.bold":"**bold**","textbox.edit":"Edit message","textbox.help":"Help","textbox.inlinecode":"`inline code`","textbox.italic":"*italic*","textbox.preformatted":"```preformatted```","textbox.preview":"Preview","textbox.quote":">quote","textbox.strike":"strike","threading.filters.allThreads":"All your threads","threading.filters.unreads":"Unreads","threading.following":"Following","threading.footer.lastReplyAt":"Last reply {formatted}","threading.header.heading":"Thread","threading.notFollowing":"Follow","threading.numNewMessages":"{newReplies, plural, =0 {No unread messages} =1 {One unread message} other {# unread messages}}","threading.numNewReplies":"{newReplies, plural, =1 {# new reply} other {# new replies}}","threading.numReplies":"{totalReplies, plural, =0 {Reply} =1 {# reply} other {# replies}}","threading.threadHeader.menu":"More Actions","threading.threadItem.menu":"Actions","threading.threadList.markRead":"Mark all as read","threading.threadMenu.copy":"Copy link","threading.threadMenu.follow":"Follow thread","threading.threadMenu.followExtra":"You will be notified about replies","threading.threadMenu.markRead":"Mark as read","threading.threadMenu.markUnread":"Mark as unread","threading.threadMenu.openInChannel":"Open in channel","threading.threadMenu.save":"Save","threading.threadMenu.unfollow":"Unfollow thread","threading.threadMenu.unfollowExtra":"You won’t be notified about replies","threading.threadMenu.unsave":"Unsave","timestamp.datetime":"{relativeOrDate} at {time}","upload_overlay.info":"Drop a file to upload it.","user_list.notFound":"No users found","user_profile.account.editSettings":"Edit Account Settings","user_profile.account.localTime":"Local Time","user_profile.account.post_was_created":"This post was created by an integration from","user_profile.add_user_to_channel":"Add to a Channel","user_profile.add_user_to_channel.icon":"Add User to Channel Icon","user_profile.custom_status":"Status","user_profile.custom_status.set_status":"Set a status","user_profile.send.dm":"Send Message","user_profile.send.dm.icon":"Send Message Icon","user.settings.advance.confirmDeactivateAccountTitle":"Confirm Deactivation","user.settings.advance.confirmDeactivateDesc":"Are you sure you want to deactivate your account? This can only be reversed by your System Administrator.","user.settings.advance.deactivate_member_modal.deactivateButton":"Yes, deactivate my account","user.settings.advance.deactivateAccountTitle":"Deactivate Account","user.settings.advance.deactivateDesc":"Deactivating your account removes your ability to log in to this server and disables all email and mobile notifications. To reactivate your account, contact your System Administrator.","user.settings.advance.deactivateDescShort":"Click 'Edit' to deactivate your account","user.settings.advance.enabledFeatures":"{count, number} {count, plural, one {Feature} other {Features}} Enabled","user.settings.advance.formattingDesc":"If enabled, posts will be formatted to create links, show emoji, style the text, and add line breaks. By default, this setting is enabled.","user.settings.advance.formattingTitle":"Enable Post Formatting","user.settings.advance.icon":"Advanced Settings Icon","user.settings.advance.joinLeaveDesc":'When "On", System Messages saying a user has joined or left a channel will be visible. When "Off", the System Messages about joining or leaving a channel will be hidden. A message will still show up when you are added to a channel, so you can receive a notification.',"user.settings.advance.joinLeaveTitle":"Enable Join/Leave Messages","user.settings.advance.markdown_preview":"Show markdown preview option in message input box","user.settings.advance.off":"Off","user.settings.advance.on":"On","user.settings.advance.onForAllMessages":"On for all messages","user.settings.advance.onForCode":"On only for code blocks starting with ```","user.settings.advance.preReleaseDesc":"Check any pre-released features you'd like to preview.  You may also need to refresh the page before the setting will take effect.","user.settings.advance.preReleaseTitle":"Preview Pre-release Features","user.settings.advance.sendDesc":"When enabled, CTRL + ENTER will send the message and ENTER inserts a new line.","user.settings.advance.sendDesc.mac":"When enabled, ⌘ + ENTER will send the message and ENTER inserts a new line.","user.settings.advance.sendTitle":"Send Messages on CTRL+ENTER","user.settings.advance.sendTitle.mac":"Send Messages on ⌘+ENTER","user.settings.advance.title":"Advanced Settings","user.settings.custom_theme.awayIndicator":"Away Indicator","user.settings.custom_theme.buttonBg":"Button BG","user.settings.custom_theme.buttonColor":"Button Text","user.settings.custom_theme.centerChannelBg":"Center Channel BG","user.settings.custom_theme.centerChannelColor":"Center Channel Text","user.settings.custom_theme.centerChannelTitle":"Center Channel Styles","user.settings.custom_theme.codeTheme":"Code Theme","user.settings.custom_theme.copied":"✔ Copied","user.settings.custom_theme.copyPaste":"Copy and paste to share theme colors:","user.settings.custom_theme.copyThemeColors":"Copy Theme Colors","user.settings.custom_theme.dndIndicator":"Do Not Disturb Indicator","user.settings.custom_theme.errorTextColor":"Error Text Color","user.settings.custom_theme.linkButtonTitle":"Link and Button Styles","user.settings.custom_theme.linkColor":"Link Color","user.settings.custom_theme.mentionBg":"Mention Jewel BG","user.settings.custom_theme.mentionColor":"Mention Jewel Text","user.settings.custom_theme.mentionHighlightBg":"Mention Highlight BG","user.settings.custom_theme.mentionHighlightLink":"Mention Highlight Link","user.settings.custom_theme.newMessageSeparator":"New Message Separator","user.settings.custom_theme.onlineIndicator":"Online Indicator","user.settings.custom_theme.sidebarBg":"Sidebar BG","user.settings.custom_theme.sidebarHeaderBg":"Sidebar Header BG","user.settings.custom_theme.sidebarHeaderTextColor":"Sidebar Header Text","user.settings.custom_theme.sidebarTeamBarBg":"Team Sidebar BG","user.settings.custom_theme.sidebarText":"Sidebar Text","user.settings.custom_theme.sidebarTextActiveBorder":"Sidebar Text Active Border","user.settings.custom_theme.sidebarTextActiveColor":"Sidebar Text Active Color","user.settings.custom_theme.sidebarTextHoverBg":"Sidebar Text Hover BG","user.settings.custom_theme.sidebarTitle":"Sidebar Styles","user.settings.custom_theme.sidebarUnreadText":"Sidebar Unread Text","user.settings.display.channeldisplaymode":"Select the width of the center channel.","user.settings.display.channelDisplayTitle":"Channel Display","user.settings.display.clockDisplay":"Clock Display","user.settings.display.collapseDesc":"Set whether previews of image links and image attachment thumbnails show as expanded or collapsed by default. This setting can also be controlled using the slash commands /expand and /collapse.","user.settings.display.collapseDisplay":"Default Appearance of Image Previews","user.settings.display.collapsedReplyThreadsDescription":"When enabled, reply messages are not shown in the channel view. You can still read and reply to threads in the right-hand sidebar. You'll be notified about threads you're following in a new \"Threads\" item in the channel sidebar.","user.settings.display.collapsedReplyThreadsOff":"Off","user.settings.display.collapsedReplyThreadsOn":"On","user.settings.display.collapsedReplyThreadsTitle":"Collapsed Reply Threads (Beta)","user.settings.display.collapseOff":"Collapsed","user.settings.display.collapseOn":"Expanded","user.settings.display.fixedWidthCentered":"Fixed width, centered","user.settings.display.fullScreen":"Full width","user.settings.display.icon":"Display Settings Icon","user.settings.display.language":"Language","user.settings.display.linkPreviewDesc":"When available, the first web link in a message will show a preview of the website content below the message.","user.settings.display.linkPreviewDisplay":"Website Link Previews","user.settings.display.linkPreviewOff":"Off","user.settings.display.linkPreviewOn":"On","user.settings.display.messageDisplayClean":"Standard","user.settings.display.messageDisplayCleanDes":"Easy to scan and read.","user.settings.display.messageDisplayCompact":"Compact","user.settings.display.messageDisplayCompactDes":"Fit as many messages on the screen as we can.","user.settings.display.messageDisplayDescription":"Select how messages in a channel should be displayed.","user.settings.display.messageDisplayTitle":"Message Display","user.settings.display.militaryClock":"24-hour clock (example: 16:00)","user.settings.display.normalClock":"12-hour clock (example: 4:00 PM)","user.settings.display.preferTime":"Select how you prefer time displayed.","user.settings.display.teammateNameDisplay":"This field is handled through your System Administrator. If you want to change it, you need to do so through your System Administrator.","user.settings.display.teammateNameDisplayDescription":"Set how to display other user's names in posts and the Direct Messages list.","user.settings.display.teammateNameDisplayFullname":"Show first and last name","user.settings.display.teammateNameDisplayNicknameFullname":"Show nickname if one exists, otherwise show first and last name","user.settings.display.teammateNameDisplayTitle":"Teammate Name Display","user.settings.display.teammateNameDisplayUsername":"Show username","user.settings.display.theme.applyToAllTeams":"Apply new theme to all my teams","user.settings.display.theme.customTheme":"Custom Theme","user.settings.display.theme.describe":"Open to manage your theme","user.settings.display.theme.import":"Import theme colors from Slack","user.settings.display.theme.otherThemes":"See other themes","user.settings.display.theme.themeColors":"Theme Colors","user.settings.display.theme.title":"Theme","user.settings.display.timezone":"Timezone","user.settings.display.title":"Display Settings","user.settings.general.close":"Close","user.settings.general.confirmEmail":"Confirm Email","user.settings.general.currentEmail":"Current Email","user.settings.general.currentPassword":"Current Password","user.settings.general.email":"Email","user.settings.general.emailGitlabCantUpdate":"Login occurs through GitLab. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailGoogleCantUpdate":"Login occurs through Google. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailHelp1":"Email is used for sign-in, notifications, and password reset. Email requires verification if changed.","user.settings.general.emailHelp3":"Email is used for sign-in, notifications, and password reset.","user.settings.general.emailLdapCantUpdate":"Login occurs through AD/LDAP. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailMatch":"The new emails you entered do not match.","user.settings.general.emailOffice365CantUpdate":"Login occurs through Office 365. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailOpenIdCantUpdate":"Login occurs through OpenID Connect. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailSamlCantUpdate":"Login occurs through SAML. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emptyName":"Click 'Edit' to add your full name","user.settings.general.emptyNickname":"Click 'Edit' to add a nickname","user.settings.general.emptyPassword":"Please enter your current password.","user.settings.general.emptyPosition":"Click 'Edit' to add your job title / position","user.settings.general.field_handled_externally":"This field is handled through your login provider. If you want to change it, you need to do so through your login provider.","user.settings.general.firstName":"First Name","user.settings.general.fullName":"Full Name","user.settings.general.icon":"General Settings Icon","user.settings.general.imageTooLarge":"Unable to upload profile image. File is too large.","user.settings.general.imageUpdated":"Image last updated {date}","user.settings.general.incorrectPassword":"Your password is incorrect.","user.settings.general.lastName":"Last Name","user.settings.general.loginGitlab":"Login done through GitLab ({email})","user.settings.general.loginGoogle":"Login done through Google ({email})","user.settings.general.loginLdap":"Login done through AD/LDAP ({email})","user.settings.general.loginOffice365":"Login done through Office 365 ({email})","user.settings.general.loginSaml":"Login done through SAML ({email})","user.settings.general.mobile.emptyName":"Click to add your full name","user.settings.general.mobile.emptyNickname":"Click to add a nickname","user.settings.general.mobile.emptyPosition":"Click to add your job title / position","user.settings.general.mobile.uploadImage":"Click to upload an image","user.settings.general.newEmail":"New Email","user.settings.general.nickname":"Nickname","user.settings.general.nicknameExtra":"Use Nickname for a name you might be called that is different from your first name and username. This is most often used when two or more people have similar sounding names and usernames.","user.settings.general.notificationsExtra":"By default, you will receive mention notifications when someone types your first name. Go to {notify} settings to change this default.","user.settings.general.notificationsLink":"Notifications","user.settings.general.position":"Position","user.settings.general.positionExtra":"Use Position for your role or job title. This will be shown in your profile popover.","user.settings.general.profilePicture":"Avatar","user.settings.general.sendAgain":"Send again","user.settings.general.sending":"Sending","user.settings.general.title":"General Settings","user.settings.general.uploadImage":"Click 'Edit' to upload an image.","user.settings.general.username":"Username","user.settings.general.usernameInfo":"Pick something easy for teammates to recognize and recall.","user.settings.general.usernameReserved":"This username is reserved, please choose a new one.","user.settings.general.usernameRestrictions":"Username must begin with a letter, and contain between {min} to {max} lowercase characters made up of numbers, letters, and the symbols '.', '-', and '_'.","user.settings.general.validEmail":"Please enter a valid email address","user.settings.general.validImage":"Only BMP, JPG or PNG images may be used for profile pictures","user.settings.import_theme.cancel":"Cancel","user.settings.import_theme.importBody":'To import a theme, go to a Slack team and look for "Preferences -> Sidebar Theme". Open the custom theme option, copy the theme color values and paste them here:',"user.settings.import_theme.importHeader":"Import Slack Theme","user.settings.import_theme.submit":"Submit","user.settings.import_theme.submitError":"Invalid format, please try copying and pasting in again.","user.settings.languages.change":"Change interface language","user.settings.languages.promote":"Select which language Gomlo displays in the user interface.\n \nWould you like to help with translations? Join the [Gomlo Translation Server](!http://translate.chatting.gomlo.me/) to contribute.","user.settings.mfa.add":"Add MFA to Account","user.settings.mfa.addHelp":"Adding multi-factor authentication will make your account more secure by requiring a code from your mobile phone each time you sign in.","user.settings.mfa.remove":"Remove MFA from Account","user.settings.mfa.removeHelp":"Removing multi-factor authentication means you will no longer require a phone-based passcode to sign-in to your account.","user.settings.mfa.requiredHelp":"Multi-factor authentication is required on this server. Resetting is only recommended when you need to switch code generation to a new mobile device. You will be required to set it up again immediately.","user.settings.mfa.reset":"Reset MFA on Account","user.settings.mfa.title":"Multi-factor Authentication","user.settings.modal.advanced":"Advanced","user.settings.modal.confirmBtns":"Yes, Discard","user.settings.modal.confirmMsg":"You have unsaved changes, are you sure you want to discard them?","user.settings.modal.confirmTitle":"Discard Changes?","user.settings.modal.display":"Display","user.settings.modal.general":"General","user.settings.modal.notifications":"Notifications","user.settings.modal.security":"Security","user.settings.modal.sidebar":"Sidebar","user.settings.modal.title":"Account Settings","user.settings.notifications.allActivity":"For all activity","user.settings.notifications.autoResponder":"Automatic Direct Message Replies","user.settings.notifications.autoResponderDefault":"Hello, I am out of office and unable to respond to messages.","user.settings.notifications.autoResponderDisabled":"Disabled","user.settings.notifications.autoResponderEnabled":"Enabled","user.settings.notifications.autoResponderHint":"Set a custom message that will be automatically sent in response to Direct Messages. Mentions in Public and Private Channels will not trigger the automated reply. Enabling Automatic Replies sets your status to Out of Office and disables email and push notifications.","user.settings.notifications.autoResponderPlaceholder":"Message","user.settings.notifications.channelWide":'Channel-wide mentions "@group", "@all", "@here"',"user.settings.notifications.comments":"Reply notifications","user.settings.notifications.commentsAny":"Trigger notifications on messages in reply threads that I start or participate in","user.settings.notifications.commentsInfo":"In addition to notifications for when you're mentioned, select if you would like to receive notifications on reply threads.","user.settings.notifications.commentsNever":"Do not trigger notifications on messages in reply threads unless I'm mentioned","user.settings.notifications.commentsRoot":"Trigger notifications on messages in threads that I start","user.settings.notifications.desktop":"Send desktop notifications","user.settings.notifications.desktop.allNoSound":"For all activity, without sound","user.settings.notifications.desktop.allSound":"For all activity, with sound","user.settings.notifications.desktop.allSoundHidden":"For all activity","user.settings.notifications.desktop.mentionsNoSound":"For mentions and direct messages, without sound","user.settings.notifications.desktop.mentionsSound":"For mentions and direct messages, with sound","user.settings.notifications.desktop.mentionsSoundHidden":"For mentions and direct messages","user.settings.notifications.desktop.sound":"Notification sound","user.settings.notifications.desktop.title":"Desktop Notifications","user.settings.notifications.email.disabled":"Email notifications are not enabled","user.settings.notifications.email.disabled_long":"Email notifications have not been enabled by your System Administrator.","user.settings.notifications.email.everyHour":"Every hour","user.settings.notifications.email.everyXMinutes":"Every {count, plural, one {minute} other {{count, number} minutes}}","user.settings.notifications.email.immediately":"Immediately","user.settings.notifications.email.never":"Never","user.settings.notifications.email.send":"Send email notifications","user.settings.notifications.emailBatchingInfo":"Notifications received over the time period selected are combined and sent in a single email.","user.settings.notifications.emailInfo":"Email notifications are sent for mentions and direct messages when you are offline or away for more than 5 minutes.","user.settings.notifications.emailNotifications":"Email Notifications","user.settings.notifications.header":"Notifications","user.settings.notifications.icon":"Notification Settings Icon","user.settings.notifications.info":"Desktop notifications are available on Edge, Firefox, Safari, Chrome and Gomlo Desktop Apps.","user.settings.notifications.mentionsInfo":'Mentions trigger when someone sends a message that includes your username ("@{username}") or any of the options selected above.',"user.settings.notifications.never":"Never","user.settings.notifications.noWords":"No words configured","user.settings.notifications.off":"Off","user.settings.notifications.on":"On","user.settings.notifications.onlyMentions":"Only for mentions and direct messages","user.settings.notifications.push":"Mobile Push Notifications","user.settings.notifications.push_notification.status":"Trigger push notifications when","user.settings.notifications.sensitiveName":'Your case-sensitive first name "{first_name}"',"user.settings.notifications.sensitiveUsername":'Your non case-sensitive username "{username}"',"user.settings.notifications.sensitiveWords":"Other non case-sensitive words, separated by commas:","user.settings.notifications.soundConfig":"Please configure notification sounds in your browser settings","user.settings.notifications.sounds_info":"Notification sounds are available on Firefox, Edge, Safari, Chrome and Gomlo Desktop Apps.","user.settings.notifications.title":"Notification Settings","user.settings.notifications.wordsTrigger":"Words That Trigger Mentions","user.settings.push_notification.allActivity":"For all activity","user.settings.push_notification.allActivityAway":"For all activity when away or offline","user.settings.push_notification.allActivityOffline":"For all activity when offline","user.settings.push_notification.allActivityOnline":"For all activity when online, away or offline","user.settings.push_notification.away":"Away or offline","user.settings.push_notification.disabled":"Push notifications are not enabled","user.settings.push_notification.disabled_long":"Push notifications have not been enabled by your System Administrator.","user.settings.push_notification.info":"Notification alerts are pushed to your mobile device when there is activity in Gomlo.","user.settings.push_notification.offline":"Offline","user.settings.push_notification.online":"Online, away or offline","user.settings.push_notification.onlyMentions":"For mentions and direct messages","user.settings.push_notification.onlyMentionsAway":"For mentions and direct messages when away or offline","user.settings.push_notification.onlyMentionsOffline":"For mentions and direct messages when offline","user.settings.push_notification.onlyMentionsOnline":"For mentions and direct messages when online, away or offline","user.settings.push_notification.send":"Send mobile push notifications","user.settings.push_notification.status_info":"Notification alerts are only pushed to your mobile device when your availability matches the selection above.","user.settings.security.active":"Active","user.settings.security.close":"Close","user.settings.security.currentPassword":"Current Password","user.settings.security.currentPasswordError":"Please enter your current password.","user.settings.security.deauthorize":"Deauthorize","user.settings.security.emailPwd":"Email and Password","user.settings.security.gitlab":"GitLab","user.settings.security.google":"Google","user.settings.security.icon":"Security Settings Icon","user.settings.security.inactive":"Inactive","user.settings.security.lastUpdated":"Last updated {date} at {time}","user.settings.security.ldap":"AD/LDAP","user.settings.security.loginGitlab":"Login done through GitLab","user.settings.security.loginGoogle":"Login done through Google Apps","user.settings.security.loginLdap":"Login done through AD/LDAP","user.settings.security.loginOffice365":"Login done through Office 365","user.settings.security.loginSaml":"Login done through SAML","user.settings.security.logoutActiveSessions":"View and Log Out of Active Sessions","user.settings.security.logoutActiveSessions.icon":"Active Sessions Icon","user.settings.security.method":"Sign-in Method","user.settings.security.newPassword":"New Password","user.settings.security.noApps":"No OAuth 2.0 Applications are authorized.","user.settings.security.oauthApps":"OAuth 2.0 Applications","user.settings.security.oauthAppsDescription":"Click 'Edit' to manage your OAuth 2.0 Applications","user.settings.security.oauthAppsHelp":"Applications act on your behalf to access your data based on the permissions you grant them.","user.settings.security.office365":"Office 365","user.settings.security.oneSignin":"You may only have one sign-in method at a time. Switching sign-in method will send an email notifying you if the change was successful.","user.settings.security.openid":"OpenID","user.settings.security.password":"Password","user.settings.security.passwordError":"Your password must contain between {min} and {max} characters.","user.settings.security.passwordErrorLowercase":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter.","user.settings.security.passwordErrorLowercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one number.","user.settings.security.passwordErrorLowercaseNumberSymbol":'Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one number, and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorLowercaseSymbol":'Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorLowercaseUppercase":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one uppercase letter.","user.settings.security.passwordErrorLowercaseUppercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, and at least one number.","user.settings.security.passwordErrorLowercaseUppercaseNumberSymbol":'Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, at least one number, and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorLowercaseUppercaseSymbol":'Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorNumber":"Your password must contain between {min} and {max} characters made up of at least one number.","user.settings.security.passwordErrorNumberSymbol":'Your password must contain between {min} and {max} characters made up of at least one number and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorSymbol":'Your password must contain between {min} and {max} characters made up of at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorUppercase":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter.","user.settings.security.passwordErrorUppercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter and at least one number.","user.settings.security.passwordErrorUppercaseNumberSymbol":'Your password must contain between {min} and {max} characters made up of at least one uppercase letter, at least one number, and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorUppercaseSymbol":'Your password must contain between {min} and {max} characters made up of at least one uppercase letter and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordGitlabCantUpdate":"Login occurs through GitLab. Password cannot be updated.","user.settings.security.passwordGoogleCantUpdate":"Login occurs through Google Apps. Password cannot be updated.","user.settings.security.passwordLdapCantUpdate":"Login occurs through AD/LDAP. Password cannot be updated.","user.settings.security.passwordMatchError":"The new passwords you entered do not match.","user.settings.security.passwordMinLength":"Invalid minimum length, cannot show preview.","user.settings.security.passwordOffice365CantUpdate":"Login occurs through Office 365. Password cannot be updated.","user.settings.security.passwordSamlCantUpdate":"This field is handled through your login provider. If you want to change it, you need to do so through your login provider.","user.settings.security.retypePassword":"Retype New Password","user.settings.security.saml":"SAML","user.settings.security.switchEmail":"Switch to Using Email and Password","user.settings.security.switchGitlab":"Switch to Using GitLab SSO","user.settings.security.switchGoogle":"Switch to Using Google SSO","user.settings.security.switchLdap":"Switch to Using AD/LDAP","user.settings.security.switchOffice365":"Switch to Using Office 365 SSO","user.settings.security.switchOpenId":"Switch to Using OpenID SSO","user.settings.security.switchSaml":"Switch to Using SAML SSO","user.settings.security.title":"Security Settings","user.settings.security.viewHistory":"View Access History","user.settings.security.viewHistory.icon":"Access History Icon","user.settings.sidebar.after_seven_days":"After 7 days with no new messages","user.settings.sidebar.autoCloseDMDesc":"Direct Message conversations can be reopened with the “+” button in the sidebar or using the Channel Switcher (CTRL+K).","user.settings.sidebar.autoCloseDMTitle":"Automatically Close Direct Messages","user.settings.sidebar.channelSwitcherSectionDesc.mac":"The channel switcher is shown at the bottom of the sidebar and is used to jump between channels quickly. It can also be accessed using CMD + K.","user.settings.sidebar.channelSwitcherSectionDesc.windows":"The channel switcher is shown at the bottom of the sidebar and is used to jump between channels quickly. It can also be accessed using CTRL + K.","user.settings.sidebar.channelSwitcherSectionTitle":"Channel Switcher","user.settings.sidebar.favorites":"Favorites grouped separately","user.settings.sidebar.favoritesDesc":"Channels marked as favorites will be grouped separately.","user.settings.sidebar.favoritesShort":"Favorites grouped separately","user.settings.sidebar.groupAndSortChannelsTitle":"Channel Grouping and Sorting","user.settings.sidebar.groupByNone":"Combine all channel types","user.settings.sidebar.groupByNoneShort":"No grouping","user.settings.sidebar.groupByType":"Channels grouped by type","user.settings.sidebar.groupByTypeShort":"Group by channel type","user.settings.sidebar.groupChannelsTitle":"Channel grouping","user.settings.sidebar.groupDesc":"Group channels by type, or combine all types into a list.","user.settings.sidebar.icon":"Sidebar Settings Icon","user.settings.sidebar.limitVisibleGMsDMs.allDirectMessages":"All Direct Messages","user.settings.sidebar.limitVisibleGMsDMsDesc":"You can also change these settings in the direct messages sidebar menu.","user.settings.sidebar.limitVisibleGMsDMsTitle":"Number of direct messages to show","user.settings.sidebar.never":"Never","user.settings.sidebar.off":"Off","user.settings.sidebar.on":"On","user.settings.sidebar.recent":"Recent activity","user.settings.sidebar.showUnreadsCategoryDesc":"When enabled, all unread channels and direct messages will be grouped together in the sidebar.","user.settings.sidebar.showUnreadsCategoryTitle":"Group unread channels separately","user.settings.sidebar.sortAlpha":"Alphabetically","user.settings.sidebar.sortAlphaShort":"sorted alphabetically","user.settings.sidebar.sortChannelsTitle":"Channel sorting","user.settings.sidebar.sortDesc":"Sort channels alphabetically, or by most recent post.","user.settings.sidebar.sortRecent":"Recency","user.settings.sidebar.sortRecentShort":"sorted by recency","user.settings.sidebar.title":"Sidebar Settings","user.settings.sidebar.unreads":"Unreads grouped separately","user.settings.sidebar.unreadsDesc":"Group unread channels separately until read.","user.settings.sidebar.unreadsFavoritesShort":"Unreads and favorites grouped separately","user.settings.sidebar.unreadsShort":"Unreads grouped separately","user.settings.timezones.automatic":"Automatic","user.settings.timezones.promote":"Select the timezone used for timestamps in the user interface and email notifications.","user.settings.tokens.activate":"Enable","user.settings.tokens.cancel":"Cancel","user.settings.tokens.clickToEdit":"Click 'Edit' to manage your personal access tokens","user.settings.tokens.confirmCopyButton":"Yes, I have copied the token","user.settings.tokens.confirmCopyMessage":"Make sure you have copied and saved the access token below. You won't be able to see it again!","user.settings.tokens.confirmCopyTitle":"Copied Your Token?","user.settings.tokens.confirmCreateButton":"Yes, Create","user.settings.tokens.confirmCreateMessage":"You are generating a personal access token with System Admin permissions. Are you sure want to create this token?","user.settings.tokens.confirmCreateTitle":"Create System Admin Personal Access Token","user.settings.tokens.confirmDeleteButton":"Yes, Delete","user.settings.tokens.confirmDeleteMessage":"Any integrations using this token will no longer be able to access the Gomlo API. You cannot undo this action. \n \nAre you sure want to delete the **{description}** token?","user.settings.tokens.confirmDeleteTitle":"Delete Token?","user.settings.tokens.copy":"Please copy the access token below. You won't be able to see it again!","user.settings.tokens.create":"Create Token","user.settings.tokens.deactivate":"Disable","user.settings.tokens.deactivatedWarning":"(Disabled)","user.settings.tokens.delete":"Delete","user.settings.tokens.description":"[Personal access tokens](!https://about.chatting.gomlo.me/default-user-access-tokens) function similarly to session tokens and can be used by integrations to [authenticate against the REST API](!https://about.chatting.gomlo.me/default-api-authentication).","user.settings.tokens.description_mobile":"[Personal access tokens](!https://about.chatting.gomlo.me/default-user-access-tokens) function similarly to session tokens and can be used by integrations to [authenticate against the REST API](!https://about.chatting.gomlo.me/default-api-authentication). Create new tokens on your desktop.","user.settings.tokens.id":"Token ID: ","user.settings.tokens.name":"Token Description: ","user.settings.tokens.nameHelp":"Enter a description for your token to remember what it does.","user.settings.tokens.nameRequired":"Please enter a description.","user.settings.tokens.save":"Save","user.settings.tokens.title":"Personal Access Tokens","user.settings.tokens.token":"Access Token: ","user.settings.tokens.tokenDesc":"Token Description: ","user.settings.tokens.tokenId":"Token ID: ","user.settings.tokens.tokenLoading":"Loading...","user.settings.tokens.userAccessTokensNone":"No personal access tokens.","userGuideHelp.askTheCommunity":"Ask the community","userGuideHelp.helpResources":"Help resources","userGuideHelp.keyboardShortcuts":"Keyboard shortcuts","userGuideHelp.reportAProblem":"Report a problem","version_bar.new":"A new version of Gomlo is available.","version_bar.refresh":"Refresh the app now","view_image_popover.download":"Download","view_image_popover.file":"File {count, number} of {total, number}","view_image_popover.open":"Open","view_image_popover.publicLink":"Get a public link","view_image.loading":"Loading ","view_image.zoom_in":"Zoom In","view_image.zoom_out":"Zoom Out","view_image.zoom_reset":"Reset Zoom","web.footer.about":"About","web.footer.help":"Help","web.footer.privacy":"Privacy","web.footer.terms":"Terms","web.header.back":"Back","web.header.logout":"Logout","web.root.signup_info":"All team communication in one place, searchable and accessible anywhere","widgets.channels_input.empty":"No channels found","widgets.channels_input.loading":"Loading","widgets.users_emails_input.loading":"Loading","widgets.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email address","widgets.users_emails_input.valid_email":"Add **{email}**",yourcomputer:"Your computer"};function Xn(e){return async t=>{const n=[t(K()),t(Q()),t(X())],a=await Promise.all(n);return Z.getUserId(e)&&a.push(await t(ee())),a}}const Zn={};function ea(e,t){return async n=>{const a=r({},Qn);if(Object.values(Zn).forEach((t=>{Object.assign(a,t(e))})),"en"!==e)try{const e=await te.getTranslations(t);Object.assign(a,e)}catch(s){console.error(s)}n({type:ne.RECEIVED_TRANSLATIONS,data:{locale:e,translations:a}})}}var ta,na={exports:{}};ta=na,function(){
/**
     * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
     *
     * @codingstandard ftlabs-jsv2
     * @copyright The Financial Times Limited [All Rights Reserved]
     * @license MIT License (see LICENSE.txt)
     */
function e(t,a){var s;if(a=a||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=a.touchBoundary||10,this.layer=t,this.tapDelay=a.tapDelay||200,this.tapTimeout=a.tapTimeout||700,!e.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],i=this,r=0,l=o.length;r<l;r++)i[o[r]]=c(i[o[r]],i);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,a){var s=Node.prototype.removeEventListener;"click"===e?s.call(t,e,n.hijacked||n,a):s.call(t,e,n,a)},t.addEventListener=function(e,n,a){var s=Node.prototype.addEventListener;"click"===e?s.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),a):s.call(t,e,n,a)}),"function"==typeof t.onclick&&(s=t.onclick,t.addEventListener("click",(function(e){s(e)}),!1),t.onclick=null)}function c(e,t){return function(){return e.apply(t,arguments)}}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,s=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=a&&/OS [6-7]_\d/.test(navigator.userAgent),i=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(a&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,a;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),a=t.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;a&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(!(t=e.fastClickScrollParent)||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,o;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],a){if((o=window.getSelection()).rangeCount&&!o.isCollapsed)return!0;if(!s){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,i,r,l,c,d=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(c=e.changedTouches[0],(d=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||d).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(r=d.tagName.toLowerCase())){if(t=this.findControl(d)){if(this.focus(d),n)return!1;d=t}}else if(this.needsFocus(d))return e.timeStamp-i>100||a&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(d),this.sendClick(d,e),a&&"select"===r||(this.targetElement=null,e.preventDefault()),!1);return!(!a||s||!(l=d.fastClickScrollParent)||l.fastClickLastScrollTop===l.scrollTop)||(this.needsClick(d)||(e.preventDefault(),this.sendClick(d,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!(this.targetElement&&!e.forwardedTouchEvent&&e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),1))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,a,s;if(void 0===window.ontouchstart)return!0;if(a=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(a>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(i&&(s=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&s[2]>=3&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===e.style.touchAction||"manipulation"===e.style.touchAction},e.attach=function(t,n){return new e(t,n)},ta.exports?(ta.exports=e.attach,ta.exports.FastClick=e):window.FastClick=e}();var aa=na.exports,sa=u(m),oa=sa.jsx;var ia=function(e){return oa("svg",l(r({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e)),{children:oa("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}))};const ra=h((e=>ae(e)),(e=>"true"===(null==e?void 0:e.FeatureFlagAppsEnabled)));function la(e,t){return async(n,a)=>{const s=x(a(),t),o=(null==s?void 0:s.team_id)||"";return n(se({clientFunc:()=>te.getAppsBindings(e,t,o),onSuccess:oe.RECEIVED_APP_BINDINGS}))}}function ca(){return async(e,t)=>{const n=t();let a;try{const t=await e(re());a=new Set(t.data)}catch(r){return{error:r}}a.add(B(n));const s=Object.keys(le(n)),o=new Set(s.filter((e=>!a.has(e)))),i=[];for(const l of o.values())i.push({type:ce.PROFILE_NO_LONGER_VISIBLE,data:{user_id:l}});return i.length>0&&e(de(i)),{data:!0}}}function da(e=""){return function(e,t=""){return async(n,a)=>{let s;n({type:ue.GET_ANALYTICS_REQUEST,data:null});try{s=await te.getAnalytics(e,t)}catch(i){return me(i,n,a),n(de([{type:ue.GET_ANALYTICS_FAILURE,error:i},he(i)])),{error:i}}const o=[{type:ue.GET_ANALYTICS_SUCCESS,data:null}];return""===t?o.push({type:ue.RECEIVED_SYSTEM_ANALYTICS,data:s,name:e}):o.push({type:ue.RECEIVED_TEAM_ANALYTICS,data:s,name:e,teamId:t}),n(de(o)),{data:s}}}("standard",e)}function ua(){return h(B,pe,_e,((e,t)=>t),((e,t,n,a)=>{const s=Object.values(n).reduce(((e,t)=>t.type===ge.DM_CHANNEL?l(r({},e),{[t.name]:t}):e),{});return a.map((n=>{const a=fe(e,n.id),o=s[a],i=o?t[o.id]:null;return l(r({},n),{last_viewed_at:o&&i?i.last_viewed_at:0})}))}))}const ma=e=>{const t=B(e);return Z.getPreviousTeamId(t)},ha=e=>e.views.channel.toastStatus;function pa(){return e=>{e({type:ne.UPDATE_MOBILE_VIEW,data:ye()})}}function _a(){return async(e,t)=>{const n=t(),a=we(n)||{},s=Ee(n),o=Ce(n),i=Object.assign({},s,o);let r=Se(i,(e=>{const t=B(e),n=O(e);return Z.getPreviousChannelName(t,n)})(n));return a.id===r.id&&(r=Se(i,Te(n,O(n)))),e((l=r,async(e,t)=>{const n=t(),a=ke(n);if(l.fake||l.userId){const t=l.userId?l.name:l.display_name,s=Ae(n,t);if(!s)return{error:!0};if((await e(Wn(s.id))).error)return{error:!0};Ie.push(`${a}/messages/@${l.name}`)}else if(l.type===P.GM_CHANNEL){const e=x(n,l.id);Ie.push(`${a}/group/${e.name}`)}else Ie.push(`${a}/group/${l.name}`);return{data:!0}}));var l}}function ga(e){return async(t,n)=>{const a=n(),s=B(a);return Ne(a).forEach((t=>{const n=Z.getPreviousChannelName(s,t.id,a),o=Z.getPenultimateChannelName(s,t.id,a);e===n?Z.removePreviousChannelName(s,t.id,a):e===o&&Z.removePenultimateChannelName(s,t.id,a)})),{data:!0}}}function fa(e,t){const n=ua();return async(a,s)=>{const o=s(),i=O(o),c=await a(De(e,i,t)),d=c.data;return d?l(r({},c),{data:l(r({},d),{users:n(o,d.users||[]),out_of_channel:n(o,d.out_of_channel||[])})}):c}}function ba(e,t=!1){return async n=>{const a=Date.now();t&&n({type:ne.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:be.STARTED});const{data:s,error:o}=await n(Re(e));if(o)return t&&n({type:ne.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:be.FAILURE}),{error:o,atLatestMessage:!1,atOldestmessage:!1};const i=[];return i.push({type:ne.INCREASE_POST_VISIBILITY,data:e,amount:s.order.length}),t&&i.push({type:ne.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:be.SUCCESS}),""===s.next_post_id&&i.push({type:ne.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:a}),n(d(i)),{atLatestMessage:""===s.next_post_id,atOldestmessage:""===s.prev_post_id}}}function va(e,t){return async n=>{const{data:a,error:s}=await n(xe(e,t,Oe.POST_CHUNK_SIZE/2));return s?{error:s,atLatestMessage:!1,atOldestmessage:!1}:(n({type:ne.INCREASE_POST_VISIBILITY,data:e,amount:a.order.length}),{atLatestMessage:""===a.next_post_id,atOldestmessage:""===a.prev_post_id})}}function ya(e){return async t=>{const n=Date.now(),{data:a,error:s}=await t(Le(e,0,Oe.POST_CHUNK_SIZE/2));return s?{error:s,atLatestMessage:!1,atOldestmessage:!1}:(t({type:ne.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:n}),{data:a,atLatestMessage:""===a.next_post_id,atOldestmessage:""===a.prev_post_id})}}function wa({channelId:e,postId:t,type:n}){return async a=>{const s=P.POST_CHUNK_SIZE/2;a({type:ne.LOADING_POSTS,data:!0,channelId:e});let o;o=n===Me.BEFORE_ID?await a(Pe(e,t,0,s)):await a(Ue(e,t,0,s));const{data:i}=o,r=[{type:ne.LOADING_POSTS,data:!1,channelId:e}];return o.error?{error:o.error,moreToLoad:!0}:(r.push({type:ne.INCREASE_POST_VISIBILITY,data:e,amount:i.order.length}),a(d(r)),{moreToLoad:n===Me.BEFORE_ID?""!==i.prev_post_id:""!==i.next_post_id})}}function Ea(e,t,n=!1){return async(a,s)=>{const o=Date.now(),i=s(),r=(e=>e.websocket)(i);let l=t;const c=((e,t)=>e.views.channel.lastGetPosts[t])(i,e),u=[];c&&c<r.lastDisconnectAt&&(l=c),n&&a({type:ne.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:be.STARTED});const{data:m,error:h}=await a(ve(e,l));return m&&u.push({type:ne.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:o}),n&&(h?u.push({type:ne.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:be.FAILURE}):u.push({type:ne.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:be.SUCCESS})),a(d(u)),{data:m,error:h}}}function Ca(e,t){return async(n,a)=>{const s=a(),o=Fe(s,e);if(!s.entities.posts.postsInChannel[e]||!o)return t&&await new Promise((e=>setTimeout(e,t))),n(ba(e,!0));const i=Ge(s,o);return n(Ea(e,i.create_at,!0))}}function Sa(){return()=>{He.emit(je.POST_LIST_SCROLL_TO_BOTTOM)}}function Ta(e){return t=>{t({type:ne.UPDATE_TOAST_STATUS,data:e})}}var ka=new class{constructor(){c(this,"conn"),c(this,"connectionUrl"),c(this,"responseSequence"),c(this,"serverSequence"),c(this,"connectFailCount"),c(this,"eventCallback"),c(this,"responseCallbacks"),c(this,"firstConnectCallback"),c(this,"reconnectCallback"),c(this,"missedEventCallback"),c(this,"errorCallback"),c(this,"closeCallback"),c(this,"connectionId"),this.conn=null,this.connectionUrl=null,this.responseSequence=1,this.serverSequence=0,this.connectFailCount=0,this.eventCallback=null,this.responseCallbacks={},this.firstConnectCallback=null,this.reconnectCallback=null,this.missedEventCallback=null,this.errorCallback=null,this.closeCallback=null,this.connectionId=""}initialize(e=this.connectionUrl,t){if(this.conn)return;if(null==e)return;this.connectFailCount,this.conn=new WebSocket(`${e}?connection_id=${this.connectionId}&sequence_number=${this.serverSequence}`),this.connectionUrl=e;const n="true"===ae(Be.getState()).EnableReliableWebSockets;this.conn.onopen=()=>{n||(this.serverSequence=0),t&&this.sendMessage("authentication_challenge",{token:t}),this.connectFailCount>0?!n&&this.reconnectCallback&&this.reconnectCallback():this.firstConnectCallback&&this.firstConnectCallback(),this.connectFailCount=0},this.conn.onclose=()=>{this.conn=null,this.responseSequence=1,this.connectFailCount,this.connectFailCount++,this.closeCallback&&this.closeCallback(this.connectFailCount);let n=3e3;this.connectFailCount>7&&(n=3e3*this.connectFailCount*this.connectFailCount,n>3e5&&(n=3e5)),setTimeout((()=>{this.initialize(e,t)}),n)},this.conn.onerror=e=>{this.connectFailCount,this.errorCallback&&this.errorCallback(e)},this.conn.onmessage=e=>{var t;const a=JSON.parse(e.data);if(a.seq_reply)a.error,this.responseCallbacks[a.seq_reply]&&(this.responseCallbacks[a.seq_reply](a),Reflect.deleteProperty(this.responseCallbacks,a.seq_reply));else if(this.eventCallback){if(n){if(a.event===Ve.HELLO&&this.missedEventCallback&&(""!==this.connectionId&&this.connectionId!==a.data.connection_id&&(this.missedEventCallback(),this.serverSequence=0),this.connectionId=a.data.connection_id),a.seq!==this.serverSequence)return this.connectFailCount=0,this.responseSequence=1,void(null==(t=this.conn)||t.close())}else a.seq!==this.serverSequence&&this.missedEventCallback&&this.missedEventCallback();this.serverSequence=a.seq+1,this.eventCallback(a)}}}setEventCallback(e){this.eventCallback=e}setFirstConnectCallback(e){this.firstConnectCallback=e}setReconnectCallback(e){this.reconnectCallback=e}setMissedEventCallback(e){this.missedEventCallback=e}setErrorCallback(e){this.errorCallback=e}setCloseCallback(e){this.closeCallback=e}close(){this.connectFailCount=0,this.responseSequence=1,this.conn&&this.conn.readyState===WebSocket.OPEN&&(this.conn.onclose=()=>{},this.conn.close(),this.conn=null)}sendMessage(e,t,n){const a={action:e,seq:this.responseSequence++,data:t};n&&(this.responseCallbacks[a.seq]=n),this.conn&&this.conn.readyState===WebSocket.OPEN?this.conn.send(JSON.stringify(a)):this.conn&&this.conn.readyState!==WebSocket.CLOSED||(this.conn=null,this.initialize())}userTyping(e,t,n){const a={channel_id:e,parent_id:t};this.sendMessage("user_typing",a,n)}userUpdateActiveStatus(e,t,n){const a={user_is_active:e,manual:t};this.sendMessage("user_update_active_status",a,n)}getStatuses(e){this.sendMessage("get_statuses",null,e)}getStatusesByIds(e,t){const n={user_ids:e};this.sendMessage("get_statuses_by_ids",n,t)}};const Aa=Be.dispatch,Ia=Be.getState,Na={};function Da(){if(!window.WebSocket)return void console.log("Browser does not support websocket");const e=ae(Ia());let t="";if(e.WebsocketURL)t=e.WebsocketURL;else{t=new URL("https://gomlo.me"),"https:"===t.protocol?t.protocol="wss:":t.protocol="ws:",/:\d+$/.test(t.host)||("wss:"===t.protocol?t.host+=":"+e.WebsocketSecurePort:t.host+=":"+e.WebsocketPort),t=t.toString()}t.length>0&&"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t+=te.getUrlVersion()+"/websocket",ka.setEventCallback(Ma),ka.setFirstConnectCallback(La),ka.setReconnectCallback((()=>xa(!1))),ka.setMissedEventCallback((()=>xa(!1))),ka.setCloseCallback(Oa),ka.initialize(t,te.getToken())}function Ra(){ka.close()}function xa(e=!0){e&&(Ra(),Da()),Aa({type:Ye.WEBSOCKET_SUCCESS,timestamp:Date.now()});const t=Ia();if(t.entities.teams.currentTeamId){const e=We(t),n=Fe(t,e),a=Ge(t,n);Aa(qn()),Aa(Ga()),Aa(a?Ea(e,a.create_at):Le(e)),Aa(qe())}t.websocket.lastDisconnectAt&&Aa(ze()),Aa((async e=>{e({type:ne.RESET_WS_ERROR_COUNT})})),Aa(Je())}function La(){Aa(d([{type:Ye.WEBSOCKET_SUCCESS,timestamp:Date.now()},Je()]))}function Oa(e){e>7&&Aa(he({type:"critical",message:$e.WEBSOCKET_PORT_ERROR},!0)),Aa(d([{type:Ye.WEBSOCKET_FAILURE,timestamp:Date.now()},async e=>{e({type:ne.INCREMENT_WS_ERROR_COUNT})}]))}function Ma(e){switch(e.event){case Ve.POSTED:case Ve.EPHEMERAL_MESSAGE:Pa(e);break;case Ve.POST_EDITED:!function(e){const t=JSON.parse(e.data.post);Aa(yt(t)),ft([t],Aa,Ia);const n=We(Ia());n===e.broadcast.channel_id&&(Aa(ht(n)),window.isActive&&Aa(wt(n)))}(e);break;case Ve.POST_DELETED:!function(e){const t=JSON.parse(e.data.post);Aa(Et(t)),t.is_pinned&&Aa(ht(t.channel_id))}(e);break;case Ve.POST_UNREAD:!function(e){Aa({type:ne.POST_UNREAD_SUCCESS,data:{lastViewedAt:e.data.last_viewed_at,channelId:e.broadcast.channel_id,msgCount:e.data.msg_count,mentionCount:e.data.mention_count}})}(e);break;case Ve.LEAVE_TEAM:!function(e){const t=Ia(),n=[{type:ce.RECEIVED_PROFILE_NOT_IN_TEAM,data:{id:e.data.team_id,user_id:e.data.user_id}},{type:Tt.REMOVE_MEMBER_FROM_TEAM,data:{team_id:e.data.team_id,user_id:e.data.user_id}}],a=kt(t),s=a&&a[e.data.team_id]||[];for(const i of s)n.push({type:mt.REMOVE_MEMBER_FROM_CHANNEL,data:{id:i,user_id:e.data.user_id}});Aa(d(n));const o=At(t);if(o.id===e.data.user_id)Aa({type:Tt.LEAVE_TEAM,data:{id:e.data.team_id}}),O(t)===e.data.team_id&&(global.location.pathname.startsWith("/admin_console")||rs()),It(o)&&Aa(ca());else{const n=Nt(t,e.data.team_id),a=Dt(t),s=Object.values(a).some((t=>t[e.data.user_id]));n&&It(o)&&!s&&Aa(d([{type:ce.PROFILE_NO_LONGER_VISIBLE,data:{user_id:e.data.user_id}},{type:Tt.REMOVE_MEMBER_FROM_TEAM,data:{team_id:n.id,user_id:e.data.user_id}}]))}}(e);break;case Ve.UPDATE_TEAM:!function(e){Aa({type:Tt.UPDATED_TEAM,data:JSON.parse(e.data.team)})}(e);break;case Ve.UPDATE_TEAM_SCHEME:Aa(St());break;case Ve.DELETE_TEAM:!function(e){const t=JSON.parse(e.data.team),n=Be.getState(),{teams:a}=n.entities.teams;if(t&&a&&a[t.id]&&0===a[t.id].delete_at){const{currentUserId:e}=n.entities.users,{currentTeamId:a,myMembers:s}=n.entities.teams,o=Object.values(s),i=o.find((t=>t.user_id===e&&t.team_id===a));let r="";if(t&&i&&t.id===i.team_id){const e={};Rt(n).forEach((t=>{e[t.id]=t}));for(let n=0;n<o.length;n++){const a=o[n].team_id;if(e&&e[a]&&0===e[a].delete_at&&t.id!==a){r=a;break}}}if(Aa(d([{type:Tt.RECEIVED_TEAM_DELETED,data:{id:t.id}},{type:Tt.UPDATED_TEAM,data:t}])),r){Aa({type:Tt.SELECT_TEAM,data:r});const e=Ia(),t=Te(e,r);Ie.push(`${xt(e)}/group/${t}`)}else Ie.push("/")}}(e);break;case Ve.ADDED_TO_TEAM:!async function(e){await Aa(Ct(e.data.team_id)),await Aa(St()),await Aa(qe())}(e);break;case Ve.USER_ADDED:Aa(function(e){return async(t,n)=>{const a=n(),s=ae(a),o=nt(a),i="true"===s.ExperimentalTimezone,r=We(a);r===e.broadcast.channel_id&&(t(ht(r)),t({type:ce.RECEIVED_PROFILE_IN_CHANNEL,data:{id:e.broadcast.channel_id,user_id:e.data.user_id}}),"true"===(null==o?void 0:o.IsLicensed)&&"true"===(null==o?void 0:o.LDAPGroups)&&t(pt(r,i)));const l=O(n()),c=B(n());l===e.data.team_id&&c===e.data.user_id&&t(Ua(e.broadcast.channel_id)),"true"===o.Cloud&&at(n())&&t(da())}}(e));break;case Ve.USER_REMOVED:!async function(e){const t=Ia(),n=we(t)||{},a=At(t),s=ae(t),o=nt(t),i="true"===s.ExperimentalTimezone;if(e.broadcast.user_id===a.id){Aa((async(e,t)=>{const n=t(),a=M(n);await e(H(O(n)));for(const s of a){const t=x(n,s);t&&t.type===P.DM_CHANNEL?e(U(t.id)):t&&t.type===P.GM_CHANNEL&&e(F(t.id))}G()}));const s=Lt(t);if(e.data.channel_id===s&&Aa(Ot()),e.data.channel_id===n.id)if(e.data.remover_id===e.broadcast.user_id)Ie.push(ke(t)),await Aa({type:mt.LEAVE_CHANNEL,data:{id:e.data.channel_id,user_id:e.broadcast.user_id}});else{Mt(t,e.data.remover_id)||Aa(Pt(e.data.remover_id)),console.info("handleUserRemovedEvent"),await Aa({type:mt.LEAVE_CHANNEL,data:{id:e.data.channel_id,user_id:e.broadcast.user_id}}),rs()}It(a)&&Aa(ca())}else e.broadcast.channel_id===n.id&&(Aa(ht(n.id)),Aa({type:ce.RECEIVED_PROFILE_NOT_IN_CHANNEL,data:{id:e.broadcast.channel_id,user_id:e.data.user_id}}),"true"===(null==o?void 0:o.IsLicensed)&&"true"===(null==o?void 0:o.LDAPGroups)&&Aa(pt(n.id,i)));if(e.broadcast.user_id!==a.id){const n=x(t,e.broadcast.channel_id),s=Dt(t),o=Object.values(s).some((t=>t[e.data.user_id]));if(n&&It(a)&&!o){const t=[{type:ce.PROFILE_NO_LONGER_VISIBLE,data:{user_id:e.data.user_id}},{type:Tt.REMOVE_MEMBER_FROM_TEAM,data:{team_id:n.team_id,user_id:e.data.user_id}}];Aa(d(t))}}const r=e.broadcast.channel_id||e.data.channel_id,l=e.broadcast.user_id||e.data.user_id,c=x(t,r);!c||Ut(t,{permission:Ft.VIEW_MEMBERS})||Gt(t,{permission:Ft.VIEW_MEMBERS,team:c.team_id})||Aa(d([{type:ce.RECEIVED_PROFILE_NOT_IN_TEAM,data:{id:c.team_id,user_id:l}},{type:Tt.REMOVE_MEMBER_FROM_TEAM,data:{team_id:c.team_id,user_id:l}}]))}(e);break;case Ve.USER_UPDATED:!async function(e){const t=Ia(),n=At(t),a=e.data.user,s=ae(t),o=nt(t),i=It(a),r="true"===s.ExperimentalTimezone,l="true"===(null==o?void 0:o.IsLicensed)&&"true"===(null==o?void 0:o.LDAPGroups);if(i||r&&l){let e=Ht(t);const n=We(t);let s=e&&e[a.id];s||(await Aa(jt(n,a.id)),e=Ht(Ia()),s=e&&e[a.id]),s&&(l&&r&&Aa(pt(n,!0)),It(a)&&Aa(ht(n)))}n.id===a.id?a.update_at>n.update_at&&Bt()(Aa,Ia):Aa({type:ce.RECEIVED_PROFILE,data:a})}(e);break;case Ve.ROLE_ADDED:!function(e){const t=JSON.parse(e.data.role);Aa({type:Vt.RECEIVED_ROLE,data:t})}(e);break;case Ve.ROLE_REMOVED:!function(e){const t=JSON.parse(e.data.role);Aa({type:Vt.ROLE_DELETED,data:t})}(e);break;case Ve.CHANNEL_SCHEME_UPDATED:!function(e){Aa(Yt(e.broadcast.channel_id))}(e);break;case Ve.MEMBERROLE_UPDATED:!function(e){const t=JSON.parse(e.data.member),n=t.roles.split(" ");Aa(_t(n)),Aa({type:Tt.RECEIVED_MY_TEAM_MEMBER,data:t})}(e);break;case Ve.ROLE_UPDATED:!function(e){const t=JSON.parse(e.data.role);Aa({type:Vt.RECEIVED_ROLE,data:t})}(e);break;case Ve.CHANNEL_CREATED:Aa(function(e){return async(t,n)=>{const a=e.data.channel_id,s=e.data.team_id,o=n();if(O(o)===s){let e=x(o,a);e||(await t(dt(a)),e=x(n(),a)),t(ut(e,!1))}}}(e));break;case Ve.CHANNEL_DELETED:!function(e){const t=Ia(),n="true"===ae(t).ExperimentalViewArchivedChannels;if(We(t)===e.data.channel_id&&!n){const e=ke(t),n=O(t),a=Te(t,n);Ie.push(e+"/group/"+a)}Aa({type:mt.RECEIVED_CHANNEL_DELETED,data:{id:e.data.channel_id,team_id:e.broadcast.team_id,deleteAt:e.data.delete_at,viewArchivedChannels:n}})}(e);break;case Ve.CHANNEL_UNARCHIVED:!function(e){const t=Ia(),n="true"===ae(t).ExperimentalViewArchivedChannels;Aa({type:mt.RECEIVED_CHANNEL_UNARCHIVED,data:{id:e.data.channel_id,team_id:e.broadcast.team_id,viewArchivedChannels:n}})}(e);break;case Ve.CHANNEL_CONVERTED:!function(e){const t=e.data.channel_id;if(t){const e=x(Ia(),t);e&&Aa({type:mt.RECEIVED_CHANNEL,data:l(r({},e),{type:ge.PRIVATE_CHANNEL})})}}(e);break;case Ve.CHANNEL_UPDATED:Aa(function(e){return(t,n)=>{const a=JSON.parse(e.data.channel);t({type:mt.RECEIVED_CHANNEL,data:a});const s=n();a.id===We(s)&&Ie.replace(`${ke(s)}/group/${a.name}`)}}(e));break;case Ve.CHANNEL_MEMBER_UPDATED:!function(e){const t=JSON.parse(e.data.channelMember),n=t.roles.split(" ");Aa(_t(n)),Aa({type:mt.RECEIVED_MY_CHANNEL_MEMBER,data:t})}(e);break;case Ve.DIRECT_ADDED:case Ve.GROUP_ADDED:Aa(function(e){return Ua(e.broadcast.channel_id)}(e));break;case Ve.PREFERENCE_CHANGED:!function(e){const t=JSON.parse(e.data.preference);Aa({type:z.RECEIVED_PREFERENCES,data:[t]}),Fa(t)&&G()}(e);break;case Ve.PREFERENCES_CHANGED:!function(e){const t=JSON.parse(e.data.preferences);Aa({type:z.RECEIVED_PREFERENCES,data:t}),-1!==t.findIndex(Fa)&&G()}(e);break;case Ve.PREFERENCES_DELETED:!function(e){const t=JSON.parse(e.data.preferences);Aa({type:z.DELETED_PREFERENCES,data:t})}(e);break;case Ve.TYPING:Aa(function(e){return async(t,n)=>{const a=n(),s=ae(a),o=B(a),i=e.data.user_id,r={id:e.broadcast.channel_id+e.data.parent_id,userId:i,now:Date.now()};if(t({type:it.TYPING,data:r}),setTimeout((()=>{t({type:it.STOP_TYPING,data:r})}),parseInt(s.TimeBetweenUserTypingUpdatesMilliseconds,10)),i!==o){const e=await t(rt([i]));if(e.data&&e.data.length>0)return}lt(a,i)!==ge.ONLINE&&t(ct([i]))}}(e));break;case Ve.STATUS_CHANGED:!function(e){Aa({type:ce.RECEIVED_STATUSES,data:[{user_id:e.data.user_id,status:e.data.status}]})}(e);break;case Ve.HELLO:!function(e){Wt(e.data.server_version)(Aa,Ia)}(e);break;case Ve.REACTION_ADDED:!function(e){const t=JSON.parse(e.data.reaction);Aa(qt(t.emoji_name)),Aa({type:zt.RECEIVED_REACTION,data:t})}(e);break;case Ve.REACTION_REMOVED:!function(e){const t=JSON.parse(e.data.reaction);Aa({type:zt.REACTION_DELETED,data:t})}(e);break;case Ve.EMOJI_ADDED:!function(e){const t=JSON.parse(e.data.emoji);Aa({type:Jt.RECEIVED_CUSTOM_EMOJI,data:t})}(e);break;case Ve.CHANNEL_VIEWED:!function(e){window.isActive&&We(Ia())===e.data.channel_id||B(Ia())!==e.broadcast.user_id||Aa($t(e.data.channel_id,"",!1))}(e);break;case Ve.PLUGIN_ENABLED:case Ve.PLUGIN_DISABLED:!function(e){e.data.manifest}(e);break;case Ve.USER_ROLE_UPDATED:!function(e){const t=Be.getState().entities.users.profiles[e.data.user_id];if(t){const n=e.data.roles,a=n.split(" "),s=t.roles.includes(P.PERMISSIONS_SYSTEM_ADMIN)&&!n.includes(P.PERMISSIONS_SYSTEM_ADMIN);Be.dispatch({type:ce.RECEIVED_PROFILE,data:l(r({},t),{roles:n})}),Aa(_t(a)),s&&global.location.pathname.startsWith("/admin_console")&&rs()}}(e);break;case Ve.CONFIG_CHANGED:!function(e){Be.dispatch({type:Ye.CLIENT_CONFIG_RECEIVED,data:e.data.config})}(e);break;case Ve.LICENSE_CHANGED:!function(e){Be.dispatch({type:Ye.CLIENT_LICENSE_RECEIVED,data:e.data.license})}(e);break;case Ve.PLUGIN_STATUSES_CHANGED:!function(e){Be.dispatch({type:ue.RECEIVED_PLUGIN_STATUSES,data:e.data.plugin_statuses})}(e);break;case Ve.OPEN_DIALOG:!function(e){const t=e.data&&e.data.dialog||{},n=JSON.parse(t);Be.dispatch({type:Kt.RECEIVED_DIALOG,data:n});const a=Ia().entities.integrations.dialogTriggerId;if(n.trigger_id!==a)return;console.info("handleOpenDialogEvent",e)}(e);break;case Ve.RECEIVED_GROUP:!function(e){const t=JSON.parse(e.data.group);Aa(d([{type:Qt.RECEIVED_GROUP,data:t},{type:Qt.RECEIVED_MY_GROUPS,data:[t]}]))}(e);break;case Ve.RECEIVED_GROUP_ASSOCIATED_TO_TEAM:!function(e){Be.dispatch({type:Qt.RECEIVED_GROUP_ASSOCIATED_TO_TEAM,data:{teamID:e.broadcast.team_id,groups:[{id:e.data.group_id}]}})}(e);break;case Ve.RECEIVED_GROUP_NOT_ASSOCIATED_TO_TEAM:!function(e){Be.dispatch({type:Qt.RECEIVED_GROUP_NOT_ASSOCIATED_TO_TEAM,data:{teamID:e.broadcast.team_id,groups:[{id:e.data.group_id}]}})}(e);break;case Ve.RECEIVED_GROUP_ASSOCIATED_TO_CHANNEL:!function(e){Be.dispatch({type:Qt.RECEIVED_GROUP_ASSOCIATED_TO_CHANNEL,data:{channelID:e.broadcast.channel_id,groups:[{id:e.data.group_id}]}})}(e);break;case Ve.RECEIVED_GROUP_NOT_ASSOCIATED_TO_CHANNEL:!function(e){Be.dispatch({type:Qt.RECEIVED_GROUP_NOT_ASSOCIATED_TO_CHANNEL,data:{channelID:e.broadcast.channel_id,groups:[{id:e.data.group_id}]}})}(e);break;case Ve.WARN_METRIC_STATUS_RECEIVED:!function(e){var t=JSON.parse(e.data.warnMetricStatus);let n;t.id===Xt.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?n=$e.WARN_METRIC_STATUS_NUMBER_OF_USERS:t.id===Xt.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(n=$e.WARN_METRIC_STATUS_NUMBER_OF_POSTS);Be.dispatch(d([{type:Ye.WARN_METRIC_STATUS_RECEIVED,data:t},{type:ne.SHOW_NOTICE,data:[n]}]))}(e);break;case Ve.WARN_METRIC_STATUS_REMOVED:!function(e){Be.dispatch({type:Ye.WARN_METRIC_STATUS_REMOVED,data:{id:e.data.warnMetricId}})}(e);break;case Ve.SIDEBAR_CATEGORY_CREATED:Aa(function(e){return(t,n)=>{const a=n();e.broadcast.team_id===O(a)&&t(ot(e.broadcast.team_id))}}(e));break;case Ve.SIDEBAR_CATEGORY_UPDATED:Aa(function(e){return(t,n)=>{const a=n();e.broadcast.team_id===O(a)&&t(ot(e.broadcast.team_id))}}(e));break;case Ve.SIDEBAR_CATEGORY_DELETED:Aa(function(e){return(t,n)=>{const a=n();e.broadcast.team_id===O(a)&&t(ot(e.broadcast.team_id))}}(e));break;case Ve.SIDEBAR_CATEGORY_ORDER_UPDATED:Aa(function(e){return st(e.broadcast.team_id,e.data.order)}(e));break;case Ve.USER_ACTIVATION_STATUS_CHANGED:Aa(((e,t)=>{const n=t();"true"===nt(n).Cloud&&(at(n)&&e(da()),e(se({clientFunc:te.getSubscriptionStats,onSuccess:ie.RECEIVED_CLOUD_SUBSCRIPTION_STATS})))}));break;case Ve.CLOUD_PAYMENT_STATUS_UPDATED:Aa((e=>e(se({clientFunc:te.getSubscription,onSuccess:[ie.RECEIVED_CLOUD_SUBSCRIPTION]}))));break;case Ve.FIRST_ADMIN_VISIT_MARKETPLACE_STATUS_RECEIVED:!function(e){const t=JSON.parse(e.data.firstAdminVisitMarketplaceStatus);Be.dispatch({type:Ye.FIRST_ADMIN_VISIT_MARKETPLACE_STATUS_RECEIVED,data:t})}(e);break;case Ve.THREAD_FOLLOW_CHANGED:Aa(function(e){return async(t,n)=>{const a=n();!Ze(a,e.data.thread_id)&&e.data.state&&await t(et(B(a),O(a),e.data.thread_id,!0)),tt(t,e.data.thread_id,e.broadcast.team_id,e.data.state)}}(e));break;case Ve.THREAD_READ_CHANGED:Aa(function(e){return(t,n)=>{var a;if(e.data.thread_id){const s=null==(a=n().entities.threads.threads)?void 0:a[e.data.thread_id];s&&Qe(t,e.data.thread_id,e.broadcast.team_id,e.data.channel_id,{lastViewedAt:e.data.timestamp,prevUnreadMentions:s.unread_mentions,newUnreadMentions:e.data.unread_mentions,prevUnreadReplies:s.unread_replies,newUnreadReplies:e.data.unread_replies})}else Xe(t,e.broadcast.team_id)}}(e));break;case Ve.THREAD_UPDATED:Aa(function(e){return(t,n)=>{try{const a=JSON.parse(e.data.thread);Ke(t,n,a,e.broadcast.team_id)}catch{}}}(e));break;case Ve.CONTACT_CHANGED:!function(e){const t=e.data.contact;"created"===e.data.event?Aa({type:Zt.NEW_CONTACT,data:t}):Aa({type:Zt.RECEIVED_PROFILE,data:t})}(e);break;case Ve.APPS_FRAMEWORK_REFRESH_BINDINGS:Aa(Ga())}Object.values(Na).forEach((t=>{t&&t.hasOwnProperty(e.event)&&"function"==typeof t[e.event]&&t[e.event](e)}))}const Pa=function(e){let t,n=[],a=0;const s=()=>{t=null,n.length>0&&Aa(function(e){return(t,n)=>{const a=e.map((e=>JSON.parse(e.data.post))),s=en(n()),o=a.map((e=>tn(e,s)));t(d(o)),t(nn(a)),ft(a,t,n)}}(n)),n=[],a=0};return function(o){t&&a>4?(n.push(o)>200&&(n=[],console.log("channel broken because of too many incoming messages")),clearTimeout(t),t=setTimeout(s,e)):(a+=1,Aa(function(e){return(t,n)=>{const a=JSON.parse(e.data.post);t(gt(a,e)),ft([a],t,n),a.user_id!==B(n())&&!bt(n(),a.user_id)&&e.data.set_online&&t({type:ce.RECEIVED_STATUSES,data:[{user_id:a.user_id,status:vt.ONLINE}]})}}(o)),clearTimeout(t),t=setTimeout(s,e))}}(100);function Ua(e){return async t=>{const{data:n,error:a}=await t(dt(e));a||t(ut(n.channel))}}function Fa(e){return e.category===P.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW&&"true"===e.value}function Ga(){return(e,t)=>{const n=t();return ra(n)&&e(la(B(n),We(n))),{data:!0}}}function Ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ja=function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;(o=new Error(t.replace(/%s/g,(function(){return String(a[i++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}},Ba=function(){function e(){Ha(this,"_callbacks",void 0),Ha(this,"_isDispatching",void 0),Ha(this,"_isHandled",void 0),Ha(this,"_isPending",void 0),Ha(this,"_lastID",void 0),Ha(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var t=e.prototype;return t.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},t.unregister=function(e){this._callbacks[e]||ja(!1),delete this._callbacks[e]},t.waitFor=function(e){this._isDispatching||ja(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||ja(!1):(this._callbacks[n]||ja(!1),this._invokeCallback(n))}},t.dispatch=function(e){this._isDispatching&&ja(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},t.isDispatching=function(){return this._isDispatching},t._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},t._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},t._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();const Va=P.PayloadSources,Ya=Object.assign(new Ba,{handleServerAction:function(e){e.type||console.warn("handleServerAction called with undefined action type");var t={source:Va.SERVER_ACTION,action:e};this.dispatch(t)},handleViewAction:function(e){e.type||console.warn("handleViewAction called with undefined action type");var t={source:Va.VIEW_ACTION,action:e};this.dispatch(t)}}),Wa=Be.dispatch,qa=Be.getState;const za=new class{constructor(){c(this,"hasCheckedLocalStorage"),c(this,"localStorageSupported")}setItem(e,t){Wa(an(e,t))}getItem(e,t){return sn(e,t)(qa())}removeItem(e){Wa(on(e))}setGlobalItem(e,t){Wa(rn(e,t))}getGlobalItem(e,t=null){return ln(e,t)(qa())}removeGlobalItem(e){Wa(cn(e))}signalLogout(){if(this.isLocalStorageSupported()){const e=dn();un(mn.ANNOUNCEMENT),sessionStorage.setItem(mn.LOGOUT,e),localStorage.setItem(mn.LOGOUT,e),localStorage.removeItem(mn.LOGOUT)}}isSignallingLogout(e){return e===sessionStorage.getItem(mn.LOGOUT)}signalLogin(){if(this.isLocalStorageSupported()){const e=dn();sessionStorage.setItem(mn.LOGIN,e),localStorage.setItem(mn.LOGIN,e),localStorage.removeItem(mn.LOGIN)}}isSignallingLogin(e){return e===sessionStorage.getItem(mn.LOGIN)}clear(e){Wa(hn(e))}isLocalStorageSupported(){if(this.hasCheckedLocalStorage)return this.localStorageSupported;this.localStorageSupported=!1;try{localStorage.setItem("__testLocal__","1"),"1"===localStorage.getItem("__testLocal__")&&(this.localStorageSupported=!0),localStorage.removeItem("__testLocal__")}catch(e){this.localStorageSupported=!1}try{sessionStorage.setItem("__testSession__","1"),sessionStorage.removeItem("__testSession__")}catch(e){Ie.push("/error?type="+pn.LOCAL_STORAGE)}return this.hasCheckedLocalStorage=!0,this.localStorageSupported}hasSeenLandingPage(){return localStorage.getItem(mn.LANDING_PAGE_SEEN)}setLandingPageSeen(e){localStorage.setItem(mn.LANDING_PAGE_SEEN,String(e))}getLandingPreference(e){return localStorage.getItem(mn.LANDING_PREFERENCE+String(e))}setLandingPreferenceToMattermostApp(e){localStorage.setItem(mn.LANDING_PREFERENCE+String(e),_n.MATTERMOSTAPP)}setLandingPreferenceToBrowser(e){localStorage.setItem(mn.LANDING_PREFERENCE+String(e),_n.BROWSER)}clearLandingPreference(e){localStorage.removeItem(mn.LANDING_PREFERENCE+String(e))}};const Ja=Be.dispatch,$a=Be.getState;function Ka(e){function t(e){const t=$a(),n=B(t),a=e.team_id||O(t),s=Tn(t),o=kn(t)===An.PIN,i=kn(t)===An.CHANNEL_FILES,r=In(t,e.id),l=We(t);Ja(ht(e.id));const c=Z.getPreviousChannelName(n,a);c!==e.name&&(Z.setPenultimateChannelName(n,a,c),Z.setPreviousChannelName(n,a,e.name)),s&&o&&Ja(Nn(An.PIN,e.id)),s&&i&&Ja(Nn(An.CHANNEL_FILES,e.id)),l&&G(),Ja(d([{type:mt.SELECT_CHANNEL,data:e.id},{type:ne.SELECT_CHANNEL_WITH_MEMBER,data:e.id,channel:e,member:r||{}}])),ra(t)&&Ja(la(n,e.id))}e.fake?async function(e,t,n){const a=$a(),s=B(a),o=Sn(e),i=await Y(s,o)(Ja,$a);"data"in i?t(i.data):n()}(e,(e=>{t(e)}),(()=>{Ie.push("/")})):t(e)}function Qa(e,t=Date.now()){return{type:ne.UPDATE_CHANNEL_LAST_VIEWED_AT,channel_id:e,last_viewed_at:t}}function Xa(){Ja(Ot())}function Za(){Ya.handleViewAction({type:ne.TOGGLE_SHORTCUTS_MODAL,value:!0})}function es(e){Ya.handleViewAction({type:ne.TOGGLE_CHANNEL_NAME_UPDATE_MODAL,value:!0,channel:e})}function ts(e){Ya.handleViewAction({type:ne.TOGGLE_GET_PUBLIC_LINK_MODAL,value:!0,fileId:e})}function ns(e){Ya.handleViewAction({type:ne.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL,value:e})}let as=0;function ss(e,t){return Ja((async(n,a)=>{const s=a(),o=ae(s),i=Date.now(),r=gn(s),l=r?r.member_count:0,c=fn(o.TimeBetweenUserTypingUpdatesMilliseconds),d=fn(o.MaxNotificationsPerChannel);return i-as>c&&l<d&&"true"===o.EnableUserTypingMessages&&(ka.userTyping(e,t),as=i),{data:!0}}))}function os(e="#/",t=!0,n=!0,a){n&&Z.setWasLoggedIn(!1),0!==e.indexOf("#")&&(e=`#${e}`),Ja(bn()).then((()=>{t&&za.signalLogout(),za.clear(),vn(),Ra(),yn(),(a||Ie).push(e)})).catch((()=>{(a||Ie).push(e)}))}function is(e){Ja({type:ne.BROWSER_CHANGE_FOCUS,focus:e})}async function rs(e){let t=$a(),n=At(t);if((wn(En(t))||!n)&&(await Ja(ee()),t=$a(),n=At(t)),!n)return;const a=Cn(t),s=Z.getPreviousTeamId(n.id);let o,i=Rt(t);if(0!==i.length)if(s&&(o=Nt(t,s)),o&&0===o.delete_at)ls(e||Ie,`/${o.name}`,!e);else{i=function(e,t,n=""){if(!e)return[];const a=n.split(",");return[...e.filter((e=>null!==e&&a.includes(e.id))).sort(((e,t)=>a.indexOf(e.id)-a.indexOf(t.id))),...e.filter((e=>null!==e&&!a.includes(e.id))).sort(((e,n)=>function(e,t,n){return null!==t.display_name&&t.display_name!==n.display_name?t.display_name.localeCompare(n.display_name,e,{numeric:!0}):t.name.localeCompare(n.name,e,{numeric:!0})}(t,e,n)))].filter((e=>e&&!e.delete_at>0&&null!=e.display_name))}(i,a);for(const t of i)return void ls(e||Ie,`/${t.name}`,!e);ls(e||Ie,"/pick-team",!e)}else ls(e||Ie,"/join",!e)}function ls(e,t,n){t=n?`#${t}`:t,e.replace(t)}const cs=p.createContext({setTitle:()=>{},selectDot:()=>{}}),ds=cs.Provider;function us(){return _.exports.useContext(cs)}class ms extends p.PureComponent{constructor(){super(...arguments),c(this,"handleLocaleChange",(e=>{te.setAcceptLanguage(e),this.loadTranslationsIfNecessary(e)})),c(this,"loadTranslationsIfNecessary",(e=>{const{translations:t,actions:n}=this.props;if(t)return;const a=Rn(e);a&&n.loadTranslations(e,a.url)}))}componentDidMount(){Dn(),xn(Ln),this.handleLocaleChange(this.props.locale)}componentDidUpdate(e){e.locale!==this.props.locale&&this.handleLocaleChange(this.props.locale)}render(){const{locale:e,translations:t,children:n}=this.props;return t?g(f,{locale:e,messages:t,textComponent:"span",wrapRichTextChunksInFragment:!1,children:n},e):null}}var hs=b((function(e){const t=Cn(e);return{locale:t,translations:On(e,t)}}),(function(e){return{actions:v({loadTranslations:ea},e)}}))(ms);function ps(e){const{formatMessage:t}=y();return g("span",l(r({},e),{children:g("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.className,x:"0px",y:"0px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",role:"img",fill:"currentColor","aria-label":t({id:"generic_icons.gomlo",defaultMessage:"Gomlo Logo"}),children:w("g",{children:[g("path",{d:"M413.84 122.759C433.616 106.181 433.565 75.576 411.018 63.0267C376.991 44.0888 337.986 31.8955 296.975 27.6627C238.402 21.6172 179.099 32.157 128.492 57.6067C77.8856 83.0564 38.8794 121.956 17.6739 168.121C-3.53157 214.286 -5.7194 265.069 11.4582 312.396C28.6358 359.724 64.193 400.88 112.478 429.323C160.763 457.767 219.005 471.865 277.945 469.377C336.886 466.888 393.143 447.957 437.775 415.591C468.009 393.666 491.732 366.429 507.442 336.051C519.483 312.766 502.332 287.122 476.469 282.846V282.846C452.952 278.959 430.986 294.585 418.424 314.841C408.382 331.033 394.723 345.606 378.035 357.707C348.803 378.905 311.957 391.305 273.353 392.935C234.749 394.564 196.603 385.33 164.978 366.701C133.353 348.072 110.064 321.116 98.8134 290.118C87.5627 259.12 88.9956 225.86 102.884 195.623C116.773 165.386 142.321 139.909 175.467 123.24C208.612 106.572 247.454 99.6683 285.817 103.628C311.85 106.315 336.648 113.899 358.441 125.656C376.142 135.206 398.426 135.679 413.84 122.759V122.759Z",style:_s}),g("path",{style:_s,d:"M64.7395 393.165C64.8585 393.263 64.977 393.363 65.095 393.464C85.9559 411.246 83.1645 450.984 59.9564 486C106.088 475.852 167.616 469.657 235.184 469.657C245.142 469.657 254.969 469.792 264.635 470.054V396.357C257.318 398.835 249.092 400.226 240.398 400.226C226.274 400.226 213.388 396.555 203.621 390.517H114.703V393.165H64.7395Z"}),g("ellipse",{rx:"42.3825",ry:"44.0261",transform:"matrix(0.968445 0.249228 -0.229831 0.97323 468.384 215.272)",style:_s}),g("ellipse",{rx:"34.7662",ry:"36.1144",transform:"matrix(0.968445 0.249228 -0.229831 0.97323 365.788 240.744)",style:_s}),g("ellipse",{rx:"28.255",ry:"29.3508",transform:"matrix(0.968445 0.249228 -0.229831 0.97323 276.722 263.097)",style:_s})]})})}))}const _s={fillRule:"evenodd",clipRule:"evenodd"};var gs,fs,bs,vs,ys=e=>g("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.className,viewBox:"0 0 20 20",fill:"currentColor",children:g("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),ws=e=>g("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.className,viewBox:"0 0 20 20",fill:"currentColor",children:g("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})});function Es(){return(Es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Cs(e,t){if(null==e)return{};var n,a,s={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}function Ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ts(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ss(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function ks(e,t){if(e in t){for(var n=t[e],a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];return"function"==typeof n?n.apply(void 0,s):n}var i=new Error('Tried to handle "'+e+'" but there is no handler defined. Only defined handlers are: '+Object.keys(t).map((function(e){return'"'+e+'"'})).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(i,ks),i}function As(e){var t=e.props,n=e.slot,a=e.defaultTag,s=e.features,o=e.visible,i=void 0===o||o,r=e.name;if(i)return Is(t,n,a,r);var l=null!=s?s:gs.None;if(l&gs.Static){var c=t.static,d=void 0!==c&&c,u=Cs(t,["static"]);if(d)return Is(u,n,a,r)}if(l&gs.RenderStrategy){var m,h=t.unmount,p=void 0===h||h,_=Cs(t,["unmount"]);return ks(p?bs.Unmount:bs.Hidden,((m={})[bs.Unmount]=function(){return null},m[bs.Hidden]=function(){return Is(Es({},_,{hidden:!0,style:{display:"none"}}),n,a,r)},m))}return Is(t,n,a,r)}function Is(e,t,n,a){var s;void 0===t&&(t={});var o=Ds(e,["unmount","static"]),i=o.as,r=void 0===i?n:i,l=o.children,c=o.refName,d=void 0===c?"ref":c,u=Cs(o,["as","children","refName"]),m=void 0!==e.ref?((s={})[d]=e.ref,s):{},h="function"==typeof l?l(t):l;if(u.className&&"function"==typeof u.className&&(u.className=u.className(t)),r===_.exports.Fragment&&Object.keys(u).length>0){if(!_.exports.isValidElement(h)||Array.isArray(h)&&h.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <"+a+' /> is rendering a "Fragment".',"However we need to passthrough the following props:",Object.keys(u).map((function(e){return"  - "+e})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - "+e})).join("\n")].join("\n"));return _.exports.cloneElement(h,Object.assign({},function(e,t,n){for(var a,s=Object.assign({},e),o=function(){var n,o=a.value;void 0!==e[o]&&void 0!==t[o]&&Object.assign(s,((n={})[o]=function(n){n.defaultPrevented||e[o](n),n.defaultPrevented||t[o](n)},n))},i=Ts(n);!(a=i()).done;)o();return s}(function(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}(Ds(u,["ref"])),h.props,["onClick"]),m))}return _.exports.createElement(r,Object.assign({},Ds(u,["ref"]),r!==_.exports.Fragment&&m),h)}function Ns(e){var t;return Object.assign(_.exports.forwardRef(e),{displayName:null!=(t=e.displayName)?t:e.name})}function Ds(e,t){void 0===t&&(t=[]);for(var n,a=Object.assign({},e),s=Ts(t);!(n=s()).done;){var o=n.value;o in a&&delete a[o]}return a}(fs=gs||(gs={}))[fs.None=0]="None",fs[fs.RenderStrategy=1]="RenderStrategy",fs[fs.Static=2]="Static",(vs=bs||(bs={}))[vs.Unmount=0]="Unmount",vs[vs.Hidden=1]="Hidden";var Rs,xs,Ls="undefined"!=typeof window?_.exports.useLayoutEffect:_.exports.useEffect,Os={serverHandoffComplete:!1};function Ms(){var e=_.exports.useState(Os.serverHandoffComplete),t=e[0],n=e[1];return _.exports.useEffect((function(){!0!==t&&n(!0)}),[t]),_.exports.useEffect((function(){!1===Os.serverHandoffComplete&&(Os.serverHandoffComplete=!0)}),[]),t}function Ps(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=_.exports.useRef(t);return _.exports.useEffect((function(){a.current=t}),[t]),_.exports.useCallback((function(e){for(var t,n=Ts(a.current);!(t=n()).done;){var s=t.value;null!=s&&("function"==typeof s?s(e):s.current=e)}}),[a])}function Us(e){for(var t,n,a=e.parentElement,s=null;a&&!(a instanceof HTMLFieldSetElement);)a instanceof HTMLLegendElement&&(s=a),a=a.parentElement;var o=null!=(t=""===(null==(n=a)?void 0:n.getAttribute("disabled")))&&t;return(!o||!function(e){if(!e)return!1;var t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(s))&&o}(xs=Rs||(Rs={})).Space=" ",xs.Enter="Enter",xs.Escape="Escape",xs.Backspace="Backspace",xs.ArrowLeft="ArrowLeft",xs.ArrowUp="ArrowUp",xs.ArrowRight="ArrowRight",xs.ArrowDown="ArrowDown",xs.Home="Home",xs.End="End",xs.PageUp="PageUp",xs.PageDown="PageDown",xs.Tab="Tab";var Fs=0;function Gs(){return++Fs}function Hs(){var e=Ms(),t=_.exports.useState(e?Gs:null),n=t[0],a=t[1];return Ls((function(){null===n&&a(Gs())}),[n]),null!=n?""+n:void 0}function js(e,t,n){var a=_.exports.useRef(t);a.current=t,_.exports.useEffect((function(){function t(e){a.current.call(window,e)}return window.addEventListener(e,t,n),function(){return window.removeEventListener(e,t,n)}}),[e,n])}var Bs,Vs,Ys,Ws,qs,zs,Js,$s,Ks=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return e+":not([tabindex='-1'])"})).join(",");function Qs(e){null==e||e.focus({preventScroll:!0})}function Xs(e,t){var n=Array.isArray(e)?e:function(e){return void 0===e&&(e=document.body),null==e?[]:Array.from(e.querySelectorAll(Ks))}(e),a=document.activeElement,s=function(){if(t&(Bs.First|Bs.Next))return qs.Next;if(t&(Bs.Previous|Bs.Last))return qs.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),o=function(){if(t&Bs.First)return 0;if(t&Bs.Previous)return Math.max(0,n.indexOf(a))-1;if(t&Bs.Next)return Math.max(0,n.indexOf(a))+1;if(t&Bs.Last)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),i=t&Bs.NoScroll?{preventScroll:!0}:{},r=0,l=n.length,c=void 0;do{var d;if(r>=l||r+l<=0)return Ys.Error;var u=o+r;if(t&Bs.WrapAround)u=(u+l)%l;else{if(u<0)return Ys.Underflow;if(u>=l)return Ys.Overflow}null==(d=c=n[u])||d.focus(i),r+=s}while(c!==document.activeElement);return c.hasAttribute("tabindex")||c.setAttribute("tabindex","0"),Ys.Success}function Zs(){var e=_.exports.useRef(!1);return _.exports.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e}(Vs=Bs||(Bs={}))[Vs.First=1]="First",Vs[Vs.Previous=2]="Previous",Vs[Vs.Next=4]="Next",Vs[Vs.Last=8]="Last",Vs[Vs.WrapAround=16]="WrapAround",Vs[Vs.NoScroll=32]="NoScroll",(Ws=Ys||(Ys={}))[Ws.Error=0]="Error",Ws[Ws.Overflow=1]="Overflow",Ws[Ws.Success=2]="Success",Ws[Ws.Underflow=3]="Underflow",(zs=qs||(qs={}))[zs.Previous=-1]="Previous",zs[zs.Next=1]="Next",($s=Js||(Js={}))[$s.Strict=0]="Strict",$s[$s.Loose=1]="Loose";var eo,to,no,ao,so,oo,io,ro,lo=_.exports.createContext(null);function co(){return _.exports.useContext(lo)}function uo(e){var t=e.value,n=e.children;return g(lo.Provider,{value:t,children:n})}function mo(e){var t;if(e.type)return e.type;var n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function ho(e,t){var n=_.exports.useState((function(){return mo(e)})),a=n[0],s=n[1];return Ls((function(){s(mo(e))}),[e.type,e.as]),Ls((function(){a||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&s("button")}),[a,t]),a}function po(){var e=[],t={requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);t.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.requestAnimationFrame((function(){t.requestAnimationFrame.apply(t,n)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);t.add((function(){return clearTimeout(e)}))})),add:function(t){e.push(t)},dispose:function(){for(var t,n=Ts(e.splice(0));!(t=n()).done;){(0,t.value)()}}};return t}function _o(){var e=_.exports.useState(po)[0];return _.exports.useEffect((function(){return function(){return e.dispose()}}),[e]),e}function go(e,t){var n=t.resolveItems();if(n.length<=0)return null;var a=t.resolveActiveIndex(),s=null!=a?a:-1,o=function(){switch(e.focus){case no.First:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case no.Previous:var a=n.slice().reverse().findIndex((function(e,n,a){return!(-1!==s&&a.length-n-1>=s)&&!t.resolveDisabled(e)}));return-1===a?a:n.length-1-a;case no.Next:return n.findIndex((function(e,n){return!(n<=s)&&!t.resolveDisabled(e)}));case no.Last:var o=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===o?o:n.length-1-o;case no.Specific:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case no.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===o?a:o}lo.displayName="OpenClosedContext",(to=eo||(eo={}))[to.Open=0]="Open",to[to.Closed=1]="Closed",function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(no||(no={})),(oo=so||(so={}))[oo.Open=0]="Open",oo[oo.Closed=1]="Closed",(ro=io||(io={}))[ro.OpenMenu=0]="OpenMenu",ro[ro.CloseMenu=1]="CloseMenu",ro[ro.GoToItem=2]="GoToItem",ro[ro.Search=3]="Search",ro[ro.ClearSearch=4]="ClearSearch",ro[ro.RegisterItem=5]="RegisterItem",ro[ro.UnregisterItem=6]="UnregisterItem";var fo=((ao={})[io.CloseMenu]=function(e){return e.menuState===so.Closed?e:Es({},e,{activeItemIndex:null,menuState:so.Closed})},ao[io.OpenMenu]=function(e){return e.menuState===so.Open?e:Es({},e,{menuState:so.Open})},ao[io.GoToItem]=function(e,t){var n=go(t,{resolveItems:function(){return e.items},resolveActiveIndex:function(){return e.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeItemIndex===n?e:Es({},e,{searchQuery:"",activeItemIndex:n})},ao[io.Search]=function(e,t){var n=e.searchQuery+t.value.toLowerCase(),a=e.items.findIndex((function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled}));return-1===a||a===e.activeItemIndex?Es({},e,{searchQuery:n}):Es({},e,{searchQuery:n,activeItemIndex:a})},ao[io.ClearSearch]=function(e){return""===e.searchQuery?e:Es({},e,{searchQuery:""})},ao[io.RegisterItem]=function(e,t){return Es({},e,{items:[].concat(e.items,[{id:t.id,dataRef:t.dataRef}])})},ao[io.UnregisterItem]=function(e,t){var n=e.items.slice(),a=null!==e.activeItemIndex?n[e.activeItemIndex]:null,s=n.findIndex((function(e){return e.id===t.id}));return-1!==s&&n.splice(s,1),Es({},e,{items:n,activeItemIndex:s===e.activeItemIndex||null===a?null:n.indexOf(a)})},ao),bo=_.exports.createContext(null);function vo(e){var t=_.exports.useContext(bo);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+Eo.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,vo),n}return t}function yo(e,t){return ks(t.type,fo,e,t)}bo.displayName="MenuContext";var wo=_.exports.Fragment;function Eo(e){var t,n=_.exports.useReducer(yo,{menuState:so.Closed,buttonRef:_.exports.createRef(),itemsRef:_.exports.createRef(),items:[],searchQuery:"",activeItemIndex:null}),a=n[0],s=a.menuState,o=a.itemsRef,i=a.buttonRef,r=n[1];js("mousedown",(function(e){var t,n,a,l=e.target;s===so.Open&&((null==(t=i.current)?void 0:t.contains(l))||(null==(n=o.current)?void 0:n.contains(l))||(r({type:io.CloseMenu}),function(e,t){var n;return void 0===t&&(t=Js.Strict),e!==document.body&&ks(t,((n={})[Js.Strict]=function(){return e.matches(Ks)},n[Js.Loose]=function(){for(var t=e;null!==t;){if(t.matches(Ks))return!0;t=t.parentElement}return!1},n))}(l,Js.Loose)||(e.preventDefault(),null==(a=i.current)||a.focus())))}));var l=_.exports.useMemo((function(){return{open:s===so.Open}}),[s]);return g(bo.Provider,{value:n,children:g(uo,{value:ks(s,(t={},t[so.Open]=eo.Open,t[so.Closed]=eo.Closed,t)),children:As({props:e,slot:l,defaultTag:wo,name:"Menu"})})})}var Co,So,To=Ns((function e(t,n){var a,s=vo([Eo.name,e.name].join(".")),o=s[0],i=s[1],r=Ps(o.buttonRef,n),l="headlessui-menu-button-"+Hs(),c=_o(),d=_.exports.useCallback((function(e){switch(e.key){case Rs.Space:case Rs.Enter:case Rs.ArrowDown:e.preventDefault(),e.stopPropagation(),i({type:io.OpenMenu}),c.nextFrame((function(){return i({type:io.GoToItem,focus:no.First})}));break;case Rs.ArrowUp:e.preventDefault(),e.stopPropagation(),i({type:io.OpenMenu}),c.nextFrame((function(){return i({type:io.GoToItem,focus:no.Last})}))}}),[i,c]),u=_.exports.useCallback((function(e){switch(e.key){case Rs.Space:e.preventDefault()}}),[]),m=_.exports.useCallback((function(e){if(Us(e.currentTarget))return e.preventDefault();t.disabled||(o.menuState===so.Open?(i({type:io.CloseMenu}),c.nextFrame((function(){var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),e.stopPropagation(),i({type:io.OpenMenu})))}),[i,c,o,t.disabled]),h=_.exports.useMemo((function(){return{open:o.menuState===so.Open}}),[o]);return As({props:Es({},t,{ref:r,id:l,type:ho(t,o.buttonRef),"aria-haspopup":!0,"aria-controls":null==(a=o.itemsRef.current)?void 0:a.id,"aria-expanded":t.disabled?void 0:o.menuState===so.Open,onKeyDown:d,onKeyUp:u,onClick:m}),slot:h,defaultTag:"button",name:"Menu.Button"})})),ko=gs.RenderStrategy|gs.Static,Ao=Ns((function e(t,n){var a,s,o,i,r,l,c,d,u,m,h=vo([Eo.name,e.name].join(".")),p=h[0],g=h[1],f=Ps(p.itemsRef,n),b="headlessui-menu-items-"+Hs(),v=_o(),y=co(),w=null!==y?y===eo.Open:p.menuState===so.Open;_.exports.useEffect((function(){var e=p.itemsRef.current;e&&p.menuState===so.Open&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[p.menuState,p.itemsRef]),o={container:p.itemsRef.current,enabled:p.menuState===so.Open,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}},i=o.container,r=o.accept,l=o.walk,c=o.enabled,d=void 0===c||c,u=_.exports.useRef(r),m=_.exports.useRef(l),_.exports.useEffect((function(){u.current=r,m.current=l}),[r,l]),Ls((function(){if(i&&d)for(var e=u.current,t=m.current,n=Object.assign((function(t){return e(t)}),{acceptNode:e}),a=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,n,!1);a.nextNode();)t(a.currentNode)}),[i,d,u,m]);var E=_.exports.useCallback((function(e){switch(v.dispose(),e.key){case Rs.Space:if(""!==p.searchQuery)return e.preventDefault(),e.stopPropagation(),g({type:io.Search,value:e.key});case Rs.Enter:if(e.preventDefault(),e.stopPropagation(),g({type:io.CloseMenu}),null!==p.activeItemIndex){var t,n=p.items[p.activeItemIndex].id;null==(t=document.getElementById(n))||t.click()}po().nextFrame((function(){var e;return null==(e=p.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case Rs.ArrowDown:return e.preventDefault(),e.stopPropagation(),g({type:io.GoToItem,focus:no.Next});case Rs.ArrowUp:return e.preventDefault(),e.stopPropagation(),g({type:io.GoToItem,focus:no.Previous});case Rs.Home:case Rs.PageUp:return e.preventDefault(),e.stopPropagation(),g({type:io.GoToItem,focus:no.First});case Rs.End:case Rs.PageDown:return e.preventDefault(),e.stopPropagation(),g({type:io.GoToItem,focus:no.Last});case Rs.Escape:e.preventDefault(),e.stopPropagation(),g({type:io.CloseMenu}),po().nextFrame((function(){var e;return null==(e=p.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case Rs.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(g({type:io.Search,value:e.key}),v.setTimeout((function(){return g({type:io.ClearSearch})}),350))}}),[g,v,p]),C=_.exports.useCallback((function(e){switch(e.key){case Rs.Space:e.preventDefault()}}),[]),S=_.exports.useMemo((function(){return{open:p.menuState===so.Open}}),[p]);return As({props:Es({},t,{"aria-activedescendant":null===p.activeItemIndex||null==(a=p.items[p.activeItemIndex])?void 0:a.id,"aria-labelledby":null==(s=p.buttonRef.current)?void 0:s.id,id:b,onKeyDown:E,onKeyUp:C,role:"menu",tabIndex:0,ref:f}),slot:S,defaultTag:"div",features:ko,visible:w,name:"Menu.Items"})})),Io=_.exports.Fragment;function No(){var e=_.exports.useRef(!0);return _.exports.useEffect((function(){e.current=!1}),[]),e.current}function Do(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];e&&a.length>0&&(t=e.classList).add.apply(t,a)}function Ro(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];e&&a.length>0&&(t=e.classList).remove.apply(t,a)}function xo(e,t,n,a,s,o){var i,r,l=po(),c=void 0!==o?(i=o,r={called:!1},function(){if(!r.called)return r.called=!0,i.apply(void 0,arguments)}):function(){};return Ro.apply(void 0,[e].concat(s)),Do.apply(void 0,[e].concat(t,n)),l.nextFrame((function(){Ro.apply(void 0,[e].concat(n)),Do.apply(void 0,[e].concat(a)),l.add(function(e,t){var n=po();if(!e)return n.dispose;var a=getComputedStyle(e),s=[a.transitionDuration,a.transitionDelay].map((function(e){var t=e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e}))[0];return void 0===t?0:t})),o=s[0],i=s[1];return 0!==o?n.setTimeout((function(){t(Co.Finished)}),o+i):t(Co.Finished),n.add((function(){return t(Co.Cancelled)})),n.dispose}(e,(function(n){return Ro.apply(void 0,[e].concat(a,t)),Do.apply(void 0,[e].concat(s)),c(n)})))})),l.add((function(){return Ro.apply(void 0,[e].concat(t,n,a,s))})),l.add((function(){return c(Co.Cancelled)})),l.dispose}function Lo(e){return void 0===e&&(e=""),_.exports.useMemo((function(){return e.split(" ").filter((function(e){return e.trim().length>1}))}),[e])}Eo.Button=To,Eo.Items=Ao,Eo.Item=function e(t){var n=t.disabled,a=void 0!==n&&n,s=t.onClick,o=Cs(t,["disabled","onClick"]),i=vo([Eo.name,e.name].join(".")),r=i[0],l=i[1],c="headlessui-menu-item-"+Hs(),d=null!==r.activeItemIndex&&r.items[r.activeItemIndex].id===c;Ls((function(){if(r.menuState===so.Open&&d){var e=po();return e.nextFrame((function(){var e;return null==(e=document.getElementById(c))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})})),e.dispose}}),[c,d,r.menuState]);var u=_.exports.useRef({disabled:a});Ls((function(){u.current.disabled=a}),[u,a]),Ls((function(){var e,t;u.current.textValue=null==(e=document.getElementById(c))||null==(t=e.textContent)?void 0:t.toLowerCase()}),[u,c]),Ls((function(){return l({type:io.RegisterItem,id:c,dataRef:u}),function(){return l({type:io.UnregisterItem,id:c})}}),[u,c]);var m=_.exports.useCallback((function(e){return a?e.preventDefault():(l({type:io.CloseMenu}),po().nextFrame((function(){var e;return null==(e=r.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),s?s(e):void 0)}),[l,r.buttonRef,a,s]),h=_.exports.useCallback((function(){if(a)return l({type:io.GoToItem,focus:no.Nothing});l({type:io.GoToItem,focus:no.Specific,id:c})}),[a,c,l]),p=_.exports.useCallback((function(){a||d||l({type:io.GoToItem,focus:no.Specific,id:c})}),[a,d,c,l]),g=_.exports.useCallback((function(){a||d&&l({type:io.GoToItem,focus:no.Nothing})}),[a,d,l]),f=_.exports.useMemo((function(){return{active:d,disabled:a}}),[d,a]);return As({props:Es({},o,{id:c,role:"menuitem",tabIndex:!0===a?void 0:-1,"aria-disabled":!0===a||void 0,disabled:void 0,onClick:m,onFocus:h,onPointerMove:p,onMouseMove:p,onPointerLeave:g,onMouseLeave:g}),slot:f,defaultTag:Io,name:"Menu.Item"})},(So=Co||(Co={})).Finished="finished",So.Cancelled="cancelled";var Oo,Mo,Po=_.exports.createContext(null);Po.displayName="TransitionContext",(Mo=Oo||(Oo={})).Visible="visible",Mo.Hidden="hidden";var Uo=_.exports.createContext(null);function Fo(e){return"children"in e?Fo(e.children):e.current.filter((function(e){return e.state===Oo.Visible})).length>0}function Go(e){var t=_.exports.useRef(e),n=_.exports.useRef([]),a=Zs();_.exports.useEffect((function(){t.current=e}),[e]);var s=_.exports.useCallback((function(e,s){var o;void 0===s&&(s=bs.Hidden);var i=n.current.findIndex((function(t){return t.id===e}));-1!==i&&(ks(s,((o={})[bs.Unmount]=function(){n.current.splice(i,1)},o[bs.Hidden]=function(){n.current[i].state=Oo.Hidden},o)),!Fo(n)&&a.current&&(null==t.current||t.current()))}),[t,a,n]),o=_.exports.useCallback((function(e){var t=n.current.find((function(t){return t.id===e}));return t?t.state!==Oo.Visible&&(t.state=Oo.Visible):n.current.push({id:e,state:Oo.Visible}),function(){return s(e,bs.Unmount)}}),[n,s]);return _.exports.useMemo((function(){return{children:n,register:o,unregister:s}}),[o,s,n])}function Ho(){}Uo.displayName="NestingContext";var jo=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Bo(e){for(var t,n={},a=Ts(jo);!(t=a()).done;){var s,o=t.value;n[o]=null!=(s=e[o])?s:Ho}return n}var Vo=gs.RenderStrategy;function Yo(e){var t,n=e.beforeEnter,a=e.afterEnter,s=e.beforeLeave,o=e.afterLeave,i=e.enter,r=e.enterFrom,l=e.enterTo,c=e.entered,d=e.leave,u=e.leaveFrom,m=e.leaveTo,h=Cs(e,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),p=_.exports.useRef(null),f=_.exports.useState(Oo.Visible),b=f[0],v=f[1],y=h.unmount?bs.Unmount:bs.Hidden,w=function(){var e=_.exports.useContext(Po);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),E=w.show,C=w.appear,S=function(){var e=_.exports.useContext(Uo);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),T=S.register,k=S.unregister,A=No(),I=Hs(),N=_.exports.useRef(!1),D=Go((function(){N.current||(v(Oo.Hidden),k(I),F.current.afterLeave())}));Ls((function(){if(I)return T(I)}),[T,I]),Ls((function(){var e;y===bs.Hidden&&I&&(E&&b!==Oo.Visible?v(Oo.Visible):ks(b,((e={})[Oo.Hidden]=function(){return k(I)},e[Oo.Visible]=function(){return T(I)},e)))}),[b,I,T,k,E,y]);var R=Lo(i),x=Lo(r),L=Lo(l),O=Lo(c),M=Lo(d),P=Lo(u),U=Lo(m),F=function(e){var t=_.exports.useRef(Bo(e));return _.exports.useEffect((function(){t.current=Bo(e)}),[e]),t}({beforeEnter:n,afterEnter:a,beforeLeave:s,afterLeave:o}),G=Ms();_.exports.useEffect((function(){if(G&&b===Oo.Visible&&null===p.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[p,b,G]);var H=A&&!C;Ls((function(){var e=p.current;if(e&&!H)return N.current=!0,E&&F.current.beforeEnter(),E||F.current.beforeLeave(),E?xo(e,R,x,L,O,(function(e){N.current=!1,e===Co.Finished&&F.current.afterEnter()})):xo(e,M,P,U,O,(function(e){N.current=!1,e===Co.Finished&&(Fo(D)||(v(Oo.Hidden),k(I),F.current.afterLeave()))}))}),[F,I,N,k,D,p,H,E,R,x,L,M,P,U]);var j={ref:p},B=h;return g(Uo.Provider,{value:D,children:g(uo,{value:ks(b,(t={},t[Oo.Visible]=eo.Open,t[Oo.Hidden]=eo.Closed,t)),children:As({props:Es({},B,j),defaultTag:"div",features:Vo,visible:b===Oo.Visible,name:"Transition.Child"})})})}function Wo(e){var t,n=e.show,a=e.appear,s=void 0!==a&&a,o=e.unmount,i=Cs(e,["show","appear","unmount"]),l=co();void 0===n&&null!==l&&(n=ks(l,((t={})[eo.Open]=!0,t[eo.Closed]=!1,t)));if(![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var c=_.exports.useState(n?Oo.Visible:Oo.Hidden),d=c[0],u=c[1],m=Go((function(){u(Oo.Hidden)})),h=No(),p=_.exports.useMemo((function(){return{show:n,appear:s||!h}}),[n,s,h]);_.exports.useEffect((function(){n?u(Oo.Visible):Fo(m)||u(Oo.Hidden)}),[n,m]);var f={unmount:o};return g(Uo.Provider,{value:m,children:g(Po.Provider,{value:p,children:As({props:Es({},f,{as:_.exports.Fragment,children:g(Yo,r({},Object.assign({},f,i)))}),defaultTag:_.exports.Fragment,features:Vo,visible:d===Oo.Visible,name:"Transition"})})})}Wo.Child=function(e){var t=null!==_.exports.useContext(Po),n=null!==co();return g(!t&&n?Wo:Yo,r({},Object.assign({},e)))},Wo.Root=Wo;var qo=sa.jsx;var zo=function(e){return qo("svg",l(r({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},e)),{children:qo("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}))},Jo=({children:e})=>g(Wo,{as:_.exports.Fragment,enter:"u3-transition u3-ease-out u3-duration-100",enterFrom:"u3-transform u3-opacity-0 u3-scale-95",enterTo:"u3-transform u3-opacity-100 u3-scale-100",leave:"u3-transition u3-ease-in u3-duration-75",leaveFrom:"u3-transform u3-opacity-100 u3-scale-100",leaveTo:"u3-transform u3-opacity-0 u3-scale-95",children:e}),$o=e=>{const t=e.className||"u3-group u3-text-gray-900 u3-flex u3-rounded-md u3-items-center u3-w-full u3-px-2 u3-py-1 u3-text-sm",n=e.classActive||"u3-bg-primary u3-text-white";return g(Eo.Item,{children:({active:a})=>w("button",{onClick:e.onClick,className:E(t,{[n]:a}),children:[e.icon,e.name]})})};var Ko="u3-cxx-2eca89dd",Qo="u3-cxx-286d3fce";var Xo=b()((function({history:e}){return w(Eo,{as:"div",className:"u3-relative u3-inline-block",children:[g(Eo.Button,{className:Ko,children:g(zo,{className:"u3-w-4 u3-h-4 u3-text-violet-200 hover:text-violet-100","aria-hidden":"true"})}),g(Jo,{children:g(Eo.Items,{className:Qo,children:g("div",{className:"u3-px-1 u3-py-1",children:g($o,{name:"Giới thiệu",onClick:()=>{return t="/about",void e.push(t);var t}})})})})]})}));const Zo=p.lazy((()=>Mn((()=>import("./index.afa2bce1.js")),["assets/index.afa2bce1.js","assets/vendor.b4a3f96f.js","assets/index.c04d0919.js","assets/index.b7b5f55f.css"]))),ei=p.lazy((()=>Mn((()=>import("./index.b4b79fde.js")),["assets/index.b4b79fde.js","assets/index.5d5bbcd0.css","assets/vendor.b4a3f96f.js","assets/index.c04d0919.js","assets/index.b7b5f55f.css"]))),ti=p.lazy((()=>Mn((()=>import("./index.ac33edad.js")),["assets/index.ac33edad.js","assets/index.7188efea.css","assets/vendor.b4a3f96f.js","assets/index.c04d0919.js","assets/index.b7b5f55f.css"]))),ni=p.lazy((()=>Mn((()=>import("./index.29bd3d7a.js")),["assets/index.29bd3d7a.js","assets/index.7716f017.css","assets/vendor.b4a3f96f.js","assets/index.c04d0919.js","assets/index.b7b5f55f.css"]))),ai=p.lazy((()=>Mn((()=>import("./index.fcd1cc0a.js")),["assets/index.fcd1cc0a.js","assets/index.fcfacf4f.css","assets/vendor.b4a3f96f.js","assets/index.c04d0919.js","assets/index.b7b5f55f.css","assets/FormattedMarkdownMessage.84b68eef.js"]))),si=p.lazy((()=>Mn((()=>import("./index.41022ad5.js")),["assets/index.41022ad5.js","assets/index.671c7ba5.css","assets/vendor.b4a3f96f.js","assets/index.c04d0919.js","assets/index.b7b5f55f.css","assets/FormattedMarkdownMessage.84b68eef.js"]))),oi=Pn(Zo),ii=Pn(ei),ri=Pn(ti),li=Pn(ni),ci=Pn(ai),di=Pn(si),ui=e=>{var t=e,{component:n}=t,i=((e,t)=>{var n={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&o.call(e,i)&&(n[i]=e[i]);return n})(t,["component"]);return g(S,l(r({},i),{render:e=>g(oi,l(r({},e),{children:g(n,r({},e))}))}))};var mi=e=>w(C,{children:[g(S,{path:"/error",component:ii}),g(S,{path:"/about",component:ri}),g(S,{path:"/connect",component:li}),g(ui,{path:"/join",component:ci}),g(ui,{path:"/:team",component:di}),g(T,{to:l(r({},e.location),{pathname:"/connect"})})]});var hi="u3-cxx-f9aed0ee",pi="u3-cxx-3b27c386",_i="u3-cxx-d95bf1e3",gi="u3-cxx-94c03c1e",fi="u3-cxx-6db5bde9",bi="u3-cxx-1f6ae2bf",vi="u3-cxx-51f29819",yi="u3-cxx-36d27ec1",wi="u3-cxx-6962ecaf",Ei="u3-cxx-e957fb9b",Ci=k,Si=/\s/;var Ti=function(e){for(var t=e.length;t--&&Si.test(e.charAt(t)););return t},ki=/^\s+/;var Ai=function(e){return e?e.slice(0,Ti(e)+1).replace(ki,""):e},Ii=A,Ni=I,Di=/^[-+]0x[0-9a-f]+$/i,Ri=/^0b[01]+$/i,xi=/^0o[0-7]+$/i,Li=parseInt;var Oi=A,Mi=function(){return Ci.Date.now()},Pi=function(e){if("number"==typeof e)return e;if(Ni(e))return NaN;if(Ii(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ii(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ai(e);var n=Ri.test(e);return n||xi.test(e)?Li(e.slice(2),n?2:8):Di.test(e)?NaN:+e},Ui=Math.max,Fi=Math.min;var Gi=function(e,t,n){var a,s,o,i,r,l,c=0,d=!1,u=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=a,o=s;return a=s=void 0,c=t,i=e.apply(o,n)}function p(e){return c=e,r=setTimeout(g,t),d?h(e):i}function _(e){var n=e-l;return void 0===l||n>=t||n<0||u&&e-c>=o}function g(){var e=Mi();if(_(e))return f(e);r=setTimeout(g,function(e){var n=t-(e-l);return u?Fi(n,o-(e-c)):n}(e))}function f(e){return r=void 0,m&&a?h(e):(a=s=void 0,i)}function b(){var e=Mi(),n=_(e);if(a=arguments,s=this,l=e,n){if(void 0===r)return p(l);if(u)return clearTimeout(r),r=setTimeout(g,t),h(l)}return void 0===r&&(r=setTimeout(g,t)),i}return t=Pi(t)||0,Oi(n)&&(d=!!n.leading,o=(u="maxWait"in n)?Ui(Pi(n.maxWait)||0,t):o,m="trailing"in n?!!n.trailing:m),b.cancel=function(){void 0!==r&&clearTimeout(r),c=0,a=l=s=r=void 0},b.flush=function(){return void 0===r?i:f(Mi())},b},Hi=Gi,ji=A;var Bi=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ji(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),Hi(e,t,{leading:a,maxWait:t,trailing:s})};class Vi extends p.PureComponent{constructor(e){var t,n;super(e),c(this,"mounted"),c(this,"titleRef"),c(this,"debounceReload"),c(this,"handleConfigLoaded",(e=>{const{location:t,history:n,noAccounts:a,currentUserId:s}=this.props;(a||!s&&!e)&&n.push(`/connect?next=${encodeURIComponent(t.pathname)}`),this.setState({configLoaded:!0}),Gn()(Be.dispatch,Be.getState)})),c(this,"handleLogoutLoginSignal",(e=>{const t=e=>e.storageArea===localStorage&&e.newValue;if(e.key===mn.LOGOUT&&t(e)&&(console.log("detected logout from a different tab"),os("#u3-app",!1,!1,this.props.history)),e.key===mn.LOGIN&&t(e)){let e=function(){location.reload()};if(At(Be.getState()))return;document.addEventListener("visibilitychange",e,!1)}})),c(this,"handleDndEvent",(e=>{e.preventDefault(),e.stopPropagation()})),c(this,"handleExpanned",(()=>{var e,t;!0===this.state.expanded?null==(e=Jn())||e.classList.add("u3-collapsed"):null==(t=Jn())||t.classList.remove("u3-collapsed"),this.setState({expanded:!this.state.expanded})})),c(this,"handleReload",(()=>{this.debounceReload&&this.debounceReload.cancel(),this.setState({reload:!0}),this.debounceReload()})),c(this,"setTitle",(e=>{this.titleRef.current.innerHTML=e})),c(this,"selectDot",(e=>{this.setState({badge:e})})),this.mounted=!1,this.titleRef=p.createRef(),Un(jn()),Bn(Vn),window.addEventListener("storage",this.handleLogoutLoginSignal),null==(t=Jn())||t.addEventListener("drop",this.handleDndEvent),null==(n=Jn())||n.addEventListener("dragover",this.handleDndEvent),this.debounceReload=Bi((()=>{this.props.history.replace("/")}),5e3,{trailing:!1}),this.state={configLoaded:!!e.siteName,expanded:!0,reload:!1,badge:""}}async componentDidMount(){var e,t,n;aa(document.getElementById("u3-chatting")),null==(t=Jn())||t.style.setProperty("--u3-chatting-content-width",`${(null==(e=Jn())?void 0:e.clientWidth)||440}px`),null==(n=Jn())||n.classList.add("u3-chat-main"),this.mounted=!0;const a=this.props;if(a.clientId){const e=Z.getToken(a.clientId),t=Z.getCsrf(a.clientId);e&&t&&(te.setToken(e),te.setCSRF(t))}if(!a.siteName&&a.clientId){const[e,t,n,s]=await a.actions.loadMeAndConfig(a.clientId);"/"===a.location.pathname&&s&&s.data&&rs(a.history),this.handleConfigLoaded(s&&s.data)}}componentDidUpdate(e){const{location:t,noAccounts:n,allowedDomains:a,clientValid:s}=this.props;!this.state.configLoaded||"/error"===t.pathname||s||-1!==a.indexOf(Fn())?"/"===t.pathname&&n&&!this.props.currentUserId&&e.history.replace("/connect"):e.history.replace("/error?type=client-invalid")}componentWillUnmount(){this.mounted=!1,window.removeEventListener("storage",this.handleLogoutLoginSignal)}render(){const{configLoaded:e,reload:t}=this.state;if(!e)return g(hs,{children:g(Hn,{message:"Tải cài đặt"})});let n=g(ys,{className:"u3-w-3.5 u3-h-3.5"});return this.state.expanded&&(n=g(ws,{className:"u3-w-3.5 u3-h-3.5"})),g(hs,{children:w(ds,{value:{setTitle:this.setTitle,selectDot:this.selectDot},children:[w("div",{className:hi,children:[w("div",{className:pi,children:[g(ps,{className:"u3-w-4 u3-h-4"}),g("div",{className:E(_i,{[fi]:"Unread"===this.state.badge,[gi]:"Mention"===this.state.badge,"u3-animate-ping":""!==this.state.badge})}),g("div",{className:E(_i,bi,{[fi]:"Unread"===this.state.badge,[gi]:"Mention"===this.state.badge})}),g("h3",{ref:this.titleRef,children:"U3 Chat"})]}),w("div",{className:vi,children:[g("button",{onClick:this.handleReload,className:yi,children:g(ia,{className:E("u3-h-4 u3-w-4 u3-text-white",{"u3-animate-spin":t})})}),g("button",{onClick:this.handleExpanned,className:wi,children:n}),g(Xo,{history:this.props.history})]})]}),g("div",{className:E(Ei,{"u3-collapsed":!this.state.expanded}),children:g(mi,r({},this.props))})]})})}}var Yi=Vi;var Wi=b((function(e){const t=$n(),n=ae(e),a=Yn(e),s=e.plugins.components.CustomRouteComponent,o=t.clientId===a.clientId,i=a.allowed,r=B(e),l=Z.getPreviousTeamId(B(e)),c=Nt(e,l);return{siteName:n.SiteName,noAccounts:"true"===n.NoAccounts,clientValid:o,clientId:t.clientId,allowedDomains:i,hasUserToken:!!t.userToken,permalinkRedirectTeamName:c?c.name:"",currentUserId:r,plugins:s}}),(function(e){return{actions:v({loadMeAndConfig:Xn},e)}}))(Yi),qi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wi});export{Qa as $,ts as A,za as B,Eo as C,Jo as D,ns as E,Bs as F,ga as G,Ca as H,qn as I,Wn as J,Rs as K,Ka as L,ps as M,ha as N,Xa as O,ra as P,Ta as Q,ba as R,eo as S,Wo as T,wa as U,ya as V,ka as W,va as X,pa as Y,Ea as Z,Cs as _,os as a,ua as a0,fa as a1,zn as a2,es as a3,ss as a4,Za as a5,Sa as a6,_a as a7,Jn as a8,xa as a9,ma as aa,qi as ab,rs as b,Ra as c,Ls as d,is as e,As as f,$n as g,Zs as h,Da as i,Qs as j,Xs as k,Ys as l,js as m,Ts as n,Hs as o,Es as p,gs as q,sa as r,Ns as s,Ps as t,Ms as u,Us as v,co as w,ks as x,us as y,Gi as z};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguOTU2ZGI3YjguanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy94L2FjdGlvbnMvY2hhbm5lbF9hY3Rpb25zLmpzeCIsIi4uLy4uL3NyYy91dGlscy9pbnRlZ3JhdGUudHMiLCIuLi8uLi9zcmMveC9hY3Rpb25zL3ZpZXdzL3Jvb3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZmFzdGNsaWNrQDEuMC42L25vZGVfbW9kdWxlcy9mYXN0Y2xpY2svbGliL2Zhc3RjbGljay5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVyb2ljb25zK3JlYWN0QDEuMC40X3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZXJvaWNvbnMvcmVhY3Qvb3V0bGluZS9SZWZyZXNoSWNvbi5qcyIsIi4uLy4uL3NyYy94L3BhY2thZ2VzL2NoYXR0aW5nLXJlZHV4L3NyYy9zZWxlY3RvcnMvZW50aXRpZXMvYXBwcy50cyIsIi4uLy4uL3NyYy94L3BhY2thZ2VzL2NoYXR0aW5nLXJlZHV4L3NyYy9hY3Rpb25zL2FwcHMudHMiLCIuLi8uLi9zcmMveC9wYWNrYWdlcy9jaGF0dGluZy1yZWR1eC9zcmMvYWN0aW9ucy93ZWJzb2NrZXQudHMiLCIuLi8uLi9zcmMveC9wYWNrYWdlcy9jaGF0dGluZy1yZWR1eC9zcmMvYWN0aW9ucy9hZG1pbi50cyIsIi4uLy4uL3NyYy94L3BhY2thZ2VzL2NoYXR0aW5nLXJlZHV4L3NyYy9zZWxlY3RvcnMvZW50aXRpZXMvdXRpbHMudHMiLCIuLi8uLi9zcmMveC9zZWxlY3RvcnMvbG9jYWxfc3RvcmFnZS5qcyIsIi4uLy4uL3NyYy94L3NlbGVjdG9ycy92aWV3cy9jaGFubmVsLmpzIiwiLi4vLi4vc3JjL3gvYWN0aW9ucy92aWV3cy9jaGFubmVsLmpzIiwiLi4vLi4vc3JjL3gvc2VsZWN0b3JzL3ZpZXdzL3dlYnNvY2tldC5qcyIsIi4uLy4uL3NyYy94L2NsaWVudC93ZWJfd2Vic29ja2V0X2NsaWVudC5qc3giLCIuLi8uLi9zcmMveC9jbGllbnQvd2Vic29ja2V0X2NsaWVudC50c3giLCIuLi8uLi9zcmMveC9hY3Rpb25zL3dlYnNvY2tldF9hY3Rpb25zLmpzeCIsIi4uLy4uL3NyYy94L2FjdGlvbnMvdmlld3Mvc3lzdGVtLmpzIiwiLi4vLi4vc3JjL3gvcGFja2FnZXMvY2hhdHRpbmctcmVkdXgvc3JjL2FjdGlvbnMvY2xvdWQudHMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZmx1eEA0LjAuMV9yZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9mbHV4L2xpYi9EaXNwYXRjaGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZianNAMy4wLjAvbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qcyIsIi4uLy4uL3NyYy94L2Rpc3BhdGNoZXIvYXBwX2Rpc3BhdGNoZXIuanN4IiwiLi4vLi4vc3JjL3gvc3RvcmVzL2Jyb3dzZXJfc3RvcmUudHN4IiwiLi4vLi4vc3JjL3gvYWN0aW9ucy9nbG9iYWxfYWN0aW9ucy50c3giLCIuLi8uLi9zcmMveC91dGlscy90ZWFtX3V0aWxzLmpzeCIsIi4uLy4uL3NyYy91dGlscy9BcHBDb250ZXh0LnRzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvSW50bFByb3ZpZGVyL0ludGxQcm92aWRlci50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9JbnRsUHJvdmlkZXIvaW5kZXgudHMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9JY29ucy9Mb2dvLnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0ljb25zL1BsdXNTb2lsZC50c3giLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC91dGlscy9yZW5kZXIuZXNtLmpzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvSWNvbnMvTWludXNTb2lsZC50c3giLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9fdmlydHVhbC9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvdXRpbHMvbWF0Y2guZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvY29tcG9uZW50cy9rZXlib2FyZC5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9ob29rcy91c2UtaXNvLW1vcnBoaWMtZWZmZWN0LmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L2hvb2tzL3VzZS1zZXJ2ZXItaGFuZG9mZi1jb21wbGV0ZS5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9ob29rcy91c2Utc3luYy1yZWZzLmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L3V0aWxzL2J1Z3MuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvaG9va3MvdXNlLWlkLmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L2hvb2tzL3VzZS13aW5kb3ctZXZlbnQuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvdXRpbHMvZm9jdXMtbWFuYWdlbWVudC5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9ob29rcy91c2UtaXMtbW91bnRlZC5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9pbnRlcm5hbC9vcGVuLWNsb3NlZC5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC91dGlscy9jYWxjdWxhdGUtYWN0aXZlLWluZGV4LmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L2NvbXBvbmVudHMvbWVudS9tZW51LmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L2hvb2tzL3VzZS1yZXNvbHZlLWJ1dHRvbi10eXBlLmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L3V0aWxzL2Rpc3Bvc2FibGVzLmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L2hvb2tzL3VzZS1kaXNwb3NhYmxlcy5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC9jb21wb25lbnRzL3RyYW5zaXRpb25zL3V0aWxzL3RyYW5zaXRpb24uZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZWFkbGVzc3VpK3JlYWN0QDEuNC4xX3JlYWN0LWRvbUAxNi4xNC4wK3JlYWN0QDE2LjE0LjAvbm9kZV9tb2R1bGVzL0BoZWFkbGVzc3VpL3JlYWN0L2Rpc3QvaG9va3MvdXNlLXRyZWUtd2Fsa2VyLmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L2hvb2tzL3VzZS1pcy1pbml0aWFsLXJlbmRlci5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlYWRsZXNzdWkrcmVhY3RAMS40LjFfcmVhY3QtZG9tQDE2LjE0LjArcmVhY3RAMTYuMTQuMC9ub2RlX21vZHVsZXMvQGhlYWRsZXNzdWkvcmVhY3QvZGlzdC91dGlscy9vbmNlLmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVhZGxlc3N1aStyZWFjdEAxLjQuMV9yZWFjdC1kb21AMTYuMTQuMCtyZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVhZGxlc3N1aS9yZWFjdC9kaXN0L2NvbXBvbmVudHMvdHJhbnNpdGlvbnMvdHJhbnNpdGlvbi5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcm9pY29ucytyZWFjdEAxLjAuNF9yZWFjdEAxNi4xNC4wL25vZGVfbW9kdWxlcy9AaGVyb2ljb25zL3JlYWN0L3NvbGlkL01lbnVJY29uLmpzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvd2lkZ2V0cy9UcmFuc2l0aW9uRG93bi9pbmRleC50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL01lbnUvTWVudUl0ZW0udHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvUm9vdE1lbnUvaW5kZXgudHMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9Sb290TWVudS9Sb290TWVudS50c3giLCIuLi8uLi9zcmMvcGFnZXMvUm9vdC9Sb3V0ZS5wcm9kLnRzeCIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL25vdy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL190cmltbWVkRW5kSW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVRyaW0uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC90b051bWJlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2hANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoL2RlYm91bmNlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaEA0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gvdGhyb3R0bGUuanMiLCIuLi8uLi9zcmMvcGFnZXMvUm9vdC9Sb290LnRzeCIsIi4uLy4uL3NyYy9wYWdlcy9Sb290L2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IHtiYXRjaEFjdGlvbnN9IGZyb20gJ3JlZHV4LWJhdGNoZWQtYWN0aW9ucyc7XG5cbmltcG9ydCB7UHJlZmVyZW5jZVR5cGVzLCBHZW5lcmFsVHlwZXN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbl90eXBlcyc7XG5pbXBvcnQgKiBhcyBDaGFubmVsQWN0aW9ucyBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL2NoYW5uZWxzJztcbmltcG9ydCB7c2F2ZVByZWZlcmVuY2VzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3ByZWZlcmVuY2VzJztcbmltcG9ydCB7Z2V0TXlDaGFubmVsTWVtYmVyc2hpcHN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy9jb21tb24nO1xuaW1wb3J0IHtnZXRDaGFubmVsQnlOYW1lLCBnZXRVbnJlYWRDaGFubmVsSWRzLCBnZXRDaGFubmVsLCBnZXRDaGFubmVsSWRzSW5DYXRlZ29yeX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2NoYW5uZWxzJztcbmltcG9ydCB7Z2V0Q3VycmVudFRlYW1VcmwsIGdldEN1cnJlbnRUZWFtSWR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy90ZWFtcyc7XG5pbXBvcnQge2dldEN1cnJlbnRVc2VySWR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy91c2Vycyc7XG5cbmltcG9ydCB7dHJhY2tFdmVudH0gZnJvbSAnJGFjdGlvbnMvdGVsZW1ldHJ5X2FjdGlvbnMuanN4JztcbmltcG9ydCB7bG9hZE5ld0RNSWZOZWVkZWQsIGxvYWROZXdHTUlmTmVlZGVkLCBsb2FkUHJvZmlsZXNGb3JTaWRlYmFyfSBmcm9tICckYWN0aW9ucy91c2VyX2FjdGlvbnMuanN4JztcbmltcG9ydCB7YnJvd3Nlckhpc3Rvcnl9IGZyb20gJyR1dGlscy9icm93c2VyX2hpc3RvcnknO1xuaW1wb3J0IHtDb25zdGFudHMsIFByZWZlcmVuY2VzLCBOb3RpZmljYXRpb25MZXZlbHN9IGZyb20gJyR1dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHtnZXREaXJlY3RDaGFubmVsTmFtZX0gZnJvbSAnJHV0aWxzL3V0aWxzJztcbmltcG9ydCB7Z2V0Q3VycmVudENhdGVnb3J5fSBmcm9tICckc2VsZWN0b3JzL3ZpZXdzL2NoYW5uZWxfc2lkZWJhcic7XG5pbXBvcnQge2dldENhdGVnb3J5fSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvY2hhbm5lbF9jYXRlZ29yaWVzJztcbmltcG9ydCB7Q2F0ZWdvcnlUeXBlc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvY29uc3RhbnRzL2NoYW5uZWxfY2F0ZWdvcmllcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBvcGVuRGlyZWN0Q2hhbm5lbFRvVXNlcklkKHVzZXJJZCkge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFVzZXJJZCA9IGdldEN1cnJlbnRVc2VySWQoc3RhdGUpO1xuICAgICAgICBjb25zdCBjaGFubmVsTmFtZSA9IGdldERpcmVjdENoYW5uZWxOYW1lKGN1cnJlbnRVc2VySWQsIHVzZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYW5uZWwgPSBnZXRDaGFubmVsQnlOYW1lKHN0YXRlLCBjaGFubmVsTmFtZSk7XG5cbiAgICAgICAgaWYgKCFjaGFubmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goQ2hhbm5lbEFjdGlvbnMuY3JlYXRlRGlyZWN0Q2hhbm5lbChjdXJyZW50VXNlcklkLCB1c2VySWQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYWNrRXZlbnQoJ2FwaScsICdhcGlfY2hhbm5lbHNfam9pbl9kaXJlY3QnKTtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgcHJlZkRpcmVjdCA9IHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBQcmVmZXJlbmNlcy5DQVRFR09SWV9ESVJFQ1RfQ0hBTk5FTF9TSE9XLFxuICAgICAgICAgICAgbmFtZTogdXNlcklkLFxuICAgICAgICAgICAgdmFsdWU6ICd0cnVlJyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcHJlZk9wZW5UaW1lID0ge1xuICAgICAgICAgICAgY2F0ZWdvcnk6IFByZWZlcmVuY2VzLkNBVEVHT1JZX0NIQU5ORUxfT1BFTl9USU1FLFxuICAgICAgICAgICAgbmFtZTogY2hhbm5lbC5pZCxcbiAgICAgICAgICAgIHZhbHVlOiBub3cudG9TdHJpbmcoKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IFt7XG4gICAgICAgICAgICB0eXBlOiBQcmVmZXJlbmNlVHlwZXMuUkVDRUlWRURfUFJFRkVSRU5DRVMsXG4gICAgICAgICAgICBkYXRhOiBbcHJlZkRpcmVjdF0sXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHR5cGU6IFByZWZlcmVuY2VUeXBlcy5SRUNFSVZFRF9QUkVGRVJFTkNFUyxcbiAgICAgICAgICAgIGRhdGE6IFtwcmVmT3BlblRpbWVdLFxuICAgICAgICB9XTtcbiAgICAgICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKGFjdGlvbnMpKTtcblxuICAgICAgICBkaXNwYXRjaChzYXZlUHJlZmVyZW5jZXMoY3VycmVudFVzZXJJZCwgW1xuICAgICAgICAgICAge3VzZXJfaWQ6IGN1cnJlbnRVc2VySWQsIC4uLnByZWZEaXJlY3R9LFxuICAgICAgICAgICAge3VzZXJfaWQ6IGN1cnJlbnRVc2VySWQsIC4uLnByZWZPcGVuVGltZX0sXG4gICAgICAgIF0pKTtcblxuICAgICAgICByZXR1cm4ge2RhdGE6IGNoYW5uZWx9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvcGVuR3JvdXBDaGFubmVsVG9Vc2VySWRzKHVzZXJJZHMpIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkaXNwYXRjaChDaGFubmVsQWN0aW9ucy5jcmVhdGVHcm91cENoYW5uZWwodXNlcklkcykpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goZ2V0Q3VycmVudFRlYW1VcmwoZ2V0U3RhdGUoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZENoYW5uZWxzRm9yQ3VycmVudFVzZXIoKSB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB1bnJlYWRzID0gZ2V0VW5yZWFkQ2hhbm5lbElkcyhzdGF0ZSk7XG5cbiAgICAgICAgYXdhaXQgZGlzcGF0Y2goQ2hhbm5lbEFjdGlvbnMuZmV0Y2hNeUNoYW5uZWxzQW5kTWVtYmVycyhnZXRDdXJyZW50VGVhbUlkKHN0YXRlKSkpO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgdW5yZWFkcykge1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbCA9IGdldENoYW5uZWwoc3RhdGUsIGlkKTtcbiAgICAgICAgICAgIGlmIChjaGFubmVsICYmIGNoYW5uZWwudHlwZSA9PT0gQ29uc3RhbnRzLkRNX0NIQU5ORUwpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChsb2FkTmV3RE1JZk5lZWRlZChjaGFubmVsLmlkKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWwgJiYgY2hhbm5lbC50eXBlID09PSBDb25zdGFudHMuR01fQ0hBTk5FTCkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKGxvYWROZXdHTUlmTmVlZGVkKGNoYW5uZWwuaWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxvYWRQcm9maWxlc0ZvclNpZGViYXIoKTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZENoYW5uZWxzRm9yQ3VycmVudFVzZXIyKCkge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlJZCA9IGdldEN1cnJlbnRDYXRlZ29yeShzdGF0ZSk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoc3RhdGUsIGNhdGVnb3J5SWQpO1xuXG4gICAgICAgIGNvbnN0IGNoYW5uZWxJZHMgPSBnZXRDaGFubmVsSWRzSW5DYXRlZ29yeShzdGF0ZSwgY2F0ZWdvcnkgPyBjYXRlZ29yeS5pZCA6ICdhbGwnLCBjYXRlZ29yeSA/IGNhdGVnb3J5LnR5cGUgOiAnJyk7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxVbmxvYWRlZCA9IGNoYW5uZWxJZHMuZmlsdGVyKChpZCkgPT4gIWdldENoYW5uZWwoc3RhdGUsIGlkKSk7XG5cbiAgICAgICAgYXdhaXQgZGlzcGF0Y2goQ2hhbm5lbEFjdGlvbnMuZmV0Y2hNeUNoYW5uZWxzQnlJZHMoZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSksIGNoYW5uZWxVbmxvYWRlZCkpO1xuICAgICAgICBjb25zdCB1bnJlYWRzID0gZ2V0VW5yZWFkQ2hhbm5lbElkcyhzdGF0ZSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBvZiB1bnJlYWRzKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFubmVsID0gZ2V0Q2hhbm5lbChzdGF0ZSwgaWQpO1xuICAgICAgICAgICAgaWYgKGNoYW5uZWwgJiYgY2hhbm5lbC50eXBlID09PSBDb25zdGFudHMuRE1fQ0hBTk5FTCkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKGxvYWROZXdETUlmTmVlZGVkKGNoYW5uZWwuaWQpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbCAmJiBjaGFubmVsLnR5cGUgPT09IENvbnN0YW50cy5HTV9DSEFOTkVMKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2gobG9hZE5ld0dNSWZOZWVkZWQoY2hhbm5lbC5pZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgbG9hZFByb2ZpbGVzRm9yU2lkZWJhcigpO1xuXG4gICAgICAgIHJldHVybiB7ZGF0YTogdHJ1ZX07XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRNb3JlQ2hhbm5lbHNGb3JDdXJyZW50VXNlcihpbmRleCwgZG9uZSkge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlJZCA9IGdldEN1cnJlbnRDYXRlZ29yeShzdGF0ZSk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoc3RhdGUsIGNhdGVnb3J5SWQpO1xuICAgICAgICBjb25zdCB0ZWFtSWQgPSBnZXRDdXJyZW50VGVhbUlkKHN0YXRlKTtcbiAgICAgICAgbGV0IGlzRW5kID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGNhdGVnb3J5SWQgPT09ICdhbGwnIHx8IChjYXRlZ29yeSA/IGNhdGVnb3J5LnR5cGUgPT09IENhdGVnb3J5VHlwZXMuRElSRUNUX01FU1NBR0VTIDogZmFsc2UpKSB7XG4gICAgICAgICAgICBjb25zdCB7ZGF0YSwgZXJyb3J9ID0gYXdhaXQgZGlzcGF0Y2goQ2hhbm5lbEFjdGlvbnMuZmV0Y2hNeUNoYW5uZWxJZHModGVhbUlkLCBjYXRlZ29yeSA/ICdEJyA6ICcnLCBpbmRleCwgMjApKTtcbiAgICAgICAgICAgIGlmICghZXJyb3IgJiYgZGF0YSAmJiBkYXRhLmNoYW5uZWxfaWRzLmxlbmd0aCA8IDIwKSB7XG4gICAgICAgICAgICAgICAgaXNFbmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgZGlzcGF0Y2gobG9hZENoYW5uZWxzRm9yQ3VycmVudFVzZXIyKCkpO1xuXG4gICAgICAgIGRpc3BhdGNoKHt0eXBlOiBHZW5lcmFsVHlwZXMuU0lERUJBUl9HRVRfTU9SRSwgZGF0YToge3R5cGU6IGNhdGVnb3J5SWQsIGluZGV4OiBpc0VuZCA/IC0xIDogaW5kZXh9fSk7XG5cbiAgICAgICAgZG9uZSgpO1xuXG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEZpcnN0RGlyZWN0KHRlYW1JZCkge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2gpID0+IHtcbiAgICAgICAgYXdhaXQgZGlzcGF0Y2goQ2hhbm5lbEFjdGlvbnMuZmV0Y2hNeUNoYW5uZWxJZHModGVhbUlkLCAnRCcsIDAsIDIwKSk7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZENoYW5uZWxzRm9yQ3VycmVudENhdGVnb3J5KGNhdGVnb3J5SWQpIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoc3RhdGUsIGNhdGVnb3J5SWQpO1xuICAgICAgICBjb25zdCB1bnJlYWRzID0gZ2V0VW5yZWFkQ2hhbm5lbElkcyhzdGF0ZSk7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxVbmxvYWRlZCA9IGNhdGVnb3J5LmNoYW5uZWxfaWRzLmZpbHRlcigoaWQpID0+ICFnZXRDaGFubmVsKHN0YXRlLCBpZCkpO1xuXG4gICAgICAgIGF3YWl0IGRpc3BhdGNoKENoYW5uZWxBY3Rpb25zLmZldGNoTXlDaGFubmVsc0J5SWRzKGdldEN1cnJlbnRUZWFtSWQoc3RhdGUpLCBjaGFubmVsVW5sb2FkZWQpKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHVucmVhZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWwgPSBnZXRDaGFubmVsKHN0YXRlLCBpZCk7XG4gICAgICAgICAgICBpZiAoY2hhbm5lbCAmJiBjaGFubmVsLnR5cGUgPT09IENvbnN0YW50cy5ETV9DSEFOTkVMKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2gobG9hZE5ld0RNSWZOZWVkZWQoY2hhbm5lbC5pZCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsICYmIGNoYW5uZWwudHlwZSA9PT0gQ29uc3RhbnRzLkdNX0NIQU5ORUwpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChsb2FkTmV3R01JZk5lZWRlZChjaGFubmVsLmlkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBsb2FkUHJvZmlsZXNGb3JTaWRlYmFyKCk7XG5cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hNb3JlQ2hhbm5lbHModGVybSwgc2hvd0FyY2hpdmVkQ2hhbm5lbHMpIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHRlYW1JZCA9IGdldEN1cnJlbnRUZWFtSWQoc3RhdGUpO1xuXG4gICAgICAgIGlmICghdGVhbUlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHRlYW0gaWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHtkYXRhLCBlcnJvcn0gPSBhd2FpdCBkaXNwYXRjaChDaGFubmVsQWN0aW9ucy5zZWFyY2hDaGFubmVscyh0ZWFtSWQsIHRlcm0sIHNob3dBcmNoaXZlZENoYW5uZWxzKSk7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBteU1lbWJlcnMgPSBnZXRNeUNoYW5uZWxNZW1iZXJzaGlwcyhzdGF0ZSk7XG5cbiAgICAgICAgICAgIC8vIFdoZW4gc2VhcmNoaW5nIHB1YmxpYyBjaGFubmVscywgb25seSBnZXQgY2hhbm5lbHMgdXNlciBpcyBub3QgYSBtZW1iZXIgb2ZcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxzID0gc2hvd0FyY2hpdmVkQ2hhbm5lbHMgPyBkYXRhIDogZGF0YS5maWx0ZXIoKGMpID0+ICFteU1lbWJlcnNbYy5pZF0pO1xuICAgICAgICAgICAgcmV0dXJuIHtkYXRhOiBjaGFubmVsc307XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge2Vycm9yfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXV0b2NvbXBsZXRlQ2hhbm5lbHModGVybSwgc3VjY2VzcywgZXJyb3IpIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHRlYW1JZCA9IGdldEN1cnJlbnRUZWFtSWQoc3RhdGUpO1xuICAgICAgICBpZiAoIXRlYW1JZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtkYXRhOiBmYWxzZX07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7ZGF0YSwgZXJyb3I6IGVycn0gPSBhd2FpdCBkaXNwYXRjaChDaGFubmVsQWN0aW9ucy5hdXRvY29tcGxldGVDaGFubmVscyh0ZWFtSWQsIHRlcm0pKTtcbiAgICAgICAgaWYgKGRhdGEgJiYgc3VjY2Vzcykge1xuICAgICAgICAgICAgc3VjY2VzcyhkYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChlcnIgJiYgZXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yKHtpZDogZXJyLnNlcnZlcl9lcnJvcl9pZCwgLi4uZXJyfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge2RhdGE6IHRydWV9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhdXRvY29tcGxldGVDaGFubmVsc0ZvclNlYXJjaCh0ZXJtLCBzdWNjZXNzLCBlcnJvcikge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgdGVhbUlkID0gZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSk7XG5cbiAgICAgICAgaWYgKCF0ZWFtSWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHtkYXRhLCBlcnJvcjogZXJyfSA9IGF3YWl0IGRpc3BhdGNoKENoYW5uZWxBY3Rpb25zLmF1dG9jb21wbGV0ZUNoYW5uZWxzRm9yU2VhcmNoKHRlYW1JZCwgdGVybSkpO1xuICAgICAgICBpZiAoZGF0YSAmJiBzdWNjZXNzKSB7XG4gICAgICAgICAgICBzdWNjZXNzKGRhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGVyciAmJiBlcnJvcikge1xuICAgICAgICAgICAgZXJyb3Ioe2lkOiBlcnIuc2VydmVyX2Vycm9yX2lkLCAuLi5lcnJ9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRVc2Vyc1RvQ2hhbm5lbChjaGFubmVsSWQsIHVzZXJJZHMpIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0cyA9IHVzZXJJZHMubWFwKCh1SWQpID0+IGRpc3BhdGNoKENoYW5uZWxBY3Rpb25zLmFkZENoYW5uZWxNZW1iZXIoY2hhbm5lbElkLCB1SWQpKSk7XG5cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLmFsbChyZXF1ZXN0cyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4ge2Vycm9yfTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bm11dGVDaGFubmVsKHVzZXJJZCwgY2hhbm5lbElkKSB7XG4gICAgcmV0dXJuIENoYW5uZWxBY3Rpb25zLnVwZGF0ZUNoYW5uZWxOb3RpZnlQcm9wcyh1c2VySWQsIGNoYW5uZWxJZCwge1xuICAgICAgICBtYXJrX3VucmVhZDogTm90aWZpY2F0aW9uTGV2ZWxzLkFMTCxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG11dGVDaGFubmVsKHVzZXJJZCwgY2hhbm5lbElkKSB7XG4gICAgcmV0dXJuIENoYW5uZWxBY3Rpb25zLnVwZGF0ZUNoYW5uZWxOb3RpZnlQcm9wcyh1c2VySWQsIGNoYW5uZWxJZCwge1xuICAgICAgICBtYXJrX3VucmVhZDogTm90aWZpY2F0aW9uTGV2ZWxzLk1FTlRJT04sXG4gICAgfSk7XG59XG4iLCIvKipcbiAqIEZpbGU6IGludGVncmF0ZS50c1xuICogUHJvamVjdDogY2hhdHRpbmctbWluaW1hbFxuICogRmlsZSBDcmVhdGVkOiAzMCBTZXAgMjAyMSAxNDowODo0MVxuICogQXV0aG9yOiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogTGFzdCBNb2RpZmllZDogMDcgT2N0IDIwMjEgMTU6Mzg6MTVcbiAqIE1vZGlmaWVkIEJ5OiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogQ29weXJpZ2h0IChjKSAyMDIxIHVuZDNmaW5lZC5jb21cbiAqL1xuaW1wb3J0IHR5cGUge0ludGVncmF0ZX0gZnJvbSAnJHR5cGVzL2ludGVncmF0ZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiByb290RWxlbWVudCgpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3UzLWNoYXR0aW5nJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbml0RGF0YSgpOiBJbnRlZ3JhdGUge1xuICBjb25zdCBjbGllbnRJZCA9IGdldE1ldGEoJ3UzOnNlY3JldCcpIHx8ICcnO1xuICBjb25zdCB1c2VyVG9rZW4gPSBnZXRNZXRhKCd1MzpzZXNzaW9uJykgfHwgJyc7XG4gIFxuXG4gIHJldHVybiB7XG4gICAgY2xpZW50SWQsXG4gICAgdXNlclRva2VuLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWV0YShtZXRhTmFtZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gIGNvbnN0IG1ldGFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21ldGEnKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IG1ldGFzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG1ldGFzW2ldLmdldEF0dHJpYnV0ZSgncHJvcGVydHknKSA9PT0gbWV0YU5hbWUpIHtcbiAgICAgIHJldHVybiBtZXRhc1tpXS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gJyc7XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCB7Z2V0QXBwSW5mbywgZ2V0Q2xpZW50Q29uZmlnLCBnZXRMaWNlbnNlQ29uZmlnfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL2dlbmVyYWwnO1xuaW1wb3J0IEdlbmVyYWwgZnJvbSAnY2hhdHRpbmctcmVkdXgvY29uc3RhbnRzL2dlbmVyYWwnO1xuaW1wb3J0ICogYXMgVXNlckFjdGlvbnMgZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy91c2Vycyc7XG5pbXBvcnQge0NsaWVudDR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2NsaWVudCc7XG5cbmltcG9ydCB7QWN0aW9uVHlwZXN9IGZyb20gJyR1dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IGVuIGZyb20gJyRpMThuL2VuLmpzb24nO1xuaW1wb3J0IHtnZXRDdXJyZW50TG9jYWxlLCBnZXRUcmFuc2xhdGlvbnN9IGZyb20gJyRzZWxlY3RvcnMvaTE4bic7XG5pbXBvcnQgTG9jYWxTdG9yYWdlU3RvcmUgZnJvbSAnJHN0b3Jlcy9sb2NhbF9zdG9yYWdlX3N0b3JlJztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xpZW50SWQgXG4gKiBAcmV0dXJucyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRNZUFuZENvbmZpZyhjbGllbnRJZCkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgLy8gaWYgYW55IG5ldyBwcm9taXNlIG5lZWRzIHRvIGJlIGFkZGVkIHBsZWFzZSBiZSBtaW5kZnVsIG9mIHRoZSBvcmRlciBhcyBpdCBpcyB1c2VkIGluIHJvb3QuanN4IGZvciByZWRpcmVjdGlvblxuICAgIGNvbnN0IHByb21pc2VzID0gW2Rpc3BhdGNoKGdldENsaWVudENvbmZpZygpKSwgZGlzcGF0Y2goZ2V0TGljZW5zZUNvbmZpZygpKSwgZGlzcGF0Y2goZ2V0QXBwSW5mbyhjbGllbnRJZCkpXTtcblxuICAgIC8vIG5lZWQgdG8gYXdhaXQgZm9yIGNsaWVudENvbmZpZyBmaXJzdCBhcyBpdCBpcyByZXF1aXJlZCBmb3IgbG9hZE1lXG4gICAgY29uc3QgcmVzb2x2ZWRQcm9taXNlcyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICBpZiAoTG9jYWxTdG9yYWdlU3RvcmUuZ2V0VXNlcklkKGNsaWVudElkKSkge1xuICAgICAgcmVzb2x2ZWRQcm9taXNlcy5wdXNoKGF3YWl0IGRpc3BhdGNoKFVzZXJBY3Rpb25zLmxvYWRNZSgpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc29sdmVkUHJvbWlzZXM7XG4gIH07XG59XG5cbmNvbnN0IHBsdWdpblRyYW5zbGF0aW9uU291cmNlcyA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW5UcmFuc2xhdGlvbnNTb3VyY2UocGx1Z2luSWQsIHNvdXJjZUZ1bmN0aW9uKSB7XG4gIHBsdWdpblRyYW5zbGF0aW9uU291cmNlc1twbHVnaW5JZF0gPSBzb3VyY2VGdW5jdGlvbjtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgbG9jYWxlID0gZ2V0Q3VycmVudExvY2FsZShzdGF0ZSk7XG4gICAgY29uc3QgaW1tdXRhYmxlVHJhbnNsYXRpb25zID0gZ2V0VHJhbnNsYXRpb25zKHN0YXRlLCBsb2NhbGUpO1xuICAgIGNvbnN0IHRyYW5zbGF0aW9ucyA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24odHJhbnNsYXRpb25zLCBpbW11dGFibGVUcmFuc2xhdGlvbnMpO1xuICAgIGlmIChpbW11dGFibGVUcmFuc2xhdGlvbnMpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odHJhbnNsYXRpb25zLCBzb3VyY2VGdW5jdGlvbihsb2NhbGUpKTtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVDRUlWRURfVFJBTlNMQVRJT05TLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgIHRyYW5zbGF0aW9ucyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucmVnaXN0ZXJQbHVnaW5UcmFuc2xhdGlvbnNTb3VyY2UocGx1Z2luSWQpIHtcbiAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShwbHVnaW5UcmFuc2xhdGlvblNvdXJjZXMsIHBsdWdpbklkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRUcmFuc2xhdGlvbnMobG9jYWxlLCB1cmwpIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCkgPT4ge1xuICAgIGNvbnN0IHRyYW5zbGF0aW9ucyA9IHsuLi5lbn07XG4gICAgT2JqZWN0LnZhbHVlcyhwbHVnaW5UcmFuc2xhdGlvblNvdXJjZXMpLmZvckVhY2goKHBsdWdpbkZ1bmMpID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24odHJhbnNsYXRpb25zLCBwbHVnaW5GdW5jKGxvY2FsZSkpO1xuICAgIH0pO1xuXG4gICAgLy8gTmVlZCB0byBnbyB0byB0aGUgc2VydmVyIGZvciBsYW5ndWFnZXMgb3RoZXIgdGhhbiBFbmdsaXNoXG4gICAgaWYgKGxvY2FsZSAhPT0gJ2VuJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2VydmVyVHJhbnNsYXRpb25zID0gYXdhaXQgQ2xpZW50NC5nZXRUcmFuc2xhdGlvbnModXJsKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0cmFuc2xhdGlvbnMsIHNlcnZlclRyYW5zbGF0aW9ucyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgIH1cbiAgICB9XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVDRUlWRURfVFJBTlNMQVRJT05TLFxuICAgICAgZGF0YToge1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIHRyYW5zbGF0aW9ucyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG59XG4iLCI7KGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qKlxuXHQgKiBAcHJlc2VydmUgRmFzdENsaWNrOiBwb2x5ZmlsbCB0byByZW1vdmUgY2xpY2sgZGVsYXlzIG9uIGJyb3dzZXJzIHdpdGggdG91Y2ggVUlzLlxuXHQgKlxuXHQgKiBAY29kaW5nc3RhbmRhcmQgZnRsYWJzLWpzdjJcblx0ICogQGNvcHlyaWdodCBUaGUgRmluYW5jaWFsIFRpbWVzIExpbWl0ZWQgW0FsbCBSaWdodHMgUmVzZXJ2ZWRdXG5cdCAqIEBsaWNlbnNlIE1JVCBMaWNlbnNlIChzZWUgTElDRU5TRS50eHQpXG5cdCAqL1xuXG5cdC8qanNsaW50IGJyb3dzZXI6dHJ1ZSwgbm9kZTp0cnVlKi9cblx0LypnbG9iYWwgZGVmaW5lLCBFdmVudCwgTm9kZSovXG5cblxuXHQvKipcblx0ICogSW5zdGFudGlhdGUgZmFzdC1jbGlja2luZyBsaXN0ZW5lcnMgb24gdGhlIHNwZWNpZmllZCBsYXllci5cblx0ICpcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gbGF5ZXIgVGhlIGxheWVyIHRvIGxpc3RlbiBvblxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0c1xuXHQgKi9cblx0ZnVuY3Rpb24gRmFzdENsaWNrKGxheWVyLCBvcHRpb25zKSB7XG5cdFx0dmFyIG9sZE9uQ2xpY2s7XG5cblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRcdC8qKlxuXHRcdCAqIFdoZXRoZXIgYSBjbGljayBpcyBjdXJyZW50bHkgYmVpbmcgdHJhY2tlZC5cblx0XHQgKlxuXHRcdCAqIEB0eXBlIGJvb2xlYW5cblx0XHQgKi9cblx0XHR0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcblxuXG5cdFx0LyoqXG5cdFx0ICogVGltZXN0YW1wIGZvciB3aGVuIGNsaWNrIHRyYWNraW5nIHN0YXJ0ZWQuXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBudW1iZXJcblx0XHQgKi9cblx0XHR0aGlzLnRyYWNraW5nQ2xpY2tTdGFydCA9IDA7XG5cblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBlbGVtZW50IGJlaW5nIHRyYWNrZWQgZm9yIGEgY2xpY2suXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBFdmVudFRhcmdldFxuXHRcdCAqL1xuXHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cblxuXHRcdC8qKlxuXHRcdCAqIFgtY29vcmRpbmF0ZSBvZiB0b3VjaCBzdGFydCBldmVudC5cblx0XHQgKlxuXHRcdCAqIEB0eXBlIG51bWJlclxuXHRcdCAqL1xuXHRcdHRoaXMudG91Y2hTdGFydFggPSAwO1xuXG5cblx0XHQvKipcblx0XHQgKiBZLWNvb3JkaW5hdGUgb2YgdG91Y2ggc3RhcnQgZXZlbnQuXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBudW1iZXJcblx0XHQgKi9cblx0XHR0aGlzLnRvdWNoU3RhcnRZID0gMDtcblxuXG5cdFx0LyoqXG5cdFx0ICogSUQgb2YgdGhlIGxhc3QgdG91Y2gsIHJldHJpZXZlZCBmcm9tIFRvdWNoLmlkZW50aWZpZXIuXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBudW1iZXJcblx0XHQgKi9cblx0XHR0aGlzLmxhc3RUb3VjaElkZW50aWZpZXIgPSAwO1xuXG5cblx0XHQvKipcblx0XHQgKiBUb3VjaG1vdmUgYm91bmRhcnksIGJleW9uZCB3aGljaCBhIGNsaWNrIHdpbGwgYmUgY2FuY2VsbGVkLlxuXHRcdCAqXG5cdFx0ICogQHR5cGUgbnVtYmVyXG5cdFx0ICovXG5cdFx0dGhpcy50b3VjaEJvdW5kYXJ5ID0gb3B0aW9ucy50b3VjaEJvdW5kYXJ5IHx8IDEwO1xuXG5cblx0XHQvKipcblx0XHQgKiBUaGUgRmFzdENsaWNrIGxheWVyLlxuXHRcdCAqXG5cdFx0ICogQHR5cGUgRWxlbWVudFxuXHRcdCAqL1xuXHRcdHRoaXMubGF5ZXIgPSBsYXllcjtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBtaW5pbXVtIHRpbWUgYmV0d2VlbiB0YXAodG91Y2hzdGFydCBhbmQgdG91Y2hlbmQpIGV2ZW50c1xuXHRcdCAqXG5cdFx0ICogQHR5cGUgbnVtYmVyXG5cdFx0ICovXG5cdFx0dGhpcy50YXBEZWxheSA9IG9wdGlvbnMudGFwRGVsYXkgfHwgMjAwO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIG1heGltdW0gdGltZSBmb3IgYSB0YXBcblx0XHQgKlxuXHRcdCAqIEB0eXBlIG51bWJlclxuXHRcdCAqL1xuXHRcdHRoaXMudGFwVGltZW91dCA9IG9wdGlvbnMudGFwVGltZW91dCB8fCA3MDA7XG5cblx0XHRpZiAoRmFzdENsaWNrLm5vdE5lZWRlZChsYXllcikpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBTb21lIG9sZCB2ZXJzaW9ucyBvZiBBbmRyb2lkIGRvbid0IGhhdmUgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcblx0XHRmdW5jdGlvbiBiaW5kKG1ldGhvZCwgY29udGV4dCkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gbWV0aG9kLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7IH07XG5cdFx0fVxuXG5cblx0XHR2YXIgbWV0aG9kcyA9IFsnb25Nb3VzZScsICdvbkNsaWNrJywgJ29uVG91Y2hTdGFydCcsICdvblRvdWNoTW92ZScsICdvblRvdWNoRW5kJywgJ29uVG91Y2hDYW5jZWwnXTtcblx0XHR2YXIgY29udGV4dCA9IHRoaXM7XG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBtZXRob2RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0Y29udGV4dFttZXRob2RzW2ldXSA9IGJpbmQoY29udGV4dFttZXRob2RzW2ldXSwgY29udGV4dCk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzIGFzIHJlcXVpcmVkXG5cdFx0aWYgKGRldmljZUlzQW5kcm9pZCkge1xuXHRcdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vbk1vdXNlLCB0cnVlKTtcblx0XHRcdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZSwgdHJ1ZSk7XG5cdFx0XHRsYXllci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlLCB0cnVlKTtcblx0XHR9XG5cblx0XHRsYXllci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljaywgdHJ1ZSk7XG5cdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG5cdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZSwgZmFsc2UpO1xuXHRcdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kLCBmYWxzZSk7XG5cdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uVG91Y2hDYW5jZWwsIGZhbHNlKTtcblxuXHRcdC8vIEhhY2sgaXMgcmVxdWlyZWQgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBFdmVudCNzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gKGUuZy4gQW5kcm9pZCAyKVxuXHRcdC8vIHdoaWNoIGlzIGhvdyBGYXN0Q2xpY2sgbm9ybWFsbHkgc3RvcHMgY2xpY2sgZXZlbnRzIGJ1YmJsaW5nIHRvIGNhbGxiYWNrcyByZWdpc3RlcmVkIG9uIHRoZSBGYXN0Q2xpY2tcblx0XHQvLyBsYXllciB3aGVuIHRoZXkgYXJlIGNhbmNlbGxlZC5cblx0XHRpZiAoIUV2ZW50LnByb3RvdHlwZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pIHtcblx0XHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBjYWxsYmFjaywgY2FwdHVyZSkge1xuXHRcdFx0XHR2YXIgcm12ID0gTm9kZS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcblx0XHRcdFx0aWYgKHR5cGUgPT09ICdjbGljaycpIHtcblx0XHRcdFx0XHRybXYuY2FsbChsYXllciwgdHlwZSwgY2FsbGJhY2suaGlqYWNrZWQgfHwgY2FsbGJhY2ssIGNhcHR1cmUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJtdi5jYWxsKGxheWVyLCB0eXBlLCBjYWxsYmFjaywgY2FwdHVyZSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBjYWxsYmFjaywgY2FwdHVyZSkge1xuXHRcdFx0XHR2YXIgYWR2ID0gTm9kZS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcjtcblx0XHRcdFx0aWYgKHR5cGUgPT09ICdjbGljaycpIHtcblx0XHRcdFx0XHRhZHYuY2FsbChsYXllciwgdHlwZSwgY2FsbGJhY2suaGlqYWNrZWQgfHwgKGNhbGxiYWNrLmhpamFja2VkID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0XHRcdGlmICghZXZlbnQucHJvcGFnYXRpb25TdG9wcGVkKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKGV2ZW50KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSwgY2FwdHVyZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YWR2LmNhbGwobGF5ZXIsIHR5cGUsIGNhbGxiYWNrLCBjYXB0dXJlKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBJZiBhIGhhbmRsZXIgaXMgYWxyZWFkeSBkZWNsYXJlZCBpbiB0aGUgZWxlbWVudCdzIG9uY2xpY2sgYXR0cmlidXRlLCBpdCB3aWxsIGJlIGZpcmVkIGJlZm9yZVxuXHRcdC8vIEZhc3RDbGljaydzIG9uQ2xpY2sgaGFuZGxlci4gRml4IHRoaXMgYnkgcHVsbGluZyBvdXQgdGhlIHVzZXItZGVmaW5lZCBoYW5kbGVyIGZ1bmN0aW9uIGFuZFxuXHRcdC8vIGFkZGluZyBpdCBhcyBsaXN0ZW5lci5cblx0XHRpZiAodHlwZW9mIGxheWVyLm9uY2xpY2sgPT09ICdmdW5jdGlvbicpIHtcblxuXHRcdFx0Ly8gQW5kcm9pZCBicm93c2VyIG9uIGF0IGxlYXN0IDMuMiByZXF1aXJlcyBhIG5ldyByZWZlcmVuY2UgdG8gdGhlIGZ1bmN0aW9uIGluIGxheWVyLm9uY2xpY2tcblx0XHRcdC8vIC0gdGhlIG9sZCBvbmUgd29uJ3Qgd29yayBpZiBwYXNzZWQgdG8gYWRkRXZlbnRMaXN0ZW5lciBkaXJlY3RseS5cblx0XHRcdG9sZE9uQ2xpY2sgPSBsYXllci5vbmNsaWNrO1xuXHRcdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRvbGRPbkNsaWNrKGV2ZW50KTtcblx0XHRcdH0sIGZhbHNlKTtcblx0XHRcdGxheWVyLm9uY2xpY2sgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQqIFdpbmRvd3MgUGhvbmUgOC4xIGZha2VzIHVzZXIgYWdlbnQgc3RyaW5nIHRvIGxvb2sgbGlrZSBBbmRyb2lkIGFuZCBpUGhvbmUuXG5cdCpcblx0KiBAdHlwZSBib29sZWFuXG5cdCovXG5cdHZhciBkZXZpY2VJc1dpbmRvd3NQaG9uZSA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIldpbmRvd3MgUGhvbmVcIikgPj0gMDtcblxuXHQvKipcblx0ICogQW5kcm9pZCByZXF1aXJlcyBleGNlcHRpb25zLlxuXHQgKlxuXHQgKiBAdHlwZSBib29sZWFuXG5cdCAqL1xuXHR2YXIgZGV2aWNlSXNBbmRyb2lkID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdBbmRyb2lkJykgPiAwICYmICFkZXZpY2VJc1dpbmRvd3NQaG9uZTtcblxuXG5cdC8qKlxuXHQgKiBpT1MgcmVxdWlyZXMgZXhjZXB0aW9ucy5cblx0ICpcblx0ICogQHR5cGUgYm9vbGVhblxuXHQgKi9cblx0dmFyIGRldmljZUlzSU9TID0gL2lQKGFkfGhvbmV8b2QpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICFkZXZpY2VJc1dpbmRvd3NQaG9uZTtcblxuXG5cdC8qKlxuXHQgKiBpT1MgNCByZXF1aXJlcyBhbiBleGNlcHRpb24gZm9yIHNlbGVjdCBlbGVtZW50cy5cblx0ICpcblx0ICogQHR5cGUgYm9vbGVhblxuXHQgKi9cblx0dmFyIGRldmljZUlzSU9TNCA9IGRldmljZUlzSU9TICYmICgvT1MgNF9cXGQoX1xcZCk/LykudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuXG5cdC8qKlxuXHQgKiBpT1MgNi4wLTcuKiByZXF1aXJlcyB0aGUgdGFyZ2V0IGVsZW1lbnQgdG8gYmUgbWFudWFsbHkgZGVyaXZlZFxuXHQgKlxuXHQgKiBAdHlwZSBib29sZWFuXG5cdCAqL1xuXHR2YXIgZGV2aWNlSXNJT1NXaXRoQmFkVGFyZ2V0ID0gZGV2aWNlSXNJT1MgJiYgKC9PUyBbNi03XV9cXGQvKS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG5cdC8qKlxuXHQgKiBCbGFja0JlcnJ5IHJlcXVpcmVzIGV4Y2VwdGlvbnMuXG5cdCAqXG5cdCAqIEB0eXBlIGJvb2xlYW5cblx0ICovXG5cdHZhciBkZXZpY2VJc0JsYWNrQmVycnkxMCA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQkIxMCcpID4gMDtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIHdoZXRoZXIgYSBnaXZlbiBlbGVtZW50IHJlcXVpcmVzIGEgbmF0aXZlIGNsaWNrLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fEVsZW1lbnR9IHRhcmdldCBUYXJnZXQgRE9NIGVsZW1lbnRcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgZWxlbWVudCBuZWVkcyBhIG5hdGl2ZSBjbGlja1xuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5uZWVkc0NsaWNrID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cdFx0c3dpdGNoICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2VuZCBhIHN5bnRoZXRpYyBjbGljayB0byBkaXNhYmxlZCBpbnB1dHMgKGlzc3VlICM2Milcblx0XHRjYXNlICdidXR0b24nOlxuXHRcdGNhc2UgJ3NlbGVjdCc6XG5cdFx0Y2FzZSAndGV4dGFyZWEnOlxuXHRcdFx0aWYgKHRhcmdldC5kaXNhYmxlZCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnaW5wdXQnOlxuXG5cdFx0XHQvLyBGaWxlIGlucHV0cyBuZWVkIHJlYWwgY2xpY2tzIG9uIGlPUyA2IGR1ZSB0byBhIGJyb3dzZXIgYnVnIChpc3N1ZSAjNjgpXG5cdFx0XHRpZiAoKGRldmljZUlzSU9TICYmIHRhcmdldC50eXBlID09PSAnZmlsZScpIHx8IHRhcmdldC5kaXNhYmxlZCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnbGFiZWwnOlxuXHRcdGNhc2UgJ2lmcmFtZSc6IC8vIGlPUzggaG9tZXNjcmVlbiBhcHBzIGNhbiBwcmV2ZW50IGV2ZW50cyBidWJibGluZyBpbnRvIGZyYW1lc1xuXHRcdGNhc2UgJ3ZpZGVvJzpcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiAoL1xcYm5lZWRzY2xpY2tcXGIvKS50ZXN0KHRhcmdldC5jbGFzc05hbWUpO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIERldGVybWluZSB3aGV0aGVyIGEgZ2l2ZW4gZWxlbWVudCByZXF1aXJlcyBhIGNhbGwgdG8gZm9jdXMgdG8gc2ltdWxhdGUgY2xpY2sgaW50byBlbGVtZW50LlxuXHQgKlxuXHQgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fEVsZW1lbnR9IHRhcmdldCBUYXJnZXQgRE9NIGVsZW1lbnRcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgZWxlbWVudCByZXF1aXJlcyBhIGNhbGwgdG8gZm9jdXMgdG8gc2ltdWxhdGUgbmF0aXZlIGNsaWNrLlxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5uZWVkc0ZvY3VzID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cdFx0c3dpdGNoICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuXHRcdGNhc2UgJ3RleHRhcmVhJzpcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdGNhc2UgJ3NlbGVjdCc6XG5cdFx0XHRyZXR1cm4gIWRldmljZUlzQW5kcm9pZDtcblx0XHRjYXNlICdpbnB1dCc6XG5cdFx0XHRzd2l0Y2ggKHRhcmdldC50eXBlKSB7XG5cdFx0XHRjYXNlICdidXR0b24nOlxuXHRcdFx0Y2FzZSAnY2hlY2tib3gnOlxuXHRcdFx0Y2FzZSAnZmlsZSc6XG5cdFx0XHRjYXNlICdpbWFnZSc6XG5cdFx0XHRjYXNlICdyYWRpbyc6XG5cdFx0XHRjYXNlICdzdWJtaXQnOlxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE5vIHBvaW50IGluIGF0dGVtcHRpbmcgdG8gZm9jdXMgZGlzYWJsZWQgaW5wdXRzXG5cdFx0XHRyZXR1cm4gIXRhcmdldC5kaXNhYmxlZCAmJiAhdGFyZ2V0LnJlYWRPbmx5O1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gKC9cXGJuZWVkc2ZvY3VzXFxiLykudGVzdCh0YXJnZXQuY2xhc3NOYW1lKTtcblx0XHR9XG5cdH07XG5cblxuXHQvKipcblx0ICogU2VuZCBhIGNsaWNrIGV2ZW50IHRvIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cblx0ICpcblx0ICogQHBhcmFtIHtFdmVudFRhcmdldHxFbGVtZW50fSB0YXJnZXRFbGVtZW50XG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqL1xuXHRGYXN0Q2xpY2sucHJvdG90eXBlLnNlbmRDbGljayA9IGZ1bmN0aW9uKHRhcmdldEVsZW1lbnQsIGV2ZW50KSB7XG5cdFx0dmFyIGNsaWNrRXZlbnQsIHRvdWNoO1xuXG5cdFx0Ly8gT24gc29tZSBBbmRyb2lkIGRldmljZXMgYWN0aXZlRWxlbWVudCBuZWVkcyB0byBiZSBibHVycmVkIG90aGVyd2lzZSB0aGUgc3ludGhldGljIGNsaWNrIHdpbGwgaGF2ZSBubyBlZmZlY3QgKCMyNClcblx0XHRpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSB0YXJnZXRFbGVtZW50KSB7XG5cdFx0XHRkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcblx0XHR9XG5cblx0XHR0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xuXG5cdFx0Ly8gU3ludGhlc2lzZSBhIGNsaWNrIGV2ZW50LCB3aXRoIGFuIGV4dHJhIGF0dHJpYnV0ZSBzbyBpdCBjYW4gYmUgdHJhY2tlZFxuXHRcdGNsaWNrRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcblx0XHRjbGlja0V2ZW50LmluaXRNb3VzZUV2ZW50KHRoaXMuZGV0ZXJtaW5lRXZlbnRUeXBlKHRhcmdldEVsZW1lbnQpLCB0cnVlLCB0cnVlLCB3aW5kb3csIDEsIHRvdWNoLnNjcmVlblgsIHRvdWNoLnNjcmVlblksIHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFksIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcblx0XHRjbGlja0V2ZW50LmZvcndhcmRlZFRvdWNoRXZlbnQgPSB0cnVlO1xuXHRcdHRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChjbGlja0V2ZW50KTtcblx0fTtcblxuXHRGYXN0Q2xpY2sucHJvdG90eXBlLmRldGVybWluZUV2ZW50VHlwZSA9IGZ1bmN0aW9uKHRhcmdldEVsZW1lbnQpIHtcblxuXHRcdC8vSXNzdWUgIzE1OTogQW5kcm9pZCBDaHJvbWUgU2VsZWN0IEJveCBkb2VzIG5vdCBvcGVuIHdpdGggYSBzeW50aGV0aWMgY2xpY2sgZXZlbnRcblx0XHRpZiAoZGV2aWNlSXNBbmRyb2lkICYmIHRhcmdldEVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc2VsZWN0Jykge1xuXHRcdFx0cmV0dXJuICdtb3VzZWRvd24nO1xuXHRcdH1cblxuXHRcdHJldHVybiAnY2xpY2snO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR8RWxlbWVudH0gdGFyZ2V0RWxlbWVudFxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uKHRhcmdldEVsZW1lbnQpIHtcblx0XHR2YXIgbGVuZ3RoO1xuXG5cdFx0Ly8gSXNzdWUgIzE2MDogb24gaU9TIDcsIHNvbWUgaW5wdXQgZWxlbWVudHMgKGUuZy4gZGF0ZSBkYXRldGltZSBtb250aCkgdGhyb3cgYSB2YWd1ZSBUeXBlRXJyb3Igb24gc2V0U2VsZWN0aW9uUmFuZ2UuIFRoZXNlIGVsZW1lbnRzIGRvbid0IGhhdmUgYW4gaW50ZWdlciB2YWx1ZSBmb3IgdGhlIHNlbGVjdGlvblN0YXJ0IGFuZCBzZWxlY3Rpb25FbmQgcHJvcGVydGllcywgYnV0IHVuZm9ydHVuYXRlbHkgdGhhdCBjYW4ndCBiZSB1c2VkIGZvciBkZXRlY3Rpb24gYmVjYXVzZSBhY2Nlc3NpbmcgdGhlIHByb3BlcnRpZXMgYWxzbyB0aHJvd3MgYSBUeXBlRXJyb3IuIEp1c3QgY2hlY2sgdGhlIHR5cGUgaW5zdGVhZC4gRmlsZWQgYXMgQXBwbGUgYnVnICMxNTEyMjcyNC5cblx0XHRpZiAoZGV2aWNlSXNJT1MgJiYgdGFyZ2V0RWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSAmJiB0YXJnZXRFbGVtZW50LnR5cGUuaW5kZXhPZignZGF0ZScpICE9PSAwICYmIHRhcmdldEVsZW1lbnQudHlwZSAhPT0gJ3RpbWUnICYmIHRhcmdldEVsZW1lbnQudHlwZSAhPT0gJ21vbnRoJykge1xuXHRcdFx0bGVuZ3RoID0gdGFyZ2V0RWxlbWVudC52YWx1ZS5sZW5ndGg7XG5cdFx0XHR0YXJnZXRFbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKGxlbmd0aCwgbGVuZ3RoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0RWxlbWVudC5mb2N1cygpO1xuXHRcdH1cblx0fTtcblxuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB0YXJnZXQgZWxlbWVudCBpcyBhIGNoaWxkIG9mIGEgc2Nyb2xsYWJsZSBsYXllciBhbmQgaWYgc28sIHNldCBhIGZsYWcgb24gaXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR8RWxlbWVudH0gdGFyZ2V0RWxlbWVudFxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS51cGRhdGVTY3JvbGxQYXJlbnQgPSBmdW5jdGlvbih0YXJnZXRFbGVtZW50KSB7XG5cdFx0dmFyIHNjcm9sbFBhcmVudCwgcGFyZW50RWxlbWVudDtcblxuXHRcdHNjcm9sbFBhcmVudCA9IHRhcmdldEVsZW1lbnQuZmFzdENsaWNrU2Nyb2xsUGFyZW50O1xuXG5cdFx0Ly8gQXR0ZW1wdCB0byBkaXNjb3ZlciB3aGV0aGVyIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBjb250YWluZWQgd2l0aGluIGEgc2Nyb2xsYWJsZSBsYXllci4gUmUtY2hlY2sgaWYgdGhlXG5cdFx0Ly8gdGFyZ2V0IGVsZW1lbnQgd2FzIG1vdmVkIHRvIGFub3RoZXIgcGFyZW50LlxuXHRcdGlmICghc2Nyb2xsUGFyZW50IHx8ICFzY3JvbGxQYXJlbnQuY29udGFpbnModGFyZ2V0RWxlbWVudCkpIHtcblx0XHRcdHBhcmVudEVsZW1lbnQgPSB0YXJnZXRFbGVtZW50O1xuXHRcdFx0ZG8ge1xuXHRcdFx0XHRpZiAocGFyZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgPiBwYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodCkge1xuXHRcdFx0XHRcdHNjcm9sbFBhcmVudCA9IHBhcmVudEVsZW1lbnQ7XG5cdFx0XHRcdFx0dGFyZ2V0RWxlbWVudC5mYXN0Q2xpY2tTY3JvbGxQYXJlbnQgPSBwYXJlbnRFbGVtZW50O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcblx0XHRcdH0gd2hpbGUgKHBhcmVudEVsZW1lbnQpO1xuXHRcdH1cblxuXHRcdC8vIEFsd2F5cyB1cGRhdGUgdGhlIHNjcm9sbCB0b3AgdHJhY2tlciBpZiBwb3NzaWJsZS5cblx0XHRpZiAoc2Nyb2xsUGFyZW50KSB7XG5cdFx0XHRzY3JvbGxQYXJlbnQuZmFzdENsaWNrTGFzdFNjcm9sbFRvcCA9IHNjcm9sbFBhcmVudC5zY3JvbGxUb3A7XG5cdFx0fVxuXHR9O1xuXG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldEVsZW1lbnRcblx0ICogQHJldHVybnMge0VsZW1lbnR8RXZlbnRUYXJnZXR9XG5cdCAqL1xuXHRGYXN0Q2xpY2sucHJvdG90eXBlLmdldFRhcmdldEVsZW1lbnRGcm9tRXZlbnRUYXJnZXQgPSBmdW5jdGlvbihldmVudFRhcmdldCkge1xuXG5cdFx0Ly8gT24gc29tZSBvbGRlciBicm93c2VycyAobm90YWJseSBTYWZhcmkgb24gaU9TIDQuMSAtIHNlZSBpc3N1ZSAjNTYpIHRoZSBldmVudCB0YXJnZXQgbWF5IGJlIGEgdGV4dCBub2RlLlxuXHRcdGlmIChldmVudFRhcmdldC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcblx0XHRcdHJldHVybiBldmVudFRhcmdldC5wYXJlbnROb2RlO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudFRhcmdldDtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBPbiB0b3VjaCBzdGFydCwgcmVjb3JkIHRoZSBwb3NpdGlvbiBhbmQgc2Nyb2xsIG9mZnNldC5cblx0ICpcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRGYXN0Q2xpY2sucHJvdG90eXBlLm9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIHRhcmdldEVsZW1lbnQsIHRvdWNoLCBzZWxlY3Rpb247XG5cblx0XHQvLyBJZ25vcmUgbXVsdGlwbGUgdG91Y2hlcywgb3RoZXJ3aXNlIHBpbmNoLXRvLXpvb20gaXMgcHJldmVudGVkIGlmIGJvdGggZmluZ2VycyBhcmUgb24gdGhlIEZhc3RDbGljayBlbGVtZW50IChpc3N1ZSAjMTExKS5cblx0XHRpZiAoZXZlbnQudGFyZ2V0VG91Y2hlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHR0YXJnZXRFbGVtZW50ID0gdGhpcy5nZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0KGV2ZW50LnRhcmdldCk7XG5cdFx0dG91Y2ggPSBldmVudC50YXJnZXRUb3VjaGVzWzBdO1xuXG5cdFx0aWYgKGRldmljZUlzSU9TKSB7XG5cblx0XHRcdC8vIE9ubHkgdHJ1c3RlZCBldmVudHMgd2lsbCBkZXNlbGVjdCB0ZXh0IG9uIGlPUyAoaXNzdWUgIzQ5KVxuXHRcdFx0c2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXHRcdFx0aWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ICYmICFzZWxlY3Rpb24uaXNDb2xsYXBzZWQpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghZGV2aWNlSXNJT1M0KSB7XG5cblx0XHRcdFx0Ly8gV2VpcmQgdGhpbmdzIGhhcHBlbiBvbiBpT1Mgd2hlbiBhbiBhbGVydCBvciBjb25maXJtIGRpYWxvZyBpcyBvcGVuZWQgZnJvbSBhIGNsaWNrIGV2ZW50IGNhbGxiYWNrIChpc3N1ZSAjMjMpOlxuXHRcdFx0XHQvLyB3aGVuIHRoZSB1c2VyIG5leHQgdGFwcyBhbnl3aGVyZSBlbHNlIG9uIHRoZSBwYWdlLCBuZXcgdG91Y2hzdGFydCBhbmQgdG91Y2hlbmQgZXZlbnRzIGFyZSBkaXNwYXRjaGVkXG5cdFx0XHRcdC8vIHdpdGggdGhlIHNhbWUgaWRlbnRpZmllciBhcyB0aGUgdG91Y2ggZXZlbnQgdGhhdCBwcmV2aW91c2x5IHRyaWdnZXJlZCB0aGUgY2xpY2sgdGhhdCB0cmlnZ2VyZWQgdGhlIGFsZXJ0LlxuXHRcdFx0XHQvLyBTYWRseSwgdGhlcmUgaXMgYW4gaXNzdWUgb24gaU9TIDQgdGhhdCBjYXVzZXMgc29tZSBub3JtYWwgdG91Y2ggZXZlbnRzIHRvIGhhdmUgdGhlIHNhbWUgaWRlbnRpZmllciBhcyBhblxuXHRcdFx0XHQvLyBpbW1lZGlhdGVseSBwcmVjZWVkaW5nIHRvdWNoIGV2ZW50IChpc3N1ZSAjNTIpLCBzbyB0aGlzIGZpeCBpcyB1bmF2YWlsYWJsZSBvbiB0aGF0IHBsYXRmb3JtLlxuXHRcdFx0XHQvLyBJc3N1ZSAxMjA6IHRvdWNoLmlkZW50aWZpZXIgaXMgMCB3aGVuIENocm9tZSBkZXYgdG9vbHMgJ0VtdWxhdGUgdG91Y2ggZXZlbnRzJyBpcyBzZXQgd2l0aCBhbiBpT1MgZGV2aWNlIFVBIHN0cmluZyxcblx0XHRcdFx0Ly8gd2hpY2ggY2F1c2VzIGFsbCB0b3VjaCBldmVudHMgdG8gYmUgaWdub3JlZC4gQXMgdGhpcyBibG9jayBvbmx5IGFwcGxpZXMgdG8gaU9TLCBhbmQgaU9TIGlkZW50aWZpZXJzIGFyZSBhbHdheXMgbG9uZyxcblx0XHRcdFx0Ly8gcmFuZG9tIGludGVnZXJzLCBpdCdzIHNhZmUgdG8gdG8gY29udGludWUgaWYgdGhlIGlkZW50aWZpZXIgaXMgMCBoZXJlLlxuXHRcdFx0XHRpZiAodG91Y2guaWRlbnRpZmllciAmJiB0b3VjaC5pZGVudGlmaWVyID09PSB0aGlzLmxhc3RUb3VjaElkZW50aWZpZXIpIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMubGFzdFRvdWNoSWRlbnRpZmllciA9IHRvdWNoLmlkZW50aWZpZXI7XG5cblx0XHRcdFx0Ly8gSWYgdGhlIHRhcmdldCBlbGVtZW50IGlzIGEgY2hpbGQgb2YgYSBzY3JvbGxhYmxlIGxheWVyICh1c2luZyAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2gpIGFuZDpcblx0XHRcdFx0Ly8gMSkgdGhlIHVzZXIgZG9lcyBhIGZsaW5nIHNjcm9sbCBvbiB0aGUgc2Nyb2xsYWJsZSBsYXllclxuXHRcdFx0XHQvLyAyKSB0aGUgdXNlciBzdG9wcyB0aGUgZmxpbmcgc2Nyb2xsIHdpdGggYW5vdGhlciB0YXBcblx0XHRcdFx0Ly8gdGhlbiB0aGUgZXZlbnQudGFyZ2V0IG9mIHRoZSBsYXN0ICd0b3VjaGVuZCcgZXZlbnQgd2lsbCBiZSB0aGUgZWxlbWVudCB0aGF0IHdhcyB1bmRlciB0aGUgdXNlcidzIGZpbmdlclxuXHRcdFx0XHQvLyB3aGVuIHRoZSBmbGluZyBzY3JvbGwgd2FzIHN0YXJ0ZWQsIGNhdXNpbmcgRmFzdENsaWNrIHRvIHNlbmQgYSBjbGljayBldmVudCB0byB0aGF0IGxheWVyIC0gdW5sZXNzIGEgY2hlY2tcblx0XHRcdFx0Ly8gaXMgbWFkZSB0byBlbnN1cmUgdGhhdCBhIHBhcmVudCBsYXllciB3YXMgbm90IHNjcm9sbGVkIGJlZm9yZSBzZW5kaW5nIGEgc3ludGhldGljIGNsaWNrIChpc3N1ZSAjNDIpLlxuXHRcdFx0XHR0aGlzLnVwZGF0ZVNjcm9sbFBhcmVudCh0YXJnZXRFbGVtZW50KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnRyYWNraW5nQ2xpY2sgPSB0cnVlO1xuXHRcdHRoaXMudHJhY2tpbmdDbGlja1N0YXJ0ID0gZXZlbnQudGltZVN0YW1wO1xuXHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IHRhcmdldEVsZW1lbnQ7XG5cblx0XHR0aGlzLnRvdWNoU3RhcnRYID0gdG91Y2gucGFnZVg7XG5cdFx0dGhpcy50b3VjaFN0YXJ0WSA9IHRvdWNoLnBhZ2VZO1xuXG5cdFx0Ly8gUHJldmVudCBwaGFudG9tIGNsaWNrcyBvbiBmYXN0IGRvdWJsZS10YXAgKGlzc3VlICMzNilcblx0XHRpZiAoKGV2ZW50LnRpbWVTdGFtcCAtIHRoaXMubGFzdENsaWNrVGltZSkgPCB0aGlzLnRhcERlbGF5KSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIEJhc2VkIG9uIGEgdG91Y2htb3ZlIGV2ZW50IG9iamVjdCwgY2hlY2sgd2hldGhlciB0aGUgdG91Y2ggaGFzIG1vdmVkIHBhc3QgYSBib3VuZGFyeSBzaW5jZSBpdCBzdGFydGVkLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICovXG5cdEZhc3RDbGljay5wcm90b3R5cGUudG91Y2hIYXNNb3ZlZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0sIGJvdW5kYXJ5ID0gdGhpcy50b3VjaEJvdW5kYXJ5O1xuXG5cdFx0aWYgKE1hdGguYWJzKHRvdWNoLnBhZ2VYIC0gdGhpcy50b3VjaFN0YXJ0WCkgPiBib3VuZGFyeSB8fCBNYXRoLmFicyh0b3VjaC5wYWdlWSAtIHRoaXMudG91Y2hTdGFydFkpID4gYm91bmRhcnkpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIGxhc3QgcG9zaXRpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5vblRvdWNoTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0aWYgKCF0aGlzLnRyYWNraW5nQ2xpY2spIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZSB0b3VjaCBoYXMgbW92ZWQsIGNhbmNlbCB0aGUgY2xpY2sgdHJhY2tpbmdcblx0XHRpZiAodGhpcy50YXJnZXRFbGVtZW50ICE9PSB0aGlzLmdldFRhcmdldEVsZW1lbnRGcm9tRXZlbnRUYXJnZXQoZXZlbnQudGFyZ2V0KSB8fCB0aGlzLnRvdWNoSGFzTW92ZWQoZXZlbnQpKSB7XG5cdFx0XHR0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcblx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblxuXHQvKipcblx0ICogQXR0ZW1wdCB0byBmaW5kIHRoZSBsYWJlbGxlZCBjb250cm9sIGZvciB0aGUgZ2l2ZW4gbGFiZWwgZWxlbWVudC5cblx0ICpcblx0ICogQHBhcmFtIHtFdmVudFRhcmdldHxIVE1MTGFiZWxFbGVtZW50fSBsYWJlbEVsZW1lbnRcblx0ICogQHJldHVybnMge0VsZW1lbnR8bnVsbH1cblx0ICovXG5cdEZhc3RDbGljay5wcm90b3R5cGUuZmluZENvbnRyb2wgPSBmdW5jdGlvbihsYWJlbEVsZW1lbnQpIHtcblxuXHRcdC8vIEZhc3QgcGF0aCBmb3IgbmV3ZXIgYnJvd3NlcnMgc3VwcG9ydGluZyB0aGUgSFRNTDUgY29udHJvbCBhdHRyaWJ1dGVcblx0XHRpZiAobGFiZWxFbGVtZW50LmNvbnRyb2wgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIGxhYmVsRWxlbWVudC5jb250cm9sO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBicm93c2VycyB1bmRlciB0ZXN0IHRoYXQgc3VwcG9ydCB0b3VjaCBldmVudHMgYWxzbyBzdXBwb3J0IHRoZSBIVE1MNSBodG1sRm9yIGF0dHJpYnV0ZVxuXHRcdGlmIChsYWJlbEVsZW1lbnQuaHRtbEZvcikge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxhYmVsRWxlbWVudC5odG1sRm9yKTtcblx0XHR9XG5cblx0XHQvLyBJZiBubyBmb3IgYXR0cmlidXRlIGV4aXN0cywgYXR0ZW1wdCB0byByZXRyaWV2ZSB0aGUgZmlyc3QgbGFiZWxsYWJsZSBkZXNjZW5kYW50IGVsZW1lbnRcblx0XHQvLyB0aGUgbGlzdCBvZiB3aGljaCBpcyBkZWZpbmVkIGhlcmU6IGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2Zvcm1zLmh0bWwjY2F0ZWdvcnktbGFiZWxcblx0XHRyZXR1cm4gbGFiZWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiwgaW5wdXQ6bm90KFt0eXBlPWhpZGRlbl0pLCBrZXlnZW4sIG1ldGVyLCBvdXRwdXQsIHByb2dyZXNzLCBzZWxlY3QsIHRleHRhcmVhJyk7XG5cdH07XG5cblxuXHQvKipcblx0ICogT24gdG91Y2ggZW5kLCBkZXRlcm1pbmUgd2hldGhlciB0byBzZW5kIGEgY2xpY2sgZXZlbnQgYXQgb25jZS5cblx0ICpcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRGYXN0Q2xpY2sucHJvdG90eXBlLm9uVG91Y2hFbmQgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdHZhciBmb3JFbGVtZW50LCB0cmFja2luZ0NsaWNrU3RhcnQsIHRhcmdldFRhZ05hbWUsIHNjcm9sbFBhcmVudCwgdG91Y2gsIHRhcmdldEVsZW1lbnQgPSB0aGlzLnRhcmdldEVsZW1lbnQ7XG5cblx0XHRpZiAoIXRoaXMudHJhY2tpbmdDbGljaykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gUHJldmVudCBwaGFudG9tIGNsaWNrcyBvbiBmYXN0IGRvdWJsZS10YXAgKGlzc3VlICMzNilcblx0XHRpZiAoKGV2ZW50LnRpbWVTdGFtcCAtIHRoaXMubGFzdENsaWNrVGltZSkgPCB0aGlzLnRhcERlbGF5KSB7XG5cdFx0XHR0aGlzLmNhbmNlbE5leHRDbGljayA9IHRydWU7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoKGV2ZW50LnRpbWVTdGFtcCAtIHRoaXMudHJhY2tpbmdDbGlja1N0YXJ0KSA+IHRoaXMudGFwVGltZW91dCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gUmVzZXQgdG8gcHJldmVudCB3cm9uZyBjbGljayBjYW5jZWwgb24gaW5wdXQgKGlzc3VlICMxNTYpLlxuXHRcdHRoaXMuY2FuY2VsTmV4dENsaWNrID0gZmFsc2U7XG5cblx0XHR0aGlzLmxhc3RDbGlja1RpbWUgPSBldmVudC50aW1lU3RhbXA7XG5cblx0XHR0cmFja2luZ0NsaWNrU3RhcnQgPSB0aGlzLnRyYWNraW5nQ2xpY2tTdGFydDtcblx0XHR0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcblx0XHR0aGlzLnRyYWNraW5nQ2xpY2tTdGFydCA9IDA7XG5cblx0XHQvLyBPbiBzb21lIGlPUyBkZXZpY2VzLCB0aGUgdGFyZ2V0RWxlbWVudCBzdXBwbGllZCB3aXRoIHRoZSBldmVudCBpcyBpbnZhbGlkIGlmIHRoZSBsYXllclxuXHRcdC8vIGlzIHBlcmZvcm1pbmcgYSB0cmFuc2l0aW9uIG9yIHNjcm9sbCwgYW5kIGhhcyB0byBiZSByZS1kZXRlY3RlZCBtYW51YWxseS4gTm90ZSB0aGF0XG5cdFx0Ly8gZm9yIHRoaXMgdG8gZnVuY3Rpb24gY29ycmVjdGx5LCBpdCBtdXN0IGJlIGNhbGxlZCAqYWZ0ZXIqIHRoZSBldmVudCB0YXJnZXQgaXMgY2hlY2tlZCFcblx0XHQvLyBTZWUgaXNzdWUgIzU3OyBhbHNvIGZpbGVkIGFzIHJkYXI6Ly8xMzA0ODU4OSAuXG5cdFx0aWYgKGRldmljZUlzSU9TV2l0aEJhZFRhcmdldCkge1xuXHRcdFx0dG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcblxuXHRcdFx0Ly8gSW4gY2VydGFpbiBjYXNlcyBhcmd1bWVudHMgb2YgZWxlbWVudEZyb21Qb2ludCBjYW4gYmUgbmVnYXRpdmUsIHNvIHByZXZlbnQgc2V0dGluZyB0YXJnZXRFbGVtZW50IHRvIG51bGxcblx0XHRcdHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHRvdWNoLnBhZ2VYIC0gd2luZG93LnBhZ2VYT2Zmc2V0LCB0b3VjaC5wYWdlWSAtIHdpbmRvdy5wYWdlWU9mZnNldCkgfHwgdGFyZ2V0RWxlbWVudDtcblx0XHRcdHRhcmdldEVsZW1lbnQuZmFzdENsaWNrU2Nyb2xsUGFyZW50ID0gdGhpcy50YXJnZXRFbGVtZW50LmZhc3RDbGlja1Njcm9sbFBhcmVudDtcblx0XHR9XG5cblx0XHR0YXJnZXRUYWdOYW1lID0gdGFyZ2V0RWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0aWYgKHRhcmdldFRhZ05hbWUgPT09ICdsYWJlbCcpIHtcblx0XHRcdGZvckVsZW1lbnQgPSB0aGlzLmZpbmRDb250cm9sKHRhcmdldEVsZW1lbnQpO1xuXHRcdFx0aWYgKGZvckVsZW1lbnQpIHtcblx0XHRcdFx0dGhpcy5mb2N1cyh0YXJnZXRFbGVtZW50KTtcblx0XHRcdFx0aWYgKGRldmljZUlzQW5kcm9pZCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRhcmdldEVsZW1lbnQgPSBmb3JFbGVtZW50O1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodGhpcy5uZWVkc0ZvY3VzKHRhcmdldEVsZW1lbnQpKSB7XG5cblx0XHRcdC8vIENhc2UgMTogSWYgdGhlIHRvdWNoIHN0YXJ0ZWQgYSB3aGlsZSBhZ28gKGJlc3QgZ3Vlc3MgaXMgMTAwbXMgYmFzZWQgb24gdGVzdHMgZm9yIGlzc3VlICMzNikgdGhlbiBmb2N1cyB3aWxsIGJlIHRyaWdnZXJlZCBhbnl3YXkuIFJldHVybiBlYXJseSBhbmQgdW5zZXQgdGhlIHRhcmdldCBlbGVtZW50IHJlZmVyZW5jZSBzbyB0aGF0IHRoZSBzdWJzZXF1ZW50IGNsaWNrIHdpbGwgYmUgYWxsb3dlZCB0aHJvdWdoLlxuXHRcdFx0Ly8gQ2FzZSAyOiBXaXRob3V0IHRoaXMgZXhjZXB0aW9uIGZvciBpbnB1dCBlbGVtZW50cyB0YXBwZWQgd2hlbiB0aGUgZG9jdW1lbnQgaXMgY29udGFpbmVkIGluIGFuIGlmcmFtZSwgdGhlbiBhbnkgaW5wdXR0ZWQgdGV4dCB3b24ndCBiZSB2aXNpYmxlIGV2ZW4gdGhvdWdoIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgdXBkYXRlZCBhcyB0aGUgdXNlciB0eXBlcyAoaXNzdWUgIzM3KS5cblx0XHRcdGlmICgoZXZlbnQudGltZVN0YW1wIC0gdHJhY2tpbmdDbGlja1N0YXJ0KSA+IDEwMCB8fCAoZGV2aWNlSXNJT1MgJiYgd2luZG93LnRvcCAhPT0gd2luZG93ICYmIHRhcmdldFRhZ05hbWUgPT09ICdpbnB1dCcpKSB7XG5cdFx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5mb2N1cyh0YXJnZXRFbGVtZW50KTtcblx0XHRcdHRoaXMuc2VuZENsaWNrKHRhcmdldEVsZW1lbnQsIGV2ZW50KTtcblxuXHRcdFx0Ly8gU2VsZWN0IGVsZW1lbnRzIG5lZWQgdGhlIGV2ZW50IHRvIGdvIHRocm91Z2ggb24gaU9TIDQsIG90aGVyd2lzZSB0aGUgc2VsZWN0b3IgbWVudSB3b24ndCBvcGVuLlxuXHRcdFx0Ly8gQWxzbyB0aGlzIGJyZWFrcyBvcGVuaW5nIHNlbGVjdHMgd2hlbiBWb2ljZU92ZXIgaXMgYWN0aXZlIG9uIGlPUzYsIGlPUzcgKGFuZCBwb3NzaWJseSBvdGhlcnMpXG5cdFx0XHRpZiAoIWRldmljZUlzSU9TIHx8IHRhcmdldFRhZ05hbWUgIT09ICdzZWxlY3QnKSB7XG5cdFx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoZGV2aWNlSXNJT1MgJiYgIWRldmljZUlzSU9TNCkge1xuXG5cdFx0XHQvLyBEb24ndCBzZW5kIGEgc3ludGhldGljIGNsaWNrIGV2ZW50IGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBjb250YWluZWQgd2l0aGluIGEgcGFyZW50IGxheWVyIHRoYXQgd2FzIHNjcm9sbGVkXG5cdFx0XHQvLyBhbmQgdGhpcyB0YXAgaXMgYmVpbmcgdXNlZCB0byBzdG9wIHRoZSBzY3JvbGxpbmcgKHVzdWFsbHkgaW5pdGlhdGVkIGJ5IGEgZmxpbmcgLSBpc3N1ZSAjNDIpLlxuXHRcdFx0c2Nyb2xsUGFyZW50ID0gdGFyZ2V0RWxlbWVudC5mYXN0Q2xpY2tTY3JvbGxQYXJlbnQ7XG5cdFx0XHRpZiAoc2Nyb2xsUGFyZW50ICYmIHNjcm9sbFBhcmVudC5mYXN0Q2xpY2tMYXN0U2Nyb2xsVG9wICE9PSBzY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXZlbnQgdGhlIGFjdHVhbCBjbGljayBmcm9tIGdvaW5nIHRob3VnaCAtIHVubGVzcyB0aGUgdGFyZ2V0IG5vZGUgaXMgbWFya2VkIGFzIHJlcXVpcmluZ1xuXHRcdC8vIHJlYWwgY2xpY2tzIG9yIGlmIGl0IGlzIGluIHRoZSB3aGl0ZWxpc3QgaW4gd2hpY2ggY2FzZSBvbmx5IG5vbi1wcm9ncmFtbWF0aWMgY2xpY2tzIGFyZSBwZXJtaXR0ZWQuXG5cdFx0aWYgKCF0aGlzLm5lZWRzQ2xpY2sodGFyZ2V0RWxlbWVudCkpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLnNlbmRDbGljayh0YXJnZXRFbGVtZW50LCBldmVudCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIE9uIHRvdWNoIGNhbmNlbCwgc3RvcCB0cmFja2luZyB0aGUgY2xpY2suXG5cdCAqXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5vblRvdWNoQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy50cmFja2luZ0NsaWNrID0gZmFsc2U7XG5cdFx0dGhpcy50YXJnZXRFbGVtZW50ID0gbnVsbDtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgbW91c2UgZXZlbnRzIHdoaWNoIHNob3VsZCBiZSBwZXJtaXR0ZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5vbk1vdXNlID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdC8vIElmIGEgdGFyZ2V0IGVsZW1lbnQgd2FzIG5ldmVyIHNldCAoYmVjYXVzZSBhIHRvdWNoIGV2ZW50IHdhcyBuZXZlciBmaXJlZCkgYWxsb3cgdGhlIGV2ZW50XG5cdFx0aWYgKCF0aGlzLnRhcmdldEVsZW1lbnQpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGlmIChldmVudC5mb3J3YXJkZWRUb3VjaEV2ZW50KSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBQcm9ncmFtbWF0aWNhbGx5IGdlbmVyYXRlZCBldmVudHMgdGFyZ2V0aW5nIGEgc3BlY2lmaWMgZWxlbWVudCBzaG91bGQgYmUgcGVybWl0dGVkXG5cdFx0aWYgKCFldmVudC5jYW5jZWxhYmxlKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBEZXJpdmUgYW5kIGNoZWNrIHRoZSB0YXJnZXQgZWxlbWVudCB0byBzZWUgd2hldGhlciB0aGUgbW91c2UgZXZlbnQgbmVlZHMgdG8gYmUgcGVybWl0dGVkO1xuXHRcdC8vIHVubGVzcyBleHBsaWNpdGx5IGVuYWJsZWQsIHByZXZlbnQgbm9uLXRvdWNoIGNsaWNrIGV2ZW50cyBmcm9tIHRyaWdnZXJpbmcgYWN0aW9ucyxcblx0XHQvLyB0byBwcmV2ZW50IGdob3N0L2RvdWJsZWNsaWNrcy5cblx0XHRpZiAoIXRoaXMubmVlZHNDbGljayh0aGlzLnRhcmdldEVsZW1lbnQpIHx8IHRoaXMuY2FuY2VsTmV4dENsaWNrKSB7XG5cblx0XHRcdC8vIFByZXZlbnQgYW55IHVzZXItYWRkZWQgbGlzdGVuZXJzIGRlY2xhcmVkIG9uIEZhc3RDbGljayBlbGVtZW50IGZyb20gYmVpbmcgZmlyZWQuXG5cdFx0XHRpZiAoZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XG5cdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBQYXJ0IG9mIHRoZSBoYWNrIGZvciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgRXZlbnQjc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIChlLmcuIEFuZHJvaWQgMilcblx0XHRcdFx0ZXZlbnQucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2FuY2VsIHRoZSBldmVudFxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlIG1vdXNlIGV2ZW50IGlzIHBlcm1pdHRlZCwgcmV0dXJuIHRydWUgZm9yIHRoZSBhY3Rpb24gdG8gZ28gdGhyb3VnaC5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBPbiBhY3R1YWwgY2xpY2tzLCBkZXRlcm1pbmUgd2hldGhlciB0aGlzIGlzIGEgdG91Y2gtZ2VuZXJhdGVkIGNsaWNrLCBhIGNsaWNrIGFjdGlvbiBvY2N1cnJpbmdcblx0ICogbmF0dXJhbGx5IGFmdGVyIGEgZGVsYXkgYWZ0ZXIgYSB0b3VjaCAod2hpY2ggbmVlZHMgdG8gYmUgY2FuY2VsbGVkIHRvIGF2b2lkIGR1cGxpY2F0aW9uKSwgb3Jcblx0ICogYW4gYWN0dWFsIGNsaWNrIHdoaWNoIHNob3VsZCBiZSBwZXJtaXR0ZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR2YXIgcGVybWl0dGVkO1xuXG5cdFx0Ly8gSXQncyBwb3NzaWJsZSBmb3IgYW5vdGhlciBGYXN0Q2xpY2stbGlrZSBsaWJyYXJ5IGRlbGl2ZXJlZCB3aXRoIHRoaXJkLXBhcnR5IGNvZGUgdG8gZmlyZSBhIGNsaWNrIGV2ZW50IGJlZm9yZSBGYXN0Q2xpY2sgZG9lcyAoaXNzdWUgIzQ0KS4gSW4gdGhhdCBjYXNlLCBzZXQgdGhlIGNsaWNrLXRyYWNraW5nIGZsYWcgYmFjayB0byBmYWxzZSBhbmQgcmV0dXJuIGVhcmx5LiBUaGlzIHdpbGwgY2F1c2Ugb25Ub3VjaEVuZCB0byByZXR1cm4gZWFybHkuXG5cdFx0aWYgKHRoaXMudHJhY2tpbmdDbGljaykge1xuXHRcdFx0dGhpcy50YXJnZXRFbGVtZW50ID0gbnVsbDtcblx0XHRcdHRoaXMudHJhY2tpbmdDbGljayA9IGZhbHNlO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gVmVyeSBvZGQgYmVoYXZpb3VyIG9uIGlPUyAoaXNzdWUgIzE4KTogaWYgYSBzdWJtaXQgZWxlbWVudCBpcyBwcmVzZW50IGluc2lkZSBhIGZvcm0gYW5kIHRoZSB1c2VyIGhpdHMgZW50ZXIgaW4gdGhlIGlPUyBzaW11bGF0b3Igb3IgY2xpY2tzIHRoZSBHbyBidXR0b24gb24gdGhlIHBvcC11cCBPUyBrZXlib2FyZCB0aGUgYSBraW5kIG9mICdmYWtlJyBjbGljayBldmVudCB3aWxsIGJlIHRyaWdnZXJlZCB3aXRoIHRoZSBzdWJtaXQtdHlwZSBpbnB1dCBlbGVtZW50IGFzIHRoZSB0YXJnZXQuXG5cdFx0aWYgKGV2ZW50LnRhcmdldC50eXBlID09PSAnc3VibWl0JyAmJiBldmVudC5kZXRhaWwgPT09IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHBlcm1pdHRlZCA9IHRoaXMub25Nb3VzZShldmVudCk7XG5cblx0XHQvLyBPbmx5IHVuc2V0IHRhcmdldEVsZW1lbnQgaWYgdGhlIGNsaWNrIGlzIG5vdCBwZXJtaXR0ZWQuIFRoaXMgd2lsbCBlbnN1cmUgdGhhdCB0aGUgY2hlY2sgZm9yICF0YXJnZXRFbGVtZW50IGluIG9uTW91c2UgZmFpbHMgYW5kIHRoZSBicm93c2VyJ3MgY2xpY2sgZG9lc24ndCBnbyB0aHJvdWdoLlxuXHRcdGlmICghcGVybWl0dGVkKSB7XG5cdFx0XHR0aGlzLnRhcmdldEVsZW1lbnQgPSBudWxsO1xuXHRcdH1cblxuXHRcdC8vIElmIGNsaWNrcyBhcmUgcGVybWl0dGVkLCByZXR1cm4gdHJ1ZSBmb3IgdGhlIGFjdGlvbiB0byBnbyB0aHJvdWdoLlxuXHRcdHJldHVybiBwZXJtaXR0ZWQ7XG5cdH07XG5cblxuXHQvKipcblx0ICogUmVtb3ZlIGFsbCBGYXN0Q2xpY2sncyBldmVudCBsaXN0ZW5lcnMuXG5cdCAqXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGxheWVyID0gdGhpcy5sYXllcjtcblxuXHRcdGlmIChkZXZpY2VJc0FuZHJvaWQpIHtcblx0XHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Nb3VzZSwgdHJ1ZSk7XG5cdFx0XHRsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2UsIHRydWUpO1xuXHRcdFx0bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZSwgdHJ1ZSk7XG5cdFx0fVxuXG5cdFx0bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2ssIHRydWUpO1xuXHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hTdGFydCwgZmFsc2UpO1xuXHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUsIGZhbHNlKTtcblx0XHRsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaEVuZCwgZmFsc2UpO1xuXHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblRvdWNoQ2FuY2VsLCBmYWxzZSk7XG5cdH07XG5cblxuXHQvKipcblx0ICogQ2hlY2sgd2hldGhlciBGYXN0Q2xpY2sgaXMgbmVlZGVkLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGxheWVyIFRoZSBsYXllciB0byBsaXN0ZW4gb25cblx0ICovXG5cdEZhc3RDbGljay5ub3ROZWVkZWQgPSBmdW5jdGlvbihsYXllcikge1xuXHRcdHZhciBtZXRhVmlld3BvcnQ7XG5cdFx0dmFyIGNocm9tZVZlcnNpb247XG5cdFx0dmFyIGJsYWNrYmVycnlWZXJzaW9uO1xuXHRcdHZhciBmaXJlZm94VmVyc2lvbjtcblxuXHRcdC8vIERldmljZXMgdGhhdCBkb24ndCBzdXBwb3J0IHRvdWNoIGRvbid0IG5lZWQgRmFzdENsaWNrXG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hyb21lIHZlcnNpb24gLSB6ZXJvIGZvciBvdGhlciBicm93c2Vyc1xuXHRcdGNocm9tZVZlcnNpb24gPSArKC9DaHJvbWVcXC8oWzAtOV0rKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSB8fCBbLDBdKVsxXTtcblxuXHRcdGlmIChjaHJvbWVWZXJzaW9uKSB7XG5cblx0XHRcdGlmIChkZXZpY2VJc0FuZHJvaWQpIHtcblx0XHRcdFx0bWV0YVZpZXdwb3J0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPXZpZXdwb3J0XScpO1xuXG5cdFx0XHRcdGlmIChtZXRhVmlld3BvcnQpIHtcblx0XHRcdFx0XHQvLyBDaHJvbWUgb24gQW5kcm9pZCB3aXRoIHVzZXItc2NhbGFibGU9XCJub1wiIGRvZXNuJ3QgbmVlZCBGYXN0Q2xpY2sgKGlzc3VlICM4OSlcblx0XHRcdFx0XHRpZiAobWV0YVZpZXdwb3J0LmNvbnRlbnQuaW5kZXhPZigndXNlci1zY2FsYWJsZT1ubycpICE9PSAtMSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIENocm9tZSAzMiBhbmQgYWJvdmUgd2l0aCB3aWR0aD1kZXZpY2Utd2lkdGggb3IgbGVzcyBkb24ndCBuZWVkIEZhc3RDbGlja1xuXHRcdFx0XHRcdGlmIChjaHJvbWVWZXJzaW9uID4gMzEgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoIDw9IHdpbmRvdy5vdXRlcldpZHRoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gQ2hyb21lIGRlc2t0b3AgZG9lc24ndCBuZWVkIEZhc3RDbGljayAoaXNzdWUgIzE1KVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGRldmljZUlzQmxhY2tCZXJyeTEwKSB7XG5cdFx0XHRibGFja2JlcnJ5VmVyc2lvbiA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1ZlcnNpb25cXC8oWzAtOV0qKVxcLihbMC05XSopLyk7XG5cblx0XHRcdC8vIEJsYWNrQmVycnkgMTAuMysgZG9lcyBub3QgcmVxdWlyZSBGYXN0Y2xpY2sgbGlicmFyeS5cblx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mdGxhYnMvZmFzdGNsaWNrL2lzc3Vlcy8yNTFcblx0XHRcdGlmIChibGFja2JlcnJ5VmVyc2lvblsxXSA+PSAxMCAmJiBibGFja2JlcnJ5VmVyc2lvblsyXSA+PSAzKSB7XG5cdFx0XHRcdG1ldGFWaWV3cG9ydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT12aWV3cG9ydF0nKTtcblxuXHRcdFx0XHRpZiAobWV0YVZpZXdwb3J0KSB7XG5cdFx0XHRcdFx0Ly8gdXNlci1zY2FsYWJsZT1ubyBlbGltaW5hdGVzIGNsaWNrIGRlbGF5LlxuXHRcdFx0XHRcdGlmIChtZXRhVmlld3BvcnQuY29udGVudC5pbmRleE9mKCd1c2VyLXNjYWxhYmxlPW5vJykgIT09IC0xKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gd2lkdGg9ZGV2aWNlLXdpZHRoIChvciBsZXNzIHRoYW4gZGV2aWNlLXdpZHRoKSBlbGltaW5hdGVzIGNsaWNrIGRlbGF5LlxuXHRcdFx0XHRcdGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGggPD0gd2luZG93Lm91dGVyV2lkdGgpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIElFMTAgd2l0aCAtbXMtdG91Y2gtYWN0aW9uOiBub25lIG9yIG1hbmlwdWxhdGlvbiwgd2hpY2ggZGlzYWJsZXMgZG91YmxlLXRhcC10by16b29tIChpc3N1ZSAjOTcpXG5cdFx0aWYgKGxheWVyLnN0eWxlLm1zVG91Y2hBY3Rpb24gPT09ICdub25lJyB8fCBsYXllci5zdHlsZS50b3VjaEFjdGlvbiA9PT0gJ21hbmlwdWxhdGlvbicpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIEZpcmVmb3ggdmVyc2lvbiAtIHplcm8gZm9yIG90aGVyIGJyb3dzZXJzXG5cdFx0ZmlyZWZveFZlcnNpb24gPSArKC9GaXJlZm94XFwvKFswLTldKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgWywwXSlbMV07XG5cblx0XHRpZiAoZmlyZWZveFZlcnNpb24gPj0gMjcpIHtcblx0XHRcdC8vIEZpcmVmb3ggMjcrIGRvZXMgbm90IGhhdmUgdGFwIGRlbGF5IGlmIHRoZSBjb250ZW50IGlzIG5vdCB6b29tYWJsZSAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTkyMjg5NlxuXG5cdFx0XHRtZXRhVmlld3BvcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9dmlld3BvcnRdJyk7XG5cdFx0XHRpZiAobWV0YVZpZXdwb3J0ICYmIChtZXRhVmlld3BvcnQuY29udGVudC5pbmRleE9mKCd1c2VyLXNjYWxhYmxlPW5vJykgIT09IC0xIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCA8PSB3aW5kb3cub3V0ZXJXaWR0aCkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSUUxMTogcHJlZml4ZWQgLW1zLXRvdWNoLWFjdGlvbiBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGFuZCBpdCdzIHJlY29tZW5kZWQgdG8gdXNlIG5vbi1wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0Ly8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3dpbmRvd3MvYXBwcy9IaDc2NzMxMy5hc3B4XG5cdFx0aWYgKGxheWVyLnN0eWxlLnRvdWNoQWN0aW9uID09PSAnbm9uZScgfHwgbGF5ZXIuc3R5bGUudG91Y2hBY3Rpb24gPT09ICdtYW5pcHVsYXRpb24nKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG5cblxuXHQvKipcblx0ICogRmFjdG9yeSBtZXRob2QgZm9yIGNyZWF0aW5nIGEgRmFzdENsaWNrIG9iamVjdFxuXHQgKlxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGxheWVyIFRoZSBsYXllciB0byBsaXN0ZW4gb25cblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHNcblx0ICovXG5cdEZhc3RDbGljay5hdHRhY2ggPSBmdW5jdGlvbihsYXllciwgb3B0aW9ucykge1xuXHRcdHJldHVybiBuZXcgRmFzdENsaWNrKGxheWVyLCBvcHRpb25zKTtcblx0fTtcblxuXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIEZhc3RDbGljaztcblx0XHR9KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gRmFzdENsaWNrLmF0dGFjaDtcblx0XHRtb2R1bGUuZXhwb3J0cy5GYXN0Q2xpY2sgPSBGYXN0Q2xpY2s7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LkZhc3RDbGljayA9IEZhc3RDbGljaztcblx0fVxufSgpKTtcbiIsImNvbnN0IFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xuXG5mdW5jdGlvbiBSZWZyZXNoSWNvbihwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgT2JqZWN0LmFzc2lnbih7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIlxuICB9LCBwcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDIsXG4gICAgZDogXCJNNCA0djVoLjU4Mm0xNS4zNTYgMkE4LjAwMSA4LjAwMSAwIDAwNC41ODIgOW0wIDBIOW0xMSAxMXYtNWgtLjU4MW0wIDBhOC4wMDMgOC4wMDMgMCAwMS0xNS4zNTctMm0xNS4zNTcgMkgxNVwiXG4gIH0pKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWZyZXNoSWNvbjsiLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCB7Y3JlYXRlU2VsZWN0b3J9IGZyb20gJ3Jlc2VsZWN0JztcblxuaW1wb3J0IHtHbG9iYWxTdGF0ZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvc3RvcmUnO1xuaW1wb3J0IHtBcHBCaW5kaW5nfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hcHBzJztcbmltcG9ydCB7Q2xpZW50Q29uZmlnfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9jb25maWcnO1xuXG5pbXBvcnQge2dldENvbmZpZ30gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2dlbmVyYWwnO1xuXG4vLyBUaGlzIGZpbGUncyBjb250ZW50cyBiZWxvbmcgdG8gdGhlIEFwcHMgRnJhbWV3b3JrIGZlYXR1cmUuXG4vLyBBcHBzIEZyYW1ld29yayBmZWF0dXJlIGlzIGV4cGVyaW1lbnRhbCwgYW5kIHRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlXG4vLyBzdXNjZXB0aWJsZSB0byBicmVha2luZyBjaGFuZ2VzIHdpdGhvdXQgcHVzaGluZyB0aGUgbWFqb3IgdmVyc2lvbiBvZiB0aGlzIHBhY2thZ2UuXG5leHBvcnQgY29uc3QgYXBwc0VuYWJsZWQgPSBjcmVhdGVTZWxlY3RvcihcbiAgICAoc3RhdGU6IEdsb2JhbFN0YXRlKSA9PiBnZXRDb25maWcoc3RhdGUpLFxuICAgIChjb25maWc/OiBQYXJ0aWFsPENsaWVudENvbmZpZz4pID0+IHtcbiAgICAgICAgY29uc3QgZW5hYmxlZCA9IGNvbmZpZz8uWydGZWF0dXJlRmxhZ0FwcHNFbmFibGVkJyBhcyBrZXlvZiBQYXJ0aWFsPENsaWVudENvbmZpZz5dO1xuICAgICAgICByZXR1cm4gZW5hYmxlZCA9PT0gJ3RydWUnO1xuICAgIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgbWFrZUFwcEJpbmRpbmdzU2VsZWN0b3IgPSAobG9jYXRpb246IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBjcmVhdGVTZWxlY3RvcihcbiAgICAgICAgKHN0YXRlOiBHbG9iYWxTdGF0ZSkgPT4gc3RhdGUuZW50aXRpZXMuYXBwcy5iaW5kaW5ncyxcbiAgICAgICAgKHN0YXRlOiBHbG9iYWxTdGF0ZSkgPT4gYXBwc0VuYWJsZWQoc3RhdGUpLFxuICAgICAgICAoYmluZGluZ3M6IEFwcEJpbmRpbmdbXSwgYXJlQXBwc0VuYWJsZWQ6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgIGlmICghYXJlQXBwc0VuYWJsZWQgfHwgIWJpbmRpbmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBoZWFkZXJCaW5kaW5ncyA9IGJpbmRpbmdzLmZpbHRlcigoYikgPT4gYi5sb2NhdGlvbiA9PT0gbG9jYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIGhlYWRlckJpbmRpbmdzLnJlZHVjZSgoYWNjdW06IEFwcEJpbmRpbmdbXSwgY3VycmVudDogQXBwQmluZGluZykgPT4gYWNjdW0uY29uY2F0KGN1cnJlbnQuYmluZGluZ3MgfHwgW10pLCBbXSk7XG4gICAgICAgIH0sXG4gICAgKTtcbn07XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCB7QXBwc1R5cGVzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25fdHlwZXMnO1xuaW1wb3J0IHtDbGllbnQ0fSBmcm9tICdjaGF0dGluZy1yZWR1eC9jbGllbnQnO1xuXG5pbXBvcnQge0FjdGlvbkZ1bmMsIERpc3BhdGNoRnVuYywgR2V0U3RhdGVGdW5jfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcbmltcG9ydCB7Z2V0Q2hhbm5lbH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2NoYW5uZWxzJztcblxuaW1wb3J0IHtiaW5kQ2xpZW50RnVuY30gZnJvbSAnLi9oZWxwZXJzJztcblxuLy8gVGhpcyBmaWxlJ3MgY29udGVudHMgYmVsb25nIHRvIHRoZSBBcHBzIEZyYW1ld29yayBmZWF0dXJlLlxuLy8gQXBwcyBGcmFtZXdvcmsgZmVhdHVyZSBpcyBleHBlcmltZW50YWwsIGFuZCB0aGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZVxuLy8gc3VzY2VwdGlibGUgdG8gYnJlYWtpbmcgY2hhbmdlcyB3aXRob3V0IHB1c2hpbmcgdGhlIG1ham9yIHZlcnNpb24gb2YgdGhpcyBwYWNrYWdlLlxuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hBcHBCaW5kaW5ncyh1c2VySUQ6IHN0cmluZywgY2hhbm5lbElEOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IGdldENoYW5uZWwoZ2V0U3RhdGUoKSwgY2hhbm5lbElEKTtcbiAgICAgICAgY29uc3QgdGVhbUlEID0gY2hhbm5lbD8udGVhbV9pZCB8fCAnJztcblxuICAgICAgICByZXR1cm4gZGlzcGF0Y2goYmluZENsaWVudEZ1bmMoe1xuICAgICAgICAgICAgY2xpZW50RnVuYzogKCkgPT4gQ2xpZW50NC5nZXRBcHBzQmluZGluZ3ModXNlcklELCBjaGFubmVsSUQsIHRlYW1JRCksXG4gICAgICAgICAgICBvblN1Y2Nlc3M6IEFwcHNUeXBlcy5SRUNFSVZFRF9BUFBfQklORElOR1MsXG4gICAgICAgIH0pKTtcbiAgICB9O1xufVxuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5pbXBvcnQge1VzZXJUeXBlc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9uX3R5cGVzJztcblxuaW1wb3J0IHtnZXRDdXJyZW50VXNlcklkLCBnZXRVc2Vyc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3VzZXJzJztcblxuaW1wb3J0IHtBY3Rpb25GdW5jLCBEaXNwYXRjaEZ1bmMsIEdldFN0YXRlRnVuYywgYmF0Y2hBY3Rpb25zfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcblxuaW1wb3J0IHtnZXRLbm93blVzZXJzfSBmcm9tICcuL3VzZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vdFZpc2libGVVc2VycygpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgICBsZXQga25vd25Vc2VyczogU2V0PHN0cmluZz47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBmZXRjaFJlc3VsdCA9IGF3YWl0IGRpc3BhdGNoKGdldEtub3duVXNlcnMoKSk7XG4gICAgICAgICAgICBrbm93blVzZXJzID0gbmV3IFNldCgoZmV0Y2hSZXN1bHQgYXMgYW55KS5kYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4ge2Vycm9yOiBlcnJ9O1xuICAgICAgICB9XG4gICAgICAgIGtub3duVXNlcnMuYWRkKGdldEN1cnJlbnRVc2VySWQoc3RhdGUpKTtcblxuICAgICAgICBjb25zdCBhbGxVc2VycyA9IE9iamVjdC5rZXlzKGdldFVzZXJzKHN0YXRlKSk7XG4gICAgICAgIGNvbnN0IHVzZXJzVG9SZW1vdmUgPSBuZXcgU2V0KGFsbFVzZXJzLmZpbHRlcigoeCkgPT4gIWtub3duVXNlcnMuaGFzKHgpKSk7XG5cbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHVzZXJUb1JlbW92ZSBvZiB1c2Vyc1RvUmVtb3ZlLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goe3R5cGU6IFVzZXJUeXBlcy5QUk9GSUxFX05PX0xPTkdFUl9WSVNJQkxFLCBkYXRhOiB7dXNlcl9pZDogdXNlclRvUmVtb3ZlfX0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhhY3Rpb25zKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge2RhdGE6IHRydWV9O1xuICAgIH07XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5pbXBvcnQge0FkbWluVHlwZXN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbl90eXBlcyc7XG5pbXBvcnQge0dlbmVyYWx9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQge0NsaWVudDR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2NsaWVudCc7XG5cbmltcG9ydCB7QWN0aW9uLCBBY3Rpb25GdW5jLCBiYXRjaEFjdGlvbnMsIERpc3BhdGNoRnVuYywgR2V0U3RhdGVGdW5jfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcbmltcG9ydCB7Q29tcGxpYW5jZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvY29tcGxpYW5jZSc7XG5pbXBvcnQge0dyb3VwU2VhcmNoT3B0c30gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvZ3JvdXBzJztcbmltcG9ydCB7XG4gICAgQ3JlYXRlRGF0YVJldGVudGlvbkN1c3RvbVBvbGljeSxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvZGF0YV9yZXRlbnRpb24nO1xuaW1wb3J0IHtcbiAgICBUZWFtU2VhcmNoT3B0cyxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvdGVhbXMnO1xuaW1wb3J0IHtcbiAgICBDaGFubmVsU2VhcmNoT3B0cyxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvY2hhbm5lbHMnO1xuXG5pbXBvcnQge2JpbmRDbGllbnRGdW5jLCBmb3JjZUxvZ291dElmTmVjZXNzYXJ5fSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHtsb2dFcnJvcn0gZnJvbSAnLi9lcnJvcnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9ncyhwYWdlID0gMCwgcGVyUGFnZTogbnVtYmVyID0gR2VuZXJhbC5MT0dTX1BBR0VfU0laRV9ERUZBVUxUKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5nZXRMb2dzLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuR0VUX0xPR1NfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBbQWRtaW5UeXBlcy5SRUNFSVZFRF9MT0dTLCBBZG1pblR5cGVzLkdFVF9MT0dTX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuR0VUX0xPR1NfRkFJTFVSRSxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgcGVyUGFnZSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEF1ZGl0cyhwYWdlID0gMCwgcGVyUGFnZTogbnVtYmVyID0gR2VuZXJhbC5QQUdFX1NJWkVfREVGQVVMVCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0QXVkaXRzLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuR0VUX0FVRElUU19SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX0FVRElUUywgQWRtaW5UeXBlcy5HRVRfQVVESVRTX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuR0VUX0FVRElUU19GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgICBwZXJQYWdlLFxuICAgICAgICBdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29uZmlnKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0Q29uZmlnLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuR0VUX0NPTkZJR19SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX0NPTkZJRywgQWRtaW5UeXBlcy5HRVRfQ09ORklHX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuR0VUX0NPTkZJR19GQUlMVVJFLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ29uZmlnKGNvbmZpZzogUmVjb3JkPHN0cmluZywgYW55Pik6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudXBkYXRlQ29uZmlnLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuVVBEQVRFX0NPTkZJR19SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX0NPTkZJRywgQWRtaW5UeXBlcy5VUERBVEVfQ09ORklHX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuVVBEQVRFX0NPTkZJR19GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbG9hZENvbmZpZygpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LnJlbG9hZENvbmZpZyxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLlJFTE9BRF9DT05GSUdfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlJFTE9BRF9DT05GSUdfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlJFTE9BRF9DT05GSUdfRkFJTFVSRSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVudmlyb25tZW50Q29uZmlnKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0RW52aXJvbm1lbnRDb25maWcsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5HRVRfRU5WSVJPTk1FTlRfQ09ORklHX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogW0FkbWluVHlwZXMuUkVDRUlWRURfRU5WSVJPTk1FTlRfQ09ORklHLCBBZG1pblR5cGVzLkdFVF9FTlZJUk9OTUVOVF9DT05GSUdfU1VDQ0VTU10sXG4gICAgICAgIG9uRmFpbHVyZTogQWRtaW5UeXBlcy5HRVRfRU5WSVJPTk1FTlRfQ09ORklHX0ZBSUxVUkUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0RW1haWwoY29uZmlnOiBhbnkpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LnRlc3RFbWFpbCxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLlRFU1RfRU1BSUxfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlRFU1RfRU1BSUxfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlRFU1RfRU1BSUxfRkFJTFVSRSxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgIF0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0U2l0ZVVSTChzaXRlVVJMOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LnRlc3RTaXRlVVJMLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuVEVTVF9TSVRFX1VSTF9SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuVEVTVF9TSVRFX1VSTF9TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuVEVTVF9TSVRFX1VSTF9GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHNpdGVVUkwsXG4gICAgICAgIF0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0UzNDb25uZWN0aW9uKGNvbmZpZzogYW55KTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC50ZXN0UzNDb25uZWN0aW9uLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuVEVTVF9TM19SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuVEVTVF9TM19TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuVEVTVF9TM19GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRhdGVDYWNoZXMoKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5pbnZhbGlkYXRlQ2FjaGVzLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuSU5WQUxJREFURV9DQUNIRVNfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLklOVkFMSURBVEVfQ0FDSEVTX1NVQ0NFU1MsXG4gICAgICAgIG9uRmFpbHVyZTogQWRtaW5UeXBlcy5JTlZBTElEQVRFX0NBQ0hFU19GQUlMVVJFLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVjeWNsZURhdGFiYXNlKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQucmVjeWNsZURhdGFiYXNlLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuUkVDWUNMRV9EQVRBQkFTRV9SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuUkVDWUNMRV9EQVRBQkFTRV9TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuUkVDWUNMRV9EQVRBQkFTRV9GQUlMVVJFLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29tcGxpYW5jZVJlcG9ydChqb2I6IFBhcnRpYWw8Q29tcGxpYW5jZT4pOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmNyZWF0ZUNvbXBsaWFuY2VSZXBvcnQsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5DUkVBVEVfQ09NUExJQU5DRV9SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX0NPTVBMSUFOQ0VfUkVQT1JULCBBZG1pblR5cGVzLkNSRUFURV9DT01QTElBTkNFX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuQ1JFQVRFX0NPTVBMSUFOQ0VfRkFJTFVSRSxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBqb2IsXG4gICAgICAgIF0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wbGlhbmNlUmVwb3J0KHJlcG9ydElkOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmdldENvbXBsaWFuY2VSZXBvcnQsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5HRVRfQ09NUExJQU5DRV9SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX0NPTVBMSUFOQ0VfUkVQT1JULCBBZG1pblR5cGVzLkdFVF9DT01QTElBTkNFX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuR0VUX0NPTVBMSUFOQ0VfRkFJTFVSRSxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICByZXBvcnRJZCxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBsaWFuY2VSZXBvcnRzKHBhZ2UgPSAwLCBwZXJQYWdlOiBudW1iZXIgPSBHZW5lcmFsLlBBR0VfU0laRV9ERUZBVUxUKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5nZXRDb21wbGlhbmNlUmVwb3J0cyxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLkdFVF9DT01QTElBTkNFX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogW0FkbWluVHlwZXMuUkVDRUlWRURfQ09NUExJQU5DRV9SRVBPUlRTLCBBZG1pblR5cGVzLkdFVF9DT01QTElBTkNFX1NVQ0NFU1NdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuR0VUX0NPTVBMSUFOQ0VfRkFJTFVSRSxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgcGVyUGFnZSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZEJyYW5kSW1hZ2UoaW1hZ2VEYXRhOiBGaWxlKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC51cGxvYWRCcmFuZEltYWdlLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuVVBMT0FEX0JSQU5EX0lNQUdFX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5VUExPQURfQlJBTkRfSU1BR0VfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlVQTE9BRF9CUkFORF9JTUFHRV9GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIGltYWdlRGF0YSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUJyYW5kSW1hZ2UoKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5kZWxldGVCcmFuZEltYWdlLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuREVMRVRFX0JSQU5EX0lNQUdFX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5ERUxFVEVfQlJBTkRfSU1BR0VfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLkRFTEVURV9CUkFORF9JTUFHRV9GQUlMVVJFLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2x1c3RlclN0YXR1cygpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmdldENsdXN0ZXJTdGF0dXMsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5HRVRfQ0xVU1RFUl9TVEFUVVNfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBbQWRtaW5UeXBlcy5SRUNFSVZFRF9DTFVTVEVSX1NUQVRVUywgQWRtaW5UeXBlcy5HRVRfQ0xVU1RFUl9TVEFUVVNfU1VDQ0VTU10sXG4gICAgICAgIG9uRmFpbHVyZTogQWRtaW5UeXBlcy5HRVRfQ0xVU1RFUl9TVEFUVVNfRkFJTFVSRSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlc3RMZGFwKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudGVzdExkYXAsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5URVNUX0xEQVBfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlRFU1RfTERBUF9TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuVEVTVF9MREFQX0ZBSUxVUkUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzeW5jTGRhcCgpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LnN5bmNMZGFwLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuU1lOQ19MREFQX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5TWU5DX0xEQVBfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlNZTkNfTERBUF9GQUlMVVJFLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGRhcEdyb3VwcyhwYWdlID0gMCwgcGVyUGFnZTogbnVtYmVyID0gR2VuZXJhbC5QQUdFX1NJWkVfTUFYSU1VTSwgb3B0czogR3JvdXBTZWFyY2hPcHRzID0ge3E6ICcnfSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0TGRhcEdyb3VwcyxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLkdFVF9MREFQX0dST1VQU19SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX0xEQVBfR1JPVVBTLCBBZG1pblR5cGVzLkdFVF9MREFQX0dST1VQU19TVUNDRVNTXSxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLkdFVF9MREFQX0dST1VQU19GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgICBwZXJQYWdlLFxuICAgICAgICAgICAgb3B0cyxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbmtMZGFwR3JvdXAoa2V5OiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe3R5cGU6IEFkbWluVHlwZXMuTElOS19MREFQX0dST1VQX1JFUVVFU1QsIGRhdGE6IGtleX0pO1xuXG4gICAgICAgIGxldCBkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IGF3YWl0IENsaWVudDQubGlua0xkYXBHcm91cChrZXkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhbXG4gICAgICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuTElOS19MREFQX0dST1VQX0ZBSUxVUkUsIGVycm9yLCBkYXRhOiBrZXl9LFxuICAgICAgICAgICAgICAgIGxvZ0Vycm9yKGVycm9yKSxcbiAgICAgICAgICAgIF0pKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3J9O1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKFtcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLkxJTktfTERBUF9HUk9VUF9TVUNDRVNTLCBkYXRhOiBudWxsfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBBZG1pblR5cGVzLkxJTktFRF9MREFQX0dST1VQLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeV9rZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YS5kaXNwbGF5X25hbWUsXG4gICAgICAgICAgICAgICAgICAgIG1hdHRlcm1vc3RfZ3JvdXBfaWQ6IGRhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIGhhc19zeW5jYWJsZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdKSk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhOiB0cnVlfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5saW5rTGRhcEdyb3VwKGtleTogc3RyaW5nKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaDogRGlzcGF0Y2hGdW5jLCBnZXRTdGF0ZTogR2V0U3RhdGVGdW5jKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHt0eXBlOiBBZG1pblR5cGVzLlVOTElOS19MREFQX0dST1VQX1JFUVVFU1QsIGRhdGE6IGtleX0pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBDbGllbnQ0LnVubGlua0xkYXBHcm91cChrZXkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhbXG4gICAgICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuVU5MSU5LX0xEQVBfR1JPVVBfRkFJTFVSRSwgZXJyb3IsIGRhdGE6IGtleX0sXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChiYXRjaEFjdGlvbnMoW1xuICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuVU5MSU5LX0xEQVBfR1JPVVBfU1VDQ0VTUywgZGF0YTogbnVsbH0sXG4gICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5VTkxJTktFRF9MREFQX0dST1VQLCBkYXRhOiBrZXl9LFxuICAgICAgICBdKSk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhOiB0cnVlfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2FtbENlcnRpZmljYXRlU3RhdHVzKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0U2FtbENlcnRpZmljYXRlU3RhdHVzLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuU0FNTF9DRVJUX1NUQVRVU19SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IFtBZG1pblR5cGVzLlJFQ0VJVkVEX1NBTUxfQ0VSVF9TVEFUVVMsIEFkbWluVHlwZXMuU0FNTF9DRVJUX1NUQVRVU19TVUNDRVNTXSxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlNBTUxfQ0VSVF9TVEFUVVNfRkFJTFVSRSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZFB1YmxpY1NhbWxDZXJ0aWZpY2F0ZShmaWxlRGF0YTogRmlsZSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudXBsb2FkUHVibGljU2FtbENlcnRpZmljYXRlLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuVVBMT0FEX1NBTUxfUFVCTElDX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5VUExPQURfU0FNTF9QVUJMSUNfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlVQTE9BRF9TQU1MX1BVQkxJQ19GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIGZpbGVEYXRhLFxuICAgICAgICBdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBsb2FkUHJpdmF0ZVNhbWxDZXJ0aWZpY2F0ZShmaWxlRGF0YTogRmlsZSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudXBsb2FkUHJpdmF0ZVNhbWxDZXJ0aWZpY2F0ZSxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLlVQTE9BRF9TQU1MX1BSSVZBVEVfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlVQTE9BRF9TQU1MX1BSSVZBVEVfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlVQTE9BRF9TQU1MX1BSSVZBVEVfRkFJTFVSRSxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBmaWxlRGF0YSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZFB1YmxpY0xkYXBDZXJ0aWZpY2F0ZShmaWxlRGF0YTogRmlsZSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudXBsb2FkUHVibGljTGRhcENlcnRpZmljYXRlLFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuVVBMT0FEX0xEQVBfUFVCTElDX1NVQ0NFU1MsXG4gICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgZmlsZURhdGEsXG4gICAgICAgIF0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGxvYWRQcml2YXRlTGRhcENlcnRpZmljYXRlKGZpbGVEYXRhOiBGaWxlKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC51cGxvYWRQcml2YXRlTGRhcENlcnRpZmljYXRlLFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuVVBMT0FEX0xEQVBfUFJJVkFURV9TVUNDRVNTLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIGZpbGVEYXRhLFxuICAgICAgICBdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBsb2FkSWRwU2FtbENlcnRpZmljYXRlKGZpbGVEYXRhOiBGaWxlKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC51cGxvYWRJZHBTYW1sQ2VydGlmaWNhdGUsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5VUExPQURfU0FNTF9JRFBfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlVQTE9BRF9TQU1MX0lEUF9TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuVVBMT0FEX1NBTUxfSURQX0ZBSUxVUkUsXG4gICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgZmlsZURhdGEsXG4gICAgICAgIF0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVQdWJsaWNTYW1sQ2VydGlmaWNhdGUoKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5kZWxldGVQdWJsaWNTYW1sQ2VydGlmaWNhdGUsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5ERUxFVEVfU0FNTF9QVUJMSUNfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLkRFTEVURV9TQU1MX1BVQkxJQ19TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuREVMRVRFX1NBTUxfUFVCTElDX0ZBSUxVUkUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVQcml2YXRlU2FtbENlcnRpZmljYXRlKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZGVsZXRlUHJpdmF0ZVNhbWxDZXJ0aWZpY2F0ZSxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLkRFTEVURV9TQU1MX1BSSVZBVEVfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLkRFTEVURV9TQU1MX1BSSVZBVEVfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLkRFTEVURV9TQU1MX1BSSVZBVEVfRkFJTFVSRSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVB1YmxpY0xkYXBDZXJ0aWZpY2F0ZSgpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmRlbGV0ZVB1YmxpY0xkYXBDZXJ0aWZpY2F0ZSxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLkRFTEVURV9MREFQX1BVQkxJQ19TVUNDRVNTLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUHJpdmF0ZUxkYXBDZXJ0aWZpY2F0ZSgpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmRlbGV0ZVByaXZhdGVMZGFwQ2VydGlmaWNhdGUsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5ERUxFVEVfTERBUF9QUklWQVRFX1NVQ0NFU1MsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVJZHBTYW1sQ2VydGlmaWNhdGUoKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5kZWxldGVJZHBTYW1sQ2VydGlmaWNhdGUsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5ERUxFVEVfU0FNTF9JRFBfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLkRFTEVURV9TQU1MX0lEUF9TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuREVMRVRFX1NBTUxfSURQX0ZBSUxVUkUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0RWxhc3RpY3NlYXJjaChjb25maWc6IGFueSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudGVzdEVsYXN0aWNzZWFyY2gsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5URVNUX0VMQVNUSUNTRUFSQ0hfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlRFU1RfRUxBU1RJQ1NFQVJDSF9TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuVEVTVF9FTEFTVElDU0VBUkNIX0ZBSUxVUkUsXG4gICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICBdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHVyZ2VFbGFzdGljc2VhcmNoSW5kZXhlcygpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LnB1cmdlRWxhc3RpY3NlYXJjaEluZGV4ZXMsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5QVVJHRV9FTEFTVElDU0VBUkNIX0lOREVYRVNfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlBVUkdFX0VMQVNUSUNTRUFSQ0hfSU5ERVhFU19TVUNDRVNTLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuUFVSR0VfRUxBU1RJQ1NFQVJDSF9JTkRFWEVTX0ZBSUxVUkUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGxvYWRMaWNlbnNlKGZpbGVEYXRhOiBGaWxlKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC51cGxvYWRMaWNlbnNlLFxuICAgICAgICBvblJlcXVlc3Q6IEFkbWluVHlwZXMuVVBMT0FEX0xJQ0VOU0VfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLlVQTE9BRF9MSUNFTlNFX1NVQ0NFU1MsXG4gICAgICAgIG9uRmFpbHVyZTogQWRtaW5UeXBlcy5VUExPQURfTElDRU5TRV9GQUlMVVJFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIGZpbGVEYXRhLFxuICAgICAgICBdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTGljZW5zZSgpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LnJlbW92ZUxpY2Vuc2UsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5SRU1PVkVfTElDRU5TRV9SRVFVRVNULFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuUkVNT1ZFX0xJQ0VOU0VfU1VDQ0VTUyxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLlJFTU9WRV9MSUNFTlNFX0ZBSUxVUkUsXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbmFseXRpY3MobmFtZTogc3RyaW5nLCB0ZWFtSWQgPSAnJyk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoRnVuYywgZ2V0U3RhdGU6IEdldFN0YXRlRnVuYykgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7dHlwZTogQWRtaW5UeXBlcy5HRVRfQU5BTFlUSUNTX1JFUVVFU1QsIGRhdGE6IG51bGx9KTtcblxuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBDbGllbnQ0LmdldEFuYWx5dGljcyhuYW1lLCB0ZWFtSWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhbXG4gICAgICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuR0VUX0FOQUxZVElDU19GQUlMVVJFLCBlcnJvcn0sXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhY3Rpb25zOiBBY3Rpb25bXSA9IFt7dHlwZTogQWRtaW5UeXBlcy5HRVRfQU5BTFlUSUNTX1NVQ0NFU1MsIGRhdGE6IG51bGx9XTtcbiAgICAgICAgaWYgKHRlYW1JZCA9PT0gJycpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7dHlwZTogQWRtaW5UeXBlcy5SRUNFSVZFRF9TWVNURU1fQU5BTFlUSUNTLCBkYXRhLCBuYW1lfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goe3R5cGU6IEFkbWluVHlwZXMuUkVDRUlWRURfVEVBTV9BTkFMWVRJQ1MsIGRhdGEsIG5hbWUsIHRlYW1JZH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKGFjdGlvbnMpKTtcblxuICAgICAgICByZXR1cm4ge2RhdGF9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFuZGFyZEFuYWx5dGljcyh0ZWFtSWQgPSAnJyk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBnZXRBbmFseXRpY3MoJ3N0YW5kYXJkJywgdGVhbUlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFkdmFuY2VkQW5hbHl0aWNzKHRlYW1JZCA9ICcnKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGdldEFuYWx5dGljcygnZXh0cmFfY291bnRzJywgdGVhbUlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc3RzUGVyRGF5QW5hbHl0aWNzKHRlYW1JZCA9ICcnKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGdldEFuYWx5dGljcygncG9zdF9jb3VudHNfZGF5JywgdGVhbUlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvdFBvc3RzUGVyRGF5QW5hbHl0aWNzKHRlYW1JZCA9ICcnKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGdldEFuYWx5dGljcygnYm90X3Bvc3RfY291bnRzX2RheScsIHRlYW1JZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2Vyc1BlckRheUFuYWx5dGljcyh0ZWFtSWQgPSAnJyk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBnZXRBbmFseXRpY3MoJ3VzZXJfY291bnRzX3dpdGhfcG9zdHNfZGF5JywgdGVhbUlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZFBsdWdpbihmaWxlRGF0YTogRmlsZSwgZm9yY2UgPSBmYWxzZSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoRnVuYywgZ2V0U3RhdGU6IEdldFN0YXRlRnVuYykgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7dHlwZTogQWRtaW5UeXBlcy5VUExPQURfUExVR0lOX1JFUVVFU1QsIGRhdGE6IG51bGx9KTtcblxuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBDbGllbnQ0LnVwbG9hZFBsdWdpbihmaWxlRGF0YSwgZm9yY2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhbXG4gICAgICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuVVBMT0FEX1BMVUdJTl9GQUlMVVJFLCBlcnJvcn0sXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChiYXRjaEFjdGlvbnMoW1xuICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuVVBMT0FEX1BMVUdJTl9TVUNDRVNTLCBkYXRhOiBudWxsfSxcbiAgICAgICAgXSkpO1xuXG4gICAgICAgIHJldHVybiB7ZGF0YX07XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGxQbHVnaW5Gcm9tVXJsKHVybDogc3RyaW5nLCBmb3JjZSA9IGZhbHNlKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe3R5cGU6IEFkbWluVHlwZXMuSU5TVEFMTF9QTFVHSU5fRlJPTV9VUkxfUkVRVUVTVCwgZGF0YTogbnVsbH0pO1xuXG4gICAgICAgIGxldCBkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IGF3YWl0IENsaWVudDQuaW5zdGFsbFBsdWdpbkZyb21VcmwodXJsLCBmb3JjZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKFtcbiAgICAgICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5JTlNUQUxMX1BMVUdJTl9GUk9NX1VSTF9GQUlMVVJFLCBlcnJvcn0sXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaCh7dHlwZTogQWRtaW5UeXBlcy5JTlNUQUxMX1BMVUdJTl9GUk9NX1VSTF9TVUNDRVNTLCBkYXRhOiBudWxsfSk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGx1Z2lucygpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmdldFBsdWdpbnMsXG4gICAgICAgIG9uUmVxdWVzdDogQWRtaW5UeXBlcy5HRVRfUExVR0lOX1JFUVVFU1QsXG4gICAgICAgIG9uU3VjY2VzczogW0FkbWluVHlwZXMuR0VUX1BMVUdJTl9TVUNDRVNTLCBBZG1pblR5cGVzLlJFQ0VJVkVEX1BMVUdJTlNdLFxuICAgICAgICBvbkZhaWx1cmU6IEFkbWluVHlwZXMuR0VUX1BMVUdJTl9GQUlMVVJFLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGx1Z2luU3RhdHVzZXMoKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5nZXRQbHVnaW5TdGF0dXNlcyxcbiAgICAgICAgb25SZXF1ZXN0OiBBZG1pblR5cGVzLkdFVF9QTFVHSU5fU1RBVFVTRVNfUkVRVUVTVCxcbiAgICAgICAgb25TdWNjZXNzOiBbQWRtaW5UeXBlcy5HRVRfUExVR0lOX1NUQVRVU0VTX1NVQ0NFU1MsIEFkbWluVHlwZXMuUkVDRUlWRURfUExVR0lOX1NUQVRVU0VTXSxcbiAgICAgICAgb25GYWlsdXJlOiBBZG1pblR5cGVzLkdFVF9QTFVHSU5fU1RBVFVTRVNfRkFJTFVSRSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVBsdWdpbihwbHVnaW5JZDogc3RyaW5nKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaDogRGlzcGF0Y2hGdW5jLCBnZXRTdGF0ZTogR2V0U3RhdGVGdW5jKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHt0eXBlOiBBZG1pblR5cGVzLlJFTU9WRV9QTFVHSU5fUkVRVUVTVCwgZGF0YTogcGx1Z2luSWR9KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgQ2xpZW50NC5yZW1vdmVQbHVnaW4ocGx1Z2luSWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhbXG4gICAgICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuUkVNT1ZFX1BMVUdJTl9GQUlMVVJFLCBlcnJvciwgZGF0YTogcGx1Z2luSWR9LFxuICAgICAgICAgICAgICAgIGxvZ0Vycm9yKGVycm9yKSxcbiAgICAgICAgICAgIF0pKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3J9O1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKFtcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLlJFTU9WRV9QTFVHSU5fU1VDQ0VTUywgZGF0YTogbnVsbH0sXG4gICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5SRU1PVkVEX1BMVUdJTiwgZGF0YTogcGx1Z2luSWR9LFxuICAgICAgICBdKSk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhOiB0cnVlfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlUGx1Z2luKHBsdWdpbklkOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe3R5cGU6IEFkbWluVHlwZXMuRU5BQkxFX1BMVUdJTl9SRVFVRVNULCBkYXRhOiBwbHVnaW5JZH0pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBDbGllbnQ0LmVuYWJsZVBsdWdpbihwbHVnaW5JZCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKFtcbiAgICAgICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5FTkFCTEVfUExVR0lOX0ZBSUxVUkUsIGVycm9yLCBkYXRhOiBwbHVnaW5JZH0sXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChiYXRjaEFjdGlvbnMoW1xuICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuRU5BQkxFX1BMVUdJTl9TVUNDRVNTLCBkYXRhOiBudWxsfSxcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLkVOQUJMRURfUExVR0lOLCBkYXRhOiBwbHVnaW5JZH0sXG4gICAgICAgIF0pKTtcblxuICAgICAgICByZXR1cm4ge2RhdGE6IHRydWV9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlUGx1Z2luKHBsdWdpbklkOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe3R5cGU6IEFkbWluVHlwZXMuRElTQUJMRV9QTFVHSU5fUkVRVUVTVCwgZGF0YTogcGx1Z2luSWR9KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgQ2xpZW50NC5kaXNhYmxlUGx1Z2luKHBsdWdpbklkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGZvcmNlTG9nb3V0SWZOZWNlc3NhcnkoZXJyb3IsIGRpc3BhdGNoLCBnZXRTdGF0ZSk7XG4gICAgICAgICAgICBkaXNwYXRjaChiYXRjaEFjdGlvbnMoW1xuICAgICAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLkRJU0FCTEVfUExVR0lOX0ZBSUxVUkUsIGVycm9yLCBkYXRhOiBwbHVnaW5JZH0sXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChiYXRjaEFjdGlvbnMoW1xuICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuRElTQUJMRV9QTFVHSU5fU1VDQ0VTUywgZGF0YTogbnVsbH0sXG4gICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5ESVNBQkxFRF9QTFVHSU4sIGRhdGE6IHBsdWdpbklkfSxcbiAgICAgICAgXSkpO1xuXG4gICAgICAgIHJldHVybiB7ZGF0YTogdHJ1ZX07XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNhbWxNZXRhZGF0YUZyb21JZHAoc2FtbE1ldGFkYXRhVVJMOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmdldFNhbWxNZXRhZGF0YUZyb21JZHAsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5SRUNFSVZFRF9TQU1MX01FVEFEQVRBX1JFU1BPTlNFLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHNhbWxNZXRhZGF0YVVSTCxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNhbWxJZHBDZXJ0aWZpY2F0ZUZyb21NZXRhZGF0YShjZXJ0RGF0YTogc3RyaW5nKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5zZXRTYW1sSWRwQ2VydGlmaWNhdGVGcm9tTWV0YWRhdGEsXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5TRVRfU0FNTF9JRFBfU1VDQ0VTUyxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBjZXJ0RGF0YSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRXYXJuTWV0cmljQWNrKHdhcm5NZXRyaWNJZDogc3RyaW5nLCBmb3JjZUFjazogYm9vbGVhbikge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoRnVuYykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgQ2xpZW50NC50cmFja0V2ZW50KCdhcGknLCAnYXBpX3JlcXVlc3Rfc2VuZF9tZXRyaWNfYWNrJywge3dhcm5NZXRyaWNJZH0pO1xuICAgICAgICAgICAgYXdhaXQgQ2xpZW50NC5zZW5kV2Fybk1ldHJpY0Fjayh3YXJuTWV0cmljSWQsIGZvcmNlQWNrKTtcbiAgICAgICAgICAgIHJldHVybiB7ZGF0YTogdHJ1ZX07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKGxvZ0Vycm9yKGUpKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3I6IGUubWVzc2FnZX07XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YVJldGVudGlvbkN1c3RvbVBvbGljaWVzKHBhZ2UgPSAwLCBwZXJQYWdlID0gMTApOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhID0gYXdhaXQgQ2xpZW50NC5nZXREYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWNpZXMocGFnZSwgcGVyUGFnZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBZG1pblR5cGVzLlJFQ0VJVkVEX0RBVEFfUkVURU5USU9OX0NVU1RPTV9QT0xJQ0lFUyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4ge2Vycm9yfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuUkVDRUlWRURfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDSUVTLCBkYXRhfSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4ge2RhdGF9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWN5KGlkOiBzdHJpbmcpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhID0gYXdhaXQgQ2xpZW50NC5nZXREYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWN5KGlkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGZvcmNlTG9nb3V0SWZOZWNlc3NhcnkoZXJyb3IsIGRpc3BhdGNoLCBnZXRTdGF0ZSk7XG4gICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEFkbWluVHlwZXMuUkVDRUlWRURfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDWSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4ge2Vycm9yfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAge3R5cGU6IEFkbWluVHlwZXMuUkVDRUlWRURfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDWSwgZGF0YX0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRGF0YVJldGVudGlvbkN1c3RvbVBvbGljeShpZDogc3RyaW5nKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaDogRGlzcGF0Y2hGdW5jLCBnZXRTdGF0ZTogR2V0U3RhdGVGdW5jKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBDbGllbnQ0LmRlbGV0ZURhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3koaWQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWRtaW5UeXBlcy5ERUxFVEVfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDWV9GQUlMVVJFLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3J9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgfTtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5ERUxFVEVfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDWV9TVUNDRVNTLCBkYXRhfSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4ge2RhdGF9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWN5VGVhbXMoaWQ6IHN0cmluZywgcGFnZSA9IDAsIHBlclBhZ2U6IG51bWJlciA9IEdlbmVyYWwuVEVBTVNfQ0hVTktfU0laRSwgaW5jbHVkZVRvdGFsQ291bnQgPSBmYWxzZSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoRnVuYywgZ2V0U3RhdGU6IEdldFN0YXRlRnVuYykgPT4ge1xuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBDbGllbnQ0LmdldERhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lUZWFtcyhpZCwgcGFnZSwgcGVyUGFnZSwgaW5jbHVkZVRvdGFsQ291bnQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZm9yY2VMb2dvdXRJZk5lY2Vzc2FyeShlcnJvciwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQWRtaW5UeXBlcy5SRUNFSVZFRF9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX1RFQU1TLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3J9O1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5SRUNFSVZFRF9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX1RFQU1TLCBkYXRhfSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4ge2RhdGF9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWN5Q2hhbm5lbHMoaWQ6IHN0cmluZywgcGFnZSA9IDAsIHBlclBhZ2U6IG51bWJlciA9IEdlbmVyYWwuVEVBTVNfQ0hVTktfU0laRSk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoRnVuYywgZ2V0U3RhdGU6IEdldFN0YXRlRnVuYykgPT4ge1xuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBDbGllbnQ0LmdldERhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lDaGFubmVscyhpZCwgcGFnZSwgcGVyUGFnZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBZG1pblR5cGVzLlJFQ0VJVkVEX0RBVEFfUkVURU5USU9OX0NVU1RPTV9QT0xJQ1lfQ0hBTk5FTFMsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLlJFQ0VJVkVEX0RBVEFfUkVURU5USU9OX0NVU1RPTV9QT0xJQ1lfQ0hBTk5FTFMsIGRhdGF9LFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7ZGF0YX07XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaERhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lUZWFtcyhpZDogc3RyaW5nLCB0ZXJtOiBzdHJpbmcsIG9wdHM6IFRlYW1TZWFyY2hPcHRzKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaDogRGlzcGF0Y2hGdW5jLCBnZXRTdGF0ZTogR2V0U3RhdGVGdW5jKSA9PiB7XG4gICAgICAgIGxldCBkYXRhO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IGF3YWl0IENsaWVudDQuc2VhcmNoRGF0YVJldGVudGlvbkN1c3RvbVBvbGljeVRlYW1zKGlkLCB0ZXJtLCBvcHRzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGZvcmNlTG9nb3V0SWZOZWNlc3NhcnkoZXJyb3IsIGRpc3BhdGNoLCBnZXRTdGF0ZSk7XG4gICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEFkbWluVHlwZXMuUkVDRUlWRURfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDWV9URUFNU19TRUFSQ0gsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLlJFQ0VJVkVEX0RBVEFfUkVURU5USU9OX0NVU1RPTV9QT0xJQ1lfVEVBTVNfU0VBUkNILCBkYXRhfSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4ge2RhdGF9O1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hEYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWN5Q2hhbm5lbHMoaWQ6IHN0cmluZywgdGVybTogc3RyaW5nLCBvcHRzOiBDaGFubmVsU2VhcmNoT3B0cyk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBhc3luYyAoZGlzcGF0Y2g6IERpc3BhdGNoRnVuYywgZ2V0U3RhdGU6IEdldFN0YXRlRnVuYykgPT4ge1xuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBDbGllbnQ0LnNlYXJjaERhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lDaGFubmVscyhpZCwgdGVybSwgb3B0cyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBZG1pblR5cGVzLlJFQ0VJVkVEX0RBVEFfUkVURU5USU9OX0NVU1RPTV9QT0xJQ1lfQ0hBTk5FTFNfU0VBUkNILFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3J9O1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICB7dHlwZTogQWRtaW5UeXBlcy5SRUNFSVZFRF9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX0NIQU5ORUxTX1NFQVJDSCwgZGF0YX0sXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHtkYXRhfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGF0YVJldGVudGlvbkN1c3RvbVBvbGljeShwb2xpY3k6IENyZWF0ZURhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3kpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmNyZWF0ZURhdGFSZXRlbnRpb25Qb2xpY3ksXG4gICAgICAgIG9uU3VjY2VzczogQWRtaW5UeXBlcy5DUkVBVEVfREFUQV9SRVRFTlRJT05fQ1VTVE9NX1BPTElDWV9TVUNDRVNTLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHBvbGljeSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZURhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3koaWQ6IHN0cmluZywgcG9saWN5OiBDcmVhdGVEYXRhUmV0ZW50aW9uQ3VzdG9tUG9saWN5KTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC51cGRhdGVEYXRhUmV0ZW50aW9uUG9saWN5LFxuICAgICAgICBvblN1Y2Nlc3M6IEFkbWluVHlwZXMuVVBEQVRFX0RBVEFfUkVURU5USU9OX0NVU1RPTV9QT0xJQ1lfU1VDQ0VTUyxcbiAgICAgICAgcGFyYW1zOiBbXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHBvbGljeSxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZERhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lUZWFtcyhpZDogc3RyaW5nLCB0ZWFtczogc3RyaW5nW10pOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmFkZERhdGFSZXRlbnRpb25Qb2xpY3lUZWFtcyxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLkFERF9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX1RFQU1TX1NVQ0NFU1MsXG4gICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0ZWFtcyxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lUZWFtcyhpZDogc3RyaW5nLCB0ZWFtczogc3RyaW5nW10pOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IENsaWVudDQucmVtb3ZlRGF0YVJldGVudGlvblBvbGljeVRlYW1zKGlkLCB0ZWFtcyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBZG1pblR5cGVzLlJFTU9WRV9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX1RFQU1TX0ZBSUxVUkUsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIHRlYW1zLFxuICAgICAgICB9O1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLlJFTU9WRV9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX1RFQU1TX1NVQ0NFU1MsIGRhdGF9LFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7ZGF0YX07XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZERhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lDaGFubmVscyhpZDogc3RyaW5nLCBjaGFubmVsczogc3RyaW5nW10pOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmFkZERhdGFSZXRlbnRpb25Qb2xpY3lDaGFubmVscyxcbiAgICAgICAgb25TdWNjZXNzOiBBZG1pblR5cGVzLkFERF9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX0NIQU5ORUxTX1NVQ0NFU1MsXG4gICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBjaGFubmVscyxcbiAgICAgICAgXSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURhdGFSZXRlbnRpb25DdXN0b21Qb2xpY3lDaGFubmVscyhpZDogc3RyaW5nLCBjaGFubmVsczogc3RyaW5nW10pOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IENsaWVudDQucmVtb3ZlRGF0YVJldGVudGlvblBvbGljeUNoYW5uZWxzKGlkLCBjaGFubmVscyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBmb3JjZUxvZ291dElmTmVjZXNzYXJ5KGVycm9yLCBkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBZG1pblR5cGVzLlJFTU9WRV9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX0NIQU5ORUxTX0ZBSUxVUkUsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIGNoYW5uZWxzLFxuICAgICAgICB9O1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIHt0eXBlOiBBZG1pblR5cGVzLlJFTU9WRV9EQVRBX1JFVEVOVElPTl9DVVNUT01fUE9MSUNZX0NIQU5ORUxTX1NVQ0NFU1MsIGRhdGF9LFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7ZGF0YX07XG4gICAgfTtcbn1cbiIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IHtjcmVhdGVTZWxlY3Rvcn0gZnJvbSAncmVzZWxlY3QnO1xuXG5pbXBvcnQge2dldE15Q2hhbm5lbE1lbWJlcnNoaXBzLCBnZXRBbGxDaGFubmVsc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2NoYW5uZWxzJztcbmltcG9ydCB7Z2V0Q3VycmVudFVzZXJJZH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3VzZXJzJztcblxuaW1wb3J0IHtHbG9iYWxTdGF0ZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvc3RvcmUnO1xuaW1wb3J0IHtDaGFubmVsfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9jaGFubmVscyc7XG5pbXBvcnQge1VzZXJQcm9maWxlLCBVc2VyUHJvZmlsZVdpdGhMYXN0Vmlld0F0fSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy91c2Vycyc7XG5pbXBvcnQge2dldERpcmVjdENoYW5uZWxOYW1lfSBmcm9tICdjaGF0dGluZy1yZWR1eC91dGlscy9jaGFubmVsX3V0aWxzJztcbmltcG9ydCB7R2VuZXJhbH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvY29uc3RhbnRzJztcblxuaW1wb3J0IHtOYW1lTWFwcGVkT2JqZWN0c30gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvdXRpbGl0aWVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VBZGRMYXN0Vmlld0F0VG9Qcm9maWxlcygpOiAoc3RhdGU6IEdsb2JhbFN0YXRlLCBwcm9maWxlczogVXNlclByb2ZpbGVbXSkgPT4gVXNlclByb2ZpbGVXaXRoTGFzdFZpZXdBdFtdIHtcbiAgICByZXR1cm4gY3JlYXRlU2VsZWN0b3IoXG4gICAgICAgIGdldEN1cnJlbnRVc2VySWQsXG4gICAgICAgIGdldE15Q2hhbm5lbE1lbWJlcnNoaXBzLFxuICAgICAgICBnZXRBbGxDaGFubmVscyxcbiAgICAgICAgKHN0YXRlOiBHbG9iYWxTdGF0ZSwgcHJvZmlsZXM6IFVzZXJQcm9maWxlW10pID0+IHByb2ZpbGVzLFxuICAgICAgICAoY3VycmVudFVzZXJJZCwgbWVtYmVyc2hpcHMsIGFsbENoYW5uZWxzLCBwcm9maWxlcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgRE1jaGFubmVscyA9IE9iamVjdC52YWx1ZXMoYWxsQ2hhbm5lbHMpLnJlZHVjZSgoYWNjOiBOYW1lTWFwcGVkT2JqZWN0czxDaGFubmVsPiwgY2hhbm5lbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjaGFubmVsLnR5cGUgPT09IEdlbmVyYWwuRE1fQ0hBTk5FTCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAgICAgICAgICAgICAgW2NoYW5uZWwubmFtZV06IGNoYW5uZWwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCB7fSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZFByb2ZpbGVzOiBVc2VyUHJvZmlsZVdpdGhMYXN0Vmlld0F0W10gPSBwcm9maWxlcy5tYXAoKHByb2ZpbGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVsTmFtZSA9IGdldERpcmVjdENoYW5uZWxOYW1lKGN1cnJlbnRVc2VySWQsIHByb2ZpbGUuaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWwgPSBETWNoYW5uZWxzW2NoYW5uZWxOYW1lXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZW1iZXJzaGlwID0gY2hhbm5lbCA/IG1lbWJlcnNoaXBzW2NoYW5uZWwuaWRdIDogbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5wcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICBsYXN0X3ZpZXdlZF9hdDogY2hhbm5lbCAmJiBtZW1iZXJzaGlwID8gbWVtYmVyc2hpcC5sYXN0X3ZpZXdlZF9hdCA6IDAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFByb2ZpbGVzO1xuICAgICAgICB9LFxuICAgICk7XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCB7Z2V0Q3VycmVudFRlYW1JZCwgZ2V0VGVhbUJ5TmFtZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3RlYW1zJztcbmltcG9ydCB7Z2V0Q3VycmVudFVzZXJJZH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3VzZXJzJztcblxuaW1wb3J0IGxvY2FsU3RvcmFnZVN0b3JlIGZyb20gJyRzdG9yZXMvbG9jYWxfc3RvcmFnZV9zdG9yZSc7XG5cbi8vIGdldExhc3RWaWV3ZWRDaGFubmVsTmFtZSBjb21iaW5lcyBkYXRhIGZyb20gdGhlIFJlZHV4IHN0b3JlIGFuZCBsb2NhbFN0b3JhZ2UgdG8gcmV0dXJuIHRoZVxuLy8gcHJldmlvdXNseSBzZWxlY3RlZCBjaGFubmVsIG5hbWUsIHJldHVybmluZyB0aGUgZGVmYXVsdCBjaGFubmVsIGlmIG5vbmUgZXhpc3RzLlxuLy9cbi8vIFNlZSBMb2NhbFN0b3JhZ2VTdG9yZSBmb3IgY29udGV4dC5cbmV4cG9ydCBjb25zdCBnZXRMYXN0Vmlld2VkQ2hhbm5lbE5hbWUgPSAoc3RhdGUpID0+IHtcbiAgICBjb25zdCB1c2VySWQgPSBnZXRDdXJyZW50VXNlcklkKHN0YXRlKTtcbiAgICBjb25zdCB0ZWFtSWQgPSBnZXRDdXJyZW50VGVhbUlkKHN0YXRlKTtcblxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2VTdG9yZS5nZXRQcmV2aW91c0NoYW5uZWxOYW1lKHVzZXJJZCwgdGVhbUlkKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQZW51bHRpbWF0ZVZpZXdlZENoYW5uZWxOYW1lID0gKHN0YXRlKSA9PiB7XG4gICAgY29uc3QgdXNlcklkID0gZ2V0Q3VycmVudFVzZXJJZChzdGF0ZSk7XG4gICAgY29uc3QgdGVhbUlkID0gZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSk7XG5cbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlU3RvcmUuZ2V0UGVudWx0aW1hdGVDaGFubmVsTmFtZSh1c2VySWQsIHRlYW1JZCk7XG59O1xuXG4vLyBnZXRMYXN0Vmlld2VkQ2hhbm5lbE5hbWVCeVRlYW1OYW1lIGNvbWJpbmVzIGRhdGEgZnJvbSB0aGUgUmVkdXggc3RvcmUgYW5kIGxvY2FsU3RvcmFnZSB0byByZXR1cm5cbi8vIHRoZSB1cmwgdG8gdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQgY2hhbm5lbCwgcmV0dXJuaW5nIHRoZSBwYXRoIHRvIHRoZSBkZWZhdWx0IGNoYW5uZWwgaWYgbm9uZVxuLy8gZXhpc3RzLlxuLy9cbi8vIFNlZSBMb2NhbFN0b3JhZ2VTdG9yZSBmb3IgY29udGV4dC5cbmV4cG9ydCBjb25zdCBnZXRMYXN0Vmlld2VkQ2hhbm5lbE5hbWVCeVRlYW1OYW1lID0gKHN0YXRlLCB0ZWFtTmFtZSkgPT4ge1xuICAgIGNvbnN0IHVzZXJJZCA9IGdldEN1cnJlbnRVc2VySWQoc3RhdGUpO1xuICAgIGNvbnN0IHRlYW0gPSBnZXRUZWFtQnlOYW1lKHN0YXRlLCB0ZWFtTmFtZSk7XG4gICAgY29uc3QgdGVhbUlkID0gdGVhbSAmJiB0ZWFtLmlkO1xuXG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZVN0b3JlLmdldFByZXZpb3VzQ2hhbm5lbE5hbWUodXNlcklkLCB0ZWFtSWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFByZXZpb3VzVGVhbUlkID0gKHN0YXRlKSA9PiB7XG4gICAgY29uc3QgdXNlcklkID0gZ2V0Q3VycmVudFVzZXJJZChzdGF0ZSk7XG5cbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlU3RvcmUuZ2V0UHJldmlvdXNUZWFtSWQodXNlcklkKTtcbn07XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmV4cG9ydCBjb25zdCBnZXRMYXN0UG9zdHNBcGlUaW1lRm9yQ2hhbm5lbCA9IChzdGF0ZSwgY2hhbm5lbElkKSA9PiBzdGF0ZS52aWV3cy5jaGFubmVsLmxhc3RHZXRQb3N0c1tjaGFubmVsSWRdO1xuZXhwb3J0IGNvbnN0IGdldFRvYXN0U3RhdHVzID0gKHN0YXRlKSA9PiBzdGF0ZS52aWV3cy5jaGFubmVsLnRvYXN0U3RhdHVzO1xuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5pbXBvcnQge2JhdGNoQWN0aW9uc30gZnJvbSAncmVkdXgtYmF0Y2hlZC1hY3Rpb25zJztcblxuaW1wb3J0IHtcbiAgbGVhdmVDaGFubmVsIGFzIGxlYXZlQ2hhbm5lbFJlZHV4LFxuICBqb2luQ2hhbm5lbCxcbiAgbWFya0NoYW5uZWxBc1JlYWQsXG4gIHVuZmF2b3JpdGVDaGFubmVsLFxufSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL2NoYW5uZWxzJztcbmltcG9ydCAqIGFzIFBvc3RBY3Rpb25zIGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvcG9zdHMnO1xuaW1wb3J0IHtUZWFtVHlwZXN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbl90eXBlcyc7XG5pbXBvcnQge2F1dG9jb21wbGV0ZVVzZXJzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3VzZXJzJztcbmltcG9ydCB7c2VsZWN0VGVhbX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy90ZWFtcyc7XG5pbXBvcnQge1Bvc3RzLCBSZXF1ZXN0U3RhdHVzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9jb25zdGFudHMnO1xuXG5pbXBvcnQge1xuICBnZXRDaGFubmVsLFxuICBnZXRDaGFubmVsc05hbWVNYXBJbkN1cnJlbnRUZWFtLFxuICBnZXRDdXJyZW50Q2hhbm5lbCxcbiAgZ2V0UmVkaXJlY3RDaGFubmVsTmFtZUZvclRlYW0sXG4gIGdldE15Q2hhbm5lbHMsXG4gIGdldE15Q2hhbm5lbE1lbWJlcnNoaXBzLFxuICBnZXRBbGxEaXJlY3RDaGFubmVsc05hbWVNYXBJbkN1cnJlbnRUZWFtLFxuICBpc0Zhdm9yaXRlQ2hhbm5lbCxcbiAgaXNNYW51YWxseVVucmVhZCxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2NoYW5uZWxzJztcbmltcG9ydCB7XG4gIGdldEN1cnJlbnRSZWxhdGl2ZVRlYW1VcmwsXG4gIGdldEN1cnJlbnRUZWFtLFxuICBnZXRDdXJyZW50VGVhbUlkLFxuICBnZXRUZWFtc0xpc3QsXG59IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy90ZWFtcyc7XG5pbXBvcnQge2dldEN1cnJlbnRVc2VySWQsIGdldFVzZXJCeVVzZXJuYW1lfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdXNlcnMnO1xuaW1wb3J0IHtnZXRNb3N0UmVjZW50UG9zdElkSW5DaGFubmVsLCBnZXRQb3N0fSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvcG9zdHMnO1xuaW1wb3J0IHttYWtlQWRkTGFzdFZpZXdBdFRvUHJvZmlsZXN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy91dGlscyc7XG5cbmltcG9ydCB7Z2V0Q2hhbm5lbEJ5TmFtZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdXRpbHMvY2hhbm5lbF91dGlscyc7XG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2NoYXR0aW5nLXJlZHV4L3V0aWxzL2V2ZW50X2VtaXR0ZXInO1xuXG5pbXBvcnQge29wZW5EaXJlY3RDaGFubmVsVG9Vc2VySWR9IGZyb20gJyRhY3Rpb25zL2NoYW5uZWxfYWN0aW9ucy5qc3gnO1xuaW1wb3J0IHtnZXRMYXN0Vmlld2VkQ2hhbm5lbE5hbWV9IGZyb20gJyRzZWxlY3RvcnMvbG9jYWxfc3RvcmFnZSc7XG5pbXBvcnQge2dldExhc3RQb3N0c0FwaVRpbWVGb3JDaGFubmVsfSBmcm9tICckc2VsZWN0b3JzL3ZpZXdzL2NoYW5uZWwnO1xuaW1wb3J0IHtnZXRTb2NrZXRTdGF0dXN9IGZyb20gJyRzZWxlY3RvcnMvdmlld3Mvd2Vic29ja2V0JztcblxuaW1wb3J0IHticm93c2VySGlzdG9yeX0gZnJvbSAnJHV0aWxzL2Jyb3dzZXJfaGlzdG9yeSc7XG5pbXBvcnQge0NvbnN0YW50cywgQWN0aW9uVHlwZXMsIEV2ZW50VHlwZXMsIFBvc3RSZXF1ZXN0VHlwZXN9IGZyb20gJyR1dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHtpc01vYmlsZX0gZnJvbSAnJHV0aWxzL3V0aWxzLmpzeCc7XG5pbXBvcnQgTG9jYWxTdG9yYWdlU3RvcmUgZnJvbSAnJHN0b3Jlcy9sb2NhbF9zdG9yYWdlX3N0b3JlLmpzeCc7XG5pbXBvcnQge2lzQXJjaGl2ZWRDaGFubmVsfSBmcm9tICckdXRpbHMvY2hhbm5lbF91dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0FuZFNldE1vYmlsZVZpZXcoKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5VUERBVEVfTU9CSUxFX1ZJRVcsXG4gICAgICBkYXRhOiBpc01vYmlsZSgpLFxuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ29Ub0xhc3RWaWV3ZWRDaGFubmVsKCkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBjdXJyZW50Q2hhbm5lbCA9IGdldEN1cnJlbnRDaGFubmVsKHN0YXRlKSB8fCB7fTtcbiAgICBjb25zdCBjaGFubmVsc0luVGVhbSA9IGdldENoYW5uZWxzTmFtZU1hcEluQ3VycmVudFRlYW0oc3RhdGUpO1xuICAgIGNvbnN0IGRpcmVjdENoYW5uZWwgPSBnZXRBbGxEaXJlY3RDaGFubmVsc05hbWVNYXBJbkN1cnJlbnRUZWFtKHN0YXRlKTtcbiAgICBjb25zdCBjaGFubmVscyA9IE9iamVjdC5hc3NpZ24oe30sIGNoYW5uZWxzSW5UZWFtLCBkaXJlY3RDaGFubmVsKTtcblxuICAgIGxldCBjaGFubmVsVG9Td2l0Y2hUbyA9IGdldENoYW5uZWxCeU5hbWUoY2hhbm5lbHMsIGdldExhc3RWaWV3ZWRDaGFubmVsTmFtZShzdGF0ZSkpO1xuXG4gICAgaWYgKGN1cnJlbnRDaGFubmVsLmlkID09PSBjaGFubmVsVG9Td2l0Y2hUby5pZCkge1xuICAgICAgY2hhbm5lbFRvU3dpdGNoVG8gPSBnZXRDaGFubmVsQnlOYW1lKGNoYW5uZWxzLCBnZXRSZWRpcmVjdENoYW5uZWxOYW1lRm9yVGVhbShzdGF0ZSwgZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGlzcGF0Y2goc3dpdGNoVG9DaGFubmVsKGNoYW5uZWxUb1N3aXRjaFRvKSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hUb0NoYW5uZWxCeUlkKGNoYW5uZWxJZCkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBjaGFubmVsID0gZ2V0Q2hhbm5lbChzdGF0ZSwgY2hhbm5lbElkKTtcbiAgICByZXR1cm4gZGlzcGF0Y2goc3dpdGNoVG9DaGFubmVsKGNoYW5uZWwpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaFRvQ2hhbm5lbChjaGFubmVsKSB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHRlYW1VcmwgPSBnZXRDdXJyZW50UmVsYXRpdmVUZWFtVXJsKHN0YXRlKTtcblxuICAgIGlmIChjaGFubmVsLmZha2UgfHwgY2hhbm5lbC51c2VySWQpIHtcbiAgICAgIGNvbnN0IHVzZXJuYW1lID0gY2hhbm5lbC51c2VySWQgPyBjaGFubmVsLm5hbWUgOiBjaGFubmVsLmRpc3BsYXlfbmFtZTtcbiAgICAgIGNvbnN0IHVzZXIgPSBnZXRVc2VyQnlVc2VybmFtZShzdGF0ZSwgdXNlcm5hbWUpO1xuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHJldHVybiB7ZXJyb3I6IHRydWV9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkaXJlY3QgPSBhd2FpdCBkaXNwYXRjaChvcGVuRGlyZWN0Q2hhbm5lbFRvVXNlcklkKHVzZXIuaWQpKTtcbiAgICAgIGlmIChkaXJlY3QuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtlcnJvcjogdHJ1ZX07XG4gICAgICB9XG4gICAgICBicm93c2VySGlzdG9yeS5wdXNoKGAke3RlYW1Vcmx9L21lc3NhZ2VzL0Ake2NoYW5uZWwubmFtZX1gKTtcbiAgICB9IGVsc2UgaWYgKGNoYW5uZWwudHlwZSA9PT0gQ29uc3RhbnRzLkdNX0NIQU5ORUwpIHtcbiAgICAgIGNvbnN0IGdtQ2hhbm5lbCA9IGdldENoYW5uZWwoc3RhdGUsIGNoYW5uZWwuaWQpO1xuICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChgJHt0ZWFtVXJsfS9ncm91cC8ke2dtQ2hhbm5lbC5uYW1lfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBicm93c2VySGlzdG9yeS5wdXNoKGAke3RlYW1Vcmx9L2dyb3VwLyR7Y2hhbm5lbC5uYW1lfWApO1xuICAgIH1cblxuICAgIHJldHVybiB7ZGF0YTogdHJ1ZX07XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqb2luQ2hhbm5lbEJ5SWQoY2hhbm5lbElkKSB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBnZXRDdXJyZW50VXNlcklkKHN0YXRlKTtcbiAgICBjb25zdCBjdXJyZW50VGVhbUlkID0gZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSk7XG5cbiAgICByZXR1cm4gZGlzcGF0Y2goam9pbkNoYW5uZWwoY3VycmVudFVzZXJJZCwgY3VycmVudFRlYW1JZCwgY2hhbm5lbElkKSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsZWF2ZUNoYW5uZWwoY2hhbm5lbElkKSB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgbGV0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBjdXJyZW50VXNlcklkID0gZ2V0Q3VycmVudFVzZXJJZChzdGF0ZSk7XG4gICAgY29uc3QgY3VycmVudFRlYW0gPSBnZXRDdXJyZW50VGVhbShzdGF0ZSk7XG4gICAgY29uc3QgY2hhbm5lbCA9IGdldENoYW5uZWwoc3RhdGUsIGNoYW5uZWxJZCk7XG5cbiAgICBpZiAoaXNGYXZvcml0ZUNoYW5uZWwoc3RhdGUsIGNoYW5uZWxJZCkpIHtcbiAgICAgIGRpc3BhdGNoKHVuZmF2b3JpdGVDaGFubmVsKGNoYW5uZWxJZCkpO1xuICAgIH1cblxuICAgIGNvbnN0IHRlYW1VcmwgPSBnZXRDdXJyZW50UmVsYXRpdmVUZWFtVXJsKHN0YXRlKTtcblxuICAgIGlmICghaXNBcmNoaXZlZENoYW5uZWwoY2hhbm5lbCkpIHtcbiAgICAgIExvY2FsU3RvcmFnZVN0b3JlLnJlbW92ZVByZXZpb3VzQ2hhbm5lbE5hbWUoY3VycmVudFVzZXJJZCwgY3VycmVudFRlYW0uaWQsIHN0YXRlKTtcbiAgICB9XG4gICAgY29uc3Qge2Vycm9yfSA9IGF3YWl0IGRpc3BhdGNoKGxlYXZlQ2hhbm5lbFJlZHV4KGNoYW5uZWxJZCkpO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtlcnJvcn07XG4gICAgfVxuICAgIHN0YXRlID0gZ2V0U3RhdGUoKTtcblxuICAgIGNvbnN0IHByZXZDaGFubmVsTmFtZSA9IExvY2FsU3RvcmFnZVN0b3JlLmdldFByZXZpb3VzQ2hhbm5lbE5hbWUoY3VycmVudFVzZXJJZCwgY3VycmVudFRlYW0uaWQsIHN0YXRlKTtcbiAgICBjb25zdCBjaGFubmVsc0luVGVhbSA9IGdldENoYW5uZWxzTmFtZU1hcEluQ3VycmVudFRlYW0oc3RhdGUpO1xuICAgIGNvbnN0IHByZXZDaGFubmVsID0gZ2V0Q2hhbm5lbEJ5TmFtZShjaGFubmVsc0luVGVhbSwgcHJldkNoYW5uZWxOYW1lKTtcbiAgICBpZiAoIXByZXZDaGFubmVsIHx8ICFnZXRNeUNoYW5uZWxNZW1iZXJzaGlwcyhzdGF0ZSlbcHJldkNoYW5uZWwuaWRdKSB7XG4gICAgICBMb2NhbFN0b3JhZ2VTdG9yZS5yZW1vdmVQcmV2aW91c0NoYW5uZWxOYW1lKGN1cnJlbnRVc2VySWQsIGN1cnJlbnRUZWFtLmlkLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgZ2V0TXlDaGFubmVscyhnZXRTdGF0ZSgpKS5maWx0ZXIoKGMpID0+IGMudHlwZSA9PT0gQ29uc3RhbnRzLk9QRU5fQ0hBTk5FTCB8fCBjLnR5cGUgPT09IENvbnN0YW50cy5QUklWQVRFX0NIQU5ORUwpXG4gICAgICAgIC5sZW5ndGggPT09IDBcbiAgICApIHtcbiAgICAgIExvY2FsU3RvcmFnZVN0b3JlLnJlbW92ZVByZXZpb3VzQ2hhbm5lbE5hbWUoY3VycmVudFVzZXJJZCwgY3VycmVudFRlYW0uaWQsIHN0YXRlKTtcbiAgICAgIGRpc3BhdGNoKHNlbGVjdFRlYW0oJycpKTtcbiAgICAgIGRpc3BhdGNoKHt0eXBlOiBUZWFtVHlwZXMuTEVBVkVfVEVBTSwgZGF0YTogY3VycmVudFRlYW19KTtcbiAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaCh0ZWFtVXJsKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogdHJ1ZSxcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGVhdmVDaGFubmVsMihjaGFubmVsSWQpIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBsZXQgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBnZXRDdXJyZW50VXNlcklkKHN0YXRlKTtcbiAgICBjb25zdCBjdXJyZW50VGVhbSA9IGdldEN1cnJlbnRUZWFtKHN0YXRlKTtcbiAgICBjb25zdCBjaGFubmVsID0gZ2V0Q2hhbm5lbChzdGF0ZSwgY2hhbm5lbElkKTtcblxuICAgIGlmIChpc0Zhdm9yaXRlQ2hhbm5lbChzdGF0ZSwgY2hhbm5lbElkKSkge1xuICAgICAgZGlzcGF0Y2godW5mYXZvcml0ZUNoYW5uZWwoY2hhbm5lbElkKSk7XG4gICAgfVxuXG4gICAgaWYgKCFpc0FyY2hpdmVkQ2hhbm5lbChjaGFubmVsKSkge1xuICAgICAgTG9jYWxTdG9yYWdlU3RvcmUucmVtb3ZlUHJldmlvdXNDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCBjdXJyZW50VGVhbS5pZCwgc3RhdGUpO1xuICAgIH1cbiAgICBjb25zdCB7ZXJyb3J9ID0gYXdhaXQgZGlzcGF0Y2gobGVhdmVDaGFubmVsUmVkdXgoY2hhbm5lbElkKSk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4ge2Vycm9yfTtcbiAgICB9XG4gICAgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuXG4gICAgY29uc3QgcHJldkNoYW5uZWxOYW1lID0gTG9jYWxTdG9yYWdlU3RvcmUuZ2V0UHJldmlvdXNDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCBjdXJyZW50VGVhbS5pZCwgc3RhdGUpO1xuICAgIGNvbnN0IGNoYW5uZWxzSW5UZWFtID0gZ2V0Q2hhbm5lbHNOYW1lTWFwSW5DdXJyZW50VGVhbShzdGF0ZSk7XG4gICAgY29uc3QgcHJldkNoYW5uZWwgPSBnZXRDaGFubmVsQnlOYW1lKGNoYW5uZWxzSW5UZWFtLCBwcmV2Q2hhbm5lbE5hbWUpO1xuICAgIGlmICghcHJldkNoYW5uZWwgfHwgIWdldE15Q2hhbm5lbE1lbWJlcnNoaXBzKHN0YXRlKVtwcmV2Q2hhbm5lbC5pZF0pIHtcbiAgICAgIExvY2FsU3RvcmFnZVN0b3JlLnJlbW92ZVByZXZpb3VzQ2hhbm5lbE5hbWUoY3VycmVudFVzZXJJZCwgY3VycmVudFRlYW0uaWQsIHN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBnZXRNeUNoYW5uZWxzKGdldFN0YXRlKCkpLmZpbHRlcigoYykgPT4gYy50eXBlID09PSBDb25zdGFudHMuT1BFTl9DSEFOTkVMIHx8IGMudHlwZSA9PT0gQ29uc3RhbnRzLlBSSVZBVEVfQ0hBTk5FTClcbiAgICAgICAgLmxlbmd0aCA9PT0gMFxuICAgICkge1xuICAgICAgTG9jYWxTdG9yYWdlU3RvcmUucmVtb3ZlUHJldmlvdXNDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCBjdXJyZW50VGVhbS5pZCwgc3RhdGUpO1xuICAgICAgZGlzcGF0Y2goc2VsZWN0VGVhbSgnJykpO1xuICAgICAgZGlzcGF0Y2goe3R5cGU6IFRlYW1UeXBlcy5MRUFWRV9URUFNLCBkYXRhOiBjdXJyZW50VGVhbX0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogdHJ1ZSxcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGVhdmVEaXJlY3RDaGFubmVsKGNoYW5uZWxOYW1lKSB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBnZXRDdXJyZW50VXNlcklkKHN0YXRlKTtcbiAgICBjb25zdCB0ZWFtcyA9IGdldFRlYW1zTGlzdChzdGF0ZSk7IC8vIGRtcyBhcmUgc2hhcmVkIGFjcm9zcyB0ZWFtcyBidXQgb24gbG9jYWwgc3RvcmFnZSBhcmUgc2V0IGxpbmtlZCB0byBvbmUsIHdlIG5lZWQgdG8gbG9vayBpbnRvIGFsbC5cbiAgICB0ZWFtcy5mb3JFYWNoKChjdXJyZW50VGVhbSkgPT4ge1xuICAgICAgY29uc3QgcHJldmlvdXNDaGFubmVsID0gTG9jYWxTdG9yYWdlU3RvcmUuZ2V0UHJldmlvdXNDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCBjdXJyZW50VGVhbS5pZCwgc3RhdGUpO1xuICAgICAgY29uc3QgcGVudWx0aW1hdGVDaGFubmVsID0gTG9jYWxTdG9yYWdlU3RvcmUuZ2V0UGVudWx0aW1hdGVDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCBjdXJyZW50VGVhbS5pZCwgc3RhdGUpO1xuICAgICAgaWYgKGNoYW5uZWxOYW1lID09PSBwcmV2aW91c0NoYW5uZWwpIHtcbiAgICAgICAgTG9jYWxTdG9yYWdlU3RvcmUucmVtb3ZlUHJldmlvdXNDaGFubmVsTmFtZShjdXJyZW50VXNlcklkLCBjdXJyZW50VGVhbS5pZCwgc3RhdGUpO1xuICAgICAgfSBlbHNlIGlmIChjaGFubmVsTmFtZSA9PT0gcGVudWx0aW1hdGVDaGFubmVsKSB7XG4gICAgICAgIExvY2FsU3RvcmFnZVN0b3JlLnJlbW92ZVBlbnVsdGltYXRlQ2hhbm5lbE5hbWUoY3VycmVudFVzZXJJZCwgY3VycmVudFRlYW0uaWQsIHN0YXRlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogdHJ1ZSxcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXV0b2NvbXBsZXRlVXNlcnNJbkNoYW5uZWwocHJlZml4LCBjaGFubmVsSWQpIHtcbiAgY29uc3QgYWRkTGFzdFZpZXdBdFRvUHJvZmlsZXMgPSBtYWtlQWRkTGFzdFZpZXdBdFRvUHJvZmlsZXMoKTtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgY3VycmVudFRlYW1JZCA9IGdldEN1cnJlbnRUZWFtSWQoc3RhdGUpO1xuXG4gICAgY29uc3QgcmVzcG9zZSA9IGF3YWl0IGRpc3BhdGNoKGF1dG9jb21wbGV0ZVVzZXJzKHByZWZpeCwgY3VycmVudFRlYW1JZCwgY2hhbm5lbElkKSk7XG4gICAgY29uc3QgZGF0YSA9IHJlc3Bvc2UuZGF0YTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVzcG9zZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgdXNlcnM6IGFkZExhc3RWaWV3QXRUb1Byb2ZpbGVzKHN0YXRlLCBkYXRhLnVzZXJzIHx8IFtdKSxcbiAgICAgICAgICBvdXRfb2ZfY2hhbm5lbDogYWRkTGFzdFZpZXdBdFRvUHJvZmlsZXMoc3RhdGUsIGRhdGEub3V0X29mX2NoYW5uZWwgfHwgW10pLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9zZTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRVbnJlYWRzKGNoYW5uZWxJZCwgcHJlZmV0Y2ggPSBmYWxzZSkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgY29uc3QgdGltZSA9IERhdGUubm93KCk7XG4gICAgaWYgKHByZWZldGNoKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlBSRUZFVENIX1BPU1RTX0ZPUl9DSEFOTkVMLFxuICAgICAgICBjaGFubmVsSWQsXG4gICAgICAgIHN0YXR1czogUmVxdWVzdFN0YXR1cy5TVEFSVEVELFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHtkYXRhLCBlcnJvcn0gPSBhd2FpdCBkaXNwYXRjaChQb3N0QWN0aW9ucy5nZXRQb3N0c1VucmVhZChjaGFubmVsSWQpKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChwcmVmZXRjaCkge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUFJFRkVUQ0hfUE9TVFNfRk9SX0NIQU5ORUwsXG4gICAgICAgICAgY2hhbm5lbElkLFxuICAgICAgICAgIHN0YXR1czogUmVxdWVzdFN0YXR1cy5GQUlMVVJFLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVycm9yLFxuICAgICAgICBhdExhdGVzdE1lc3NhZ2U6IGZhbHNlLFxuICAgICAgICBhdE9sZGVzdG1lc3NhZ2U6IGZhbHNlLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgYWN0aW9ucyA9IFtdO1xuXG4gICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLklOQ1JFQVNFX1BPU1RfVklTSUJJTElUWSxcbiAgICAgIGRhdGE6IGNoYW5uZWxJZCxcbiAgICAgIGFtb3VudDogZGF0YS5vcmRlci5sZW5ndGgsXG4gICAgfSk7XG5cbiAgICBpZiAocHJlZmV0Y2gpIHtcbiAgICAgIGFjdGlvbnMucHVzaCh7XG4gICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlBSRUZFVENIX1BPU1RTX0ZPUl9DSEFOTkVMLFxuICAgICAgICBjaGFubmVsSWQsXG4gICAgICAgIHN0YXR1czogUmVxdWVzdFN0YXR1cy5TVUNDRVNTLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEubmV4dF9wb3N0X2lkID09PSAnJykge1xuICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVDRUlWRURfUE9TVFNfRk9SX0NIQU5ORUxfQVRfVElNRSxcbiAgICAgICAgY2hhbm5lbElkLFxuICAgICAgICB0aW1lLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKGFjdGlvbnMpKTtcbiAgICByZXR1cm4ge1xuICAgICAgYXRMYXRlc3RNZXNzYWdlOiBkYXRhLm5leHRfcG9zdF9pZCA9PT0gJycsXG4gICAgICBhdE9sZGVzdG1lc3NhZ2U6IGRhdGEucHJldl9wb3N0X2lkID09PSAnJyxcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFBvc3RzQXJvdW5kKGNoYW5uZWxJZCwgZm9jdXNlZFBvc3RJZCkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGVycm9yfSA9IGF3YWl0IGRpc3BhdGNoKFxuICAgICAgUG9zdEFjdGlvbnMuZ2V0UG9zdHNBcm91bmQoY2hhbm5lbElkLCBmb2N1c2VkUG9zdElkLCBQb3N0cy5QT1NUX0NIVU5LX1NJWkUgLyAyKVxuICAgICk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlcnJvcixcbiAgICAgICAgYXRMYXRlc3RNZXNzYWdlOiBmYWxzZSxcbiAgICAgICAgYXRPbGRlc3RtZXNzYWdlOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuSU5DUkVBU0VfUE9TVF9WSVNJQklMSVRZLFxuICAgICAgZGF0YTogY2hhbm5lbElkLFxuICAgICAgYW1vdW50OiBkYXRhLm9yZGVyLmxlbmd0aCxcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgYXRMYXRlc3RNZXNzYWdlOiBkYXRhLm5leHRfcG9zdF9pZCA9PT0gJycsXG4gICAgICBhdE9sZGVzdG1lc3NhZ2U6IGRhdGEucHJldl9wb3N0X2lkID09PSAnJyxcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZExhdGVzdFBvc3RzKGNoYW5uZWxJZCkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgY29uc3QgdGltZSA9IERhdGUubm93KCk7XG4gICAgY29uc3Qge2RhdGEsIGVycm9yfSA9IGF3YWl0IGRpc3BhdGNoKFBvc3RBY3Rpb25zLmdldFBvc3RzKGNoYW5uZWxJZCwgMCwgUG9zdHMuUE9TVF9DSFVOS19TSVpFIC8gMikpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlcnJvcixcbiAgICAgICAgYXRMYXRlc3RNZXNzYWdlOiBmYWxzZSxcbiAgICAgICAgYXRPbGRlc3RtZXNzYWdlOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVDRUlWRURfUE9TVFNfRk9SX0NIQU5ORUxfQVRfVElNRSxcbiAgICAgIGNoYW5uZWxJZCxcbiAgICAgIHRpbWUsXG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YSxcbiAgICAgIGF0TGF0ZXN0TWVzc2FnZTogZGF0YS5uZXh0X3Bvc3RfaWQgPT09ICcnLFxuICAgICAgYXRPbGRlc3RtZXNzYWdlOiBkYXRhLnByZXZfcG9zdF9pZCA9PT0gJycsXG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRQb3N0cyh7Y2hhbm5lbElkLCBwb3N0SWQsIHR5cGV9KSB7XG4gIC8vdHlwZSBoZXJlIGNhbiBiZSBCRUZPUkVfSUQgb3IgQUZURVJfSURcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCkgPT4ge1xuICAgIGNvbnN0IFBPU1RfSU5DUkVBU0VfQU1PVU5UID0gQ29uc3RhbnRzLlBPU1RfQ0hVTktfU0laRSAvIDI7XG5cbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5MT0FESU5HX1BPU1RTLFxuICAgICAgZGF0YTogdHJ1ZSxcbiAgICAgIGNoYW5uZWxJZCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHBhZ2UgPSAwO1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHR5cGUgPT09IFBvc3RSZXF1ZXN0VHlwZXMuQkVGT1JFX0lEKSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCBkaXNwYXRjaChQb3N0QWN0aW9ucy5nZXRQb3N0c0JlZm9yZShjaGFubmVsSWQsIHBvc3RJZCwgcGFnZSwgUE9TVF9JTkNSRUFTRV9BTU9VTlQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgZGlzcGF0Y2goUG9zdEFjdGlvbnMuZ2V0UG9zdHNBZnRlcihjaGFubmVsSWQsIHBvc3RJZCwgcGFnZSwgUE9TVF9JTkNSRUFTRV9BTU9VTlQpKTtcbiAgICB9XG5cbiAgICBjb25zdCB7ZGF0YX0gPSByZXN1bHQ7XG5cbiAgICBjb25zdCBhY3Rpb25zID0gW1xuICAgICAge1xuICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5MT0FESU5HX1BPU1RTLFxuICAgICAgICBkYXRhOiBmYWxzZSxcbiAgICAgICAgY2hhbm5lbElkLFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgaWYgKHJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3I6IHJlc3VsdC5lcnJvcixcbiAgICAgICAgbW9yZVRvTG9hZDogdHJ1ZSxcbiAgICAgIH07XG4gICAgfVxuICAgIGFjdGlvbnMucHVzaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5JTkNSRUFTRV9QT1NUX1ZJU0lCSUxJVFksXG4gICAgICBkYXRhOiBjaGFubmVsSWQsXG4gICAgICBhbW91bnQ6IGRhdGEub3JkZXIubGVuZ3RoLFxuICAgIH0pO1xuXG4gICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKGFjdGlvbnMpKTtcblxuICAgIHJldHVybiB7XG4gICAgICBtb3JlVG9Mb2FkOiB0eXBlID09PSBQb3N0UmVxdWVzdFR5cGVzLkJFRk9SRV9JRCA/IGRhdGEucHJldl9wb3N0X2lkICE9PSAnJyA6IGRhdGEubmV4dF9wb3N0X2lkICE9PSAnJyxcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3luY1Bvc3RzSW5DaGFubmVsKGNoYW5uZWxJZCwgc2luY2UsIHByZWZldGNoID0gZmFsc2UpIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3Qgc29ja2V0U3RhdHVzID0gZ2V0U29ja2V0U3RhdHVzKHN0YXRlKTtcbiAgICBsZXQgc2luY2VUaW1lVG9HZXRQb3N0cyA9IHNpbmNlO1xuICAgIGNvbnN0IGxhc3RQb3N0c0FwaUNhbGxGb3JDaGFubmVsID0gZ2V0TGFzdFBvc3RzQXBpVGltZUZvckNoYW5uZWwoc3RhdGUsIGNoYW5uZWxJZCk7XG4gICAgY29uc3QgYWN0aW9ucyA9IFtdO1xuXG4gICAgaWYgKGxhc3RQb3N0c0FwaUNhbGxGb3JDaGFubmVsICYmIGxhc3RQb3N0c0FwaUNhbGxGb3JDaGFubmVsIDwgc29ja2V0U3RhdHVzLmxhc3REaXNjb25uZWN0QXQpIHtcbiAgICAgIHNpbmNlVGltZVRvR2V0UG9zdHMgPSBsYXN0UG9zdHNBcGlDYWxsRm9yQ2hhbm5lbDtcbiAgICB9XG5cbiAgICBpZiAocHJlZmV0Y2gpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUFJFRkVUQ0hfUE9TVFNfRk9SX0NIQU5ORUwsXG4gICAgICAgIGNoYW5uZWxJZCxcbiAgICAgICAgc3RhdHVzOiBSZXF1ZXN0U3RhdHVzLlNUQVJURUQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB7ZGF0YSwgZXJyb3J9ID0gYXdhaXQgZGlzcGF0Y2goUG9zdEFjdGlvbnMuZ2V0UG9zdHNTaW5jZShjaGFubmVsSWQsIHNpbmNlVGltZVRvR2V0UG9zdHMpKTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVDRUlWRURfUE9TVFNfRk9SX0NIQU5ORUxfQVRfVElNRSxcbiAgICAgICAgY2hhbm5lbElkLFxuICAgICAgICB0aW1lLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHByZWZldGNoKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5QUkVGRVRDSF9QT1NUU19GT1JfQ0hBTk5FTCxcbiAgICAgICAgICBjaGFubmVsSWQsXG4gICAgICAgICAgc3RhdHVzOiBSZXF1ZXN0U3RhdHVzLkZBSUxVUkUsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5QUkVGRVRDSF9QT1NUU19GT1JfQ0hBTk5FTCxcbiAgICAgICAgICBjaGFubmVsSWQsXG4gICAgICAgICAgc3RhdHVzOiBSZXF1ZXN0U3RhdHVzLlNVQ0NFU1MsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhhY3Rpb25zKSk7XG5cbiAgICByZXR1cm4ge2RhdGEsIGVycm9yfTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZWZldGNoQ2hhbm5lbFBvc3RzKGNoYW5uZWxJZCwgaml0dGVyKSB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHJlY2VudFBvc3RJZEluQ2hhbm5lbCA9IGdldE1vc3RSZWNlbnRQb3N0SWRJbkNoYW5uZWwoc3RhdGUsIGNoYW5uZWxJZCk7XG5cbiAgICBpZiAoIXN0YXRlLmVudGl0aWVzLnBvc3RzLnBvc3RzSW5DaGFubmVsW2NoYW5uZWxJZF0gfHwgIXJlY2VudFBvc3RJZEluQ2hhbm5lbCkge1xuICAgICAgaWYgKGppdHRlcikge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBqaXR0ZXIpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkaXNwYXRjaChsb2FkVW5yZWFkcyhjaGFubmVsSWQsIHRydWUpKTtcbiAgICB9XG5cbiAgICBjb25zdCByZWNlbnRQb3N0ID0gZ2V0UG9zdChzdGF0ZSwgcmVjZW50UG9zdElkSW5DaGFubmVsKTtcbiAgICByZXR1cm4gZGlzcGF0Y2goc3luY1Bvc3RzSW5DaGFubmVsKGNoYW5uZWxJZCwgcmVjZW50UG9zdC5jcmVhdGVfYXQsIHRydWUpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFBvc3RMaXN0VG9Cb3R0b20oKSB7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgRXZlbnRFbWl0dGVyLmVtaXQoRXZlbnRUeXBlcy5QT1NUX0xJU1RfU0NST0xMX1RPX0JPVFRPTSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXJrQ2hhbm5lbEFzUmVhZE9uRm9jdXMoY2hhbm5lbElkKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgaWYgKGlzTWFudWFsbHlVbnJlYWQoZ2V0U3RhdGUoKSwgY2hhbm5lbElkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRpc3BhdGNoKG1hcmtDaGFubmVsQXNSZWFkKGNoYW5uZWxJZCkpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVG9hc3RTdGF0dXMoc3RhdHVzKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5VUERBVEVfVE9BU1RfU1RBVFVTLFxuICAgICAgZGF0YTogc3RhdHVzLFxuICAgIH0pO1xuICB9O1xufVxuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5leHBvcnQgY29uc3QgZ2V0U29ja2V0U3RhdHVzID0gKHN0YXRlKSA9PiBzdGF0ZS53ZWJzb2NrZXQ7XG4iLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCBNYXR0ZXJtb3N0LCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTZWUgTElDRU5TRS50eHQgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG5cbmltcG9ydCBXZWJTb2NrZXRDbGllbnQgZnJvbSAnLi93ZWJzb2NrZXRfY2xpZW50JztcblxudmFyIFdlYkNsaWVudCA9IG5ldyBXZWJTb2NrZXRDbGllbnQoKTtcbmV4cG9ydCBkZWZhdWx0IFdlYkNsaWVudDtcbiIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IHtnZXRDb25maWd9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy9nZW5lcmFsJztcblxuaW1wb3J0IHN0b3JlIGZyb20gJyRzdG9yZXMvcmVkdXhfc3RvcmUuanN4JztcbmltcG9ydCB7U29ja2V0RXZlbnRzfSBmcm9tICckdXRpbHMvY29uc3RhbnRzJztcblxuY29uc3QgTUFYX1dFQlNPQ0tFVF9GQUlMUyA9IDc7XG5jb25zdCBNSU5fV0VCU09DS0VUX1JFVFJZX1RJTUUgPSAzMDAwOyAvLyAzIHNlY1xuY29uc3QgTUFYX1dFQlNPQ0tFVF9SRVRSWV9USU1FID0gMzAwMDAwOyAvLyA1IG1pbnNcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViU29ja2V0Q2xpZW50IHtcbiAgcHJpdmF0ZSBjb25uOiBXZWJTb2NrZXQgfCBudWxsO1xuICBwcml2YXRlIGNvbm5lY3Rpb25Vcmw6IHN0cmluZyB8IG51bGw7XG5cbiAgLy8gcmVzcG9uc2VTZXF1ZW5jZSBpcyB0aGUgbnVtYmVyIHRvIHRyYWNrIGEgcmVzcG9uc2Ugc2VudFxuICAvLyB2aWEgdGhlIHdlYnNvY2tldC4gQSByZXNwb25zZSB3aWxsIGFsd2F5cyBoYXZlIHRoZSBzYW1lIHNlcXVlbmNlIG51bWJlclxuICAvLyBhcyB0aGUgcmVxdWVzdC5cbiAgcHJpdmF0ZSByZXNwb25zZVNlcXVlbmNlOiBudW1iZXI7XG5cbiAgLy8gc2VydmVyU2VxdWVuY2UgaXMgdGhlIGluY3JlbWVudGluZyBzZXF1ZW5jZSBudW1iZXIgZnJvbSB0aGVcbiAgLy8gc2VydmVyLXNlbnQgZXZlbnQgc3RyZWFtLlxuICBwcml2YXRlIHNlcnZlclNlcXVlbmNlOiBudW1iZXI7XG4gIHByaXZhdGUgY29ubmVjdEZhaWxDb3VudDogbnVtYmVyO1xuICBwcml2YXRlIGV2ZW50Q2FsbGJhY2s6ICgobXNnOiBhbnkpID0+IHZvaWQpIHwgbnVsbDtcbiAgcHJpdmF0ZSByZXNwb25zZUNhbGxiYWNrczoge1t4OiBudW1iZXJdOiAobXNnOiBhbnkpID0+IHZvaWR9O1xuICBwcml2YXRlIGZpcnN0Q29ubmVjdENhbGxiYWNrOiAoKCkgPT4gdm9pZCkgfCBudWxsO1xuICBwcml2YXRlIHJlY29ubmVjdENhbGxiYWNrOiAoKCkgPT4gdm9pZCkgfCBudWxsO1xuICBwcml2YXRlIG1pc3NlZEV2ZW50Q2FsbGJhY2s6ICgoKSA9PiB2b2lkKSB8IG51bGw7XG4gIHByaXZhdGUgZXJyb3JDYWxsYmFjazogKChldmVudDogRXZlbnQpID0+IHZvaWQpIHwgbnVsbDtcbiAgcHJpdmF0ZSBjbG9zZUNhbGxiYWNrOiAoKGNvbm5lY3RGYWlsQ291bnQ6IG51bWJlcikgPT4gdm9pZCkgfCBudWxsO1xuICBwcml2YXRlIGNvbm5lY3Rpb25JZDogc3RyaW5nIHwgbnVsbDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbm4gPSBudWxsO1xuICAgIHRoaXMuY29ubmVjdGlvblVybCA9IG51bGw7XG4gICAgdGhpcy5yZXNwb25zZVNlcXVlbmNlID0gMTtcbiAgICB0aGlzLnNlcnZlclNlcXVlbmNlID0gMDtcbiAgICB0aGlzLmNvbm5lY3RGYWlsQ291bnQgPSAwO1xuICAgIHRoaXMuZXZlbnRDYWxsYmFjayA9IG51bGw7XG4gICAgdGhpcy5yZXNwb25zZUNhbGxiYWNrcyA9IHt9O1xuICAgIHRoaXMuZmlyc3RDb25uZWN0Q2FsbGJhY2sgPSBudWxsO1xuICAgIHRoaXMucmVjb25uZWN0Q2FsbGJhY2sgPSBudWxsO1xuICAgIHRoaXMubWlzc2VkRXZlbnRDYWxsYmFjayA9IG51bGw7XG4gICAgdGhpcy5lcnJvckNhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLmNsb3NlQ2FsbGJhY2sgPSBudWxsO1xuICAgIHRoaXMuY29ubmVjdGlvbklkID0gJyc7XG4gIH1cblxuICAvLyBvbiBjb25uZWN0LCBvbmx5IHNlbmQgYXV0aCBjb29raWUgYW5kIGJsYW5rIHN0YXRlLlxuICAvLyBvbiBoZWxsbywgZ2V0IHRoZSBjb25uZWN0aW9uSUQgYW5kIHN0b3JlIGl0LlxuICAvLyBvbiByZWNvbm5lY3QsIHNlbmQgY29va2llLCBjb25uZWN0aW9uSUQsIHNlcXVlbmNlIG51bWJlci5cbiAgaW5pdGlhbGl6ZShjb25uZWN0aW9uVXJsID0gdGhpcy5jb25uZWN0aW9uVXJsLCB0b2tlbj86IHN0cmluZykge1xuICAgIGlmICh0aGlzLmNvbm4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY29ubmVjdGlvblVybCA9PSBudWxsKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnd2Vic29ja2V0IG11c3QgaGF2ZSBjb25uZWN0aW9uIHVybCcpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbm5lY3RGYWlsQ291bnQgPT09IDApIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd3ZWJzb2NrZXQgY29ubmVjdGluZyB0byAnICsgY29ubmVjdGlvblVybCk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuXG4gICAgLy8gQWRkIGNvbm5lY3Rpb24gaWQsIGFuZCBsYXN0X3NlcXVlbmNlX251bWJlciB0byB0aGUgcXVlcnkgcGFyYW0uXG4gICAgLy8gV2UgY2Fubm90IHVzZSBhIGNvb2tpZSBiZWNhdXNlIGl0IHdpbGwgYmxlZWQgYWNyb3NzIHRhYnMuXG4gICAgLy8gV2UgY2Fubm90IGFsc28gc2VuZCBpdCBhcyBwYXJ0IG9mIHRoZSBhdXRoX2NoYWxsZW5nZSwgYmVjYXVzZSB0aGUgc2Vzc2lvbiBjb29raWUgaXMgYWxyZWFkeSBzZW50IHdpdGggdGhlIHJlcXVlc3QuXG4gICAgdGhpcy5jb25uID0gbmV3IFdlYlNvY2tldChcbiAgICAgIGAke2Nvbm5lY3Rpb25Vcmx9P2Nvbm5lY3Rpb25faWQ9JHt0aGlzLmNvbm5lY3Rpb25JZH0mc2VxdWVuY2VfbnVtYmVyPSR7dGhpcy5zZXJ2ZXJTZXF1ZW5jZX1gXG4gICAgKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25VcmwgPSBjb25uZWN0aW9uVXJsO1xuXG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKHN0b3JlLmdldFN0YXRlKCkpO1xuICAgIGNvbnN0IHJlbGlhYmxlV2ViU29ja2V0cyA9IGNvbmZpZy5FbmFibGVSZWxpYWJsZVdlYlNvY2tldHMgPT09ICd0cnVlJztcblxuICAgIHRoaXMuY29ubi5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAvLyBObyBuZWVkIHRvIHJlc2V0IHNlcXVlbmNlIG51bWJlciBoZXJlLlxuICAgICAgaWYgKCFyZWxpYWJsZVdlYlNvY2tldHMpIHtcbiAgICAgICAgdGhpcy5zZXJ2ZXJTZXF1ZW5jZSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKCdhdXRoZW50aWNhdGlvbl9jaGFsbGVuZ2UnLCB7dG9rZW59KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY29ubmVjdEZhaWxDb3VudCA+IDApIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3dlYnNvY2tldCByZS1lc3RhYmxpc2hlZCBjb25uZWN0aW9uJyk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGlmICghcmVsaWFibGVXZWJTb2NrZXRzICYmIHRoaXMucmVjb25uZWN0Q2FsbGJhY2spIHtcbiAgICAgICAgICB0aGlzLnJlY29ubmVjdENhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5maXJzdENvbm5lY3RDYWxsYmFjaykge1xuICAgICAgICB0aGlzLmZpcnN0Q29ubmVjdENhbGxiYWNrKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29ubmVjdEZhaWxDb3VudCA9IDA7XG4gICAgfTtcblxuICAgIHRoaXMuY29ubi5vbmNsb3NlID0gKCkgPT4ge1xuICAgICAgdGhpcy5jb25uID0gbnVsbDtcbiAgICAgIHRoaXMucmVzcG9uc2VTZXF1ZW5jZSA9IDE7XG5cbiAgICAgIGlmICh0aGlzLmNvbm5lY3RGYWlsQ291bnQgPT09IDApIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3dlYnNvY2tldCBjbG9zZWQnKTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb25uZWN0RmFpbENvdW50Kys7XG5cbiAgICAgIGlmICh0aGlzLmNsb3NlQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jbG9zZUNhbGxiYWNrKHRoaXMuY29ubmVjdEZhaWxDb3VudCk7XG4gICAgICB9XG5cbiAgICAgIGxldCByZXRyeVRpbWUgPSBNSU5fV0VCU09DS0VUX1JFVFJZX1RJTUU7XG5cbiAgICAgIC8vIElmIHdlJ3ZlIGZhaWxlZCBhIGJ1bmNoIG9mIGNvbm5lY3Rpb25zIHRoZW4gc3RhcnQgYmFja2luZyBvZmZcbiAgICAgIGlmICh0aGlzLmNvbm5lY3RGYWlsQ291bnQgPiBNQVhfV0VCU09DS0VUX0ZBSUxTKSB7XG4gICAgICAgIHJldHJ5VGltZSA9IE1JTl9XRUJTT0NLRVRfUkVUUllfVElNRSAqIHRoaXMuY29ubmVjdEZhaWxDb3VudCAqIHRoaXMuY29ubmVjdEZhaWxDb3VudDtcbiAgICAgICAgaWYgKHJldHJ5VGltZSA+IE1BWF9XRUJTT0NLRVRfUkVUUllfVElNRSkge1xuICAgICAgICAgIHJldHJ5VGltZSA9IE1BWF9XRUJTT0NLRVRfUkVUUllfVElNRTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKGNvbm5lY3Rpb25VcmwsIHRva2VuKTtcbiAgICAgIH0sIHJldHJ5VGltZSk7XG4gICAgfTtcblxuICAgIHRoaXMuY29ubi5vbmVycm9yID0gKGV2dCkgPT4ge1xuICAgICAgaWYgKHRoaXMuY29ubmVjdEZhaWxDb3VudCA8PSAxKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd3ZWJzb2NrZXQgZXJyb3InKTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgLy8gY29uc29sZS5sb2coZXZ0KTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZXJyb3JDYWxsYmFjaykge1xuICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2soZXZ0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5jb25uLm9ubWVzc2FnZSA9IChldnQpID0+IHtcbiAgICAgIGNvbnN0IG1zZyA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpO1xuICAgICAgaWYgKG1zZy5zZXFfcmVwbHkpIHtcbiAgICAgICAgLy8gVGhpcyBpbmRpY2F0ZXMgYSByZXBseSB0byBhIHdlYnNvY2tldCByZXF1ZXN0LlxuICAgICAgICAvLyBXZSBpZ25vcmUgc2VxdWVuY2UgbnVtYmVyIHZhbGlkYXRpb24gb2YgbWVzc2FnZSByZXNwb25zZXNcbiAgICAgICAgLy8gYW5kIG9ubHkgZm9jdXMgb24gdGhlIHB1cmVseSBzZXJ2ZXIgc2lkZSBldmVudCBzdHJlYW0uXG4gICAgICAgIGlmIChtc2cuZXJyb3IpIHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhtc2cpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucmVzcG9uc2VDYWxsYmFja3NbbXNnLnNlcV9yZXBseV0pIHtcbiAgICAgICAgICB0aGlzLnJlc3BvbnNlQ2FsbGJhY2tzW21zZy5zZXFfcmVwbHldKG1zZyk7XG4gICAgICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0aGlzLnJlc3BvbnNlQ2FsbGJhY2tzLCBtc2cuc2VxX3JlcGx5KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmV2ZW50Q2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHJlbGlhYmxlV2ViU29ja2V0cykge1xuICAgICAgICAgIC8vIFdlIGNoZWNrIHRoZSBoZWxsbyBwYWNrZXQsIHdoaWNoIGlzIGFsd2F5cyB0aGUgZmlyc3QgcGFja2V0IGluIGEgc3RyZWFtLlxuICAgICAgICAgIGlmIChtc2cuZXZlbnQgPT09IFNvY2tldEV2ZW50cy5IRUxMTyAmJiB0aGlzLm1pc3NlZEV2ZW50Q2FsbGJhY2spIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdnb3QgY29ubmVjdGlvbiBpZCAnLCBtc2cuZGF0YS5jb25uZWN0aW9uX2lkKTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIC8vIElmIHdlIGFscmVhZHkgaGF2ZSBhIGNvbm5lY3Rpb25JZCBwcmVzZW50LCBhbmQgc2VydmVyIHNlbmRzIGEgZGlmZmVyZW50IG9uZSxcbiAgICAgICAgICAgIC8vIHRoYXQgbWVhbnMgaXQncyBlaXRoZXIgYSBsb25nIHRpbWVvdXQsIG9yIHNlcnZlciByZXN0YXJ0LCBvciBzZXF1ZW5jZSBudW1iZXIgaXMgbm90IGZvdW5kLlxuICAgICAgICAgICAgLy8gVGhlbiB3ZSBkbyB0aGUgc3luYyBjYWxscywgYW5kIHJlc2V0IHNlcXVlbmNlIG51bWJlciB0byAwLlxuICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbklkICE9PSAnJyAmJiB0aGlzLmNvbm5lY3Rpb25JZCAhPT0gbXNnLmRhdGEuY29ubmVjdGlvbl9pZCkge1xuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbG9uZyB0aW1lb3V0LCBvciBzZXJ2ZXIgcmVzdGFydCwgb3Igc2VxdWVuY2UgbnVtYmVyIGlzIG5vdCBmb3VuZC4nKTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgdGhpcy5taXNzZWRFdmVudENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgIHRoaXMuc2VydmVyU2VxdWVuY2UgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBpdCdzIGEgZnJlc2ggY29ubmVjdGlvbiwgd2UgaGF2ZSB0byBzZXQgdGhlIGNvbm5lY3Rpb25JZCByZWdhcmRsZXNzLlxuICAgICAgICAgICAgLy8gQW5kIGlmIGl0J3MgYW4gZXhpc3RpbmcgY29ubmVjdGlvbiwgc2V0dGluZyBpdCBhZ2FpbiBpcyBoYXJtbGVzcywgYW5kIGtlZXBzIHRoZSBjb2RlIHNpbXBsZS5cbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbklkID0gbXNnLmRhdGEuY29ubmVjdGlvbl9pZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBOb3cgd2UgY2hlY2sgZm9yIHNlcXVlbmNlIG51bWJlciwgYW5kIGlmIGl0IGRvZXMgbm90IG1hdGNoLFxuICAgICAgICAgIC8vIHdlIGp1c3QgZGlzY29ubmVjdCBhbmQgcmVjb25uZWN0LlxuICAgICAgICAgIGlmIChtc2cuc2VxICE9PSB0aGlzLnNlcnZlclNlcXVlbmNlKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbWlzc2VkIHdlYnNvY2tldCBldmVudCwgYWN0X3NlcT0nICsgbXNnLnNlcSArICcgZXhwX3NlcT0nICsgdGhpcy5zZXJ2ZXJTZXF1ZW5jZSk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAvLyBXZSBhcmUgbm90IGNhbGxpbmcgdGhpcy5jbG9zZSgpIGJlY2F1c2Ugd2UgbmVlZCB0byBhdXRvLXJlc3RhcnQuXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RGYWlsQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5yZXNwb25zZVNlcXVlbmNlID0gMTtcbiAgICAgICAgICAgIHRoaXMuY29ubj8uY2xvc2UoKTsgLy8gV2lsbCBhdXRvLXJlY29ubmVjdCBhZnRlciBNSU5fV0VCU09DS0VUX1JFVFJZX1RJTUUuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1zZy5zZXEgIT09IHRoaXMuc2VydmVyU2VxdWVuY2UgJiYgdGhpcy5taXNzZWRFdmVudENhbGxiYWNrKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ21pc3NlZCB3ZWJzb2NrZXQgZXZlbnQsIGFjdF9zZXE9JyArIG1zZy5zZXEgKyAnIGV4cF9zZXE9JyArIHRoaXMuc2VydmVyU2VxdWVuY2UpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgIHRoaXMubWlzc2VkRXZlbnRDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VydmVyU2VxdWVuY2UgPSBtc2cuc2VxICsgMTtcbiAgICAgICAgdGhpcy5ldmVudENhbGxiYWNrKG1zZyk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHNldEV2ZW50Q2FsbGJhY2soY2FsbGJhY2s6IChtc2c6IGFueSkgPT4gdm9pZCkge1xuICAgIHRoaXMuZXZlbnRDYWxsYmFjayA9IGNhbGxiYWNrO1xuICB9XG5cbiAgc2V0Rmlyc3RDb25uZWN0Q2FsbGJhY2soY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICB0aGlzLmZpcnN0Q29ubmVjdENhbGxiYWNrID0gY2FsbGJhY2s7XG4gIH1cblxuICBzZXRSZWNvbm5lY3RDYWxsYmFjayhjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgIHRoaXMucmVjb25uZWN0Q2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIHNldE1pc3NlZEV2ZW50Q2FsbGJhY2soY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICB0aGlzLm1pc3NlZEV2ZW50Q2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIHNldEVycm9yQ2FsbGJhY2soY2FsbGJhY2s6IChldmVudDogRXZlbnQpID0+IHZvaWQpIHtcbiAgICB0aGlzLmVycm9yQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIHNldENsb3NlQ2FsbGJhY2soY2FsbGJhY2s6IChjb25uZWN0RmFpbENvdW50OiBudW1iZXIpID0+IHZvaWQpIHtcbiAgICB0aGlzLmNsb3NlQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuY29ubmVjdEZhaWxDb3VudCA9IDA7XG4gICAgdGhpcy5yZXNwb25zZVNlcXVlbmNlID0gMTtcbiAgICBpZiAodGhpcy5jb25uICYmIHRoaXMuY29ubi5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgdGhpcy5jb25uLm9uY2xvc2UgPSAoKSA9PiB7fTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXG4gICAgICB0aGlzLmNvbm4uY2xvc2UoKTtcbiAgICAgIHRoaXMuY29ubiA9IG51bGw7XG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKCd3ZWJzb2NrZXQgY2xvc2VkJyk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG5cbiAgc2VuZE1lc3NhZ2UoYWN0aW9uOiBzdHJpbmcsIGRhdGE6IGFueSwgcmVzcG9uc2VDYWxsYmFjaz86ICgpID0+IHZvaWQpIHtcbiAgICBjb25zdCBtc2cgPSB7XG4gICAgICBhY3Rpb24sXG4gICAgICBzZXE6IHRoaXMucmVzcG9uc2VTZXF1ZW5jZSsrLFxuICAgICAgZGF0YSxcbiAgICB9O1xuXG4gICAgaWYgKHJlc3BvbnNlQ2FsbGJhY2spIHtcbiAgICAgIHRoaXMucmVzcG9uc2VDYWxsYmFja3NbbXNnLnNlcV0gPSByZXNwb25zZUNhbGxiYWNrO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbm4gJiYgdGhpcy5jb25uLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB0aGlzLmNvbm4uc2VuZChKU09OLnN0cmluZ2lmeShtc2cpKTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmNvbm4gfHwgdGhpcy5jb25uLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DTE9TRUQpIHtcbiAgICAgIHRoaXMuY29ubiA9IG51bGw7XG4gICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICB9XG4gIH1cblxuICB1c2VyVHlwaW5nKGNoYW5uZWxJZDogc3RyaW5nLCBwYXJlbnRJZDogc3RyaW5nLCBjYWxsYmFjaz86ICgpID0+IHZvaWQpIHtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgY2hhbm5lbF9pZDogY2hhbm5lbElkLFxuICAgICAgcGFyZW50X2lkOiBwYXJlbnRJZCxcbiAgICB9O1xuICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ3VzZXJfdHlwaW5nJywgZGF0YSwgY2FsbGJhY2spO1xuICB9XG5cbiAgdXNlclVwZGF0ZUFjdGl2ZVN0YXR1cyh1c2VySXNBY3RpdmU6IGJvb2xlYW4sIG1hbnVhbDogYm9vbGVhbiwgY2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIHVzZXJfaXNfYWN0aXZlOiB1c2VySXNBY3RpdmUsXG4gICAgICBtYW51YWwsXG4gICAgfTtcbiAgICB0aGlzLnNlbmRNZXNzYWdlKCd1c2VyX3VwZGF0ZV9hY3RpdmVfc3RhdHVzJywgZGF0YSwgY2FsbGJhY2spO1xuICB9XG5cbiAgZ2V0U3RhdHVzZXMoY2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5zZW5kTWVzc2FnZSgnZ2V0X3N0YXR1c2VzJywgbnVsbCwgY2FsbGJhY2spO1xuICB9XG5cbiAgZ2V0U3RhdHVzZXNCeUlkcyh1c2VySWRzOiBzdHJpbmdbXSwgY2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIHVzZXJfaWRzOiB1c2VySWRzLFxuICAgIH07XG4gICAgdGhpcy5zZW5kTWVzc2FnZSgnZ2V0X3N0YXR1c2VzX2J5X2lkcycsIGRhdGEsIGNhbGxiYWNrKTtcbiAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuXG5pbXBvcnQge2JhdGNoQWN0aW9uc30gZnJvbSAncmVkdXgtYmF0Y2hlZC1hY3Rpb25zJztcblxuaW1wb3J0IHtcbiAgQ2hhbm5lbFR5cGVzLFxuICBFbW9qaVR5cGVzLFxuICBHcm91cFR5cGVzLFxuICBQb3N0VHlwZXMsXG4gIFRlYW1UeXBlcyxcbiAgVXNlclR5cGVzLFxuICBSb2xlVHlwZXMsXG4gIEdlbmVyYWxUeXBlcyxcbiAgQWRtaW5UeXBlcyxcbiAgSW50ZWdyYXRpb25UeXBlcyxcbiAgUHJlZmVyZW5jZVR5cGVzLFxuICBDb250YWN0VHlwZXMsXG59IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbl90eXBlcyc7XG5pbXBvcnQge1dlYnNvY2tldEV2ZW50cywgR2VuZXJhbCwgUGVybWlzc2lvbnN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICBhZGRDaGFubmVsVG9Jbml0aWFsQ2F0ZWdvcnksXG4gIGZldGNoTXlDYXRlZ29yaWVzLFxuICByZWNlaXZlZENhdGVnb3J5T3JkZXIsXG59IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvY2hhbm5lbF9jYXRlZ29yaWVzJztcbmltcG9ydCB7XG4gIGdldENoYW5uZWxBbmRNeU1lbWJlcixcbiAgZ2V0TXlDaGFubmVsTWVtYmVyLFxuICBnZXRDaGFubmVsTWVtYmVyLFxuICBnZXRDaGFubmVsU3RhdHMsXG4gIHZpZXdDaGFubmVsLFxuICBtYXJrQ2hhbm5lbEFzUmVhZCxcbiAgZ2V0Q2hhbm5lbE1lbWJlckNvdW50c0J5R3JvdXAsXG59IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvY2hhbm5lbHMnO1xuaW1wb3J0IHtnZXRDbG91ZFN1YnNjcmlwdGlvbiwgZ2V0U3Vic2NyaXB0aW9uU3RhdHN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvY2xvdWQnO1xuaW1wb3J0IHtsb2FkUm9sZXNJZk5lZWRlZH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9yb2xlcyc7XG5cbmltcG9ydCB7aXNDb2xsYXBzZWRUaHJlYWRzRW5hYmxlZH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3ByZWZlcmVuY2VzJztcbmltcG9ydCB7Z2V0VGhyZWFkfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdGhyZWFkcyc7XG5pbXBvcnQge1xuICBnZXRUaHJlYWQgYXMgZmV0Y2hUaHJlYWQsXG4gIGhhbmRsZUFsbE1hcmtlZFJlYWQsXG4gIGhhbmRsZVJlYWRDaGFuZ2VkLFxuICBoYW5kbGVGb2xsb3dDaGFuZ2VkLFxuICBoYW5kbGVUaHJlYWRBcnJpdmVkLFxufSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3RocmVhZHMnO1xuXG5pbXBvcnQge3NldFNlcnZlclZlcnNpb259IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvZ2VuZXJhbCc7XG5pbXBvcnQge1xuICBnZXRDdXN0b21FbW9qaUZvclJlYWN0aW9uLFxuICBnZXRQb3N0cyxcbiAgZ2V0UHJvZmlsZXNBbmRTdGF0dXNlc0ZvclBvc3RzLFxuICBnZXRUaHJlYWRzRm9yUG9zdHMsXG4gIHBvc3REZWxldGVkLFxuICByZWNlaXZlZE5ld1Bvc3QsXG4gIHJlY2VpdmVkUG9zdCxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9wb3N0cyc7XG5pbXBvcnQge2NsZWFyRXJyb3JzLCBsb2dFcnJvcn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9lcnJvcnMnO1xuXG5pbXBvcnQgKiBhcyBUZWFtQWN0aW9ucyBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3RlYW1zJztcbmltcG9ydCB7XG4gIGNoZWNrRm9yTW9kaWZpZWRVc2VycyxcbiAgZ2V0TWUsXG4gIGdldE1pc3NpbmdQcm9maWxlc0J5SWRzLFxuICBnZXRTdGF0dXNlc0J5SWRzLFxuICBnZXRVc2VyIGFzIGxvYWRVc2VyLFxufSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3VzZXJzJztcbmltcG9ydCB7cmVtb3ZlTm90VmlzaWJsZVVzZXJzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3dlYnNvY2tldCc7XG5pbXBvcnQge0NsaWVudDR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2NsaWVudCc7XG5pbXBvcnQge1xuICBnZXRDdXJyZW50VXNlcixcbiAgZ2V0Q3VycmVudFVzZXJJZCxcbiAgZ2V0U3RhdHVzRm9yVXNlcklkLFxuICBnZXRVc2VyLFxuICBnZXRJc01hbnVhbFN0YXR1c0ZvclVzZXJJZCxcbiAgaXNDdXJyZW50VXNlclN5c3RlbUFkbWluLFxufSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdXNlcnMnO1xuaW1wb3J0IHtcbiAgZ2V0TXlUZWFtcyxcbiAgZ2V0Q3VycmVudFJlbGF0aXZlVGVhbVVybCxcbiAgZ2V0Q3VycmVudFRlYW1JZCxcbiAgZ2V0Q3VycmVudFRlYW1VcmwsXG4gIGdldFRlYW0sXG59IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy90ZWFtcyc7XG5pbXBvcnQge2dldENvbmZpZywgZ2V0TGljZW5zZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2dlbmVyYWwnO1xuaW1wb3J0IHtcbiAgZ2V0Q2hhbm5lbHNJblRlYW0sXG4gIGdldENoYW5uZWwsXG4gIGdldEN1cnJlbnRDaGFubmVsLFxuICBnZXRDdXJyZW50Q2hhbm5lbElkLFxuICBnZXRSZWRpcmVjdENoYW5uZWxOYW1lRm9yVGVhbSxcbiAgZ2V0TWVtYmVyc0luQ3VycmVudENoYW5uZWwsXG4gIGdldENoYW5uZWxNZW1iZXJzSW5DaGFubmVscyxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2NoYW5uZWxzJztcbmltcG9ydCB7Z2V0UG9zdCwgZ2V0TW9zdFJlY2VudFBvc3RJZEluQ2hhbm5lbH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3Bvc3RzJztcbmltcG9ydCB7aGF2ZUlTeXN0ZW1QZXJtaXNzaW9uLCBoYXZlSVRlYW1QZXJtaXNzaW9ufSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvcm9sZXMnO1xuaW1wb3J0IHthcHBzRW5hYmxlZH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2FwcHMnO1xuaW1wb3J0IHtnZXRTdGFuZGFyZEFuYWx5dGljc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9hZG1pbic7XG5cbmltcG9ydCB7ZmV0Y2hBcHBCaW5kaW5nc30gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9hcHBzJztcblxuaW1wb3J0IHtnZXRTZWxlY3RlZENoYW5uZWxJZH0gZnJvbSAnJHNlbGVjdG9ycy9yaHMnO1xuXG5pbXBvcnQge29wZW5Nb2RhbH0gZnJvbSAnJGFjdGlvbnMvdmlld3MvbW9kYWxzJztcbmltcG9ydCB7aW5jcmVtZW50V3NFcnJvckNvdW50LCByZXNldFdzRXJyb3JDb3VudH0gZnJvbSAnJGFjdGlvbnMvdmlld3Mvc3lzdGVtJztcbmltcG9ydCB7Y2xvc2VSaWdodEhhbmRTaWRlfSBmcm9tICckYWN0aW9ucy92aWV3cy9yaHMnO1xuaW1wb3J0IHtzeW5jUG9zdHNJbkNoYW5uZWx9IGZyb20gJyRhY3Rpb25zL3ZpZXdzL2NoYW5uZWwnO1xuXG5pbXBvcnQge2Jyb3dzZXJIaXN0b3J5fSBmcm9tICckdXRpbHMvYnJvd3Nlcl9oaXN0b3J5JztcbmltcG9ydCB7bG9hZENoYW5uZWxzRm9yQ3VycmVudFVzZXIsIGxvYWRDaGFubmVsc0ZvckN1cnJlbnRVc2VyMn0gZnJvbSAnJGFjdGlvbnMvY2hhbm5lbF9hY3Rpb25zLmpzeCc7XG5pbXBvcnQge3JlZGlyZWN0VXNlclRvRGVmYXVsdFRlYW19IGZyb20gJyRhY3Rpb25zL2dsb2JhbF9hY3Rpb25zJztcbmltcG9ydCB7aGFuZGxlTmV3UG9zdH0gZnJvbSAnJGFjdGlvbnMvcG9zdF9hY3Rpb25zLmpzeCc7XG5pbXBvcnQgKiBhcyBTdGF0dXNBY3Rpb25zIGZyb20gJyRhY3Rpb25zL3N0YXR1c19hY3Rpb25zLmpzeCc7XG5pbXBvcnQge2xvYWRQcm9maWxlc0ZvclNpZGViYXJ9IGZyb20gJyRhY3Rpb25zL3VzZXJfYWN0aW9ucy5qc3gnO1xuaW1wb3J0IHN0b3JlIGZyb20gJyRzdG9yZXMvcmVkdXhfc3RvcmUuanN4JztcbmltcG9ydCBXZWJTb2NrZXRDbGllbnQgZnJvbSAnJGNsaWVudC93ZWJfd2Vic29ja2V0X2NsaWVudC5qc3gnO1xuaW1wb3J0IHtcbiAgQWN0aW9uVHlwZXMsXG4gIENvbnN0YW50cyxcbiAgQW5ub3VuY2VtZW50QmFyTWVzc2FnZXMsXG4gIFNvY2tldEV2ZW50cyxcbiAgVXNlclN0YXR1c2VzLFxuICBNb2RhbElkZW50aWZpZXJzLFxuICBXYXJuTWV0cmljVHlwZXMsXG59IGZyb20gJyR1dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHtnZXRTaXRlVVJMfSBmcm9tICckdXRpbHMvdXJsJztcbmltcG9ydCB7aXNHdWVzdH0gZnJvbSAnJHV0aWxzL3V0aWxzJztcblxuLy8gaW1wb3J0IHtsb2FkUGx1Z2luLCBsb2FkUGx1Z2luc0lmTmVjZXNzYXJ5LCByZW1vdmVQbHVnaW59IGZyb20gJyRwbHVnaW5zJztcblxuLy8gaW1wb3J0IFJlbW92ZWRGcm9tQ2hhbm5lbE1vZGFsIGZyb20gJ2NvbXBvbmVudHMvcmVtb3ZlZF9mcm9tX2NoYW5uZWxfbW9kYWwnO1xuLy8gaW1wb3J0IEludGVyYWN0aXZlRGlhbG9nIGZyb20gJ2NvbXBvbmVudHMvaW50ZXJhY3RpdmVfZGlhbG9nJztcblxuY29uc3QgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaDtcbmNvbnN0IGdldFN0YXRlID0gc3RvcmUuZ2V0U3RhdGU7XG5cbmNvbnN0IE1BWF9XRUJTT0NLRVRfRkFJTFMgPSA3O1xuXG5jb25zdCBwbHVnaW5FdmVudEhhbmRsZXJzID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICBpZiAoIXdpbmRvdy5XZWJTb2NrZXQpIHtcbiAgICBjb25zb2xlLmxvZygnQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHdlYnNvY2tldCcpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZyhnZXRTdGF0ZSgpKTtcbiAgbGV0IGNvbm5VcmwgPSAnJztcbiAgaWYgKGNvbmZpZy5XZWJzb2NrZXRVUkwpIHtcbiAgICBjb25uVXJsID0gY29uZmlnLldlYnNvY2tldFVSTDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB3ZWJzb2NrZXRFbnBvaW50ID0gKGltcG9ydC5tZXRhLmVudi5WSVRFX1dFQlNPQ0tFVCB8fCBnZXRTaXRlVVJMKCkpO1xuICAgIGNvbm5VcmwgPSBuZXcgVVJMKHdlYnNvY2tldEVucG9pbnQpO1xuXG4gICAgLy8gcmVwbGFjZSB0aGUgcHJvdG9jb2wgd2l0aCBhIHdlYnNvY2tldCBvbmVcbiAgICBpZiAoY29ublVybC5wcm90b2NvbCA9PT0gJ2h0dHBzOicpIHtcbiAgICAgIGNvbm5VcmwucHJvdG9jb2wgPSAnd3NzOic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbm5VcmwucHJvdG9jb2wgPSAnd3M6JztcbiAgICB9XG5cbiAgICAvLyBhcHBlbmQgYSBwb3J0IG51bWJlciBpZiBvbmUgaXNuJ3QgYWxyZWFkeSBzcGVjaWZpZWRcbiAgICBpZiAoIS86XFxkKyQvLnRlc3QoY29ublVybC5ob3N0KSkge1xuICAgICAgaWYgKGNvbm5VcmwucHJvdG9jb2wgPT09ICd3c3M6Jykge1xuICAgICAgICBjb25uVXJsLmhvc3QgKz0gJzonICsgY29uZmlnLldlYnNvY2tldFNlY3VyZVBvcnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25uVXJsLmhvc3QgKz0gJzonICsgY29uZmlnLldlYnNvY2tldFBvcnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29ublVybCA9IGNvbm5VcmwudG9TdHJpbmcoKTtcbiAgfVxuXG4gIC8vIFN0cmlwIGFueSB0cmFpbGluZyBzbGFzaCBiZWZvcmUgYXBwZW5kaW5nIHRoZSBwYXRobmFtZSBiZWxvdy5cbiAgaWYgKGNvbm5VcmwubGVuZ3RoID4gMCAmJiBjb25uVXJsW2Nvbm5VcmwubGVuZ3RoIC0gMV0gPT09ICcvJykge1xuICAgIGNvbm5VcmwgPSBjb25uVXJsLnN1YnN0cmluZygwLCBjb25uVXJsLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgY29ublVybCArPSBDbGllbnQ0LmdldFVybFZlcnNpb24oKSArICcvd2Vic29ja2V0JztcblxuICBXZWJTb2NrZXRDbGllbnQuc2V0RXZlbnRDYWxsYmFjayhoYW5kbGVFdmVudCk7XG4gIFdlYlNvY2tldENsaWVudC5zZXRGaXJzdENvbm5lY3RDYWxsYmFjayhoYW5kbGVGaXJzdENvbm5lY3QpO1xuICBXZWJTb2NrZXRDbGllbnQuc2V0UmVjb25uZWN0Q2FsbGJhY2soKCkgPT4gcmVjb25uZWN0KGZhbHNlKSk7XG4gIFdlYlNvY2tldENsaWVudC5zZXRNaXNzZWRFdmVudENhbGxiYWNrKCgpID0+IHJlY29ubmVjdChmYWxzZSkpO1xuICBXZWJTb2NrZXRDbGllbnQuc2V0Q2xvc2VDYWxsYmFjayhoYW5kbGVDbG9zZSk7XG4gIFdlYlNvY2tldENsaWVudC5pbml0aWFsaXplKGNvbm5VcmwsIENsaWVudDQuZ2V0VG9rZW4oKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgV2ViU29ja2V0Q2xpZW50LmNsb3NlKCk7XG59XG5cbmZ1bmN0aW9uIHJlY29ubmVjdFdlYlNvY2tldCgpIHtcbiAgY2xvc2UoKTtcbiAgaW5pdGlhbGl6ZSgpO1xufVxuXG5jb25zdCBwbHVnaW5SZWNvbm5lY3RIYW5kbGVycyA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW5SZWNvbm5lY3RIYW5kbGVyKHBsdWdpbklkLCBoYW5kbGVyKSB7XG4gIHBsdWdpblJlY29ubmVjdEhhbmRsZXJzW3BsdWdpbklkXSA9IGhhbmRsZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnJlZ2lzdGVyUGx1Z2luUmVjb25uZWN0SGFuZGxlcihwbHVnaW5JZCkge1xuICBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHBsdWdpblJlY29ubmVjdEhhbmRsZXJzLCBwbHVnaW5JZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWNvbm5lY3QoaW5jbHVkZVdlYlNvY2tldCA9IHRydWUpIHtcbiAgaWYgKGluY2x1ZGVXZWJTb2NrZXQpIHtcbiAgICByZWNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgfVxuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBHZW5lcmFsVHlwZXMuV0VCU09DS0VUX1NVQ0NFU1MsXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICB9KTtcblxuICAvLyBsb2FkUGx1Z2luc0lmTmVjZXNzYXJ5KCk7XG5cbiAgLy8gT2JqZWN0LnZhbHVlcyhwbHVnaW5SZWNvbm5lY3RIYW5kbGVycykuZm9yRWFjaCgoaGFuZGxlcikgPT4ge1xuICAvLyAgIGlmIChoYW5kbGVyICYmIHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vICAgICBoYW5kbGVyKCk7XG4gIC8vICAgfVxuICAvLyB9KTtcblxuICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gIGNvbnN0IGN1cnJlbnRUZWFtSWQgPSBzdGF0ZS5lbnRpdGllcy50ZWFtcy5jdXJyZW50VGVhbUlkO1xuICBpZiAoY3VycmVudFRlYW1JZCkge1xuICAgIGNvbnN0IGN1cnJlbnRDaGFubmVsSWQgPSBnZXRDdXJyZW50Q2hhbm5lbElkKHN0YXRlKTtcbiAgICBjb25zdCBtb3N0UmVjZW50SWQgPSBnZXRNb3N0UmVjZW50UG9zdElkSW5DaGFubmVsKHN0YXRlLCBjdXJyZW50Q2hhbm5lbElkKTtcbiAgICBjb25zdCBtb3N0UmVjZW50UG9zdCA9IGdldFBvc3Qoc3RhdGUsIG1vc3RSZWNlbnRJZCk7XG5cbiAgICBkaXNwYXRjaChsb2FkQ2hhbm5lbHNGb3JDdXJyZW50VXNlcjIoKSk7XG4gICAgZGlzcGF0Y2goaGFuZGxlUmVmcmVzaEFwcHNCaW5kaW5ncygpKTtcblxuICAgIGlmIChtb3N0UmVjZW50UG9zdCkge1xuICAgICAgZGlzcGF0Y2goc3luY1Bvc3RzSW5DaGFubmVsKGN1cnJlbnRDaGFubmVsSWQsIG1vc3RSZWNlbnRQb3N0LmNyZWF0ZV9hdCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiBuZXR3b3JrIHRpbWVkLW91dCB0aGUgZmlyc3QgdGltZSB3aGVuIGxvYWRpbmcgYSBjaGFubmVsXG4gICAgICAvLyB3ZSBjYW4gcmVxdWVzdCBmb3IgZ2V0UG9zdHMgYWdhaW4gd2hlbiBzb2NrZXQgaXMgY29ubmVjdGVkXG4gICAgICBkaXNwYXRjaChnZXRQb3N0cyhjdXJyZW50Q2hhbm5lbElkKSk7XG4gICAgfVxuICAgIFN0YXR1c0FjdGlvbnMubG9hZFN0YXR1c2VzRm9yQ2hhbm5lbEFuZFNpZGViYXIoKTtcbiAgICBkaXNwYXRjaChUZWFtQWN0aW9ucy5nZXRNeVRlYW1VbnJlYWRzKCkpO1xuICB9XG5cbiAgaWYgKHN0YXRlLndlYnNvY2tldC5sYXN0RGlzY29ubmVjdEF0KSB7XG4gICAgZGlzcGF0Y2goY2hlY2tGb3JNb2RpZmllZFVzZXJzKCkpO1xuICB9XG5cbiAgZGlzcGF0Y2gocmVzZXRXc0Vycm9yQ291bnQoKSk7XG4gIGRpc3BhdGNoKGNsZWFyRXJyb3JzKCkpO1xufVxuXG5sZXQgaW50ZXJ2YWxJZCA9ICcnO1xuY29uc3QgU1lOQ19JTlRFUlZBTF9NSUxMSVNFQ09ORFMgPSAxMDAwICogNjAgKiAxNTsgLy8gMTUgbWludXRlc1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRQZXJpb2RpY1N5bmMoKSB7XG4gIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG5cbiAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICBpZiAoZ2V0Q3VycmVudFVzZXIoZ2V0U3RhdGUoKSkgIT0gbnVsbCkge1xuICAgICAgcmVjb25uZWN0KGZhbHNlKTtcbiAgICB9XG4gIH0sIFNZTkNfSU5URVJWQUxfTUlMTElTRUNPTkRTKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BQZXJpb2RpY1N5bmMoKSB7XG4gIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclBsdWdpbldlYlNvY2tldEV2ZW50KHBsdWdpbklkLCBldmVudCwgYWN0aW9uKSB7XG4gIGlmICghcGx1Z2luRXZlbnRIYW5kbGVyc1twbHVnaW5JZF0pIHtcbiAgICBwbHVnaW5FdmVudEhhbmRsZXJzW3BsdWdpbklkXSA9IHt9O1xuICB9XG4gIHBsdWdpbkV2ZW50SGFuZGxlcnNbcGx1Z2luSWRdW2V2ZW50XSA9IGFjdGlvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucmVnaXN0ZXJQbHVnaW5XZWJTb2NrZXRFdmVudChwbHVnaW5JZCwgZXZlbnQpIHtcbiAgY29uc3QgZXZlbnRzID0gcGx1Z2luRXZlbnRIYW5kbGVyc1twbHVnaW5JZF07XG4gIGlmICghZXZlbnRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShldmVudHMsIGV2ZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucmVnaXN0ZXJBbGxQbHVnaW5XZWJTb2NrZXRFdmVudHMocGx1Z2luSWQpIHtcbiAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShwbHVnaW5FdmVudEhhbmRsZXJzLCBwbHVnaW5JZCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZpcnN0Q29ubmVjdCgpIHtcbiAgZGlzcGF0Y2goXG4gICAgYmF0Y2hBY3Rpb25zKFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogR2VuZXJhbFR5cGVzLldFQlNPQ0tFVF9TVUNDRVNTLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9LFxuICAgICAgY2xlYXJFcnJvcnMoKSxcbiAgICBdKVxuICApO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVDbG9zZShmYWlsQ291bnQpIHtcbiAgaWYgKGZhaWxDb3VudCA+IE1BWF9XRUJTT0NLRVRfRkFJTFMpIHtcbiAgICBkaXNwYXRjaChsb2dFcnJvcih7dHlwZTogJ2NyaXRpY2FsJywgbWVzc2FnZTogQW5ub3VuY2VtZW50QmFyTWVzc2FnZXMuV0VCU09DS0VUX1BPUlRfRVJST1J9LCB0cnVlKSk7XG4gIH1cbiAgZGlzcGF0Y2goXG4gICAgYmF0Y2hBY3Rpb25zKFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogR2VuZXJhbFR5cGVzLldFQlNPQ0tFVF9GQUlMVVJFLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9LFxuICAgICAgaW5jcmVtZW50V3NFcnJvckNvdW50KCksXG4gICAgXSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUV2ZW50KG1zZykge1xuICBzd2l0Y2ggKG1zZy5ldmVudCkge1xuICAgIGNhc2UgU29ja2V0RXZlbnRzLlBPU1RFRDpcbiAgICBjYXNlIFNvY2tldEV2ZW50cy5FUEhFTUVSQUxfTUVTU0FHRTpcbiAgICAgIGhhbmRsZU5ld1Bvc3RFdmVudERlYm91bmNlZChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5QT1NUX0VESVRFRDpcbiAgICAgIGhhbmRsZVBvc3RFZGl0RXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuUE9TVF9ERUxFVEVEOlxuICAgICAgaGFuZGxlUG9zdERlbGV0ZUV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlBPU1RfVU5SRUFEOlxuICAgICAgaGFuZGxlUG9zdFVucmVhZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLkxFQVZFX1RFQU06XG4gICAgICBoYW5kbGVMZWF2ZVRlYW1FdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5VUERBVEVfVEVBTTpcbiAgICAgIGhhbmRsZVVwZGF0ZVRlYW1FdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5VUERBVEVfVEVBTV9TQ0hFTUU6XG4gICAgICBoYW5kbGVVcGRhdGVUZWFtU2NoZW1lRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuREVMRVRFX1RFQU06XG4gICAgICBoYW5kbGVEZWxldGVUZWFtRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuQURERURfVE9fVEVBTTpcbiAgICAgIGhhbmRsZVRlYW1BZGRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlVTRVJfQURERUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVVc2VyQWRkZWRFdmVudChtc2cpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuVVNFUl9SRU1PVkVEOlxuICAgICAgaGFuZGxlVXNlclJlbW92ZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5VU0VSX1VQREFURUQ6XG4gICAgICBoYW5kbGVVc2VyVXBkYXRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlJPTEVfQURERUQ6XG4gICAgICBoYW5kbGVSb2xlQWRkZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5ST0xFX1JFTU9WRUQ6XG4gICAgICBoYW5kbGVSb2xlUmVtb3ZlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLkNIQU5ORUxfU0NIRU1FX1VQREFURUQ6XG4gICAgICBoYW5kbGVDaGFubmVsU2NoZW1lVXBkYXRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLk1FTUJFUlJPTEVfVVBEQVRFRDpcbiAgICAgIGhhbmRsZVVwZGF0ZU1lbWJlclJvbGVFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5ST0xFX1VQREFURUQ6XG4gICAgICBoYW5kbGVSb2xlVXBkYXRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLkNIQU5ORUxfQ1JFQVRFRDpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZUNoYW5uZWxDcmVhdGVkRXZlbnQobXNnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLkNIQU5ORUxfREVMRVRFRDpcbiAgICAgIGhhbmRsZUNoYW5uZWxEZWxldGVkRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuQ0hBTk5FTF9VTkFSQ0hJVkVEOlxuICAgICAgaGFuZGxlQ2hhbm5lbFVuYXJjaGl2ZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5DSEFOTkVMX0NPTlZFUlRFRDpcbiAgICAgIGhhbmRsZUNoYW5uZWxDb252ZXJ0ZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5DSEFOTkVMX1VQREFURUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVDaGFubmVsVXBkYXRlZEV2ZW50KG1zZykpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5DSEFOTkVMX01FTUJFUl9VUERBVEVEOlxuICAgICAgaGFuZGxlQ2hhbm5lbE1lbWJlclVwZGF0ZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5ESVJFQ1RfQURERUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVEaXJlY3RBZGRlZEV2ZW50KG1zZykpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5HUk9VUF9BRERFRDpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZUdyb3VwQWRkZWRFdmVudChtc2cpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuUFJFRkVSRU5DRV9DSEFOR0VEOlxuICAgICAgaGFuZGxlUHJlZmVyZW5jZUNoYW5nZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5QUkVGRVJFTkNFU19DSEFOR0VEOlxuICAgICAgaGFuZGxlUHJlZmVyZW5jZXNDaGFuZ2VkRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuUFJFRkVSRU5DRVNfREVMRVRFRDpcbiAgICAgIGhhbmRsZVByZWZlcmVuY2VzRGVsZXRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlRZUElORzpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZVVzZXJUeXBpbmdFdmVudChtc2cpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuU1RBVFVTX0NIQU5HRUQ6XG4gICAgICBoYW5kbGVTdGF0dXNDaGFuZ2VkRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuSEVMTE86XG4gICAgICBoYW5kbGVIZWxsb0V2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlJFQUNUSU9OX0FEREVEOlxuICAgICAgaGFuZGxlUmVhY3Rpb25BZGRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlJFQUNUSU9OX1JFTU9WRUQ6XG4gICAgICBoYW5kbGVSZWFjdGlvblJlbW92ZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5FTU9KSV9BRERFRDpcbiAgICAgIGhhbmRsZUFkZEVtb2ppKG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLkNIQU5ORUxfVklFV0VEOlxuICAgICAgaGFuZGxlQ2hhbm5lbFZpZXdlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlBMVUdJTl9FTkFCTEVEOlxuICAgICAgaGFuZGxlUGx1Z2luRW5hYmxlZChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5QTFVHSU5fRElTQUJMRUQ6XG4gICAgICBoYW5kbGVQbHVnaW5EaXNhYmxlZChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5VU0VSX1JPTEVfVVBEQVRFRDpcbiAgICAgIGhhbmRsZVVzZXJSb2xlVXBkYXRlZChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5DT05GSUdfQ0hBTkdFRDpcbiAgICAgIGhhbmRsZUNvbmZpZ0NoYW5nZWQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuTElDRU5TRV9DSEFOR0VEOlxuICAgICAgaGFuZGxlTGljZW5zZUNoYW5nZWQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuUExVR0lOX1NUQVRVU0VTX0NIQU5HRUQ6XG4gICAgICBoYW5kbGVQbHVnaW5TdGF0dXNlc0NoYW5nZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5PUEVOX0RJQUxPRzpcbiAgICAgIGhhbmRsZU9wZW5EaWFsb2dFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5SRUNFSVZFRF9HUk9VUDpcbiAgICAgIGhhbmRsZUdyb3VwVXBkYXRlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlJFQ0VJVkVEX0dST1VQX0FTU09DSUFURURfVE9fVEVBTTpcbiAgICAgIGhhbmRsZUdyb3VwQXNzb2NpYXRlZFRvVGVhbUV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlJFQ0VJVkVEX0dST1VQX05PVF9BU1NPQ0lBVEVEX1RPX1RFQU06XG4gICAgICBoYW5kbGVHcm91cE5vdEFzc29jaWF0ZWRUb1RlYW1FdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5SRUNFSVZFRF9HUk9VUF9BU1NPQ0lBVEVEX1RPX0NIQU5ORUw6XG4gICAgICBoYW5kbGVHcm91cEFzc29jaWF0ZWRUb0NoYW5uZWxFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFNvY2tldEV2ZW50cy5SRUNFSVZFRF9HUk9VUF9OT1RfQVNTT0NJQVRFRF9UT19DSEFOTkVMOlxuICAgICAgaGFuZGxlR3JvdXBOb3RBc3NvY2lhdGVkVG9DaGFubmVsRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuV0FSTl9NRVRSSUNfU1RBVFVTX1JFQ0VJVkVEOlxuICAgICAgaGFuZGxlV2Fybk1ldHJpY1N0YXR1c1JlY2VpdmVkRXZlbnQobXNnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTb2NrZXRFdmVudHMuV0FSTl9NRVRSSUNfU1RBVFVTX1JFTU9WRUQ6XG4gICAgICBoYW5kbGVXYXJuTWV0cmljU3RhdHVzUmVtb3ZlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlNJREVCQVJfQ0FURUdPUllfQ1JFQVRFRDpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZVNpZGViYXJDYXRlZ29yeUNyZWF0ZWQobXNnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlNJREVCQVJfQ0FURUdPUllfVVBEQVRFRDpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZVNpZGViYXJDYXRlZ29yeVVwZGF0ZWQobXNnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU29ja2V0RXZlbnRzLlNJREVCQVJfQ0FURUdPUllfREVMRVRFRDpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZVNpZGViYXJDYXRlZ29yeURlbGV0ZWQobXNnKSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFNvY2tldEV2ZW50cy5TSURFQkFSX0NBVEVHT1JZX09SREVSX1VQREFURUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVTaWRlYmFyQ2F0ZWdvcnlPcmRlclVwZGF0ZWQobXNnKSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFNvY2tldEV2ZW50cy5VU0VSX0FDVElWQVRJT05fU1RBVFVTX0NIQU5HRUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVVc2VyQWN0aXZhdGlvblN0YXR1c0NoYW5nZSgpKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgU29ja2V0RXZlbnRzLkNMT1VEX1BBWU1FTlRfU1RBVFVTX1VQREFURUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVDbG91ZFBheW1lbnRTdGF0dXNVcGRhdGVkKG1zZykpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTb2NrZXRFdmVudHMuRklSU1RfQURNSU5fVklTSVRfTUFSS0VUUExBQ0VfU1RBVFVTX1JFQ0VJVkVEOlxuICAgICAgaGFuZGxlRmlyc3RBZG1pblZpc2l0TWFya2V0cGxhY2VTdGF0dXNSZWNlaXZlZEV2ZW50KG1zZyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFNvY2tldEV2ZW50cy5USFJFQURfRk9MTE9XX0NIQU5HRUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVUaHJlYWRGb2xsb3dDaGFuZ2VkKG1zZykpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTb2NrZXRFdmVudHMuVEhSRUFEX1JFQURfQ0hBTkdFRDpcbiAgICAgIGRpc3BhdGNoKGhhbmRsZVRocmVhZFJlYWRDaGFuZ2VkKG1zZykpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTb2NrZXRFdmVudHMuVEhSRUFEX1VQREFURUQ6XG4gICAgICBkaXNwYXRjaChoYW5kbGVUaHJlYWRVcGRhdGVkKG1zZykpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTb2NrZXRFdmVudHMuQ09OVEFDVF9DSEFOR0VEOlxuICAgICAgaGFuZGxlQ29udGFjdFVwZGF0ZWRFdmVudChtc2cpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTb2NrZXRFdmVudHMuQVBQU19GUkFNRVdPUktfUkVGUkVTSF9CSU5ESU5HUzoge1xuICAgICAgZGlzcGF0Y2goaGFuZGxlUmVmcmVzaEFwcHNCaW5kaW5ncyhtc2cpKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICB9XG5cbiAgT2JqZWN0LnZhbHVlcyhwbHVnaW5FdmVudEhhbmRsZXJzKS5mb3JFYWNoKChwbHVnaW5FdmVudHMpID0+IHtcbiAgICBpZiAoIXBsdWdpbkV2ZW50cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwbHVnaW5FdmVudHMuaGFzT3duUHJvcGVydHkobXNnLmV2ZW50KSAmJiB0eXBlb2YgcGx1Z2luRXZlbnRzW21zZy5ldmVudF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHBsdWdpbkV2ZW50c1ttc2cuZXZlbnRdKG1zZyk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gaGFuZGxlQ2hhbm5lbENvbnZlcnRlZEV2ZW50IGhhbmRsZXMgdXBkYXRpbmcgb2YgY2hhbm5lbCB3aGljaCBpcyBjb252ZXJ0ZWQgZnJvbSBwdWJsaWMgdG8gcHJpdmF0ZVxuZnVuY3Rpb24gaGFuZGxlQ2hhbm5lbENvbnZlcnRlZEV2ZW50KG1zZykge1xuICBjb25zdCBjaGFubmVsSWQgPSBtc2cuZGF0YS5jaGFubmVsX2lkO1xuICBpZiAoY2hhbm5lbElkKSB7XG4gICAgY29uc3QgY2hhbm5lbCA9IGdldENoYW5uZWwoZ2V0U3RhdGUoKSwgY2hhbm5lbElkKTtcbiAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBDaGFubmVsVHlwZXMuUkVDRUlWRURfQ0hBTk5FTCxcbiAgICAgICAgZGF0YTogey4uLmNoYW5uZWwsIHR5cGU6IEdlbmVyYWwuUFJJVkFURV9DSEFOTkVMfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQ2hhbm5lbFVwZGF0ZWRFdmVudChtc2cpIHtcbiAgcmV0dXJuIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgY29uc3QgY2hhbm5lbCA9IEpTT04ucGFyc2UobXNnLmRhdGEuY2hhbm5lbCk7XG5cbiAgICBkb0Rpc3BhdGNoKHt0eXBlOiBDaGFubmVsVHlwZXMuUkVDRUlWRURfQ0hBTk5FTCwgZGF0YTogY2hhbm5lbH0pO1xuXG4gICAgY29uc3Qgc3RhdGUgPSBkb0dldFN0YXRlKCk7XG4gICAgaWYgKGNoYW5uZWwuaWQgPT09IGdldEN1cnJlbnRDaGFubmVsSWQoc3RhdGUpKSB7XG4gICAgICBicm93c2VySGlzdG9yeS5yZXBsYWNlKGAke2dldEN1cnJlbnRSZWxhdGl2ZVRlYW1Vcmwoc3RhdGUpfS9ncm91cC8ke2NoYW5uZWwubmFtZX1gKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNoYW5uZWxNZW1iZXJVcGRhdGVkRXZlbnQobXNnKSB7XG4gIGNvbnN0IGNoYW5uZWxNZW1iZXIgPSBKU09OLnBhcnNlKG1zZy5kYXRhLmNoYW5uZWxNZW1iZXIpO1xuICBjb25zdCByb2xlcyA9IGNoYW5uZWxNZW1iZXIucm9sZXMuc3BsaXQoJyAnKTtcbiAgZGlzcGF0Y2gobG9hZFJvbGVzSWZOZWVkZWQocm9sZXMpKTtcbiAgZGlzcGF0Y2goe3R5cGU6IENoYW5uZWxUeXBlcy5SRUNFSVZFRF9NWV9DSEFOTkVMX01FTUJFUiwgZGF0YTogY2hhbm5lbE1lbWJlcn0pO1xufVxuXG5mdW5jdGlvbiBkZWJvdW5jZVBvc3RFdmVudCh3YWl0KSB7XG4gIGxldCB0aW1lb3V0O1xuICBsZXQgcXVldWUgPSBbXTtcbiAgbGV0IGNvdW50ID0gMDtcblxuICAvLyBDYWxsZWQgd2hlbiB0aW1lb3V0IHRyaWdnZXJlZFxuICBjb25zdCB0cmlnZ2VyZWQgPSAoKSA9PiB7XG4gICAgdGltZW91dCA9IG51bGw7XG5cbiAgICBpZiAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgZGlzcGF0Y2goaGFuZGxlTmV3UG9zdEV2ZW50cyhxdWV1ZSkpO1xuICAgIH1cblxuICAgIHF1ZXVlID0gW107XG4gICAgY291bnQgPSAwO1xuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbiBmeChtc2cpIHtcbiAgICBpZiAodGltZW91dCAmJiBjb3VudCA+IDQpIHtcbiAgICAgIC8vIElmIHRoZSB0aW1lb3V0IGlzIGdvaW5nIHRoaXMgaXMgdGhlIHNlY29uZCBvciBmdXJ0aGVyIGV2ZW50IHNvIHF1ZXVlIHRoZW0gdXAuXG4gICAgICBpZiAocXVldWUucHVzaChtc2cpID4gMjAwKSB7XG4gICAgICAgIC8vIERvbid0IHJ1biB1cyBvdXQgb2YgbWVtb3J5LCBnaXZlIHVwIGlmIHRoZSBxdWV1ZSBnZXRzIGluc2FuZVxuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICBjb25zb2xlLmxvZygnY2hhbm5lbCBicm9rZW4gYmVjYXVzZSBvZiB0b28gbWFueSBpbmNvbWluZyBtZXNzYWdlcycpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgfVxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQodHJpZ2dlcmVkLCB3YWl0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQXBwbHkgaW1tZWRpYXRlbHkgZm9yIGV2ZW50cyB1cCB1bnRpbCBjb3VudCByZWFjaGVzIGxpbWl0XG4gICAgICBjb3VudCArPSAxO1xuICAgICAgZGlzcGF0Y2goaGFuZGxlTmV3UG9zdEV2ZW50KG1zZykpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQodHJpZ2dlcmVkLCB3YWl0KTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IGhhbmRsZU5ld1Bvc3RFdmVudERlYm91bmNlZCA9IGRlYm91bmNlUG9zdEV2ZW50KDEwMCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVOZXdQb3N0RXZlbnQobXNnKSB7XG4gIHJldHVybiAobXlEaXNwYXRjaCwgbXlHZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHBvc3QgPSBKU09OLnBhcnNlKG1zZy5kYXRhLnBvc3QpO1xuICAgIG15RGlzcGF0Y2goaGFuZGxlTmV3UG9zdChwb3N0LCBtc2cpKTtcblxuICAgIGdldFByb2ZpbGVzQW5kU3RhdHVzZXNGb3JQb3N0cyhbcG9zdF0sIG15RGlzcGF0Y2gsIG15R2V0U3RhdGUpO1xuXG4gICAgLy8gU2luY2Ugc3RhdHVzIHVwZGF0ZXMgYXJlbid0IHJlYWwgdGltZSwgYXNzdW1lIGFub3RoZXIgdXNlciBpcyBvbmxpbmUgaWYgdGhleSBoYXZlIHBvc3RlZCBhbmQ6XG4gICAgLy8gMS4gVGhlIHVzZXIgaGFzbid0IHNldCB0aGVpciBzdGF0dXMgbWFudWFsbHkgdG8gc29tZXRoaW5nIHRoYXQgaXNuJ3Qgb25saW5lXG4gICAgLy8gMi4gVGhlIHNlcnZlciBoYXNuJ3QgdG9sZCB0aGUgY2xpZW50IG5vdCB0byBzZXQgdGhlIHVzZXIgdG8gb25saW5lLiBUaGlzIGhhcHBlbnMgd2hlbjpcbiAgICAvLyAgICAgYS4gVGhlIHBvc3QgaXMgZnJvbSB0aGUgYXV0byByZXNwb25kZXJcbiAgICAvLyAgICAgYi4gVGhlIHBvc3QgaXMgYSByZXNwb25zZSB0byBhIHB1c2ggbm90aWZpY2F0aW9uXG4gICAgaWYgKFxuICAgICAgcG9zdC51c2VyX2lkICE9PSBnZXRDdXJyZW50VXNlcklkKG15R2V0U3RhdGUoKSkgJiZcbiAgICAgICFnZXRJc01hbnVhbFN0YXR1c0ZvclVzZXJJZChteUdldFN0YXRlKCksIHBvc3QudXNlcl9pZCkgJiZcbiAgICAgIG1zZy5kYXRhLnNldF9vbmxpbmVcbiAgICApIHtcbiAgICAgIG15RGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBVc2VyVHlwZXMuUkVDRUlWRURfU1RBVFVTRVMsXG4gICAgICAgIGRhdGE6IFt7dXNlcl9pZDogcG9zdC51c2VyX2lkLCBzdGF0dXM6IFVzZXJTdGF0dXNlcy5PTkxJTkV9XSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU5ld1Bvc3RFdmVudHMocXVldWUpIHtcbiAgcmV0dXJuIChteURpc3BhdGNoLCBteUdldFN0YXRlKSA9PiB7XG4gICAgLy8gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGRvZXNuJ3QgcHJvcGVybHkgdXBkYXRlIHRoZSBzaWRlYmFyIHN0YXRlIGZvciB0aGVzZSBwb3N0c1xuICAgIGNvbnN0IHBvc3RzID0gcXVldWUubWFwKChtc2cpID0+IEpTT04ucGFyc2UobXNnLmRhdGEucG9zdCkpO1xuXG4gICAgLy8gUmVjZWl2ZSB0aGUgcG9zdHMgYXMgb25lIGNvbnRpbnVvdXMgYmxvY2sgc2luY2UgdGhleSB3ZXJlIHJlY2VpdmVkIHdpdGhpbiBhIHNob3J0IHBlcmlvZFxuICAgIGNvbnN0IGNydEVuYWJsZWQgPSBpc0NvbGxhcHNlZFRocmVhZHNFbmFibGVkKG15R2V0U3RhdGUoKSk7XG4gICAgY29uc3QgYWN0aW9ucyA9IHBvc3RzLm1hcCgocG9zdCkgPT4gcmVjZWl2ZWROZXdQb3N0KHBvc3QsIGNydEVuYWJsZWQpKTtcbiAgICBteURpc3BhdGNoKGJhdGNoQWN0aW9ucyhhY3Rpb25zKSk7XG5cbiAgICAvLyBMb2FkIHRoZSBwb3N0cycgdGhyZWFkc1xuICAgIG15RGlzcGF0Y2goZ2V0VGhyZWFkc0ZvclBvc3RzKHBvc3RzKSk7XG5cbiAgICAvLyBBbmQgYW55IG90aGVyIGRhdGEgbmVlZGVkIGZvciB0aGVtXG4gICAgZ2V0UHJvZmlsZXNBbmRTdGF0dXNlc0ZvclBvc3RzKHBvc3RzLCBteURpc3BhdGNoLCBteUdldFN0YXRlKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVBvc3RFZGl0RXZlbnQobXNnKSB7XG4gIC8vIFN0b3JlIHBvc3RcbiAgY29uc3QgcG9zdCA9IEpTT04ucGFyc2UobXNnLmRhdGEucG9zdCk7XG4gIGRpc3BhdGNoKHJlY2VpdmVkUG9zdChwb3N0KSk7XG5cbiAgZ2V0UHJvZmlsZXNBbmRTdGF0dXNlc0ZvclBvc3RzKFtwb3N0XSwgZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgY29uc3QgY3VycmVudENoYW5uZWxJZCA9IGdldEN1cnJlbnRDaGFubmVsSWQoZ2V0U3RhdGUoKSk7XG5cbiAgLy8gVXBkYXRlIGNoYW5uZWwgc3RhdGVcbiAgaWYgKGN1cnJlbnRDaGFubmVsSWQgPT09IG1zZy5icm9hZGNhc3QuY2hhbm5lbF9pZCkge1xuICAgIGRpc3BhdGNoKGdldENoYW5uZWxTdGF0cyhjdXJyZW50Q2hhbm5lbElkKSk7XG4gICAgaWYgKHdpbmRvdy5pc0FjdGl2ZSkge1xuICAgICAgZGlzcGF0Y2godmlld0NoYW5uZWwoY3VycmVudENoYW5uZWxJZCkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVQb3N0RGVsZXRlRXZlbnQobXNnKSB7XG4gIGNvbnN0IHBvc3QgPSBKU09OLnBhcnNlKG1zZy5kYXRhLnBvc3QpO1xuICBkaXNwYXRjaChwb3N0RGVsZXRlZChwb3N0KSk7XG4gIGlmIChwb3N0LmlzX3Bpbm5lZCkge1xuICAgIGRpc3BhdGNoKGdldENoYW5uZWxTdGF0cyhwb3N0LmNoYW5uZWxfaWQpKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUG9zdFVucmVhZEV2ZW50KG1zZykge1xuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogQWN0aW9uVHlwZXMuUE9TVF9VTlJFQURfU1VDQ0VTUyxcbiAgICBkYXRhOiB7XG4gICAgICBsYXN0Vmlld2VkQXQ6IG1zZy5kYXRhLmxhc3Rfdmlld2VkX2F0LFxuICAgICAgY2hhbm5lbElkOiBtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQsXG4gICAgICBtc2dDb3VudDogbXNnLmRhdGEubXNnX2NvdW50LFxuICAgICAgbWVudGlvbkNvdW50OiBtc2cuZGF0YS5tZW50aW9uX2NvdW50LFxuICAgIH0sXG4gIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVUZWFtQWRkZWRFdmVudChtc2cpIHtcbiAgYXdhaXQgZGlzcGF0Y2goVGVhbUFjdGlvbnMuZ2V0VGVhbShtc2cuZGF0YS50ZWFtX2lkKSk7XG4gIGF3YWl0IGRpc3BhdGNoKFRlYW1BY3Rpb25zLmdldE15VGVhbU1lbWJlcnMoKSk7XG4gIGF3YWl0IGRpc3BhdGNoKFRlYW1BY3Rpb25zLmdldE15VGVhbVVucmVhZHMoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVMZWF2ZVRlYW1FdmVudChtc2cpIHtcbiAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuXG4gIGNvbnN0IGFjdGlvbnMgPSBbXG4gICAge1xuICAgICAgdHlwZTogVXNlclR5cGVzLlJFQ0VJVkVEX1BST0ZJTEVfTk9UX0lOX1RFQU0sXG4gICAgICBkYXRhOiB7aWQ6IG1zZy5kYXRhLnRlYW1faWQsIHVzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogVGVhbVR5cGVzLlJFTU9WRV9NRU1CRVJfRlJPTV9URUFNLFxuICAgICAgZGF0YToge3RlYW1faWQ6IG1zZy5kYXRhLnRlYW1faWQsIHVzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgIH0sXG4gIF07XG5cbiAgY29uc3QgY2hhbm5lbHNQZXJUZWFtID0gZ2V0Q2hhbm5lbHNJblRlYW0oc3RhdGUpO1xuICBjb25zdCBjaGFubmVscyA9IChjaGFubmVsc1BlclRlYW0gJiYgY2hhbm5lbHNQZXJUZWFtW21zZy5kYXRhLnRlYW1faWRdKSB8fCBbXTtcblxuICBmb3IgKGNvbnN0IGNoYW5uZWwgb2YgY2hhbm5lbHMpIHtcbiAgICBhY3Rpb25zLnB1c2goe1xuICAgICAgdHlwZTogQ2hhbm5lbFR5cGVzLlJFTU9WRV9NRU1CRVJfRlJPTV9DSEFOTkVMLFxuICAgICAgZGF0YToge2lkOiBjaGFubmVsLCB1c2VyX2lkOiBtc2cuZGF0YS51c2VyX2lkfSxcbiAgICB9KTtcbiAgfVxuXG4gIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhhY3Rpb25zKSk7XG4gIGNvbnN0IGN1cnJlbnRVc2VyID0gZ2V0Q3VycmVudFVzZXIoc3RhdGUpO1xuXG4gIGlmIChjdXJyZW50VXNlci5pZCA9PT0gbXNnLmRhdGEudXNlcl9pZCkge1xuICAgIGRpc3BhdGNoKHt0eXBlOiBUZWFtVHlwZXMuTEVBVkVfVEVBTSwgZGF0YToge2lkOiBtc2cuZGF0YS50ZWFtX2lkfX0pO1xuXG4gICAgLy8gaWYgdGhleSBhcmUgb24gdGhlIHRlYW0gYmVpbmcgcmVtb3ZlZCByZWRpcmVjdCB0aGVtIHRvIGRlZmF1bHQgdGVhbVxuICAgIGlmIChnZXRDdXJyZW50VGVhbUlkKHN0YXRlKSA9PT0gbXNnLmRhdGEudGVhbV9pZCkge1xuICAgICAgaWYgKCFnbG9iYWwubG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgnL2FkbWluX2NvbnNvbGUnKSkge1xuICAgICAgICByZWRpcmVjdFVzZXJUb0RlZmF1bHRUZWFtKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0d1ZXN0KGN1cnJlbnRVc2VyKSkge1xuICAgICAgZGlzcGF0Y2gocmVtb3ZlTm90VmlzaWJsZVVzZXJzKCkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0ZWFtID0gZ2V0VGVhbShzdGF0ZSwgbXNnLmRhdGEudGVhbV9pZCk7XG4gICAgY29uc3QgbWVtYmVycyA9IGdldENoYW5uZWxNZW1iZXJzSW5DaGFubmVscyhzdGF0ZSk7XG4gICAgY29uc3QgaXNNZW1iZXIgPSBPYmplY3QudmFsdWVzKG1lbWJlcnMpLnNvbWUoKG1lbWJlcikgPT4gbWVtYmVyW21zZy5kYXRhLnVzZXJfaWRdKTtcbiAgICBpZiAodGVhbSAmJiBpc0d1ZXN0KGN1cnJlbnRVc2VyKSAmJiAhaXNNZW1iZXIpIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBiYXRjaEFjdGlvbnMoW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IFVzZXJUeXBlcy5QUk9GSUxFX05PX0xPTkdFUl9WSVNJQkxFLFxuICAgICAgICAgICAgZGF0YToge3VzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogVGVhbVR5cGVzLlJFTU9WRV9NRU1CRVJfRlJPTV9URUFNLFxuICAgICAgICAgICAgZGF0YToge3RlYW1faWQ6IHRlYW0uaWQsIHVzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgICAgICAgIH0sXG4gICAgICAgIF0pXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVVcGRhdGVUZWFtRXZlbnQobXNnKSB7XG4gIGRpc3BhdGNoKHt0eXBlOiBUZWFtVHlwZXMuVVBEQVRFRF9URUFNLCBkYXRhOiBKU09OLnBhcnNlKG1zZy5kYXRhLnRlYW0pfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVVwZGF0ZVRlYW1TY2hlbWVFdmVudCgpIHtcbiAgZGlzcGF0Y2goVGVhbUFjdGlvbnMuZ2V0TXlUZWFtTWVtYmVycygpKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlVGVhbUV2ZW50KG1zZykge1xuICBjb25zdCBkZWxldGVkVGVhbSA9IEpTT04ucGFyc2UobXNnLmRhdGEudGVhbSk7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3Qge3RlYW1zfSA9IHN0YXRlLmVudGl0aWVzLnRlYW1zO1xuICBpZiAoZGVsZXRlZFRlYW0gJiYgdGVhbXMgJiYgdGVhbXNbZGVsZXRlZFRlYW0uaWRdICYmIHRlYW1zW2RlbGV0ZWRUZWFtLmlkXS5kZWxldGVfYXQgPT09IDApIHtcbiAgICBjb25zdCB7Y3VycmVudFVzZXJJZH0gPSBzdGF0ZS5lbnRpdGllcy51c2VycztcbiAgICBjb25zdCB7Y3VycmVudFRlYW1JZCwgbXlNZW1iZXJzfSA9IHN0YXRlLmVudGl0aWVzLnRlYW1zO1xuICAgIGNvbnN0IHRlYW1NZW1iZXJzID0gT2JqZWN0LnZhbHVlcyhteU1lbWJlcnMpO1xuICAgIGNvbnN0IHRlYW1NZW1iZXIgPSB0ZWFtTWVtYmVycy5maW5kKChtKSA9PiBtLnVzZXJfaWQgPT09IGN1cnJlbnRVc2VySWQgJiYgbS50ZWFtX2lkID09PSBjdXJyZW50VGVhbUlkKTtcblxuICAgIGxldCBuZXdUZWFtSWQgPSAnJztcbiAgICBpZiAoZGVsZXRlZFRlYW0gJiYgdGVhbU1lbWJlciAmJiBkZWxldGVkVGVhbS5pZCA9PT0gdGVhbU1lbWJlci50ZWFtX2lkKSB7XG4gICAgICBjb25zdCBteVRlYW1zID0ge307XG4gICAgICBnZXRNeVRlYW1zKHN0YXRlKS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIG15VGVhbXNbdC5pZF0gPSB0O1xuICAgICAgfSk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVhbU1lbWJlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbWVtYmVyVGVhbUlkID0gdGVhbU1lbWJlcnNbaV0udGVhbV9pZDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG15VGVhbXMgJiZcbiAgICAgICAgICBteVRlYW1zW21lbWJlclRlYW1JZF0gJiZcbiAgICAgICAgICBteVRlYW1zW21lbWJlclRlYW1JZF0uZGVsZXRlX2F0ID09PSAwICYmXG4gICAgICAgICAgZGVsZXRlZFRlYW0uaWQgIT09IG1lbWJlclRlYW1JZFxuICAgICAgICApIHtcbiAgICAgICAgICBuZXdUZWFtSWQgPSBtZW1iZXJUZWFtSWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNwYXRjaChcbiAgICAgIGJhdGNoQWN0aW9ucyhbXG4gICAgICAgIHt0eXBlOiBUZWFtVHlwZXMuUkVDRUlWRURfVEVBTV9ERUxFVEVELCBkYXRhOiB7aWQ6IGRlbGV0ZWRUZWFtLmlkfX0sXG4gICAgICAgIHt0eXBlOiBUZWFtVHlwZXMuVVBEQVRFRF9URUFNLCBkYXRhOiBkZWxldGVkVGVhbX0sXG4gICAgICBdKVxuICAgICk7XG5cbiAgICBpZiAobmV3VGVhbUlkKSB7XG4gICAgICBkaXNwYXRjaCh7dHlwZTogVGVhbVR5cGVzLlNFTEVDVF9URUFNLCBkYXRhOiBuZXdUZWFtSWR9KTtcbiAgICAgIGNvbnN0IGdsb2JhbFN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgIGNvbnN0IHJlZGlyZWN0Q2hhbm5lbCA9IGdldFJlZGlyZWN0Q2hhbm5lbE5hbWVGb3JUZWFtKGdsb2JhbFN0YXRlLCBuZXdUZWFtSWQpO1xuICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChgJHtnZXRDdXJyZW50VGVhbVVybChnbG9iYWxTdGF0ZSl9L2dyb3VwLyR7cmVkaXJlY3RDaGFubmVsfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVVwZGF0ZU1lbWJlclJvbGVFdmVudChtc2cpIHtcbiAgY29uc3QgbWVtYmVyRGF0YSA9IEpTT04ucGFyc2UobXNnLmRhdGEubWVtYmVyKTtcbiAgY29uc3QgbmV3Um9sZXMgPSBtZW1iZXJEYXRhLnJvbGVzLnNwbGl0KCcgJyk7XG5cbiAgZGlzcGF0Y2gobG9hZFJvbGVzSWZOZWVkZWQobmV3Um9sZXMpKTtcblxuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogVGVhbVR5cGVzLlJFQ0VJVkVEX01ZX1RFQU1fTUVNQkVSLFxuICAgIGRhdGE6IG1lbWJlckRhdGEsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVEaXJlY3RBZGRlZEV2ZW50KG1zZykge1xuICByZXR1cm4gZmV0Y2hDaGFubmVsQW5kQWRkVG9TaWRlYmFyKG1zZy5icm9hZGNhc3QuY2hhbm5lbF9pZCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUdyb3VwQWRkZWRFdmVudChtc2cpIHtcbiAgcmV0dXJuIGZldGNoQ2hhbm5lbEFuZEFkZFRvU2lkZWJhcihtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVVc2VyQWRkZWRFdmVudChtc2cpIHtcbiAgcmV0dXJuIGFzeW5jIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBkb0dldFN0YXRlKCk7XG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKHN0YXRlKTtcbiAgICBjb25zdCBsaWNlbnNlID0gZ2V0TGljZW5zZShzdGF0ZSk7XG4gICAgY29uc3QgaXNUaW1lem9uZUVuYWJsZWQgPSBjb25maWcuRXhwZXJpbWVudGFsVGltZXpvbmUgPT09ICd0cnVlJztcbiAgICBjb25zdCBjdXJyZW50Q2hhbm5lbElkID0gZ2V0Q3VycmVudENoYW5uZWxJZChzdGF0ZSk7XG4gICAgaWYgKGN1cnJlbnRDaGFubmVsSWQgPT09IG1zZy5icm9hZGNhc3QuY2hhbm5lbF9pZCkge1xuICAgICAgZG9EaXNwYXRjaChnZXRDaGFubmVsU3RhdHMoY3VycmVudENoYW5uZWxJZCkpO1xuICAgICAgZG9EaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IFVzZXJUeXBlcy5SRUNFSVZFRF9QUk9GSUxFX0lOX0NIQU5ORUwsXG4gICAgICAgIGRhdGE6IHtpZDogbXNnLmJyb2FkY2FzdC5jaGFubmVsX2lkLCB1c2VyX2lkOiBtc2cuZGF0YS51c2VyX2lkfSxcbiAgICAgIH0pO1xuICAgICAgaWYgKGxpY2Vuc2U/LklzTGljZW5zZWQgPT09ICd0cnVlJyAmJiBsaWNlbnNlPy5MREFQR3JvdXBzID09PSAndHJ1ZScpIHtcbiAgICAgICAgZG9EaXNwYXRjaChnZXRDaGFubmVsTWVtYmVyQ291bnRzQnlHcm91cChjdXJyZW50Q2hhbm5lbElkLCBpc1RpbWV6b25lRW5hYmxlZCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIExvYWQgdGhlIGNoYW5uZWwgc28gdGhhdCBpdCBhcHBlYXJzIGluIHRoZSBzaWRlYmFyXG4gICAgY29uc3QgY3VycmVudFRlYW1JZCA9IGdldEN1cnJlbnRUZWFtSWQoZG9HZXRTdGF0ZSgpKTtcbiAgICBjb25zdCBjdXJyZW50VXNlcklkID0gZ2V0Q3VycmVudFVzZXJJZChkb0dldFN0YXRlKCkpO1xuICAgIGlmIChjdXJyZW50VGVhbUlkID09PSBtc2cuZGF0YS50ZWFtX2lkICYmIGN1cnJlbnRVc2VySWQgPT09IG1zZy5kYXRhLnVzZXJfaWQpIHtcbiAgICAgIGRvRGlzcGF0Y2goZmV0Y2hDaGFubmVsQW5kQWRkVG9TaWRlYmFyKG1zZy5icm9hZGNhc3QuY2hhbm5lbF9pZCkpO1xuICAgIH1cblxuICAgIC8vIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiBhIHVzZXIgZmlyc3Qgam9pbnMgdGhlIHNlcnZlciwgc28gcmVmcmVzaCBhbmFseXRpY3MgdG8gc2VlIGlmIHdlJ3JlIG5vdyBvdmVyIHRoZSB1c2VyIGxpbWl0XG4gICAgaWYgKGxpY2Vuc2UuQ2xvdWQgPT09ICd0cnVlJyAmJiBpc0N1cnJlbnRVc2VyU3lzdGVtQWRtaW4oZG9HZXRTdGF0ZSgpKSkge1xuICAgICAgZG9EaXNwYXRjaChnZXRTdGFuZGFyZEFuYWx5dGljcygpKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZldGNoQ2hhbm5lbEFuZEFkZFRvU2lkZWJhcihjaGFubmVsSWQpIHtcbiAgcmV0dXJuIGFzeW5jIChkb0Rpc3BhdGNoKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGVycm9yfSA9IGF3YWl0IGRvRGlzcGF0Y2goZ2V0Q2hhbm5lbEFuZE15TWVtYmVyKGNoYW5uZWxJZCkpO1xuXG4gICAgaWYgKCFlcnJvcikge1xuICAgICAgZG9EaXNwYXRjaChhZGRDaGFubmVsVG9Jbml0aWFsQ2F0ZWdvcnkoZGF0YS5jaGFubmVsKSk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlVXNlclJlbW92ZWRFdmVudChtc2cpIHtcbiAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICBjb25zdCBjdXJyZW50Q2hhbm5lbCA9IGdldEN1cnJlbnRDaGFubmVsKHN0YXRlKSB8fCB7fTtcbiAgY29uc3QgY3VycmVudFVzZXIgPSBnZXRDdXJyZW50VXNlcihzdGF0ZSk7XG4gIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZyhzdGF0ZSk7XG4gIGNvbnN0IGxpY2Vuc2UgPSBnZXRMaWNlbnNlKHN0YXRlKTtcbiAgY29uc3QgaXNUaW1lem9uZUVuYWJsZWQgPSBjb25maWcuRXhwZXJpbWVudGFsVGltZXpvbmUgPT09ICd0cnVlJztcblxuICBpZiAobXNnLmJyb2FkY2FzdC51c2VyX2lkID09PSBjdXJyZW50VXNlci5pZCkge1xuICAgIGRpc3BhdGNoKGxvYWRDaGFubmVsc0ZvckN1cnJlbnRVc2VyKCkpO1xuXG4gICAgY29uc3QgcmhzQ2hhbm5lbElkID0gZ2V0U2VsZWN0ZWRDaGFubmVsSWQoc3RhdGUpO1xuICAgIGlmIChtc2cuZGF0YS5jaGFubmVsX2lkID09PSByaHNDaGFubmVsSWQpIHtcbiAgICAgIGRpc3BhdGNoKGNsb3NlUmlnaHRIYW5kU2lkZSgpKTtcbiAgICB9XG5cbiAgICBpZiAobXNnLmRhdGEuY2hhbm5lbF9pZCA9PT0gY3VycmVudENoYW5uZWwuaWQpIHtcbiAgICAgIGlmIChtc2cuZGF0YS5yZW1vdmVyX2lkID09PSBtc2cuYnJvYWRjYXN0LnVzZXJfaWQpIHtcbiAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaChnZXRDdXJyZW50UmVsYXRpdmVUZWFtVXJsKHN0YXRlKSk7XG5cbiAgICAgICAgYXdhaXQgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IENoYW5uZWxUeXBlcy5MRUFWRV9DSEFOTkVMLFxuICAgICAgICAgIGRhdGE6IHtpZDogbXNnLmRhdGEuY2hhbm5lbF9pZCwgdXNlcl9pZDogbXNnLmJyb2FkY2FzdC51c2VyX2lkfSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB1c2VyID0gZ2V0VXNlcihzdGF0ZSwgbXNnLmRhdGEucmVtb3Zlcl9pZCk7XG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgIGRpc3BhdGNoKGxvYWRVc2VyKG1zZy5kYXRhLnJlbW92ZXJfaWQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUuaW5mbygnaGFuZGxlVXNlclJlbW92ZWRFdmVudCcpO1xuXG4gICAgICAgIC8vIGRpc3BhdGNoKG9wZW5Nb2RhbCh7XG4gICAgICAgIC8vICAgICBtb2RhbElkOiBNb2RhbElkZW50aWZpZXJzLlJFTU9WRURfRlJPTV9DSEFOTkVMLFxuICAgICAgICAvLyAgICAgZGlhbG9nVHlwZTogUmVtb3ZlZEZyb21DaGFubmVsTW9kYWwsXG4gICAgICAgIC8vICAgICBkaWFsb2dQcm9wczoge1xuICAgICAgICAvLyAgICAgICAgIGNoYW5uZWxOYW1lOiBjdXJyZW50Q2hhbm5lbC5kaXNwbGF5X25hbWUsXG4gICAgICAgIC8vICAgICAgICAgcmVtb3ZlcklkOiBtc2cuZGF0YS5yZW1vdmVyX2lkLFxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gfSkpO1xuXG4gICAgICAgIGF3YWl0IGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBDaGFubmVsVHlwZXMuTEVBVkVfQ0hBTk5FTCxcbiAgICAgICAgICBkYXRhOiB7aWQ6IG1zZy5kYXRhLmNoYW5uZWxfaWQsIHVzZXJfaWQ6IG1zZy5icm9hZGNhc3QudXNlcl9pZH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlZGlyZWN0VXNlclRvRGVmYXVsdFRlYW0oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNHdWVzdChjdXJyZW50VXNlcikpIHtcbiAgICAgIGRpc3BhdGNoKHJlbW92ZU5vdFZpc2libGVVc2VycygpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobXNnLmJyb2FkY2FzdC5jaGFubmVsX2lkID09PSBjdXJyZW50Q2hhbm5lbC5pZCkge1xuICAgIGRpc3BhdGNoKGdldENoYW5uZWxTdGF0cyhjdXJyZW50Q2hhbm5lbC5pZCkpO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IFVzZXJUeXBlcy5SRUNFSVZFRF9QUk9GSUxFX05PVF9JTl9DSEFOTkVMLFxuICAgICAgZGF0YToge2lkOiBtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQsIHVzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgIH0pO1xuICAgIGlmIChsaWNlbnNlPy5Jc0xpY2Vuc2VkID09PSAndHJ1ZScgJiYgbGljZW5zZT8uTERBUEdyb3VwcyA9PT0gJ3RydWUnKSB7XG4gICAgICBkaXNwYXRjaChnZXRDaGFubmVsTWVtYmVyQ291bnRzQnlHcm91cChjdXJyZW50Q2hhbm5lbC5pZCwgaXNUaW1lem9uZUVuYWJsZWQpKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXNnLmJyb2FkY2FzdC51c2VyX2lkICE9PSBjdXJyZW50VXNlci5pZCkge1xuICAgIGNvbnN0IGNoYW5uZWwgPSBnZXRDaGFubmVsKHN0YXRlLCBtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQpO1xuICAgIGNvbnN0IG1lbWJlcnMgPSBnZXRDaGFubmVsTWVtYmVyc0luQ2hhbm5lbHMoc3RhdGUpO1xuICAgIGNvbnN0IGlzTWVtYmVyID0gT2JqZWN0LnZhbHVlcyhtZW1iZXJzKS5zb21lKChtZW1iZXIpID0+IG1lbWJlclttc2cuZGF0YS51c2VyX2lkXSk7XG4gICAgaWYgKGNoYW5uZWwgJiYgaXNHdWVzdChjdXJyZW50VXNlcikgJiYgIWlzTWVtYmVyKSB7XG4gICAgICBjb25zdCBhY3Rpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogVXNlclR5cGVzLlBST0ZJTEVfTk9fTE9OR0VSX1ZJU0lCTEUsXG4gICAgICAgICAgZGF0YToge3VzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogVGVhbVR5cGVzLlJFTU9WRV9NRU1CRVJfRlJPTV9URUFNLFxuICAgICAgICAgIGRhdGE6IHt0ZWFtX2lkOiBjaGFubmVsLnRlYW1faWQsIHVzZXJfaWQ6IG1zZy5kYXRhLnVzZXJfaWR9LFxuICAgICAgICB9LFxuICAgICAgXTtcbiAgICAgIGRpc3BhdGNoKGJhdGNoQWN0aW9ucyhhY3Rpb25zKSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2hhbm5lbElkID0gbXNnLmJyb2FkY2FzdC5jaGFubmVsX2lkIHx8IG1zZy5kYXRhLmNoYW5uZWxfaWQ7XG4gIGNvbnN0IHVzZXJJZCA9IG1zZy5icm9hZGNhc3QudXNlcl9pZCB8fCBtc2cuZGF0YS51c2VyX2lkO1xuICBjb25zdCBjaGFubmVsID0gZ2V0Q2hhbm5lbChzdGF0ZSwgY2hhbm5lbElkKTtcbiAgaWYgKFxuICAgIGNoYW5uZWwgJiZcbiAgICAhaGF2ZUlTeXN0ZW1QZXJtaXNzaW9uKHN0YXRlLCB7cGVybWlzc2lvbjogUGVybWlzc2lvbnMuVklFV19NRU1CRVJTfSkgJiZcbiAgICAhaGF2ZUlUZWFtUGVybWlzc2lvbihzdGF0ZSwge3Blcm1pc3Npb246IFBlcm1pc3Npb25zLlZJRVdfTUVNQkVSUywgdGVhbTogY2hhbm5lbC50ZWFtX2lkfSlcbiAgKSB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBiYXRjaEFjdGlvbnMoW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogVXNlclR5cGVzLlJFQ0VJVkVEX1BST0ZJTEVfTk9UX0lOX1RFQU0sXG4gICAgICAgICAgZGF0YToge2lkOiBjaGFubmVsLnRlYW1faWQsIHVzZXJfaWQ6IHVzZXJJZH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBUZWFtVHlwZXMuUkVNT1ZFX01FTUJFUl9GUk9NX1RFQU0sXG4gICAgICAgICAgZGF0YToge3RlYW1faWQ6IGNoYW5uZWwudGVhbV9pZCwgdXNlcl9pZDogdXNlcklkfSxcbiAgICAgICAgfSxcbiAgICAgIF0pXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlVXNlclVwZGF0ZWRFdmVudChtc2cpIHtcbiAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICBjb25zdCBjdXJyZW50VXNlciA9IGdldEN1cnJlbnRVc2VyKHN0YXRlKTtcbiAgY29uc3QgdXNlciA9IG1zZy5kYXRhLnVzZXI7XG5cbiAgY29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKHN0YXRlKTtcbiAgY29uc3QgbGljZW5zZSA9IGdldExpY2Vuc2Uoc3RhdGUpO1xuXG4gIGNvbnN0IHVzZXJJc0d1ZXN0ID0gaXNHdWVzdCh1c2VyKTtcbiAgY29uc3QgaXNUaW1lem9uZUVuYWJsZWQgPSBjb25maWcuRXhwZXJpbWVudGFsVGltZXpvbmUgPT09ICd0cnVlJztcbiAgY29uc3QgaXNMREFQRW5hYmxlZCA9IGxpY2Vuc2U/LklzTGljZW5zZWQgPT09ICd0cnVlJyAmJiBsaWNlbnNlPy5MREFQR3JvdXBzID09PSAndHJ1ZSc7XG5cbiAgaWYgKHVzZXJJc0d1ZXN0IHx8IChpc1RpbWV6b25lRW5hYmxlZCAmJiBpc0xEQVBFbmFibGVkKSkge1xuICAgIGxldCBtZW1iZXJzID0gZ2V0TWVtYmVyc0luQ3VycmVudENoYW5uZWwoc3RhdGUpO1xuICAgIGNvbnN0IGN1cnJlbnRDaGFubmVsSWQgPSBnZXRDdXJyZW50Q2hhbm5lbElkKHN0YXRlKTtcbiAgICBsZXQgbWVtYmVyRXhpc3RzID0gbWVtYmVycyAmJiBtZW1iZXJzW3VzZXIuaWRdO1xuICAgIGlmICghbWVtYmVyRXhpc3RzKSB7XG4gICAgICBhd2FpdCBkaXNwYXRjaChnZXRDaGFubmVsTWVtYmVyKGN1cnJlbnRDaGFubmVsSWQsIHVzZXIuaWQpKTtcbiAgICAgIG1lbWJlcnMgPSBnZXRNZW1iZXJzSW5DdXJyZW50Q2hhbm5lbChnZXRTdGF0ZSgpKTtcbiAgICAgIG1lbWJlckV4aXN0cyA9IG1lbWJlcnMgJiYgbWVtYmVyc1t1c2VyLmlkXTtcbiAgICB9XG5cbiAgICBpZiAobWVtYmVyRXhpc3RzKSB7XG4gICAgICBpZiAoaXNMREFQRW5hYmxlZCAmJiBpc1RpbWV6b25lRW5hYmxlZCkge1xuICAgICAgICBkaXNwYXRjaChnZXRDaGFubmVsTWVtYmVyQ291bnRzQnlHcm91cChjdXJyZW50Q2hhbm5lbElkLCB0cnVlKSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNHdWVzdCh1c2VyKSkge1xuICAgICAgICBkaXNwYXRjaChnZXRDaGFubmVsU3RhdHMoY3VycmVudENoYW5uZWxJZCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChjdXJyZW50VXNlci5pZCA9PT0gdXNlci5pZCkge1xuICAgIGlmICh1c2VyLnVwZGF0ZV9hdCA+IGN1cnJlbnRVc2VyLnVwZGF0ZV9hdCkge1xuICAgICAgLy8gTmVlZCB0byByZXF1ZXN0IG1lIHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBvdmVycmlkZSB3aXRoIHNhbml0aXplZCBmaWVsZHMgZnJvbSB0aGVcbiAgICAgIC8vIHdlYnNvY2tldCBldmVudFxuICAgICAgZ2V0TWUoKShkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBVc2VyVHlwZXMuUkVDRUlWRURfUFJPRklMRSxcbiAgICAgIGRhdGE6IHVzZXIsXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlUm9sZUFkZGVkRXZlbnQobXNnKSB7XG4gIGNvbnN0IHJvbGUgPSBKU09OLnBhcnNlKG1zZy5kYXRhLnJvbGUpO1xuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBSb2xlVHlwZXMuUkVDRUlWRURfUk9MRSxcbiAgICBkYXRhOiByb2xlLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUm9sZVJlbW92ZWRFdmVudChtc2cpIHtcbiAgY29uc3Qgcm9sZSA9IEpTT04ucGFyc2UobXNnLmRhdGEucm9sZSk7XG5cbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IFJvbGVUeXBlcy5ST0xFX0RFTEVURUQsXG4gICAgZGF0YTogcm9sZSxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNoYW5uZWxTY2hlbWVVcGRhdGVkRXZlbnQobXNnKSB7XG4gIGRpc3BhdGNoKGdldE15Q2hhbm5lbE1lbWJlcihtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQpKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUm9sZVVwZGF0ZWRFdmVudChtc2cpIHtcbiAgY29uc3Qgcm9sZSA9IEpTT04ucGFyc2UobXNnLmRhdGEucm9sZSk7XG5cbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IFJvbGVUeXBlcy5SRUNFSVZFRF9ST0xFLFxuICAgIGRhdGE6IHJvbGUsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVDaGFubmVsQ3JlYXRlZEV2ZW50KG1zZykge1xuICByZXR1cm4gYXN5bmMgKG15RGlzcGF0Y2gsIG15R2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBjaGFubmVsSWQgPSBtc2cuZGF0YS5jaGFubmVsX2lkO1xuICAgIGNvbnN0IHRlYW1JZCA9IG1zZy5kYXRhLnRlYW1faWQ7XG4gICAgY29uc3Qgc3RhdGUgPSBteUdldFN0YXRlKCk7XG5cbiAgICBpZiAoZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSkgPT09IHRlYW1JZCkge1xuICAgICAgbGV0IGNoYW5uZWwgPSBnZXRDaGFubmVsKHN0YXRlLCBjaGFubmVsSWQpO1xuXG4gICAgICBpZiAoIWNoYW5uZWwpIHtcbiAgICAgICAgYXdhaXQgbXlEaXNwYXRjaChnZXRDaGFubmVsQW5kTXlNZW1iZXIoY2hhbm5lbElkKSk7XG5cbiAgICAgICAgY2hhbm5lbCA9IGdldENoYW5uZWwobXlHZXRTdGF0ZSgpLCBjaGFubmVsSWQpO1xuICAgICAgfVxuXG4gICAgICBteURpc3BhdGNoKGFkZENoYW5uZWxUb0luaXRpYWxDYXRlZ29yeShjaGFubmVsLCBmYWxzZSkpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2hhbm5lbERlbGV0ZWRFdmVudChtc2cpIHtcbiAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICBjb25zdCBjb25maWcgPSBnZXRDb25maWcoc3RhdGUpO1xuICBjb25zdCB2aWV3QXJjaGl2ZWRDaGFubmVscyA9IGNvbmZpZy5FeHBlcmltZW50YWxWaWV3QXJjaGl2ZWRDaGFubmVscyA9PT0gJ3RydWUnO1xuICBpZiAoZ2V0Q3VycmVudENoYW5uZWxJZChzdGF0ZSkgPT09IG1zZy5kYXRhLmNoYW5uZWxfaWQgJiYgIXZpZXdBcmNoaXZlZENoYW5uZWxzKSB7XG4gICAgY29uc3QgdGVhbVVybCA9IGdldEN1cnJlbnRSZWxhdGl2ZVRlYW1Vcmwoc3RhdGUpO1xuICAgIGNvbnN0IGN1cnJlbnRUZWFtSWQgPSBnZXRDdXJyZW50VGVhbUlkKHN0YXRlKTtcbiAgICBjb25zdCByZWRpcmVjdENoYW5uZWwgPSBnZXRSZWRpcmVjdENoYW5uZWxOYW1lRm9yVGVhbShzdGF0ZSwgY3VycmVudFRlYW1JZCk7XG4gICAgYnJvd3Nlckhpc3RvcnkucHVzaCh0ZWFtVXJsICsgJy9ncm91cC8nICsgcmVkaXJlY3RDaGFubmVsKTtcbiAgfVxuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBDaGFubmVsVHlwZXMuUkVDRUlWRURfQ0hBTk5FTF9ERUxFVEVELFxuICAgIGRhdGE6IHtpZDogbXNnLmRhdGEuY2hhbm5lbF9pZCwgdGVhbV9pZDogbXNnLmJyb2FkY2FzdC50ZWFtX2lkLCBkZWxldGVBdDogbXNnLmRhdGEuZGVsZXRlX2F0LCB2aWV3QXJjaGl2ZWRDaGFubmVsc30sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVDaGFubmVsVW5hcmNoaXZlZEV2ZW50KG1zZykge1xuICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZyhzdGF0ZSk7XG4gIGNvbnN0IHZpZXdBcmNoaXZlZENoYW5uZWxzID0gY29uZmlnLkV4cGVyaW1lbnRhbFZpZXdBcmNoaXZlZENoYW5uZWxzID09PSAndHJ1ZSc7XG5cbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IENoYW5uZWxUeXBlcy5SRUNFSVZFRF9DSEFOTkVMX1VOQVJDSElWRUQsXG4gICAgZGF0YToge2lkOiBtc2cuZGF0YS5jaGFubmVsX2lkLCB0ZWFtX2lkOiBtc2cuYnJvYWRjYXN0LnRlYW1faWQsIHZpZXdBcmNoaXZlZENoYW5uZWxzfSxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByZWZlcmVuY2VDaGFuZ2VkRXZlbnQobXNnKSB7XG4gIGNvbnN0IHByZWZlcmVuY2UgPSBKU09OLnBhcnNlKG1zZy5kYXRhLnByZWZlcmVuY2UpO1xuICBkaXNwYXRjaCh7dHlwZTogUHJlZmVyZW5jZVR5cGVzLlJFQ0VJVkVEX1BSRUZFUkVOQ0VTLCBkYXRhOiBbcHJlZmVyZW5jZV19KTtcblxuICBpZiAoYWRkZWROZXdEbVVzZXIocHJlZmVyZW5jZSkpIHtcbiAgICBsb2FkUHJvZmlsZXNGb3JTaWRlYmFyKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlUHJlZmVyZW5jZXNDaGFuZ2VkRXZlbnQobXNnKSB7XG4gIGNvbnN0IHByZWZlcmVuY2VzID0gSlNPTi5wYXJzZShtc2cuZGF0YS5wcmVmZXJlbmNlcyk7XG4gIGRpc3BhdGNoKHt0eXBlOiBQcmVmZXJlbmNlVHlwZXMuUkVDRUlWRURfUFJFRkVSRU5DRVMsIGRhdGE6IHByZWZlcmVuY2VzfSk7XG5cbiAgaWYgKHByZWZlcmVuY2VzLmZpbmRJbmRleChhZGRlZE5ld0RtVXNlcikgIT09IC0xKSB7XG4gICAgbG9hZFByb2ZpbGVzRm9yU2lkZWJhcigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByZWZlcmVuY2VzRGVsZXRlZEV2ZW50KG1zZykge1xuICBjb25zdCBwcmVmZXJlbmNlcyA9IEpTT04ucGFyc2UobXNnLmRhdGEucHJlZmVyZW5jZXMpO1xuICBkaXNwYXRjaCh7dHlwZTogUHJlZmVyZW5jZVR5cGVzLkRFTEVURURfUFJFRkVSRU5DRVMsIGRhdGE6IHByZWZlcmVuY2VzfSk7XG59XG5cbmZ1bmN0aW9uIGFkZGVkTmV3RG1Vc2VyKHByZWZlcmVuY2UpIHtcbiAgcmV0dXJuIHByZWZlcmVuY2UuY2F0ZWdvcnkgPT09IENvbnN0YW50cy5QcmVmZXJlbmNlcy5DQVRFR09SWV9ESVJFQ1RfQ0hBTk5FTF9TSE9XICYmIHByZWZlcmVuY2UudmFsdWUgPT09ICd0cnVlJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVVzZXJUeXBpbmdFdmVudChtc2cpIHtcbiAgcmV0dXJuIGFzeW5jIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBkb0dldFN0YXRlKCk7XG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKHN0YXRlKTtcbiAgICBjb25zdCBjdXJyZW50VXNlcklkID0gZ2V0Q3VycmVudFVzZXJJZChzdGF0ZSk7XG4gICAgY29uc3QgdXNlcklkID0gbXNnLmRhdGEudXNlcl9pZDtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBpZDogbXNnLmJyb2FkY2FzdC5jaGFubmVsX2lkICsgbXNnLmRhdGEucGFyZW50X2lkLFxuICAgICAgdXNlcklkLFxuICAgICAgbm93OiBEYXRlLm5vdygpLFxuICAgIH07XG5cbiAgICBkb0Rpc3BhdGNoKHtcbiAgICAgIHR5cGU6IFdlYnNvY2tldEV2ZW50cy5UWVBJTkcsXG4gICAgICBkYXRhLFxuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBkb0Rpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogV2Vic29ja2V0RXZlbnRzLlNUT1BfVFlQSU5HLFxuICAgICAgICBkYXRhLFxuICAgICAgfSk7XG4gICAgfSwgcGFyc2VJbnQoY29uZmlnLlRpbWVCZXR3ZWVuVXNlclR5cGluZ1VwZGF0ZXNNaWxsaXNlY29uZHMsIDEwKSk7XG5cbiAgICBpZiAodXNlcklkICE9PSBjdXJyZW50VXNlcklkKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkb0Rpc3BhdGNoKGdldE1pc3NpbmdQcm9maWxlc0J5SWRzKFt1c2VySWRdKSk7XG4gICAgICBpZiAocmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBBbHJlYWR5IGxvYWRlZCB0aGUgdXNlciBzdGF0dXNcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHN0YXR1cyA9IGdldFN0YXR1c0ZvclVzZXJJZChzdGF0ZSwgdXNlcklkKTtcbiAgICBpZiAoc3RhdHVzICE9PSBHZW5lcmFsLk9OTElORSkge1xuICAgICAgZG9EaXNwYXRjaChnZXRTdGF0dXNlc0J5SWRzKFt1c2VySWRdKSk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdGF0dXNDaGFuZ2VkRXZlbnQobXNnKSB7XG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBVc2VyVHlwZXMuUkVDRUlWRURfU1RBVFVTRVMsXG4gICAgZGF0YTogW3t1c2VyX2lkOiBtc2cuZGF0YS51c2VyX2lkLCBzdGF0dXM6IG1zZy5kYXRhLnN0YXR1c31dLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlSGVsbG9FdmVudChtc2cpIHtcbiAgc2V0U2VydmVyVmVyc2lvbihtc2cuZGF0YS5zZXJ2ZXJfdmVyc2lvbikoZGlzcGF0Y2gsIGdldFN0YXRlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUmVhY3Rpb25BZGRlZEV2ZW50KG1zZykge1xuICBjb25zdCByZWFjdGlvbiA9IEpTT04ucGFyc2UobXNnLmRhdGEucmVhY3Rpb24pO1xuXG4gIGRpc3BhdGNoKGdldEN1c3RvbUVtb2ppRm9yUmVhY3Rpb24ocmVhY3Rpb24uZW1vamlfbmFtZSkpO1xuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBQb3N0VHlwZXMuUkVDRUlWRURfUkVBQ1RJT04sXG4gICAgZGF0YTogcmVhY3Rpb24sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVBZGRFbW9qaShtc2cpIHtcbiAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UobXNnLmRhdGEuZW1vamkpO1xuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBFbW9qaVR5cGVzLlJFQ0VJVkVEX0NVU1RPTV9FTU9KSSxcbiAgICBkYXRhLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUmVhY3Rpb25SZW1vdmVkRXZlbnQobXNnKSB7XG4gIGNvbnN0IHJlYWN0aW9uID0gSlNPTi5wYXJzZShtc2cuZGF0YS5yZWFjdGlvbik7XG5cbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IFBvc3RUeXBlcy5SRUFDVElPTl9ERUxFVEVELFxuICAgIGRhdGE6IHJlYWN0aW9uLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2hhbm5lbFZpZXdlZEV2ZW50KG1zZykge1xuICAvLyBVc2VmdWwgZm9yIHdoZW4gbXVsdGlwbGUgZGV2aWNlcyBoYXZlIHRoZSBhcHAgb3BlbiB0byBkaWZmZXJlbnQgY2hhbm5lbHNcbiAgaWYgKFxuICAgICghd2luZG93LmlzQWN0aXZlIHx8IGdldEN1cnJlbnRDaGFubmVsSWQoZ2V0U3RhdGUoKSkgIT09IG1zZy5kYXRhLmNoYW5uZWxfaWQpICYmXG4gICAgZ2V0Q3VycmVudFVzZXJJZChnZXRTdGF0ZSgpKSA9PT0gbXNnLmJyb2FkY2FzdC51c2VyX2lkXG4gICkge1xuICAgIGRpc3BhdGNoKG1hcmtDaGFubmVsQXNSZWFkKG1zZy5kYXRhLmNoYW5uZWxfaWQsICcnLCBmYWxzZSkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVQbHVnaW5FbmFibGVkKG1zZykge1xuICBjb25zdCBtYW5pZmVzdCA9IG1zZy5kYXRhLm1hbmlmZXN0O1xuICAvLyBsb2FkUGx1Z2luKG1hbmlmZXN0KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgLy8gICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIC8vIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUGx1Z2luRGlzYWJsZWQobXNnKSB7XG4gIGNvbnN0IG1hbmlmZXN0ID0gbXNnLmRhdGEubWFuaWZlc3Q7XG4gIC8vIHJlbW92ZVBsdWdpbihtYW5pZmVzdCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVVzZXJSb2xlVXBkYXRlZChtc2cpIHtcbiAgY29uc3QgdXNlciA9IHN0b3JlLmdldFN0YXRlKCkuZW50aXRpZXMudXNlcnMucHJvZmlsZXNbbXNnLmRhdGEudXNlcl9pZF07XG5cbiAgaWYgKHVzZXIpIHtcbiAgICBjb25zdCByb2xlcyA9IG1zZy5kYXRhLnJvbGVzO1xuICAgIGNvbnN0IG5ld1JvbGVzID0gcm9sZXMuc3BsaXQoJyAnKTtcbiAgICBjb25zdCBkZW1vdGVkID1cbiAgICAgIHVzZXIucm9sZXMuaW5jbHVkZXMoQ29uc3RhbnRzLlBFUk1JU1NJT05TX1NZU1RFTV9BRE1JTikgJiYgIXJvbGVzLmluY2x1ZGVzKENvbnN0YW50cy5QRVJNSVNTSU9OU19TWVNURU1fQURNSU4pO1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goe3R5cGU6IFVzZXJUeXBlcy5SRUNFSVZFRF9QUk9GSUxFLCBkYXRhOiB7Li4udXNlciwgcm9sZXN9fSk7XG4gICAgZGlzcGF0Y2gobG9hZFJvbGVzSWZOZWVkZWQobmV3Um9sZXMpKTtcblxuICAgIGlmIChkZW1vdGVkICYmIGdsb2JhbC5sb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKCcvYWRtaW5fY29uc29sZScpKSB7XG4gICAgICByZWRpcmVjdFVzZXJUb0RlZmF1bHRUZWFtKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNvbmZpZ0NoYW5nZWQobXNnKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHt0eXBlOiBHZW5lcmFsVHlwZXMuQ0xJRU5UX0NPTkZJR19SRUNFSVZFRCwgZGF0YTogbXNnLmRhdGEuY29uZmlnfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUxpY2Vuc2VDaGFuZ2VkKG1zZykge1xuICBzdG9yZS5kaXNwYXRjaCh7dHlwZTogR2VuZXJhbFR5cGVzLkNMSUVOVF9MSUNFTlNFX1JFQ0VJVkVELCBkYXRhOiBtc2cuZGF0YS5saWNlbnNlfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVBsdWdpblN0YXR1c2VzQ2hhbmdlZEV2ZW50KG1zZykge1xuICBzdG9yZS5kaXNwYXRjaCh7dHlwZTogQWRtaW5UeXBlcy5SRUNFSVZFRF9QTFVHSU5fU1RBVFVTRVMsIGRhdGE6IG1zZy5kYXRhLnBsdWdpbl9zdGF0dXNlc30pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVPcGVuRGlhbG9nRXZlbnQobXNnKSB7XG4gIGNvbnN0IGRhdGEgPSAobXNnLmRhdGEgJiYgbXNnLmRhdGEuZGlhbG9nKSB8fCB7fTtcbiAgY29uc3QgZGlhbG9nID0gSlNPTi5wYXJzZShkYXRhKTtcblxuICBzdG9yZS5kaXNwYXRjaCh7dHlwZTogSW50ZWdyYXRpb25UeXBlcy5SRUNFSVZFRF9ESUFMT0csIGRhdGE6IGRpYWxvZ30pO1xuXG4gIGNvbnN0IGN1cnJlbnRUcmlnZ2VySWQgPSBnZXRTdGF0ZSgpLmVudGl0aWVzLmludGVncmF0aW9ucy5kaWFsb2dUcmlnZ2VySWQ7XG5cbiAgaWYgKGRpYWxvZy50cmlnZ2VyX2lkICE9PSBjdXJyZW50VHJpZ2dlcklkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc29sZS5pbmZvKCdoYW5kbGVPcGVuRGlhbG9nRXZlbnQnLCBtc2cpO1xuICAvLyBzdG9yZS5kaXNwYXRjaChvcGVuTW9kYWwoe21vZGFsSWQ6IE1vZGFsSWRlbnRpZmllcnMuSU5URVJBQ1RJVkVfRElBTE9HLCBkaWFsb2dUeXBlOiBJbnRlcmFjdGl2ZURpYWxvZ30pKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlR3JvdXBVcGRhdGVkRXZlbnQobXNnKSB7XG4gIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKG1zZy5kYXRhLmdyb3VwKTtcbiAgZGlzcGF0Y2goXG4gICAgYmF0Y2hBY3Rpb25zKFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogR3JvdXBUeXBlcy5SRUNFSVZFRF9HUk9VUCxcbiAgICAgICAgZGF0YSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEdyb3VwVHlwZXMuUkVDRUlWRURfTVlfR1JPVVBTLFxuICAgICAgICBkYXRhOiBbZGF0YV0sXG4gICAgICB9LFxuICAgIF0pXG4gICk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUdyb3VwQXNzb2NpYXRlZFRvVGVhbUV2ZW50KG1zZykge1xuICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgdHlwZTogR3JvdXBUeXBlcy5SRUNFSVZFRF9HUk9VUF9BU1NPQ0lBVEVEX1RPX1RFQU0sXG4gICAgZGF0YToge3RlYW1JRDogbXNnLmJyb2FkY2FzdC50ZWFtX2lkLCBncm91cHM6IFt7aWQ6IG1zZy5kYXRhLmdyb3VwX2lkfV19LFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlR3JvdXBOb3RBc3NvY2lhdGVkVG9UZWFtRXZlbnQobXNnKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHtcbiAgICB0eXBlOiBHcm91cFR5cGVzLlJFQ0VJVkVEX0dST1VQX05PVF9BU1NPQ0lBVEVEX1RPX1RFQU0sXG4gICAgZGF0YToge3RlYW1JRDogbXNnLmJyb2FkY2FzdC50ZWFtX2lkLCBncm91cHM6IFt7aWQ6IG1zZy5kYXRhLmdyb3VwX2lkfV19LFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlR3JvdXBBc3NvY2lhdGVkVG9DaGFubmVsRXZlbnQobXNnKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHtcbiAgICB0eXBlOiBHcm91cFR5cGVzLlJFQ0VJVkVEX0dST1VQX0FTU09DSUFURURfVE9fQ0hBTk5FTCxcbiAgICBkYXRhOiB7Y2hhbm5lbElEOiBtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQsIGdyb3VwczogW3tpZDogbXNnLmRhdGEuZ3JvdXBfaWR9XX0sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVHcm91cE5vdEFzc29jaWF0ZWRUb0NoYW5uZWxFdmVudChtc2cpIHtcbiAgc3RvcmUuZGlzcGF0Y2goe1xuICAgIHR5cGU6IEdyb3VwVHlwZXMuUkVDRUlWRURfR1JPVVBfTk9UX0FTU09DSUFURURfVE9fQ0hBTk5FTCxcbiAgICBkYXRhOiB7Y2hhbm5lbElEOiBtc2cuYnJvYWRjYXN0LmNoYW5uZWxfaWQsIGdyb3VwczogW3tpZDogbXNnLmRhdGEuZ3JvdXBfaWR9XX0sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVXYXJuTWV0cmljU3RhdHVzUmVjZWl2ZWRFdmVudChtc2cpIHtcbiAgdmFyIHJlY2VpdmVkRGF0YSA9IEpTT04ucGFyc2UobXNnLmRhdGEud2Fybk1ldHJpY1N0YXR1cyk7XG4gIGxldCBiYW5uZXJEYXRhO1xuICBpZiAocmVjZWl2ZWREYXRhLmlkID09PSBXYXJuTWV0cmljVHlwZXMuU1lTVEVNX1dBUk5fTUVUUklDX05VTUJFUl9PRl9BQ1RJVkVfVVNFUlNfNTAwKSB7XG4gICAgYmFubmVyRGF0YSA9IEFubm91bmNlbWVudEJhck1lc3NhZ2VzLldBUk5fTUVUUklDX1NUQVRVU19OVU1CRVJfT0ZfVVNFUlM7XG4gIH0gZWxzZSBpZiAocmVjZWl2ZWREYXRhLmlkID09PSBXYXJuTWV0cmljVHlwZXMuU1lTVEVNX1dBUk5fTUVUUklDX05VTUJFUl9PRl9QT1NUU18yTSkge1xuICAgIGJhbm5lckRhdGEgPSBBbm5vdW5jZW1lbnRCYXJNZXNzYWdlcy5XQVJOX01FVFJJQ19TVEFUVVNfTlVNQkVSX09GX1BPU1RTO1xuICB9XG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIGJhdGNoQWN0aW9ucyhbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEdlbmVyYWxUeXBlcy5XQVJOX01FVFJJQ19TVEFUVVNfUkVDRUlWRUQsXG4gICAgICAgIGRhdGE6IHJlY2VpdmVkRGF0YSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlNIT1dfTk9USUNFLFxuICAgICAgICBkYXRhOiBbYmFubmVyRGF0YV0sXG4gICAgICB9LFxuICAgIF0pXG4gICk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVdhcm5NZXRyaWNTdGF0dXNSZW1vdmVkRXZlbnQobXNnKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHt0eXBlOiBHZW5lcmFsVHlwZXMuV0FSTl9NRVRSSUNfU1RBVFVTX1JFTU9WRUQsIGRhdGE6IHtpZDogbXNnLmRhdGEud2Fybk1ldHJpY0lkfX0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTaWRlYmFyQ2F0ZWdvcnlDcmVhdGVkKG1zZykge1xuICByZXR1cm4gKGRvRGlzcGF0Y2gsIGRvR2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGRvR2V0U3RhdGUoKTtcblxuICAgIGlmIChtc2cuYnJvYWRjYXN0LnRlYW1faWQgIT09IGdldEN1cnJlbnRUZWFtSWQoc3RhdGUpKSB7XG4gICAgICAvLyBUaGUgbmV3IGNhdGVnb3J5IHdpbGwgYmUgbG9hZGVkIHdoZW4gd2Ugc3dpdGNoIHRlYW1zLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZldGNoIGFsbCBjYXRlZ29yaWVzLCBpbmNsdWRpbmcgb25lcyB0aGF0IHdlcmVuJ3QgZXhwbGljaXRseSB1cGRhdGVkLCBpbiBjYXNlIGFueSBvdGhlciBjYXRlZ29yaWVzIGhhZCBjaGFubmVsc1xuICAgIC8vIG1vdmVkIG91dCBvZiB0aGVtLlxuICAgIGRvRGlzcGF0Y2goZmV0Y2hNeUNhdGVnb3JpZXMobXNnLmJyb2FkY2FzdC50ZWFtX2lkKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVNpZGViYXJDYXRlZ29yeVVwZGF0ZWQobXNnKSB7XG4gIHJldHVybiAoZG9EaXNwYXRjaCwgZG9HZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZG9HZXRTdGF0ZSgpO1xuXG4gICAgaWYgKG1zZy5icm9hZGNhc3QudGVhbV9pZCAhPT0gZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSkpIHtcbiAgICAgIC8vIFRoZSB1cGRhdGVkIGNhdGVnb3JpZXMgd2lsbCBiZSBsb2FkZWQgd2hlbiB3ZSBzd2l0Y2ggdGVhbXMuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggYWxsIGNhdGVnb3JpZXMgaW4gY2FzZSBhbnkgb3RoZXIgY2F0ZWdvcmllcyBoYWQgY2hhbm5lbHMgbW92ZWQgb3V0IG9mIHRoZW0uXG4gICAgZG9EaXNwYXRjaChmZXRjaE15Q2F0ZWdvcmllcyhtc2cuYnJvYWRjYXN0LnRlYW1faWQpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlU2lkZWJhckNhdGVnb3J5RGVsZXRlZChtc2cpIHtcbiAgcmV0dXJuIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBkb0dldFN0YXRlKCk7XG5cbiAgICBpZiAobXNnLmJyb2FkY2FzdC50ZWFtX2lkICE9PSBnZXRDdXJyZW50VGVhbUlkKHN0YXRlKSkge1xuICAgICAgLy8gVGhlIGNhdGVnb3J5IHdpbGwgYmUgcmVtb3ZlZCB3aGVuIHdlIHN3aXRjaCB0ZWFtcy5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGZXRjaCBhbGwgY2F0ZWdvcmllcyBzaW5jZSBhbnkgY2hhbm5lbHMgdGhhdCB3ZXJlIGluIHRoZSBkZWxldGVkIGNhdGVnb3J5IHdlcmUgbW92ZWQgdG8gb3RoZXIgY2F0ZWdvcmllcy5cbiAgICBkb0Rpc3BhdGNoKGZldGNoTXlDYXRlZ29yaWVzKG1zZy5icm9hZGNhc3QudGVhbV9pZCkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTaWRlYmFyQ2F0ZWdvcnlPcmRlclVwZGF0ZWQobXNnKSB7XG4gIHJldHVybiByZWNlaXZlZENhdGVnb3J5T3JkZXIobXNnLmJyb2FkY2FzdC50ZWFtX2lkLCBtc2cuZGF0YS5vcmRlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVVc2VyQWN0aXZhdGlvblN0YXR1c0NoYW5nZSgpIHtcbiAgcmV0dXJuIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBkb0dldFN0YXRlKCk7XG4gICAgY29uc3QgbGljZW5zZSA9IGdldExpY2Vuc2Uoc3RhdGUpO1xuXG4gICAgLy8gVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIGEgdXNlciBmaXJzdCBqb2lucyB0aGUgc2VydmVyLCBzbyByZWZyZXNoIGFuYWx5dGljcyB0byBzZWUgaWYgd2UncmUgbm93IG92ZXIgdGhlIHVzZXIgbGltaXRcbiAgICBpZiAobGljZW5zZS5DbG91ZCA9PT0gJ3RydWUnKSB7XG4gICAgICBpZiAoaXNDdXJyZW50VXNlclN5c3RlbUFkbWluKHN0YXRlKSkge1xuICAgICAgICBkb0Rpc3BhdGNoKGdldFN0YW5kYXJkQW5hbHl0aWNzKCkpO1xuICAgICAgfVxuICAgICAgZG9EaXNwYXRjaChnZXRTdWJzY3JpcHRpb25TdGF0cygpKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNsb3VkUGF5bWVudFN0YXR1c1VwZGF0ZWQoKSB7XG4gIHJldHVybiAoZG9EaXNwYXRjaCkgPT4gZG9EaXNwYXRjaChnZXRDbG91ZFN1YnNjcmlwdGlvbigpKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUmVmcmVzaEFwcHNCaW5kaW5ncygpIHtcbiAgcmV0dXJuIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBkb0dldFN0YXRlKCk7XG4gICAgaWYgKGFwcHNFbmFibGVkKHN0YXRlKSkge1xuICAgICAgZG9EaXNwYXRjaChmZXRjaEFwcEJpbmRpbmdzKGdldEN1cnJlbnRVc2VySWQoc3RhdGUpLCBnZXRDdXJyZW50Q2hhbm5lbElkKHN0YXRlKSkpO1xuICAgIH1cbiAgICByZXR1cm4ge2RhdGE6IHRydWV9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVGaXJzdEFkbWluVmlzaXRNYXJrZXRwbGFjZVN0YXR1c1JlY2VpdmVkRXZlbnQobXNnKSB7XG4gIGNvbnN0IHJlY2VpdmVkRGF0YSA9IEpTT04ucGFyc2UobXNnLmRhdGEuZmlyc3RBZG1pblZpc2l0TWFya2V0cGxhY2VTdGF0dXMpO1xuICBzdG9yZS5kaXNwYXRjaCh7dHlwZTogR2VuZXJhbFR5cGVzLkZJUlNUX0FETUlOX1ZJU0lUX01BUktFVFBMQUNFX1NUQVRVU19SRUNFSVZFRCwgZGF0YTogcmVjZWl2ZWREYXRhfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRocmVhZFJlYWRDaGFuZ2VkKG1zZykge1xuICByZXR1cm4gKGRvRGlzcGF0Y2gsIGRvR2V0U3RhdGUpID0+IHtcbiAgICBpZiAobXNnLmRhdGEudGhyZWFkX2lkKSB7XG4gICAgICBjb25zdCB0aHJlYWQgPSBkb0dldFN0YXRlKCkuZW50aXRpZXMudGhyZWFkcy50aHJlYWRzPy5bbXNnLmRhdGEudGhyZWFkX2lkXTtcbiAgICAgIGlmICh0aHJlYWQpIHtcbiAgICAgICAgaGFuZGxlUmVhZENoYW5nZWQoZG9EaXNwYXRjaCwgbXNnLmRhdGEudGhyZWFkX2lkLCBtc2cuYnJvYWRjYXN0LnRlYW1faWQsIG1zZy5kYXRhLmNoYW5uZWxfaWQsIHtcbiAgICAgICAgICBsYXN0Vmlld2VkQXQ6IG1zZy5kYXRhLnRpbWVzdGFtcCxcbiAgICAgICAgICBwcmV2VW5yZWFkTWVudGlvbnM6IHRocmVhZC51bnJlYWRfbWVudGlvbnMsXG4gICAgICAgICAgbmV3VW5yZWFkTWVudGlvbnM6IG1zZy5kYXRhLnVucmVhZF9tZW50aW9ucyxcbiAgICAgICAgICBwcmV2VW5yZWFkUmVwbGllczogdGhyZWFkLnVucmVhZF9yZXBsaWVzLFxuICAgICAgICAgIG5ld1VucmVhZFJlcGxpZXM6IG1zZy5kYXRhLnVucmVhZF9yZXBsaWVzLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlQWxsTWFya2VkUmVhZChkb0Rpc3BhdGNoLCBtc2cuYnJvYWRjYXN0LnRlYW1faWQpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlVGhyZWFkVXBkYXRlZChtc2cpIHtcbiAgcmV0dXJuIChkb0Rpc3BhdGNoLCBkb0dldFN0YXRlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRocmVhZERhdGEgPSBKU09OLnBhcnNlKG1zZy5kYXRhLnRocmVhZCk7XG4gICAgICBoYW5kbGVUaHJlYWRBcnJpdmVkKGRvRGlzcGF0Y2gsIGRvR2V0U3RhdGUsIHRocmVhZERhdGEsIG1zZy5icm9hZGNhc3QudGVhbV9pZCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBpbnZhbGlkIEpTT05cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRocmVhZEZvbGxvd0NoYW5nZWQobXNnKSB7XG4gIHJldHVybiBhc3luYyAoZG9EaXNwYXRjaCwgZG9HZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZG9HZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHRocmVhZCA9IGdldFRocmVhZChzdGF0ZSwgbXNnLmRhdGEudGhyZWFkX2lkKTtcbiAgICBpZiAoIXRocmVhZCAmJiBtc2cuZGF0YS5zdGF0ZSkge1xuICAgICAgYXdhaXQgZG9EaXNwYXRjaChmZXRjaFRocmVhZChnZXRDdXJyZW50VXNlcklkKHN0YXRlKSwgZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSksIG1zZy5kYXRhLnRocmVhZF9pZCwgdHJ1ZSkpO1xuICAgIH1cbiAgICBoYW5kbGVGb2xsb3dDaGFuZ2VkKGRvRGlzcGF0Y2gsIG1zZy5kYXRhLnRocmVhZF9pZCwgbXNnLmJyb2FkY2FzdC50ZWFtX2lkLCBtc2cuZGF0YS5zdGF0ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNvbnRhY3RVcGRhdGVkRXZlbnQobXNnKSB7XG4gIC8vIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgLy8gY29uc3QgY3VycmVudFVzZXIgPSBnZXRDdXJyZW50VXNlcihzdGF0ZSk7XG4gIGNvbnN0IGNvbnRhY3QgPSBtc2cuZGF0YS5jb250YWN0O1xuICBjb25zdCBldmVudCA9IG1zZy5kYXRhLmV2ZW50O1xuXG4gIGlmIChldmVudCA9PT0gJ2NyZWF0ZWQnKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQ29udGFjdFR5cGVzLk5FV19DT05UQUNULFxuICAgICAgZGF0YTogY29udGFjdCxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBDb250YWN0VHlwZXMuUkVDRUlWRURfUFJPRklMRSxcbiAgICAgIGRhdGE6IGNvbnRhY3QsXG4gICAgfSk7XG4gIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IHtBY3Rpb25UeXBlc30gZnJvbSAnJHV0aWxzL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmNyZW1lbnRXc0Vycm9yQ291bnQoKSB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCkgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5JTkNSRU1FTlRfV1NfRVJST1JfQ09VTlQsXG4gICAgICAgIH0pO1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldFdzRXJyb3JDb3VudCgpIHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlJFU0VUX1dTX0VSUk9SX0NPVU5ULFxuICAgICAgICB9KTtcbiAgICB9O1xufVxuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuaW1wb3J0IHtDbG91ZFR5cGVzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25fdHlwZXMnO1xuaW1wb3J0IHtDbGllbnQ0fSBmcm9tICdjaGF0dGluZy1yZWR1eC9jbGllbnQnO1xuXG5pbXBvcnQge0FjdGlvbkZ1bmN9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3R5cGVzL2FjdGlvbnMnO1xuaW1wb3J0IHtBZGRyZXNzLCBDbG91ZEN1c3RvbWVyUGF0Y2h9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3R5cGVzL2Nsb3VkJztcblxuaW1wb3J0IHtiaW5kQ2xpZW50RnVuY30gZnJvbSAnLi9oZWxwZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldENsb3VkU3Vic2NyaXB0aW9uKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0U3Vic2NyaXB0aW9uLFxuICAgICAgICBvblN1Y2Nlc3M6IFtDbG91ZFR5cGVzLlJFQ0VJVkVEX0NMT1VEX1NVQlNDUklQVElPTl0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbG91ZFByb2R1Y3RzKCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQuZ2V0Q2xvdWRQcm9kdWN0cyxcbiAgICAgICAgb25TdWNjZXNzOiBbQ2xvdWRUeXBlcy5SRUNFSVZFRF9DTE9VRF9QUk9EVUNUU10sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdWJzY3JpcHRpb25TdGF0cygpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmdldFN1YnNjcmlwdGlvblN0YXRzLFxuICAgICAgICBvblN1Y2Nlc3M6IENsb3VkVHlwZXMuUkVDRUlWRURfQ0xPVURfU1VCU0NSSVBUSU9OX1NUQVRTLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xvdWRDdXN0b21lcigpOiBBY3Rpb25GdW5jIHtcbiAgICByZXR1cm4gYmluZENsaWVudEZ1bmMoe1xuICAgICAgICBjbGllbnRGdW5jOiBDbGllbnQ0LmdldENsb3VkQ3VzdG9tZXIsXG4gICAgICAgIG9uU3VjY2VzczogW0Nsb3VkVHlwZXMuUkVDRUlWRURfQ0xPVURfQ1VTVE9NRVJdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW52b2ljZXMoKTogQWN0aW9uRnVuYyB7XG4gICAgcmV0dXJuIGJpbmRDbGllbnRGdW5jKHtcbiAgICAgICAgY2xpZW50RnVuYzogQ2xpZW50NC5nZXRJbnZvaWNlcyxcbiAgICAgICAgb25TdWNjZXNzOiBbQ2xvdWRUeXBlcy5SRUNFSVZFRF9DTE9VRF9JTlZPSUNFU10sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDbG91ZEN1c3RvbWVyKGN1c3RvbWVyUGF0Y2g6IENsb3VkQ3VzdG9tZXJQYXRjaCk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudXBkYXRlQ2xvdWRDdXN0b21lcixcbiAgICAgICAgb25TdWNjZXNzOiBbQ2xvdWRUeXBlcy5SRUNFSVZFRF9DTE9VRF9DVVNUT01FUl0sXG4gICAgICAgIHBhcmFtczogW2N1c3RvbWVyUGF0Y2hdLFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ2xvdWRDdXN0b21lckFkZHJlc3MoYWRkcmVzczogQWRkcmVzcyk6IEFjdGlvbkZ1bmMge1xuICAgIHJldHVybiBiaW5kQ2xpZW50RnVuYyh7XG4gICAgICAgIGNsaWVudEZ1bmM6IENsaWVudDQudXBkYXRlQ2xvdWRDdXN0b21lckFkZHJlc3MsXG4gICAgICAgIG9uU3VjY2VzczogW0Nsb3VkVHlwZXMuUkVDRUlWRURfQ0xPVURfQ1VTVE9NRVJdLFxuICAgICAgICBwYXJhbXM6IFthZGRyZXNzXSxcbiAgICB9KTtcbn1cbiIsIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXHJcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxyXG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cclxuICpcclxuICogQHByb3ZpZGVzTW9kdWxlIERpc3BhdGNoZXJcclxuICogXHJcbiAqIEBwcmV2ZW50TXVuZ2VcclxuICovXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKFwiZmJqcy9saWIvaW52YXJpYW50XCIpO1xuXG52YXIgX3ByZWZpeCA9ICdJRF8nO1xuLyoqXHJcbiAqIERpc3BhdGNoZXIgaXMgdXNlZCB0byBicm9hZGNhc3QgcGF5bG9hZHMgdG8gcmVnaXN0ZXJlZCBjYWxsYmFja3MuIFRoaXMgaXNcclxuICogZGlmZmVyZW50IGZyb20gZ2VuZXJpYyBwdWItc3ViIHN5c3RlbXMgaW4gdHdvIHdheXM6XHJcbiAqXHJcbiAqICAgMSkgQ2FsbGJhY2tzIGFyZSBub3Qgc3Vic2NyaWJlZCB0byBwYXJ0aWN1bGFyIGV2ZW50cy4gRXZlcnkgcGF5bG9hZCBpc1xyXG4gKiAgICAgIGRpc3BhdGNoZWQgdG8gZXZlcnkgcmVnaXN0ZXJlZCBjYWxsYmFjay5cclxuICogICAyKSBDYWxsYmFja3MgY2FuIGJlIGRlZmVycmVkIGluIHdob2xlIG9yIHBhcnQgdW50aWwgb3RoZXIgY2FsbGJhY2tzIGhhdmVcclxuICogICAgICBiZWVuIGV4ZWN1dGVkLlxyXG4gKlxyXG4gKiBGb3IgZXhhbXBsZSwgY29uc2lkZXIgdGhpcyBoeXBvdGhldGljYWwgZmxpZ2h0IGRlc3RpbmF0aW9uIGZvcm0sIHdoaWNoXHJcbiAqIHNlbGVjdHMgYSBkZWZhdWx0IGNpdHkgd2hlbiBhIGNvdW50cnkgaXMgc2VsZWN0ZWQ6XHJcbiAqXHJcbiAqICAgdmFyIGZsaWdodERpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcigpO1xyXG4gKlxyXG4gKiAgIC8vIEtlZXBzIHRyYWNrIG9mIHdoaWNoIGNvdW50cnkgaXMgc2VsZWN0ZWRcclxuICogICB2YXIgQ291bnRyeVN0b3JlID0ge2NvdW50cnk6IG51bGx9O1xyXG4gKlxyXG4gKiAgIC8vIEtlZXBzIHRyYWNrIG9mIHdoaWNoIGNpdHkgaXMgc2VsZWN0ZWRcclxuICogICB2YXIgQ2l0eVN0b3JlID0ge2NpdHk6IG51bGx9O1xyXG4gKlxyXG4gKiAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBiYXNlIGZsaWdodCBwcmljZSBvZiB0aGUgc2VsZWN0ZWQgY2l0eVxyXG4gKiAgIHZhciBGbGlnaHRQcmljZVN0b3JlID0ge3ByaWNlOiBudWxsfVxyXG4gKlxyXG4gKiBXaGVuIGEgdXNlciBjaGFuZ2VzIHRoZSBzZWxlY3RlZCBjaXR5LCB3ZSBkaXNwYXRjaCB0aGUgcGF5bG9hZDpcclxuICpcclxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcclxuICogICAgIGFjdGlvblR5cGU6ICdjaXR5LXVwZGF0ZScsXHJcbiAqICAgICBzZWxlY3RlZENpdHk6ICdwYXJpcydcclxuICogICB9KTtcclxuICpcclxuICogVGhpcyBwYXlsb2FkIGlzIGRpZ2VzdGVkIGJ5IGBDaXR5U3RvcmVgOlxyXG4gKlxyXG4gKiAgIGZsaWdodERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NpdHktdXBkYXRlJykge1xyXG4gKiAgICAgICBDaXR5U3RvcmUuY2l0eSA9IHBheWxvYWQuc2VsZWN0ZWRDaXR5O1xyXG4gKiAgICAgfVxyXG4gKiAgIH0pO1xyXG4gKlxyXG4gKiBXaGVuIHRoZSB1c2VyIHNlbGVjdHMgYSBjb3VudHJ5LCB3ZSBkaXNwYXRjaCB0aGUgcGF5bG9hZDpcclxuICpcclxuICogICBmbGlnaHREaXNwYXRjaGVyLmRpc3BhdGNoKHtcclxuICogICAgIGFjdGlvblR5cGU6ICdjb3VudHJ5LXVwZGF0ZScsXHJcbiAqICAgICBzZWxlY3RlZENvdW50cnk6ICdhdXN0cmFsaWEnXHJcbiAqICAgfSk7XHJcbiAqXHJcbiAqIFRoaXMgcGF5bG9hZCBpcyBkaWdlc3RlZCBieSBib3RoIHN0b3JlczpcclxuICpcclxuICogICBDb3VudHJ5U3RvcmUuZGlzcGF0Y2hUb2tlbiA9IGZsaWdodERpc3BhdGNoZXIucmVnaXN0ZXIoZnVuY3Rpb24ocGF5bG9hZCkge1xyXG4gKiAgICAgaWYgKHBheWxvYWQuYWN0aW9uVHlwZSA9PT0gJ2NvdW50cnktdXBkYXRlJykge1xyXG4gKiAgICAgICBDb3VudHJ5U3RvcmUuY291bnRyeSA9IHBheWxvYWQuc2VsZWN0ZWRDb3VudHJ5O1xyXG4gKiAgICAgfVxyXG4gKiAgIH0pO1xyXG4gKlxyXG4gKiBXaGVuIHRoZSBjYWxsYmFjayB0byB1cGRhdGUgYENvdW50cnlTdG9yZWAgaXMgcmVnaXN0ZXJlZCwgd2Ugc2F2ZSBhIHJlZmVyZW5jZVxyXG4gKiB0byB0aGUgcmV0dXJuZWQgdG9rZW4uIFVzaW5nIHRoaXMgdG9rZW4gd2l0aCBgd2FpdEZvcigpYCwgd2UgY2FuIGd1YXJhbnRlZVxyXG4gKiB0aGF0IGBDb3VudHJ5U3RvcmVgIGlzIHVwZGF0ZWQgYmVmb3JlIHRoZSBjYWxsYmFjayB0aGF0IHVwZGF0ZXMgYENpdHlTdG9yZWBcclxuICogbmVlZHMgdG8gcXVlcnkgaXRzIGRhdGEuXHJcbiAqXHJcbiAqICAgQ2l0eVN0b3JlLmRpc3BhdGNoVG9rZW4gPSBmbGlnaHREaXNwYXRjaGVyLnJlZ2lzdGVyKGZ1bmN0aW9uKHBheWxvYWQpIHtcclxuICogICAgIGlmIChwYXlsb2FkLmFjdGlvblR5cGUgPT09ICdjb3VudHJ5LXVwZGF0ZScpIHtcclxuICogICAgICAgLy8gYENvdW50cnlTdG9yZS5jb3VudHJ5YCBtYXkgbm90IGJlIHVwZGF0ZWQuXHJcbiAqICAgICAgIGZsaWdodERpc3BhdGNoZXIud2FpdEZvcihbQ291bnRyeVN0b3JlLmRpc3BhdGNoVG9rZW5dKTtcclxuICogICAgICAgLy8gYENvdW50cnlTdG9yZS5jb3VudHJ5YCBpcyBub3cgZ3VhcmFudGVlZCB0byBiZSB1cGRhdGVkLlxyXG4gKlxyXG4gKiAgICAgICAvLyBTZWxlY3QgdGhlIGRlZmF1bHQgY2l0eSBmb3IgdGhlIG5ldyBjb3VudHJ5XHJcbiAqICAgICAgIENpdHlTdG9yZS5jaXR5ID0gZ2V0RGVmYXVsdENpdHlGb3JDb3VudHJ5KENvdW50cnlTdG9yZS5jb3VudHJ5KTtcclxuICogICAgIH1cclxuICogICB9KTtcclxuICpcclxuICogVGhlIHVzYWdlIG9mIGB3YWl0Rm9yKClgIGNhbiBiZSBjaGFpbmVkLCBmb3IgZXhhbXBsZTpcclxuICpcclxuICogICBGbGlnaHRQcmljZVN0b3JlLmRpc3BhdGNoVG9rZW4gPVxyXG4gKiAgICAgZmxpZ2h0RGlzcGF0Y2hlci5yZWdpc3RlcihmdW5jdGlvbihwYXlsb2FkKSB7XHJcbiAqICAgICAgIHN3aXRjaCAocGF5bG9hZC5hY3Rpb25UeXBlKSB7XHJcbiAqICAgICAgICAgY2FzZSAnY291bnRyeS11cGRhdGUnOlxyXG4gKiAgICAgICAgIGNhc2UgJ2NpdHktdXBkYXRlJzpcclxuICogICAgICAgICAgIGZsaWdodERpc3BhdGNoZXIud2FpdEZvcihbQ2l0eVN0b3JlLmRpc3BhdGNoVG9rZW5dKTtcclxuICogICAgICAgICAgIEZsaWdodFByaWNlU3RvcmUucHJpY2UgPVxyXG4gKiAgICAgICAgICAgICBnZXRGbGlnaHRQcmljZVN0b3JlKENvdW50cnlTdG9yZS5jb3VudHJ5LCBDaXR5U3RvcmUuY2l0eSk7XHJcbiAqICAgICAgICAgICBicmVhaztcclxuICogICAgIH1cclxuICogICB9KTtcclxuICpcclxuICogVGhlIGBjb3VudHJ5LXVwZGF0ZWAgcGF5bG9hZCB3aWxsIGJlIGd1YXJhbnRlZWQgdG8gaW52b2tlIHRoZSBzdG9yZXMnXHJcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzIGluIG9yZGVyOiBgQ291bnRyeVN0b3JlYCwgYENpdHlTdG9yZWAsIHRoZW5cclxuICogYEZsaWdodFByaWNlU3RvcmVgLlxyXG4gKi9cblxudmFyIERpc3BhdGNoZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBEaXNwYXRjaGVyKCkge1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jYWxsYmFja3NcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9pc0Rpc3BhdGNoaW5nXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaXNIYW5kbGVkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaXNQZW5kaW5nXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbGFzdElEXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGVuZGluZ1BheWxvYWRcIiwgdm9pZCAwKTtcblxuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgIHRoaXMuX2lzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9pc0hhbmRsZWQgPSB7fTtcbiAgICB0aGlzLl9pc1BlbmRpbmcgPSB7fTtcbiAgICB0aGlzLl9sYXN0SUQgPSAxO1xuICB9XG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2l0aCBldmVyeSBkaXNwYXRjaGVkIHBheWxvYWQuIFJldHVybnNcclxuICAgKiBhIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBgd2FpdEZvcigpYC5cclxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBEaXNwYXRjaGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3RlcihjYWxsYmFjaykge1xuICAgIHZhciBpZCA9IF9wcmVmaXggKyB0aGlzLl9sYXN0SUQrKztcbiAgICB0aGlzLl9jYWxsYmFja3NbaWRdID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIGlkO1xuICB9XG4gIC8qKlxyXG4gICAqIFJlbW92ZXMgYSBjYWxsYmFjayBiYXNlZCBvbiBpdHMgdG9rZW4uXHJcbiAgICovXG4gIDtcblxuICBfcHJvdG8udW5yZWdpc3RlciA9IGZ1bmN0aW9uIHVucmVnaXN0ZXIoaWQpIHtcbiAgICAhdGhpcy5fY2FsbGJhY2tzW2lkXSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Rpc3BhdGNoZXIudW5yZWdpc3RlciguLi4pOiBgJXNgIGRvZXMgbm90IG1hcCB0byBhIHJlZ2lzdGVyZWQgY2FsbGJhY2suJywgaWQpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW2lkXTtcbiAgfVxuICAvKipcclxuICAgKiBXYWl0cyBmb3IgdGhlIGNhbGxiYWNrcyBzcGVjaWZpZWQgdG8gYmUgaW52b2tlZCBiZWZvcmUgY29udGludWluZyBleGVjdXRpb25cclxuICAgKiBvZiB0aGUgY3VycmVudCBjYWxsYmFjay4gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgdXNlZCBieSBhIGNhbGxiYWNrIGluXHJcbiAgICogcmVzcG9uc2UgdG8gYSBkaXNwYXRjaGVkIHBheWxvYWQuXHJcbiAgICovXG4gIDtcblxuICBfcHJvdG8ud2FpdEZvciA9IGZ1bmN0aW9uIHdhaXRGb3IoaWRzKSB7XG4gICAgIXRoaXMuX2lzRGlzcGF0Y2hpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogTXVzdCBiZSBpbnZva2VkIHdoaWxlIGRpc3BhdGNoaW5nLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpZHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgaWQgPSBpZHNbaWldO1xuXG4gICAgICBpZiAodGhpcy5faXNQZW5kaW5nW2lkXSkge1xuICAgICAgICAhdGhpcy5faXNIYW5kbGVkW2lkXSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Rpc3BhdGNoZXIud2FpdEZvciguLi4pOiBDaXJjdWxhciBkZXBlbmRlbmN5IGRldGVjdGVkIHdoaWxlICcgKyAnd2FpdGluZyBmb3IgYCVzYC4nLCBpZCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgIXRoaXMuX2NhbGxiYWNrc1tpZF0gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdEaXNwYXRjaGVyLndhaXRGb3IoLi4uKTogYCVzYCBkb2VzIG5vdCBtYXAgdG8gYSByZWdpc3RlcmVkIGNhbGxiYWNrLicsIGlkKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG5cbiAgICAgIHRoaXMuX2ludm9rZUNhbGxiYWNrKGlkKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogRGlzcGF0Y2hlcyBhIHBheWxvYWQgdG8gYWxsIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxyXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2gocGF5bG9hZCkge1xuICAgICEhdGhpcy5faXNEaXNwYXRjaGluZyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Rpc3BhdGNoLmRpc3BhdGNoKC4uLik6IENhbm5vdCBkaXNwYXRjaCBpbiB0aGUgbWlkZGxlIG9mIGEgZGlzcGF0Y2guJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgdGhpcy5fc3RhcnREaXNwYXRjaGluZyhwYXlsb2FkKTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLl9jYWxsYmFja3MpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzUGVuZGluZ1tpZF0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ludm9rZUNhbGxiYWNrKGlkKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5fc3RvcERpc3BhdGNoaW5nKCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIElzIHRoaXMgRGlzcGF0Y2hlciBjdXJyZW50bHkgZGlzcGF0Y2hpbmcuXHJcbiAgICovXG4gIDtcblxuICBfcHJvdG8uaXNEaXNwYXRjaGluZyA9IGZ1bmN0aW9uIGlzRGlzcGF0Y2hpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzRGlzcGF0Y2hpbmc7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2FsbCB0aGUgY2FsbGJhY2sgc3RvcmVkIHdpdGggdGhlIGdpdmVuIGlkLiBBbHNvIGRvIHNvbWUgaW50ZXJuYWxcclxuICAgKiBib29ra2VlcGluZy5cclxuICAgKlxyXG4gICAqIEBpbnRlcm5hbFxyXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9pbnZva2VDYWxsYmFjayA9IGZ1bmN0aW9uIF9pbnZva2VDYWxsYmFjayhpZCkge1xuICAgIHRoaXMuX2lzUGVuZGluZ1tpZF0gPSB0cnVlO1xuXG4gICAgdGhpcy5fY2FsbGJhY2tzW2lkXSh0aGlzLl9wZW5kaW5nUGF5bG9hZCk7XG5cbiAgICB0aGlzLl9pc0hhbmRsZWRbaWRdID0gdHJ1ZTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdXAgYm9va2tlZXBpbmcgbmVlZGVkIHdoZW4gZGlzcGF0Y2hpbmcuXHJcbiAgICpcclxuICAgKiBAaW50ZXJuYWxcclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fc3RhcnREaXNwYXRjaGluZyA9IGZ1bmN0aW9uIF9zdGFydERpc3BhdGNoaW5nKHBheWxvYWQpIHtcbiAgICBmb3IgKHZhciBpZCBpbiB0aGlzLl9jYWxsYmFja3MpIHtcbiAgICAgIHRoaXMuX2lzUGVuZGluZ1tpZF0gPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lzSGFuZGxlZFtpZF0gPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLl9wZW5kaW5nUGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgdGhpcy5faXNEaXNwYXRjaGluZyA9IHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2xlYXIgYm9va2tlZXBpbmcgdXNlZCBmb3IgZGlzcGF0Y2hpbmcuXHJcbiAgICpcclxuICAgKiBAaW50ZXJuYWxcclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fc3RvcERpc3BhdGNoaW5nID0gZnVuY3Rpb24gX3N0b3BEaXNwYXRjaGluZygpIHtcbiAgICBkZWxldGUgdGhpcy5fcGVuZGluZ1BheWxvYWQ7XG4gICAgdGhpcy5faXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICB9O1xuXG4gIHJldHVybiBEaXNwYXRjaGVyO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERpc3BhdGNoZXI7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdmFsaWRhdGVGb3JtYXQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50KC4uLik6IFNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICB9XG59IDogZnVuY3Rpb24gKGZvcm1hdCkge307XG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50cyB0byBwcm92aWRlXG4gKiBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudCB3aWxsXG4gKiByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuXG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhhcmdzW2FyZ0luZGV4KytdKTtcbiAgICAgIH0pKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyBTa2lwIGludmFyaWFudCdzIG93biBzdGFjayBmcmFtZS5cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50OyIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0ICogYXMgRmx1eCBmcm9tICdmbHV4JztcblxuaW1wb3J0IENvbnN0YW50cyBmcm9tICckdXRpbHMvY29uc3RhbnRzJztcblxuY29uc3QgUGF5bG9hZFNvdXJjZXMgPSBDb25zdGFudHMuUGF5bG9hZFNvdXJjZXM7XG5cbmNvbnN0IEFwcERpc3BhdGNoZXIgPSBPYmplY3QuYXNzaWduKG5ldyBGbHV4LkRpc3BhdGNoZXIoKSwge1xuICAgIGhhbmRsZVNlcnZlckFjdGlvbjogZnVuY3Rpb24gcGVyZm9ybVNlcnZlckFjdGlvbihhY3Rpb24pIHtcbiAgICAgICAgaWYgKCFhY3Rpb24udHlwZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdoYW5kbGVTZXJ2ZXJBY3Rpb24gY2FsbGVkIHdpdGggdW5kZWZpbmVkIGFjdGlvbiB0eXBlJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBheWxvYWQgPSB7XG4gICAgICAgICAgICBzb3VyY2U6IFBheWxvYWRTb3VyY2VzLlNFUlZFUl9BQ1RJT04sXG4gICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGlzcGF0Y2gocGF5bG9hZCk7XG4gICAgfSxcblxuICAgIGhhbmRsZVZpZXdBY3Rpb246IGZ1bmN0aW9uIHBlcmZvcm1WaWV3QWN0aW9uKGFjdGlvbikge1xuICAgICAgICBpZiAoIWFjdGlvbi50eXBlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ2hhbmRsZVZpZXdBY3Rpb24gY2FsbGVkIHdpdGggdW5kZWZpbmVkIGFjdGlvbiB0eXBlJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBheWxvYWQgPSB7XG4gICAgICAgICAgICBzb3VyY2U6IFBheWxvYWRTb3VyY2VzLlZJRVdfQUNUSU9OLFxuICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHBheWxvYWQpO1xuICAgIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQXBwRGlzcGF0Y2hlcjtcbiIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IHticm93c2VySGlzdG9yeX0gZnJvbSAnJHV0aWxzL2Jyb3dzZXJfaGlzdG9yeSc7XG5pbXBvcnQgKiBhcyBTZWxlY3RvcnMgZnJvbSAnJHNlbGVjdG9ycy9zdG9yYWdlJztcbmltcG9ydCAqIGFzIEFjdGlvbnMgZnJvbSAnJGFjdGlvbnMvc3RvcmFnZSc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnJHN0b3Jlcy9yZWR1eF9zdG9yZS5qc3gnO1xuaW1wb3J0IHtFcnJvclBhZ2VUeXBlcywgU3RvcmFnZVByZWZpeGVzLCBMYW5kaW5nUHJlZmVyZW5jZVR5cGVzfSBmcm9tICckdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gJyR1dGlscy91dGlscy5qc3gnO1xuXG5jb25zdCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuY29uc3QgZ2V0U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZTtcblxuY2xhc3MgQnJvd3NlclN0b3JlQ2xhc3Mge1xuICBwcml2YXRlIGhhc0NoZWNrZWRMb2NhbFN0b3JhZ2U/OiBib29sZWFuO1xuICBwcml2YXRlIGxvY2FsU3RvcmFnZVN1cHBvcnRlZD86IGJvb2xlYW47XG5cbiAgc2V0SXRlbShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBkaXNwYXRjaChBY3Rpb25zLnNldEl0ZW0obmFtZSwgdmFsdWUpKTtcbiAgfVxuXG4gIGdldEl0ZW0obmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiBTZWxlY3RvcnMubWFrZUdldEl0ZW0obmFtZSwgZGVmYXVsdFZhbHVlKShnZXRTdGF0ZSgpKTtcbiAgfVxuXG4gIHJlbW92ZUl0ZW0obmFtZTogc3RyaW5nKSB7XG4gICAgZGlzcGF0Y2goQWN0aW9ucy5yZW1vdmVJdGVtKG5hbWUpKTtcbiAgfVxuXG4gIHNldEdsb2JhbEl0ZW0obmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgZGlzcGF0Y2goQWN0aW9ucy5zZXRHbG9iYWxJdGVtKG5hbWUsIHZhbHVlKSk7XG4gIH1cblxuICBnZXRHbG9iYWxJdGVtKG5hbWU6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcgfCBudWxsID0gbnVsbCkge1xuICAgIHJldHVybiBTZWxlY3RvcnMubWFrZUdldEdsb2JhbEl0ZW0obmFtZSwgZGVmYXVsdFZhbHVlKShnZXRTdGF0ZSgpKTtcbiAgfVxuXG4gIHJlbW92ZUdsb2JhbEl0ZW0obmFtZTogc3RyaW5nKSB7XG4gICAgZGlzcGF0Y2goQWN0aW9ucy5yZW1vdmVHbG9iYWxJdGVtKG5hbWUpKTtcbiAgfVxuXG4gIHNpZ25hbExvZ291dCgpIHtcbiAgICBpZiAodGhpcy5pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAvLyBQTFQtMTI4NSBzdG9yZSBhbiBpZGVudGlmaWVyIGluIHNlc3Npb24gc3RvcmFnZSBzbyB3ZSBjYW4gY2F0Y2ggaWYgdGhlIGxvZ291dCBjYW1lIGZyb20gdGhpcyB0YWIgb24gSUUxMVxuICAgICAgY29uc3QgbG9nb3V0SWQgPSBVdGlscy5nZW5lcmF0ZUlkKCk7XG5cbiAgICAgIFV0aWxzLnJlbW92ZVByZWZpeEZyb21Mb2NhbFN0b3JhZ2UoU3RvcmFnZVByZWZpeGVzLkFOTk9VTkNFTUVOVCk7XG5cbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oU3RvcmFnZVByZWZpeGVzLkxPR09VVCwgbG9nb3V0SWQpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU3RvcmFnZVByZWZpeGVzLkxPR09VVCwgbG9nb3V0SWQpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU3RvcmFnZVByZWZpeGVzLkxPR09VVCk7XG4gICAgfVxuICB9XG5cbiAgaXNTaWduYWxsaW5nTG9nb3V0KGxvZ291dElkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbG9nb3V0SWQgPT09IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU3RvcmFnZVByZWZpeGVzLkxPR09VVCk7XG4gIH1cblxuICBzaWduYWxMb2dpbigpIHtcbiAgICBpZiAodGhpcy5pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAvLyBQTFQtMTI4NSBzdG9yZSBhbiBpZGVudGlmaWVyIGluIHNlc3Npb24gc3RvcmFnZSBzbyB3ZSBjYW4gY2F0Y2ggaWYgdGhlIGxvZ291dCBjYW1lIGZyb20gdGhpcyB0YWIgb24gSUUxMVxuICAgICAgY29uc3QgbG9naW5JZCA9IFV0aWxzLmdlbmVyYXRlSWQoKTtcblxuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTdG9yYWdlUHJlZml4ZXMuTE9HSU4sIGxvZ2luSWQpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU3RvcmFnZVByZWZpeGVzLkxPR0lOLCBsb2dpbklkKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFN0b3JhZ2VQcmVmaXhlcy5MT0dJTik7XG4gICAgfVxuICB9XG5cbiAgaXNTaWduYWxsaW5nTG9naW4obG9naW5JZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGxvZ2luSWQgPT09IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU3RvcmFnZVByZWZpeGVzLkxPR0lOKTtcbiAgfVxuXG4gIGNsZWFyKG9wdGlvbnM/OiB7ZXhjbHVkZTogYW55fSkge1xuICAgIC8vIFRPRE8gYWRkIG1vcmUgc3BlY2lmaWMgdHlwZXNcbiAgICBkaXNwYXRjaChBY3Rpb25zLmNsZWFyKG9wdGlvbnMpKTtcbiAgfVxuXG4gIGlzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkge1xuICAgIGlmICh0aGlzLmhhc0NoZWNrZWRMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvY2FsU3RvcmFnZVN1cHBvcnRlZDtcbiAgICB9XG5cbiAgICB0aGlzLmxvY2FsU3RvcmFnZVN1cHBvcnRlZCA9IGZhbHNlO1xuXG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfX3Rlc3RMb2NhbF9fJywgJzEnKTtcbiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX190ZXN0TG9jYWxfXycpID09PSAnMScpIHtcbiAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2VTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ19fdGVzdExvY2FsX18nKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmxvY2FsU3RvcmFnZVN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdfX3Rlc3RTZXNzaW9uX18nLCAnMScpO1xuICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnX190ZXN0U2Vzc2lvbl9fJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gU2Vzc2lvbiBzdG9yYWdlIG5vdCB1c2FibGUsIHdlYnNpdGUgaXMgdW51c2FibGVcbiAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9lcnJvcj90eXBlPScgKyBFcnJvclBhZ2VUeXBlcy5MT0NBTF9TVE9SQUdFKTtcbiAgICB9XG5cbiAgICB0aGlzLmhhc0NoZWNrZWRMb2NhbFN0b3JhZ2UgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXMubG9jYWxTdG9yYWdlU3VwcG9ydGVkO1xuICB9XG5cbiAgaGFzU2VlbkxhbmRpbmdQYWdlKCkge1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTdG9yYWdlUHJlZml4ZXMuTEFORElOR19QQUdFX1NFRU4pO1xuICB9XG5cbiAgc2V0TGFuZGluZ1BhZ2VTZWVuKGxhbmRpbmdQYWdlU2VlbjogYm9vbGVhbikge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFN0b3JhZ2VQcmVmaXhlcy5MQU5ESU5HX1BBR0VfU0VFTiwgU3RyaW5nKGxhbmRpbmdQYWdlU2VlbikpO1xuICB9XG5cbiAgZ2V0TGFuZGluZ1ByZWZlcmVuY2Uoc2l0ZVVybD86IHN0cmluZykge1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTdG9yYWdlUHJlZml4ZXMuTEFORElOR19QUkVGRVJFTkNFICsgU3RyaW5nKHNpdGVVcmwpKTtcbiAgfVxuXG4gIHNldExhbmRpbmdQcmVmZXJlbmNlVG9NYXR0ZXJtb3N0QXBwKHNpdGVVcmw/OiBzdHJpbmcpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTdG9yYWdlUHJlZml4ZXMuTEFORElOR19QUkVGRVJFTkNFICsgU3RyaW5nKHNpdGVVcmwpLCBMYW5kaW5nUHJlZmVyZW5jZVR5cGVzLk1BVFRFUk1PU1RBUFApO1xuICB9XG5cbiAgc2V0TGFuZGluZ1ByZWZlcmVuY2VUb0Jyb3dzZXIoc2l0ZVVybD86IHN0cmluZykge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFN0b3JhZ2VQcmVmaXhlcy5MQU5ESU5HX1BSRUZFUkVOQ0UgKyBTdHJpbmcoc2l0ZVVybCksIExhbmRpbmdQcmVmZXJlbmNlVHlwZXMuQlJPV1NFUik7XG4gIH1cblxuICBjbGVhckxhbmRpbmdQcmVmZXJlbmNlKHNpdGVVcmw/OiBzdHJpbmcpIHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTdG9yYWdlUHJlZml4ZXMuTEFORElOR19QUkVGRVJFTkNFICsgU3RyaW5nKHNpdGVVcmwpKTtcbiAgfVxufVxuXG5jb25zdCBCcm93c2VyU3RvcmUgPSBuZXcgQnJvd3NlclN0b3JlQ2xhc3MoKTtcbmV4cG9ydCBkZWZhdWx0IEJyb3dzZXJTdG9yZTtcbiIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuaW1wb3J0IHtiYXRjaEFjdGlvbnN9IGZyb20gJ3JlZHV4LWJhdGNoZWQtYWN0aW9ucyc7XG5cbmltcG9ydCB7XG4gIGNyZWF0ZURpcmVjdENoYW5uZWwsXG4gIGZldGNoTXlDaGFubmVsc0FuZE1lbWJlcnMsXG4gIGdldENoYW5uZWxCeU5hbWVBbmRUZWFtTmFtZSxcbiAgZ2V0Q2hhbm5lbFN0YXRzLFxuXG4gIC8vIHNlbGVjdENoYW5uZWwsXG59IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2FjdGlvbnMvY2hhbm5lbHMnO1xuaW1wb3J0IHtsb2dvdXQsIGxvYWRNZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy91c2Vycyc7XG5pbXBvcnQge2dldENvbmZpZ30gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2dlbmVyYWwnO1xuaW1wb3J0IHtcbiAgZ2V0Q3VycmVudFRlYW1JZCxcbiAgZ2V0TXlUZWFtcyxcbiAgZ2V0VGVhbSxcbiAgZ2V0TXlUZWFtTWVtYmVyLFxuICBnZXRUZWFtTWVtYmVyc2hpcHMsXG59IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy90ZWFtcyc7XG5pbXBvcnQge2dldEN1cnJlbnRVc2VyLCBnZXRDdXJyZW50VXNlcklkfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdXNlcnMnO1xuaW1wb3J0IHtcbiAgZ2V0Q3VycmVudENoYW5uZWxTdGF0cyxcbiAgZ2V0Q3VycmVudENoYW5uZWxJZCxcbiAgZ2V0TXlDaGFubmVsTWVtYmVyLFxuICBnZXRSZWRpcmVjdENoYW5uZWxOYW1lRm9yVGVhbSxcbiAgZ2V0Q2hhbm5lbHNOYW1lTWFwSW5UZWFtLFxuICBnZXRBbGxEaXJlY3RDaGFubmVscyxcbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2NoYW5uZWxzJztcbmltcG9ydCB7YXBwc0VuYWJsZWR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy9hcHBzJztcbmltcG9ydCB7Q2hhbm5lbFR5cGVzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25fdHlwZXMnO1xuaW1wb3J0IHtmZXRjaEFwcEJpbmRpbmdzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL2FwcHMnO1xuaW1wb3J0IHtDaGFubmVsLCBDaGFubmVsTWVtYmVyc2hpcH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvY2hhbm5lbHMnO1xuaW1wb3J0IHtVc2VyUHJvZmlsZX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvdXNlcnMnO1xuaW1wb3J0IHtBY3Rpb24sIEFjdGlvbkZ1bmMsIERpc3BhdGNoRnVuYywgR2V0U3RhdGVGdW5jfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcbmltcG9ydCB7VGVhbX0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdHlwZXMvdGVhbXMnO1xuXG5pbXBvcnQge2Jyb3dzZXJIaXN0b3J5fSBmcm9tICckdXRpbHMvYnJvd3Nlcl9oaXN0b3J5JztcbmltcG9ydCB7aGFuZGxlTmV3UG9zdH0gZnJvbSAnJGFjdGlvbnMvcG9zdF9hY3Rpb25zLmpzeCc7XG5pbXBvcnQge3N0b3BQZXJpb2RpY1N0YXR1c1VwZGF0ZXN9IGZyb20gJyRhY3Rpb25zL3N0YXR1c19hY3Rpb25zLmpzeCc7XG5pbXBvcnQge2xvYWRQcm9maWxlc0ZvclNpZGViYXJ9IGZyb20gJyRhY3Rpb25zL3VzZXJfYWN0aW9ucy5qc3gnO1xuaW1wb3J0IHtjbG9zZVJpZ2h0SGFuZFNpZGUsIGNsb3NlTWVudSBhcyBjbG9zZVJoc01lbnUsIHVwZGF0ZVJoc1N0YXRlfSBmcm9tICckYWN0aW9ucy92aWV3cy9yaHMnO1xuaW1wb3J0IHtjbGVhclVzZXJDb29raWV9IGZyb20gJyRhY3Rpb25zL3ZpZXdzL2Nvb2tpZSc7XG5pbXBvcnQge2Nsb3NlIGFzIGNsb3NlTGhzfSBmcm9tICckYWN0aW9ucy92aWV3cy9saHMnO1xuaW1wb3J0ICogYXMgV2Vic29ja2V0QWN0aW9ucyBmcm9tICckYWN0aW9ucy93ZWJzb2NrZXRfYWN0aW9ucy5qc3gnO1xuaW1wb3J0IEFwcERpc3BhdGNoZXIgZnJvbSAnQC94L2Rpc3BhdGNoZXIvYXBwX2Rpc3BhdGNoZXIuanN4JztcbmltcG9ydCB7Z2V0Q3VycmVudExvY2FsZX0gZnJvbSAnJHNlbGVjdG9ycy9pMThuJztcbmltcG9ydCB7Z2V0SXNSaHNPcGVuLCBnZXRSaHNTdGF0ZX0gZnJvbSAnJHNlbGVjdG9ycy9yaHMnO1xuaW1wb3J0IEJyb3dzZXJTdG9yZSBmcm9tICckc3RvcmVzL2Jyb3dzZXJfc3RvcmUnO1xuaW1wb3J0IHN0b3JlIGZyb20gJyRzdG9yZXMvcmVkdXhfc3RvcmUuanN4JztcbmltcG9ydCBMb2NhbFN0b3JhZ2VTdG9yZSBmcm9tICckc3RvcmVzL2xvY2FsX3N0b3JhZ2Vfc3RvcmUnO1xuaW1wb3J0IFdlYlNvY2tldENsaWVudCBmcm9tICckY2xpZW50L3dlYl93ZWJzb2NrZXRfY2xpZW50LmpzeCc7XG5cbmltcG9ydCB7QWN0aW9uVHlwZXMsIENvbnN0YW50cywgUG9zdFR5cGVzLCBSSFNTdGF0ZXMsIE1vZGFsSWRlbnRpZmllcnN9IGZyb20gJyR1dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHtmaWx0ZXJBbmRTb3J0VGVhbXNCeURpc3BsYXlOYW1lfSBmcm9tICckdXRpbHMvdGVhbV91dGlscy5qc3gnO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnJHV0aWxzL3V0aWxzLmpzeCc7XG5pbXBvcnQgeyBIYXNoSGlzdG9yeSB9IGZyb20gJ2hpc3RvcnknO1xuXG5jb25zdCBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuY29uc3QgZ2V0U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZTtcblxuZXhwb3J0IGZ1bmN0aW9uIGVtaXRDaGFubmVsQ2xpY2tFdmVudChjaGFubmVsOiBDaGFubmVsKSB7XG4gIGFzeW5jIGZ1bmN0aW9uIHVzZXJWaXNpdGVkRmFrZUNoYW5uZWwoY2hhbjogQ2hhbm5lbCwgc3VjY2VzczogKHJlY2VpdmVkOiBDaGFubmVsKSA9PiB2b2lkLCBmYWlsOiAoKSA9PiB2b2lkKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBnZXRDdXJyZW50VXNlcklkKHN0YXRlKTtcbiAgICBjb25zdCBvdGhlclVzZXJJZCA9IFV0aWxzLmdldFVzZXJJZEZyb21DaGFubmVsTmFtZShjaGFuKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBjcmVhdGVEaXJlY3RDaGFubmVsKGN1cnJlbnRVc2VySWQsIG90aGVyVXNlcklkKShkaXNwYXRjaCwgZ2V0U3RhdGUpO1xuICAgIGlmICgnZGF0YScgaW4gcmVzKSB7XG4gICAgICBzdWNjZXNzKHJlcy5kYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmFpbCgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzd2l0Y2hUb0NoYW5uZWwoY2hhbjogQ2hhbm5lbCkge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB1c2VySWQgPSBnZXRDdXJyZW50VXNlcklkKHN0YXRlKTtcbiAgICBjb25zdCB0ZWFtSWQgPSBjaGFuLnRlYW1faWQgfHwgZ2V0Q3VycmVudFRlYW1JZChzdGF0ZSk7XG4gICAgY29uc3QgaXNSSFNPcGVuZWQgPSBnZXRJc1Joc09wZW4oc3RhdGUpO1xuICAgIGNvbnN0IGlzUGlubmVkUG9zdHNTaG93aW5nID0gZ2V0UmhzU3RhdGUoc3RhdGUpID09PSBSSFNTdGF0ZXMuUElOO1xuICAgIGNvbnN0IGlzQ2hhbm5lbEZpbGVzU2hvd2luZyA9IGdldFJoc1N0YXRlKHN0YXRlKSA9PT0gUkhTU3RhdGVzLkNIQU5ORUxfRklMRVM7XG4gICAgY29uc3QgbWVtYmVyID0gZ2V0TXlDaGFubmVsTWVtYmVyKHN0YXRlLCBjaGFuLmlkKTtcbiAgICBjb25zdCBjdXJyZW50Q2hhbm5lbElkID0gZ2V0Q3VycmVudENoYW5uZWxJZChzdGF0ZSk7XG4gICAgZGlzcGF0Y2goZ2V0Q2hhbm5lbFN0YXRzKGNoYW4uaWQpKTtcblxuICAgIGNvbnN0IHBlbnVsdGltYXRlID0gTG9jYWxTdG9yYWdlU3RvcmUuZ2V0UHJldmlvdXNDaGFubmVsTmFtZSh1c2VySWQsIHRlYW1JZCk7XG4gICAgaWYgKHBlbnVsdGltYXRlICE9PSBjaGFuLm5hbWUpIHtcbiAgICAgIExvY2FsU3RvcmFnZVN0b3JlLnNldFBlbnVsdGltYXRlQ2hhbm5lbE5hbWUodXNlcklkLCB0ZWFtSWQsIHBlbnVsdGltYXRlKTtcbiAgICAgIExvY2FsU3RvcmFnZVN0b3JlLnNldFByZXZpb3VzQ2hhbm5lbE5hbWUodXNlcklkLCB0ZWFtSWQsIGNoYW4ubmFtZSk7XG4gICAgfVxuXG4gICAgLy8gV2hlbiBzd2l0Y2hpbmcgdG8gYSBkaWZmZXJlbnQgY2hhbm5lbCBpZiB0aGUgcGlubmVkIHBvc3RzIGlzIHNob3dpbmdcbiAgICAvLyBVcGRhdGUgdGhlIFJIUyBzdGF0ZSB0byByZWZsZWN0IHRoZSBwaW5uZWQgcG9zdCBvZiB0aGUgc2VsZWN0ZWQgY2hhbm5lbFxuICAgIGlmIChpc1JIU09wZW5lZCAmJiBpc1Bpbm5lZFBvc3RzU2hvd2luZykge1xuICAgICAgZGlzcGF0Y2godXBkYXRlUmhzU3RhdGUoUkhTU3RhdGVzLlBJTiwgY2hhbi5pZCkpO1xuICAgIH1cblxuICAgIGlmIChpc1JIU09wZW5lZCAmJiBpc0NoYW5uZWxGaWxlc1Nob3dpbmcpIHtcbiAgICAgIGRpc3BhdGNoKHVwZGF0ZVJoc1N0YXRlKFJIU1N0YXRlcy5DSEFOTkVMX0ZJTEVTLCBjaGFuLmlkKSk7XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRDaGFubmVsSWQpIHtcbiAgICAgIGxvYWRQcm9maWxlc0ZvclNpZGViYXIoKTtcbiAgICB9XG5cbiAgICBkaXNwYXRjaChcbiAgICAgIGJhdGNoQWN0aW9ucyhbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBDaGFubmVsVHlwZXMuU0VMRUNUX0NIQU5ORUwsXG4gICAgICAgICAgZGF0YTogY2hhbi5pZCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlNFTEVDVF9DSEFOTkVMX1dJVEhfTUVNQkVSLFxuICAgICAgICAgIGRhdGE6IGNoYW4uaWQsXG4gICAgICAgICAgY2hhbm5lbDogY2hhbixcbiAgICAgICAgICBtZW1iZXI6IG1lbWJlciB8fCB7fSxcbiAgICAgICAgfSxcbiAgICAgIF0pXG4gICAgKTtcblxuICAgIGlmIChhcHBzRW5hYmxlZChzdGF0ZSkpIHtcbiAgICAgIGRpc3BhdGNoKGZldGNoQXBwQmluZGluZ3ModXNlcklkLCBjaGFuLmlkKSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNoYW5uZWwuZmFrZSkge1xuICAgIHVzZXJWaXNpdGVkRmFrZUNoYW5uZWwoXG4gICAgICBjaGFubmVsLFxuICAgICAgKGRhdGEpID0+IHtcbiAgICAgICAgc3dpdGNoVG9DaGFubmVsKGRhdGEpO1xuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgYnJvd3Nlckhpc3RvcnkucHVzaCgnLycpO1xuICAgICAgfVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgc3dpdGNoVG9DaGFubmVsKGNoYW5uZWwpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVOZXdNZXNzYWdlc0F0SW5DaGFubmVsKGNoYW5uZWxJZDogc3RyaW5nLCBsYXN0Vmlld2VkQXQgPSBEYXRlLm5vdygpKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQWN0aW9uVHlwZXMuVVBEQVRFX0NIQU5ORUxfTEFTVF9WSUVXRURfQVQsXG4gICAgY2hhbm5lbF9pZDogY2hhbm5lbElkLFxuICAgIGxhc3Rfdmlld2VkX2F0OiBsYXN0Vmlld2VkQXQsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWl0Q2xvc2VSaWdodEhhbmRTaWRlKCkge1xuICBkaXNwYXRjaChjbG9zZVJpZ2h0SGFuZFNpZGUoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVTaG9ydGN1dHNNb2RhbCgpIHtcbiAgQXBwRGlzcGF0Y2hlci5oYW5kbGVWaWV3QWN0aW9uKHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5UT0dHTEVfU0hPUlRDVVRTX01PREFMLFxuICAgIHZhbHVlOiB0cnVlLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dDaGFubmVsUHVycG9zZVVwZGF0ZU1vZGFsKGNoYW5uZWw6IENoYW5uZWwpIHtcbiAgQXBwRGlzcGF0Y2hlci5oYW5kbGVWaWV3QWN0aW9uKHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5UT0dHTEVfQ0hBTk5FTF9QVVJQT1NFX1VQREFURV9NT0RBTCxcbiAgICB2YWx1ZTogdHJ1ZSxcbiAgICBjaGFubmVsLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dDaGFubmVsTmFtZVVwZGF0ZU1vZGFsKGNoYW5uZWw6IENoYW5uZWwpIHtcbiAgQXBwRGlzcGF0Y2hlci5oYW5kbGVWaWV3QWN0aW9uKHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5UT0dHTEVfQ0hBTk5FTF9OQU1FX1VQREFURV9NT0RBTCxcbiAgICB2YWx1ZTogdHJ1ZSxcbiAgICBjaGFubmVsLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dHZXRQdWJsaWNMaW5rTW9kYWwoZmlsZUlkOiBzdHJpbmcpIHtcbiAgQXBwRGlzcGF0Y2hlci5oYW5kbGVWaWV3QWN0aW9uKHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5UT0dHTEVfR0VUX1BVQkxJQ19MSU5LX01PREFMLFxuICAgIHZhbHVlOiB0cnVlLFxuICAgIGZpbGVJZCxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93R2V0VGVhbUludml0ZUxpbmtNb2RhbCgpIHtcbiAgQXBwRGlzcGF0Y2hlci5oYW5kbGVWaWV3QWN0aW9uKHtcbiAgICB0eXBlOiBDb25zdGFudHMuQWN0aW9uVHlwZXMuVE9HR0xFX0dFVF9URUFNX0lOVklURV9MSU5LX01PREFMLFxuICAgIHZhbHVlOiB0cnVlLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dMZWF2ZVByaXZhdGVDaGFubmVsTW9kYWwoY2hhbm5lbDogQ2hhbm5lbCkge1xuICBBcHBEaXNwYXRjaGVyLmhhbmRsZVZpZXdBY3Rpb24oe1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLlRPR0dMRV9MRUFWRV9QUklWQVRFX0NIQU5ORUxfTU9EQUwsXG4gICAgdmFsdWU6IGNoYW5uZWwsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd01vYmlsZVN1Yk1lbnVNb2RhbChlbGVtZW50czogYW55W10pIHtcbiAgLy8gVE9ETyBVc2UgbW9yZSBzcGVjaWZpYyB0eXBlXG4gIGNvbnN0IHN1Ym1lbnVNb2RhbERhdGEgPSB7XG4gICAgTW9kYWxJZDogTW9kYWxJZGVudGlmaWVycy5NT0JJTEVfU1VCTUVOVSxcbiAgICBkaWFsb2dUeXBlOiBTdWJNZW51TW9kYWwsXG4gICAgZGlhbG9nUHJvcHM6IHtcbiAgICAgIGVsZW1lbnRzLFxuICAgIH0sXG4gIH07XG5cbiAgLy8gaW4gaGVyZS4uLi5cbiAgY29uc29sZS5pbmZvKCdzaG93TW9iaWxlU3ViTWVudU1vZGFsJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kRXBoZW1lcmFsUG9zdChtZXNzYWdlOiBzdHJpbmcsIGNoYW5uZWxJZD86IHN0cmluZywgcGFyZW50SWQ/OiBzdHJpbmcsIHVzZXJJZD86IHN0cmluZyk6IEFjdGlvbkZ1bmMge1xuICByZXR1cm4gKGRvRGlzcGF0Y2g6IERpc3BhdGNoRnVuYywgZG9HZXRTdGF0ZTogR2V0U3RhdGVGdW5jKSA9PiB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gVXRpbHMuZ2V0VGltZXN0YW1wKCk7XG4gICAgY29uc3QgcG9zdCA9IHtcbiAgICAgIGlkOiBVdGlscy5nZW5lcmF0ZUlkKCksXG4gICAgICB1c2VyX2lkOiB1c2VySWQgfHwgJzAnLFxuICAgICAgY2hhbm5lbF9pZDogY2hhbm5lbElkIHx8IGdldEN1cnJlbnRDaGFubmVsSWQoZG9HZXRTdGF0ZSgpKSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB0eXBlOiBQb3N0VHlwZXMuRVBIRU1FUkFMLFxuICAgICAgY3JlYXRlX2F0OiB0aW1lc3RhbXAsXG4gICAgICB1cGRhdGVfYXQ6IHRpbWVzdGFtcCxcbiAgICAgIHJvb3RfaWQ6IHBhcmVudElkLFxuICAgICAgcGFyZW50X2lkOiBwYXJlbnRJZCxcbiAgICAgIHByb3BzOiB7fSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRvRGlzcGF0Y2goaGFuZGxlTmV3UG9zdChwb3N0KSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kQWRkVG9DaGFubmVsRXBoZW1lcmFsUG9zdChcbiAgdXNlcjogVXNlclByb2ZpbGUsXG4gIGFkZGVkVXNlcm5hbWU6IHN0cmluZyxcbiAgYWRkZWRVc2VySWQ6IHN0cmluZyxcbiAgY2hhbm5lbElkOiBzdHJpbmcsXG4gIHBvc3RSb290SWQgPSAnJyxcbiAgdGltZXN0YW1wOiBudW1iZXJcbikge1xuICBjb25zdCBwb3N0ID0ge1xuICAgIGlkOiBVdGlscy5nZW5lcmF0ZUlkKCksXG4gICAgdXNlcl9pZDogdXNlci5pZCxcbiAgICBjaGFubmVsX2lkOiBjaGFubmVsSWQgfHwgZ2V0Q3VycmVudENoYW5uZWxJZChnZXRTdGF0ZSgpKSxcbiAgICBtZXNzYWdlOiAnJyxcbiAgICB0eXBlOiBQb3N0VHlwZXMuRVBIRU1FUkFMX0FERF9UT19DSEFOTkVMLFxuICAgIGNyZWF0ZV9hdDogdGltZXN0YW1wLFxuICAgIHVwZGF0ZV9hdDogdGltZXN0YW1wLFxuICAgIHJvb3RfaWQ6IHBvc3RSb290SWQsXG4gICAgcGFyZW50X2lkOiBwb3N0Um9vdElkLFxuICAgIHByb3BzOiB7XG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgIGFkZGVkVXNlcm5hbWUsXG4gICAgICBhZGRlZFVzZXJJZCxcbiAgICB9LFxuICB9O1xuXG4gIGRpc3BhdGNoKGhhbmRsZU5ld1Bvc3QocG9zdCkpO1xufVxuXG5sZXQgbGFzdFRpbWVUeXBpbmdTZW50ID0gMDtcbmV4cG9ydCBmdW5jdGlvbiBlbWl0TG9jYWxVc2VyVHlwaW5nRXZlbnQoY2hhbm5lbElkOiBzdHJpbmcsIHBhcmVudFBvc3RJZDogc3RyaW5nKSB7XG4gIGNvbnN0IHVzZXJUeXBpbmcgPSBhc3luYyAoYWN0aW9uRGlzcGF0Y2g6IERpc3BhdGNoRnVuYywgYWN0aW9uR2V0U3RhdGU6IEdldFN0YXRlRnVuYykgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gYWN0aW9uR2V0U3RhdGUoKTtcbiAgICBjb25zdCBjb25maWcgPSBnZXRDb25maWcoc3RhdGUpO1xuICAgIGNvbnN0IHQgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHN0YXRzID0gZ2V0Q3VycmVudENoYW5uZWxTdGF0cyhzdGF0ZSk7XG4gICAgY29uc3QgbWVtYmVyc0luQ2hhbm5lbCA9IHN0YXRzID8gc3RhdHMubWVtYmVyX2NvdW50IDogMDtcblxuICAgIGNvbnN0IHRpbWVCZXR3ZWVuVXNlclR5cGluZ1VwZGF0ZXNNaWxsaXNlY29uZHMgPSBVdGlscy5zdHJpbmdUb051bWJlcihcbiAgICAgIGNvbmZpZy5UaW1lQmV0d2VlblVzZXJUeXBpbmdVcGRhdGVzTWlsbGlzZWNvbmRzXG4gICAgKTtcbiAgICBjb25zdCBtYXhOb3RpZmljYXRpb25zUGVyQ2hhbm5lbCA9IFV0aWxzLnN0cmluZ1RvTnVtYmVyKGNvbmZpZy5NYXhOb3RpZmljYXRpb25zUGVyQ2hhbm5lbCk7XG5cbiAgICBpZiAoXG4gICAgICB0IC0gbGFzdFRpbWVUeXBpbmdTZW50ID4gdGltZUJldHdlZW5Vc2VyVHlwaW5nVXBkYXRlc01pbGxpc2Vjb25kcyAmJlxuICAgICAgbWVtYmVyc0luQ2hhbm5lbCA8IG1heE5vdGlmaWNhdGlvbnNQZXJDaGFubmVsICYmXG4gICAgICBjb25maWcuRW5hYmxlVXNlclR5cGluZ01lc3NhZ2VzID09PSAndHJ1ZSdcbiAgICApIHtcbiAgICAgIFdlYlNvY2tldENsaWVudC51c2VyVHlwaW5nKGNoYW5uZWxJZCwgcGFyZW50UG9zdElkKTtcbiAgICAgIGxhc3RUaW1lVHlwaW5nU2VudCA9IHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtkYXRhOiB0cnVlfTtcbiAgfTtcblxuICByZXR1cm4gZGlzcGF0Y2godXNlclR5cGluZyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWl0VXNlckxvZ2dlZE91dEV2ZW50KHJlZGlyZWN0VG8gPSAnIy8nLCBzaG91bGRTaWduYWxMb2dvdXQgPSB0cnVlLCB1c2VyQWN0aW9uID0gdHJ1ZSwgaGlzdG9yeT86IGFueSkge1xuICAvLyBJZiB0aGUgbG9nb3V0IHdhcyBpbnRlbnRpb25hbCwgZGlzY2FyZCBrbm93bGVkZ2UgYWJvdXQgaGF2aW5nIHByZXZpb3VzbHkgYmVlbiBsb2dnZWQgaW4uXG4gIC8vIFRoaXMgYml0IGlzIG90aGVyd2lzZSB1c2VkIHRvIGRldGVjdCBzZXNzaW9uIGV4cGlyYXRpb25zIG9uIHRoZSBsb2dpbiBwYWdlLlxuICBpZiAodXNlckFjdGlvbikge1xuICAgIExvY2FsU3RvcmFnZVN0b3JlLnNldFdhc0xvZ2dlZEluKGZhbHNlKTtcbiAgfVxuXG4gIGlmIChyZWRpcmVjdFRvLmluZGV4T2YoJyMnKSAhPT0gMCkge1xuICAgIHJlZGlyZWN0VG8gPSBgIyR7cmVkaXJlY3RUb31gO1xuICB9XG5cbiAgZGlzcGF0Y2gobG9nb3V0KCkpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKHNob3VsZFNpZ25hbExvZ291dCkge1xuICAgICAgICBCcm93c2VyU3RvcmUuc2lnbmFsTG9nb3V0KCk7XG4gICAgICB9XG5cbiAgICAgIEJyb3dzZXJTdG9yZS5jbGVhcigpO1xuICAgICAgc3RvcFBlcmlvZGljU3RhdHVzVXBkYXRlcygpO1xuICAgICAgV2Vic29ja2V0QWN0aW9ucy5jbG9zZSgpO1xuXG4gICAgICBjbGVhclVzZXJDb29raWUoKTtcbiAgICAgIChoaXN0b3J5IHx8IGJyb3dzZXJIaXN0b3J5KS5wdXNoKHJlZGlyZWN0VG8pO1xuICAgIH0pXG4gICAgLmNhdGNoKCgpID0+IHtcbiAgICAgIChoaXN0b3J5IHx8IGJyb3dzZXJIaXN0b3J5KS5wdXNoKHJlZGlyZWN0VG8pO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlU2lkZUJhclJpZ2h0TWVudUFjdGlvbigpIHtcbiAgcmV0dXJuIChkb0Rpc3BhdGNoOiBEaXNwYXRjaEZ1bmMpID0+IHtcbiAgICBkb0Rpc3BhdGNoKGNsb3NlUmlnaHRIYW5kU2lkZSgpKTtcbiAgICBkb0Rpc3BhdGNoKGNsb3NlTGhzKCkpO1xuICAgIGRvRGlzcGF0Y2goY2xvc2VSaHNNZW51KCkpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1pdEJyb3dzZXJGb2N1cyhmb2N1czogYm9vbGVhbikge1xuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogQWN0aW9uVHlwZXMuQlJPV1NFUl9DSEFOR0VfRk9DVVMsXG4gICAgZm9jdXMsXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGVhbVJlZGlyZWN0Q2hhbm5lbElmSXNBY2Nlc2libGUodXNlcjogVXNlclByb2ZpbGUsIHRlYW06IFRlYW0pIHtcbiAgbGV0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgbGV0IGNoYW5uZWwgPSBudWxsO1xuXG4gIGNvbnN0IG15TWVtYmVyID0gZ2V0TXlUZWFtTWVtYmVyKHN0YXRlLCB0ZWFtLmlkKTtcbiAgaWYgKCFteU1lbWJlciB8fCBPYmplY3Qua2V5cyhteU1lbWJlcikubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZXQgdGVhbUNoYW5uZWxzID0gZ2V0Q2hhbm5lbHNOYW1lTWFwSW5UZWFtKHN0YXRlLCB0ZWFtLmlkKTtcbiAgaWYgKCF0ZWFtQ2hhbm5lbHMgfHwgT2JqZWN0LmtleXModGVhbUNoYW5uZWxzKS5sZW5ndGggPT09IDApIHtcbiAgICAvLyBUaGlzIHNob3VsZCBiZSBleGVjdXRlZCBpbiBwcmV0dHkgbGltaXRlZCBzY2VuYXJpb3MgKGVtcHR5IHRlYW1zKVxuICAgIGF3YWl0IGRpc3BhdGNoKGZldGNoTXlDaGFubmVsc0FuZE1lbWJlcnModGVhbS5pZCwgMCwgMjApKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hd2FpdC1pbi1sb29wXG4gICAgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIHRlYW1DaGFubmVscyA9IGdldENoYW5uZWxzTmFtZU1hcEluVGVhbShzdGF0ZSwgdGVhbS5pZCk7XG4gIH1cblxuICBjb25zdCBjaGFubmVsTmFtZSA9IExvY2FsU3RvcmFnZVN0b3JlLmdldFByZXZpb3VzQ2hhbm5lbE5hbWUodXNlci5pZCwgdGVhbS5pZCk7XG4gIGNoYW5uZWwgPSB0ZWFtQ2hhbm5lbHNbY2hhbm5lbE5hbWVdO1xuXG4gIGlmICh0eXBlb2YgY2hhbm5lbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCBkbUxpc3QgPSBnZXRBbGxEaXJlY3RDaGFubmVscyhzdGF0ZSk7XG4gICAgY2hhbm5lbCA9IGRtTGlzdC5maW5kKChkaXJlY3RDaGFubmVsKSA9PiBkaXJlY3RDaGFubmVsLm5hbWUgPT09IGNoYW5uZWxOYW1lKTtcbiAgfVxuXG4gIGxldCBjaGFubmVsTWVtYmVyOiBDaGFubmVsTWVtYmVyc2hpcCB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIGlmIChjaGFubmVsKSB7XG4gICAgY2hhbm5lbE1lbWJlciA9IGdldE15Q2hhbm5lbE1lbWJlcihzdGF0ZSwgY2hhbm5lbC5pZCk7XG4gIH1cblxuICBpZiAoIWNoYW5uZWwgfHwgIWNoYW5uZWxNZW1iZXIpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBiZSBleGVjdXRlZCBpbiBwcmV0dHkgbGltaXRlZCBzY2VuYXJpb3MgKHdoZW4gdGhlIGxhc3QgdmlzaXRlZCBjaGFubmVsIGluIHRoZSB0ZWFtIGhhcyBiZWVuIHJlbW92ZWQpXG4gICAgYXdhaXQgZGlzcGF0Y2goZ2V0Q2hhbm5lbEJ5TmFtZUFuZFRlYW1OYW1lKHRlYW0ubmFtZSwgY2hhbm5lbE5hbWUpKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hd2FpdC1pbi1sb29wXG4gICAgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIHRlYW1DaGFubmVscyA9IGdldENoYW5uZWxzTmFtZU1hcEluVGVhbShzdGF0ZSwgdGVhbS5pZCk7XG4gICAgY2hhbm5lbCA9IHRlYW1DaGFubmVsc1tjaGFubmVsTmFtZV07XG4gICAgY2hhbm5lbE1lbWJlciA9IGdldE15Q2hhbm5lbE1lbWJlcihzdGF0ZSwgY2hhbm5lbCAmJiBjaGFubmVsLmlkKTtcbiAgfVxuXG4gIGlmICghY2hhbm5lbCB8fCAhY2hhbm5lbE1lbWJlcikge1xuICAgIGNvbnN0IHJlZGlyZWN0ZWRDaGFubmVsTmFtZSA9IGdldFJlZGlyZWN0Q2hhbm5lbE5hbWVGb3JUZWFtKHN0YXRlLCB0ZWFtLmlkKTtcbiAgICBjaGFubmVsID0gdGVhbUNoYW5uZWxzW3JlZGlyZWN0ZWRDaGFubmVsTmFtZV07XG4gICAgY2hhbm5lbE1lbWJlciA9IGdldE15Q2hhbm5lbE1lbWJlcihzdGF0ZSwgY2hhbm5lbCAmJiBjaGFubmVsLmlkKTtcbiAgfVxuXG4gIGlmIChjaGFubmVsICYmIGNoYW5uZWxNZW1iZXIpIHtcbiAgICByZXR1cm4gY2hhbm5lbDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZGlyZWN0VXNlclRvRGVmYXVsdFRlYW0oaGlzdG9yeT86IGFueSkge1xuICBsZXQgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuXG4gIC8vIEFzc3VtZSB3ZSBuZWVkIHRvIGxvYWQgdGhlIHVzZXIgaWYgdGhleSBkb24ndCBoYXZlIGFueSB0ZWFtIG1lbWJlcnNoaXBzIGxvYWRlZCBvciB0aGUgdXNlciBsb2FkZWRcbiAgbGV0IHVzZXIgPSBnZXRDdXJyZW50VXNlcihzdGF0ZSk7XG4gIGNvbnN0IHNob3VsZExvYWRVc2VyID0gVXRpbHMuaXNFbXB0eU9iamVjdChnZXRUZWFtTWVtYmVyc2hpcHMoc3RhdGUpKSB8fCAhdXNlcjtcblxuICBpZiAoc2hvdWxkTG9hZFVzZXIpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgYXdhaXQgZGlzcGF0Y2gobG9hZE1lKCkpO1xuICAgIHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICB1c2VyID0gZ2V0Q3VycmVudFVzZXIoc3RhdGUpO1xuICB9XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgbG9jYWxlID0gZ2V0Q3VycmVudExvY2FsZShzdGF0ZSk7XG4gIGNvbnN0IHRlYW1JZCA9IExvY2FsU3RvcmFnZVN0b3JlLmdldFByZXZpb3VzVGVhbUlkKHVzZXIuaWQpO1xuXG4gIGxldCBteVRlYW1zID0gZ2V0TXlUZWFtcyhzdGF0ZSk7XG4gIGlmIChteVRlYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgIGdvdG8oaGlzdG9yeSB8fCBicm93c2VySGlzdG9yeSwgYC9qb2luYCwgIWhpc3RvcnkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCB0ZWFtOiBUZWFtIHwgdW5kZWZpbmVkO1xuICBpZiAodGVhbUlkKSB7XG4gICAgdGVhbSA9IGdldFRlYW0oc3RhdGUsIHRlYW1JZCk7XG4gIH1cblxuICBpZiAodGVhbSAmJiB0ZWFtLmRlbGV0ZV9hdCA9PT0gMCkge1xuICAgIGdvdG8oaGlzdG9yeSB8fCBicm93c2VySGlzdG9yeSwgYC8ke3RlYW0ubmFtZX1gLCAhaGlzdG9yeSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbXlUZWFtcyA9IGZpbHRlckFuZFNvcnRUZWFtc0J5RGlzcGxheU5hbWUobXlUZWFtcywgbG9jYWxlKTtcblxuICBmb3IgKGNvbnN0IG15VGVhbSBvZiBteVRlYW1zKSB7XG4gICAgZ290byhoaXN0b3J5IHx8IGJyb3dzZXJIaXN0b3J5LCBgLyR7bXlUZWFtLm5hbWV9YCwgIWhpc3RvcnkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGdvdG8oaGlzdG9yeSB8fCBicm93c2VySGlzdG9yeSwgJy9waWNrLXRlYW0nLCAhaGlzdG9yeSk7XG59XG5cbmZ1bmN0aW9uIGdvdG8oaDogYW55LCBwYXRoc3RyOiBzdHJpbmcsIHByZWZpeDogYm9vbGVhbikge1xuICBwYXRoc3RyID0gcHJlZml4ID8gYCMke3BhdGhzdHJ9YCA6IHBhdGhzdHI7XG4gIGgucmVwbGFjZShwYXRoc3RyKVxufSIsIi8vIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IE1hdHRlcm1vc3QsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNlZSBMSUNFTlNFLnR4dCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cblxuLy8gVXNlIHdoZW4gc29ydGluZyBtdWx0aXBsZSB0ZWFtcyBieSB0aGVpciBgZGlzcGxheV9uYW1lYCBmaWVsZFxuZnVuY3Rpb24gY29tcGFyZVRlYW1zQnlEaXNwbGF5TmFtZShsb2NhbGUsIGEsIGIpIHtcbiAgICBpZiAoYS5kaXNwbGF5X25hbWUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGEuZGlzcGxheV9uYW1lICE9PSBiLmRpc3BsYXlfbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGEuZGlzcGxheV9uYW1lLmxvY2FsZUNvbXBhcmUoYi5kaXNwbGF5X25hbWUsIGxvY2FsZSwge251bWVyaWM6IHRydWV9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUsIGxvY2FsZSwge251bWVyaWM6IHRydWV9KTtcbn1cblxuLy8gVXNlIHRvIGZpbHRlciBvdXQgdGVhbXMgdGhhdCBhcmUgZGVsZXRlZCBhbmQgd2l0aG91dCBkaXNwbGF5X25hbWUsIHRoZW4gc29ydCBieSB0aGVpciBgZGlzcGxheV9uYW1lYCBmaWVsZFxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckFuZFNvcnRUZWFtc0J5RGlzcGxheU5hbWUodGVhbXMsIGxvY2FsZSwgdGVhbXNPcmRlciA9ICcnKSB7XG4gICAgaWYgKCF0ZWFtcykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgdGVhbXNPcmRlckxpc3QgPSB0ZWFtc09yZGVyLnNwbGl0KCcsJyk7XG5cbiAgICBjb25zdCBjdXN0b21Tb3J0ZWRUZWFtcyA9IHRlYW1zLmZpbHRlcigodGVhbSkgPT4ge1xuICAgICAgICBpZiAodGVhbSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRlYW1zT3JkZXJMaXN0LmluY2x1ZGVzKHRlYW0uaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiB0ZWFtc09yZGVyTGlzdC5pbmRleE9mKGEuaWQpIC0gdGVhbXNPcmRlckxpc3QuaW5kZXhPZihiLmlkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG90aGVyVGVhbXMgPSB0ZWFtcy5maWx0ZXIoKHRlYW0pID0+IHtcbiAgICAgICAgaWYgKHRlYW0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAhdGVhbXNPcmRlckxpc3QuaW5jbHVkZXModGVhbS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVUZWFtc0J5RGlzcGxheU5hbWUobG9jYWxlLCBhLCBiKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBbLi4uY3VzdG9tU29ydGVkVGVhbXMsIC4uLm90aGVyVGVhbXNdLmZpbHRlcigodGVhbSkgPT4ge1xuICAgICAgICByZXR1cm4gdGVhbSAmJiAhdGVhbS5kZWxldGVfYXQgPiAwICYmIHRlYW0uZGlzcGxheV9uYW1lICE9IG51bGw7XG4gICAgfSk7XG59XG4iLCIvKipcbiAqIEZpbGU6IEFwcENvbnRleHQudHNcbiAqIFByb2plY3Q6IGNoYXR0aW5nLW1pbmltYWxcbiAqIEZpbGUgQ3JlYXRlZDogMDMgT2N0IDIwMjEgMTM6MjA6MzhcbiAqIEF1dGhvcjogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIExhc3QgTW9kaWZpZWQ6IDAzIE9jdCAyMDIxIDE0OjEzOjU0XG4gKiBNb2RpZmllZCBCeTogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAyMSB1bmQzZmluZWQuY29tXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5cbnR5cGUgQXBwQ29udGV4dFR5cGUgPSB7XG4gIHNldFRpdGxlOiAodGl0bGU6IHN0cmluZykgPT4gdm9pZDtcbiAgc2VsZWN0RG90OiAodHlwZTogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5jb25zdCBBcHBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxBcHBDb250ZXh0VHlwZT4oe1xuICBzZXRUaXRsZTogKCkgPT4ge30sXG4gIHNlbGVjdERvdDogKCkgPT4ge30sXG59KTtcblxuZXhwb3J0IGNvbnN0IEFwcENvbnRleHRQcm92aWRlciA9IEFwcENvbnRleHQuUHJvdmlkZXI7IFxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQXBwQ29udGV4dCgpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoQXBwQ29udGV4dClcbn0iLCIvKipcbiAqIEZpbGU6IEludGxQcm92aWRlci50c3hcbiAqIFByb2plY3Q6IGNoYXR0aW5nLW1pbmltYWxcbiAqIEZpbGUgQ3JlYXRlZDogMzAgU2VwIDIwMjEgMTA6MjA6MzlcbiAqIEF1dGhvcjogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIExhc3QgTW9kaWZpZWQ6IDMwIFNlcCAyMDIxIDE0OjQ0OjI2XG4gKiBNb2RpZmllZCBCeTogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAyMSB1bmQzZmluZWQuY29tXG4gKi9cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtJbnRsUHJvdmlkZXIgYXMgQmFzZUludGxQcm92aWRlcn0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCB7Q2xpZW50NH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvY2xpZW50JztcbmltcG9ydCB7c2V0TG9jYWxpemVGdW5jdGlvbn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvdXRpbHMvaTE4bl91dGlscyc7XG5cbmltcG9ydCAqIGFzIEkxOG4gZnJvbSAnJGkxOG4vaTE4bic7XG5pbXBvcnQge2xvY2FsaXplTWVzc2FnZX0gZnJvbSAnJHV0aWxzL3V0aWxzJztcblxuaW1wb3J0IHR5cGUge1Byb3BzLCBTdGF0ZX0gZnJvbSAnLi90eXBlcyc7XG5cbmNsYXNzIEludGxQcm92aWRlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIEluaXRpYWxpemUgYnJvd3NlcidzIGkxOG4gZGF0YVxuICAgIEkxOG4uZG9BZGRMb2NhbGVEYXRhKCk7XG5cbiAgICAvLyBQYXNzIGxvY2FsaXphdGlvbiBmdW5jdGlvbiBiYWNrIHRvIGNoYXR0aW5nLXJlZHV4XG4gICAgc2V0TG9jYWxpemVGdW5jdGlvbihsb2NhbGl6ZU1lc3NhZ2UpO1xuXG4gICAgdGhpcy5oYW5kbGVMb2NhbGVDaGFuZ2UodGhpcy5wcm9wcy5sb2NhbGUpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBpZiAocHJldlByb3BzLmxvY2FsZSAhPT0gdGhpcy5wcm9wcy5sb2NhbGUpIHtcbiAgICAgIHRoaXMuaGFuZGxlTG9jYWxlQ2hhbmdlKHRoaXMucHJvcHMubG9jYWxlKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVMb2NhbGVDaGFuZ2UgPSAobG9jYWxlOiBzdHJpbmcpID0+IHtcbiAgICBDbGllbnQ0LnNldEFjY2VwdExhbmd1YWdlKGxvY2FsZSk7XG4gICAgdGhpcy5sb2FkVHJhbnNsYXRpb25zSWZOZWNlc3NhcnkobG9jYWxlKTtcbiAgfTtcblxuICBsb2FkVHJhbnNsYXRpb25zSWZOZWNlc3NhcnkgPSAobG9jYWxlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7dHJhbnNsYXRpb25zLCBhY3Rpb25zfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAodHJhbnNsYXRpb25zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbG9jYWxlSW5mbyA9IEkxOG4uZ2V0TGFuZ3VhZ2VJbmZvKGxvY2FsZSk7XG5cbiAgICBpZiAoIWxvY2FsZUluZm8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhY3Rpb25zLmxvYWRUcmFuc2xhdGlvbnMobG9jYWxlLCBsb2NhbGVJbmZvLnVybCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtsb2NhbGUsIHRyYW5zbGF0aW9ucywgY2hpbGRyZW59ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXRyYW5zbGF0aW9ucykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxCYXNlSW50bFByb3ZpZGVyXG4gICAgICAgIGtleT17bG9jYWxlfVxuICAgICAgICBsb2NhbGU9e2xvY2FsZX1cbiAgICAgICAgbWVzc2FnZXM9e3RyYW5zbGF0aW9uc31cbiAgICAgICAgdGV4dENvbXBvbmVudD0nc3BhbidcbiAgICAgICAgd3JhcFJpY2hUZXh0Q2h1bmtzSW5GcmFnbWVudD17ZmFsc2V9XG4gICAgICA+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvQmFzZUludGxQcm92aWRlcj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEludGxQcm92aWRlcjsiLCIvKipcbiAqIEZpbGU6IGluZGV4LnRzeFxuICogUHJvamVjdDogY2hhdHRpbmctbWluaW1hbFxuICogRmlsZSBDcmVhdGVkOiAzMCBTZXAgMjAyMSAxMDoxNTo0M1xuICogQXV0aG9yOiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogTGFzdCBNb2RpZmllZDogMzAgU2VwIDIwMjEgMTA6NDc6MTlcbiAqIE1vZGlmaWVkIEJ5OiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogQ29weXJpZ2h0IChjKSAyMDIxIHVuZDNmaW5lZC5jb21cbiAqL1xuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQge2JpbmRBY3Rpb25DcmVhdG9ycywgRGlzcGF0Y2h9IGZyb20gJ3JlZHV4JztcblxuaW1wb3J0IHtHZW5lcmljQWN0aW9ufSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcbmltcG9ydCB7R2xvYmFsU3RhdGV9IGZyb20gJyR0eXBlcy9zdG9yZSc7XG5pbXBvcnQge2xvYWRUcmFuc2xhdGlvbnN9IGZyb20gJyRhY3Rpb25zL3ZpZXdzL3Jvb3QnO1xuaW1wb3J0IHtnZXRDdXJyZW50TG9jYWxlLCBnZXRUcmFuc2xhdGlvbnN9IGZyb20gJyRzZWxlY3RvcnMvaTE4bic7XG5cbmltcG9ydCB0eXBlIHtTdGF0ZVByb3BzLCBEaXNwYXRjaFByb3BzLCBPd25Qcm9wc30gZnJvbSAnLi90eXBlcyc7XG5cbmltcG9ydCBJbnRsUHJvdmlkZXIgZnJvbSAnLi9JbnRsUHJvdmlkZXInO1xuXG5mdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGU6IEdsb2JhbFN0YXRlKSB7XG4gIGNvbnN0IGxvY2FsZSA9IGdldEN1cnJlbnRMb2NhbGUoc3RhdGUpO1xuXG4gIHJldHVybiB7XG4gICAgbG9jYWxlLFxuICAgIHRyYW5zbGF0aW9uczogZ2V0VHJhbnNsYXRpb25zKHN0YXRlLCBsb2NhbGUpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2g6IERpc3BhdGNoPEdlbmVyaWNBY3Rpb24+KSB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uczogYmluZEFjdGlvbkNyZWF0b3JzKFxuICAgICAge1xuICAgICAgICBsb2FkVHJhbnNsYXRpb25zLFxuICAgICAgfSxcbiAgICAgIGRpc3BhdGNoXG4gICAgKSxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdDxTdGF0ZVByb3BzLCBEaXNwYXRjaFByb3BzLCBPd25Qcm9wcywgR2xvYmFsU3RhdGU+KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShJbnRsUHJvdmlkZXIpO1xuIiwiLyoqXG4gKiBGaWxlOiBMb2dvLnRzeFxuICogUHJvamVjdDogY2hhdHRpbmctbWluaW1hbFxuICogRmlsZSBDcmVhdGVkOiAwMiBPY3QgMjAyMSAxMToxNzo1OVxuICogQXV0aG9yOiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogTGFzdCBNb2RpZmllZDogMDIgT2N0IDIwMjEgMTE6MjA6MDVcbiAqIE1vZGlmaWVkIEJ5OiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogQ29weXJpZ2h0IChjKSAyMDIxIHVuZDNmaW5lZC5jb21cbiAqL1xuaW1wb3J0IFJlYWN0LCB7Q1NTUHJvcGVydGllc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHt1c2VJbnRsfSBmcm9tICdyZWFjdC1pbnRsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWF0dGVybW9zdExvZ28ocHJvcHM6IFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxTcGFuRWxlbWVudD4pIHtcbiAgY29uc3Qge2Zvcm1hdE1lc3NhZ2V9ID0gdXNlSW50bCgpO1xuICByZXR1cm4gKFxuICAgIDxzcGFuIHsuLi5wcm9wc30+XG4gICAgICA8c3ZnXG4gICAgICAgIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZydcbiAgICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9XG4gICAgICAgIHg9JzBweCdcbiAgICAgICAgeT0nMHB4J1xuICAgICAgICB2aWV3Qm94PScwIDAgNTEyIDUxMidcbiAgICAgICAgZW5hYmxlQmFja2dyb3VuZD0nbmV3IDAgMCA1MTIgNTEyJ1xuICAgICAgICByb2xlPSdpbWcnXG4gICAgICAgIGZpbGw9J2N1cnJlbnRDb2xvcidcbiAgICAgICAgYXJpYS1sYWJlbD17Zm9ybWF0TWVzc2FnZSh7aWQ6ICdnZW5lcmljX2ljb25zLmdvbWxvJywgZGVmYXVsdE1lc3NhZ2U6ICdHb21sbyBMb2dvJ30pfVxuICAgICAgPlxuICAgICAgICA8Zz5cbiAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgZD0nTTQxMy44NCAxMjIuNzU5QzQzMy42MTYgMTA2LjE4MSA0MzMuNTY1IDc1LjU3NiA0MTEuMDE4IDYzLjAyNjdDMzc2Ljk5MSA0NC4wODg4IDMzNy45ODYgMzEuODk1NSAyOTYuOTc1IDI3LjY2MjdDMjM4LjQwMiAyMS42MTcyIDE3OS4wOTkgMzIuMTU3IDEyOC40OTIgNTcuNjA2N0M3Ny44ODU2IDgzLjA1NjQgMzguODc5NCAxMjEuOTU2IDE3LjY3MzkgMTY4LjEyMUMtMy41MzE1NyAyMTQuMjg2IC01LjcxOTQgMjY1LjA2OSAxMS40NTgyIDMxMi4zOTZDMjguNjM1OCAzNTkuNzI0IDY0LjE5MyA0MDAuODggMTEyLjQ3OCA0MjkuMzIzQzE2MC43NjMgNDU3Ljc2NyAyMTkuMDA1IDQ3MS44NjUgMjc3Ljk0NSA0NjkuMzc3QzMzNi44ODYgNDY2Ljg4OCAzOTMuMTQzIDQ0Ny45NTcgNDM3Ljc3NSA0MTUuNTkxQzQ2OC4wMDkgMzkzLjY2NiA0OTEuNzMyIDM2Ni40MjkgNTA3LjQ0MiAzMzYuMDUxQzUxOS40ODMgMzEyLjc2NiA1MDIuMzMyIDI4Ny4xMjIgNDc2LjQ2OSAyODIuODQ2VjI4Mi44NDZDNDUyLjk1MiAyNzguOTU5IDQzMC45ODYgMjk0LjU4NSA0MTguNDI0IDMxNC44NDFDNDA4LjM4MiAzMzEuMDMzIDM5NC43MjMgMzQ1LjYwNiAzNzguMDM1IDM1Ny43MDdDMzQ4LjgwMyAzNzguOTA1IDMxMS45NTcgMzkxLjMwNSAyNzMuMzUzIDM5Mi45MzVDMjM0Ljc0OSAzOTQuNTY0IDE5Ni42MDMgMzg1LjMzIDE2NC45NzggMzY2LjcwMUMxMzMuMzUzIDM0OC4wNzIgMTEwLjA2NCAzMjEuMTE2IDk4LjgxMzQgMjkwLjExOEM4Ny41NjI3IDI1OS4xMiA4OC45OTU2IDIyNS44NiAxMDIuODg0IDE5NS42MjNDMTE2Ljc3MyAxNjUuMzg2IDE0Mi4zMjEgMTM5LjkwOSAxNzUuNDY3IDEyMy4yNEMyMDguNjEyIDEwNi41NzIgMjQ3LjQ1NCA5OS42NjgzIDI4NS44MTcgMTAzLjYyOEMzMTEuODUgMTA2LjMxNSAzMzYuNjQ4IDExMy44OTkgMzU4LjQ0MSAxMjUuNjU2QzM3Ni4xNDIgMTM1LjIwNiAzOTguNDI2IDEzNS42NzkgNDEzLjg0IDEyMi43NTlWMTIyLjc1OVonXG4gICAgICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICAgICAgZD0nTTY0LjczOTUgMzkzLjE2NUM2NC44NTg1IDM5My4yNjMgNjQuOTc3IDM5My4zNjMgNjUuMDk1IDM5My40NjRDODUuOTU1OSA0MTEuMjQ2IDgzLjE2NDUgNDUwLjk4NCA1OS45NTY0IDQ4NkMxMDYuMDg4IDQ3NS44NTIgMTY3LjYxNiA0NjkuNjU3IDIzNS4xODQgNDY5LjY1N0MyNDUuMTQyIDQ2OS42NTcgMjU0Ljk2OSA0NjkuNzkyIDI2NC42MzUgNDcwLjA1NFYzOTYuMzU3QzI1Ny4zMTggMzk4LjgzNSAyNDkuMDkyIDQwMC4yMjYgMjQwLjM5OCA0MDAuMjI2QzIyNi4yNzQgNDAwLjIyNiAyMTMuMzg4IDM5Ni41NTUgMjAzLjYyMSAzOTAuNTE3SDExNC43MDNWMzkzLjE2NUg2NC43Mzk1WidcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxlbGxpcHNlXG4gICAgICAgICAgICByeD0nNDIuMzgyNSdcbiAgICAgICAgICAgIHJ5PSc0NC4wMjYxJ1xuICAgICAgICAgICAgdHJhbnNmb3JtPSdtYXRyaXgoMC45Njg0NDUgMC4yNDkyMjggLTAuMjI5ODMxIDAuOTczMjMgNDY4LjM4NCAyMTUuMjcyKSdcbiAgICAgICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxlbGxpcHNlXG4gICAgICAgICAgICByeD0nMzQuNzY2MidcbiAgICAgICAgICAgIHJ5PSczNi4xMTQ0J1xuICAgICAgICAgICAgdHJhbnNmb3JtPSdtYXRyaXgoMC45Njg0NDUgMC4yNDkyMjggLTAuMjI5ODMxIDAuOTczMjMgMzY1Ljc4OCAyNDAuNzQ0KSdcbiAgICAgICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxlbGxpcHNlXG4gICAgICAgICAgICByeD0nMjguMjU1J1xuICAgICAgICAgICAgcnk9JzI5LjM1MDgnXG4gICAgICAgICAgICB0cmFuc2Zvcm09J21hdHJpeCgwLjk2ODQ0NSAwLjI0OTIyOCAtMC4yMjk4MzEgMC45NzMyMyAyNzYuNzIyIDI2My4wOTcpJ1xuICAgICAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvc3Bhbj5cbiAgKTtcbn1cblxuY29uc3Qgc3R5bGU6IENTU1Byb3BlcnRpZXMgPSB7XG4gIGZpbGxSdWxlOiAnZXZlbm9kZCcsXG4gIGNsaXBSdWxlOiAnZXZlbm9kZCcsXG59O1xuIiwiLyoqXG4gKiBGaWxlOiBQbHVzU29pbGQudHN4XG4gKiBQcm9qZWN0OiBjaGF0dGluZy1taW5pbWFsXG4gKiBGaWxlIENyZWF0ZWQ6IDAyIE9jdCAyMDIxIDExOjMwOjQwXG4gKiBBdXRob3I6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBMYXN0IE1vZGlmaWVkOiAwMiBPY3QgMjAyMSAxMTozMTowOVxuICogTW9kaWZpZWQgQnk6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgdW5kM2ZpbmVkLmNvbVxuICovXG5leHBvcnQgZGVmYXVsdCAocHJvcHM6IGFueSkgPT4gKFxuICA8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9IHZpZXdCb3g9JzAgMCAyMCAyMCcgZmlsbD0nY3VycmVudENvbG9yJz5cbiAgICA8cGF0aFxuICAgICAgZmlsbFJ1bGU9J2V2ZW5vZGQnXG4gICAgICBkPSdNMTAgNWExIDEgMCAwMTEgMXYzaDNhMSAxIDAgMTEwIDJoLTN2M2ExIDEgMCAxMS0yIDB2LTNINmExIDEgMCAxMTAtMmgzVjZhMSAxIDAgMDExLTF6J1xuICAgICAgY2xpcFJ1bGU9J2V2ZW5vZGQnXG4gICAgLz5cbiAgPC9zdmc+XG4pO1xuIiwiaW1wb3J0IHsgb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBhcyBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSwgZXh0ZW5kcyBhcyBfZXh0ZW5kcywgY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlIGFzIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UgfSBmcm9tICcuLi9fdmlydHVhbC9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLmpzJztcbmltcG9ydCB7IEZyYWdtZW50LCBpc1ZhbGlkRWxlbWVudCwgY2xvbmVFbGVtZW50LCBjcmVhdGVFbGVtZW50LCBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWF0Y2ggfSBmcm9tICcuL21hdGNoLmVzbS5qcyc7XG5cbnZhciBGZWF0dXJlcztcblxuKGZ1bmN0aW9uIChGZWF0dXJlcykge1xuICAvKiogTm8gZmVhdHVyZXMgYXQgYWxsICovXG4gIEZlYXR1cmVzW0ZlYXR1cmVzW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gIC8qKlxyXG4gICAqIFdoZW4gdXNlZCwgdGhpcyB3aWxsIGFsbG93IHVzIHRvIHVzZSBvbmUgb2YgdGhlIHJlbmRlciBzdHJhdGVnaWVzLlxyXG4gICAqXHJcbiAgICogKipUaGUgcmVuZGVyIHN0cmF0ZWdpZXMgYXJlOioqXHJcbiAgICogICAgLSAqKlVubW91bnQqKiAgIF8oV2lsbCB1bm1vdW50IHRoZSBjb21wb25lbnQuKV9cclxuICAgKiAgICAtICoqSGlkZGVuKiogICAgXyhXaWxsIGhpZGUgdGhlIGNvbXBvbmVudCB1c2luZyB0aGUgW2hpZGRlbl0gYXR0cmlidXRlLilfXHJcbiAgICovXG5cbiAgRmVhdHVyZXNbRmVhdHVyZXNbXCJSZW5kZXJTdHJhdGVneVwiXSA9IDFdID0gXCJSZW5kZXJTdHJhdGVneVwiO1xuICAvKipcclxuICAgKiBXaGVuIHVzZWQsIHRoaXMgd2lsbCBhbGxvdyB0aGUgdXNlciBvZiBvdXIgY29tcG9uZW50IHRvIGJlIGluIGNvbnRyb2wuIFRoaXMgY2FuIGJlIHVzZWQgd2hlblxyXG4gICAqIHlvdSB3YW50IHRvIHRyYW5zaXRpb24gYmFzZWQgb24gc29tZSBzdGF0ZS5cclxuICAgKi9cblxuICBGZWF0dXJlc1tGZWF0dXJlc1tcIlN0YXRpY1wiXSA9IDJdID0gXCJTdGF0aWNcIjtcbn0pKEZlYXR1cmVzIHx8IChGZWF0dXJlcyA9IHt9KSk7XG5cbnZhciBSZW5kZXJTdHJhdGVneTtcblxuKGZ1bmN0aW9uIChSZW5kZXJTdHJhdGVneSkge1xuICBSZW5kZXJTdHJhdGVneVtSZW5kZXJTdHJhdGVneVtcIlVubW91bnRcIl0gPSAwXSA9IFwiVW5tb3VudFwiO1xuICBSZW5kZXJTdHJhdGVneVtSZW5kZXJTdHJhdGVneVtcIkhpZGRlblwiXSA9IDFdID0gXCJIaWRkZW5cIjtcbn0pKFJlbmRlclN0cmF0ZWd5IHx8IChSZW5kZXJTdHJhdGVneSA9IHt9KSk7XG5cbmZ1bmN0aW9uIHJlbmRlcihfcmVmKSB7XG4gIHZhciBwcm9wcyA9IF9yZWYucHJvcHMsXG4gICAgICBzbG90ID0gX3JlZi5zbG90LFxuICAgICAgZGVmYXVsdFRhZyA9IF9yZWYuZGVmYXVsdFRhZyxcbiAgICAgIGZlYXR1cmVzID0gX3JlZi5mZWF0dXJlcyxcbiAgICAgIF9yZWYkdmlzaWJsZSA9IF9yZWYudmlzaWJsZSxcbiAgICAgIHZpc2libGUgPSBfcmVmJHZpc2libGUgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJHZpc2libGUsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lO1xuICAvLyBWaXNpYmxlIGFsd2F5cyByZW5kZXJcbiAgaWYgKHZpc2libGUpIHJldHVybiBfcmVuZGVyKHByb3BzLCBzbG90LCBkZWZhdWx0VGFnLCBuYW1lKTtcbiAgdmFyIGZlYXR1cmVGbGFncyA9IGZlYXR1cmVzICE9IG51bGwgPyBmZWF0dXJlcyA6IEZlYXR1cmVzLk5vbmU7XG5cbiAgaWYgKGZlYXR1cmVGbGFncyAmIEZlYXR1cmVzLlN0YXRpYykge1xuICAgIHZhciBfcHJvcHMkc3RhdGljID0gcHJvcHNbXCJzdGF0aWNcIl0sXG4gICAgICAgIGlzU3RhdGljID0gX3Byb3BzJHN0YXRpYyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkc3RhdGljLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIFtcInN0YXRpY1wiXSk7IC8vIFdoZW4gdGhlIGBzdGF0aWNgIHByb3AgaXMgcGFzc2VkIGFzIGB0cnVlYCwgdGhlbiB0aGUgdXNlciBpcyBpbiBjb250cm9sLCB0aHVzIHdlIGRvbid0IGNhcmUgYWJvdXQgYW55dGhpbmcgZWxzZVxuXG5cbiAgICBpZiAoaXNTdGF0aWMpIHJldHVybiBfcmVuZGVyKHJlc3QsIHNsb3QsIGRlZmF1bHRUYWcsIG5hbWUpO1xuICB9XG5cbiAgaWYgKGZlYXR1cmVGbGFncyAmIEZlYXR1cmVzLlJlbmRlclN0cmF0ZWd5KSB7XG4gICAgdmFyIF9tYXRjaDtcblxuICAgIHZhciBfcHJvcHMkdW5tb3VudCA9IHByb3BzLnVubW91bnQsXG4gICAgICAgIHVubW91bnQgPSBfcHJvcHMkdW5tb3VudCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyR1bm1vdW50LFxuICAgICAgICBfcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJ1bm1vdW50XCJdKTtcblxuICAgIHZhciBzdHJhdGVneSA9IHVubW91bnQgPyBSZW5kZXJTdHJhdGVneS5Vbm1vdW50IDogUmVuZGVyU3RyYXRlZ3kuSGlkZGVuO1xuICAgIHJldHVybiBtYXRjaChzdHJhdGVneSwgKF9tYXRjaCA9IHt9LCBfbWF0Y2hbUmVuZGVyU3RyYXRlZ3kuVW5tb3VudF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LCBfbWF0Y2hbUmVuZGVyU3RyYXRlZ3kuSGlkZGVuXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfcmVuZGVyKF9leHRlbmRzKHt9LCBfcmVzdCwge1xuICAgICAgICBoaWRkZW46IHRydWUsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgIH1cbiAgICAgIH0pLCBzbG90LCBkZWZhdWx0VGFnLCBuYW1lKTtcbiAgICB9LCBfbWF0Y2gpKTtcbiAgfSAvLyBObyBmZWF0dXJlcyBlbmFibGVkLCBqdXN0IHJlbmRlclxuXG5cbiAgcmV0dXJuIF9yZW5kZXIocHJvcHMsIHNsb3QsIGRlZmF1bHRUYWcsIG5hbWUpO1xufVxuXG5mdW5jdGlvbiBfcmVuZGVyKHByb3BzLCBzbG90LCB0YWcsIG5hbWUpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmIChzbG90ID09PSB2b2lkIDApIHtcbiAgICBzbG90ID0ge307XG4gIH1cblxuICB2YXIgX29taXQgPSBvbWl0KHByb3BzLCBbJ3VubW91bnQnLCAnc3RhdGljJ10pLFxuICAgICAgX29taXQkYXMgPSBfb21pdC5hcyxcbiAgICAgIENvbXBvbmVudCA9IF9vbWl0JGFzID09PSB2b2lkIDAgPyB0YWcgOiBfb21pdCRhcyxcbiAgICAgIGNoaWxkcmVuID0gX29taXQuY2hpbGRyZW4sXG4gICAgICBfb21pdCRyZWZOYW1lID0gX29taXQucmVmTmFtZSxcbiAgICAgIHJlZk5hbWUgPSBfb21pdCRyZWZOYW1lID09PSB2b2lkIDAgPyAncmVmJyA6IF9vbWl0JHJlZk5hbWUsXG4gICAgICBwYXNzVGhyb3VnaFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX29taXQsIFtcImFzXCIsIFwiY2hpbGRyZW5cIiwgXCJyZWZOYW1lXCJdKTsgLy8gVGhpcyBhbGxvd3MgdXMgdG8gdXNlIGA8SGVhZGxlc3NVSUNvbXBvbmVudCBhcz17TXlDb21wb25lbnR9IHJlZk5hbWU9XCJpbm5lclJlZlwiIC8+YFxuXG5cbiAgdmFyIHJlZlJlbGF0ZWRQcm9wcyA9IHByb3BzLnJlZiAhPT0gdW5kZWZpbmVkID8gKF9yZWYyID0ge30sIF9yZWYyW3JlZk5hbWVdID0gcHJvcHMucmVmLCBfcmVmMikgOiB7fTtcbiAgdmFyIHJlc29sdmVkQ2hpbGRyZW4gPSB0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicgPyBjaGlsZHJlbihzbG90KSA6IGNoaWxkcmVuOyAvLyBBbGxvdyBmb3IgY2xhc3NOYW1lIHRvIGJlIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2xvdCBhcyB0aGUgY29udGVudHNcblxuICBpZiAocGFzc1Rocm91Z2hQcm9wcy5jbGFzc05hbWUgJiYgdHlwZW9mIHBhc3NUaHJvdWdoUHJvcHMuY2xhc3NOYW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcGFzc1Rocm91Z2hQcm9wcy5jbGFzc05hbWUgPSBwYXNzVGhyb3VnaFByb3BzLmNsYXNzTmFtZShzbG90KTtcbiAgfVxuXG4gIGlmIChDb21wb25lbnQgPT09IEZyYWdtZW50KSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHBhc3NUaHJvdWdoUHJvcHMpLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQocmVzb2x2ZWRDaGlsZHJlbikgfHwgQXJyYXkuaXNBcnJheShyZXNvbHZlZENoaWxkcmVuKSAmJiByZXNvbHZlZENoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFsnUGFzc2luZyBwcm9wcyBvbiBcIkZyYWdtZW50XCIhJywgJycsIFwiVGhlIGN1cnJlbnQgY29tcG9uZW50IDxcIiArIG5hbWUgKyBcIiAvPiBpcyByZW5kZXJpbmcgYSBcXFwiRnJhZ21lbnRcXFwiLlwiLCBcIkhvd2V2ZXIgd2UgbmVlZCB0byBwYXNzdGhyb3VnaCB0aGUgZm9sbG93aW5nIHByb3BzOlwiLCBPYmplY3Qua2V5cyhwYXNzVGhyb3VnaFByb3BzKS5tYXAoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICByZXR1cm4gXCIgIC0gXCIgKyBsaW5lO1xuICAgICAgICB9KS5qb2luKCdcXG4nKSwgJycsICdZb3UgY2FuIGFwcGx5IGEgZmV3IHNvbHV0aW9uczonLCBbJ0FkZCBhbiBgYXM9XCIuLi5cImAgcHJvcCwgdG8gZW5zdXJlIHRoYXQgd2UgcmVuZGVyIGFuIGFjdHVhbCBlbGVtZW50IGluc3RlYWQgb2YgYSBcIkZyYWdtZW50XCIuJywgJ1JlbmRlciBhIHNpbmdsZSBlbGVtZW50IGFzIHRoZSBjaGlsZCBzbyB0aGF0IHdlIGNhbiBmb3J3YXJkIHRoZSBwcm9wcyBvbnRvIHRoYXQgZWxlbWVudC4nXS5tYXAoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICByZXR1cm4gXCIgIC0gXCIgKyBsaW5lO1xuICAgICAgICB9KS5qb2luKCdcXG4nKV0uam9pbignXFxuJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2xvbmVFbGVtZW50KHJlc29sdmVkQ2hpbGRyZW4sIE9iamVjdC5hc3NpZ24oe30sIC8vIEZpbHRlciBvdXQgdW5kZWZpbmVkIHZhbHVlcyBzbyB0aGF0IHRoZXkgZG9uJ3Qgb3ZlcnJpZGUgdGhlIGV4aXN0aW5nIHZhbHVlc1xuICAgICAgbWVyZ2VFdmVudEZ1bmN0aW9ucyhjb21wYWN0KG9taXQocGFzc1Rocm91Z2hQcm9wcywgWydyZWYnXSkpLCByZXNvbHZlZENoaWxkcmVuLnByb3BzLCBbJ29uQ2xpY2snXSksIHJlZlJlbGF0ZWRQcm9wcykpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjcmVhdGVFbGVtZW50KENvbXBvbmVudCwgT2JqZWN0LmFzc2lnbih7fSwgb21pdChwYXNzVGhyb3VnaFByb3BzLCBbJ3JlZiddKSwgQ29tcG9uZW50ICE9PSBGcmFnbWVudCAmJiByZWZSZWxhdGVkUHJvcHMpLCByZXNvbHZlZENoaWxkcmVuKTtcbn1cbi8qKlxyXG4gKiBXZSBjYW4gdXNlIHRoaXMgZnVuY3Rpb24gZm9yIHRoZSBmb2xsb3dpbmcgdXNlQ2FzZTpcclxuICpcclxuICogPE1lbnUuSXRlbT4gPGJ1dHRvbiBvbkNsaWNrPXtjb25zb2xlLmxvZ30gLz4gPC9NZW51Lkl0ZW0+XHJcbiAqXHJcbiAqIE91ciBgTWVudS5JdGVtYCB3aWxsIGhhdmUgYW4gaW50ZXJuYWwgYG9uQ2xpY2tgLCBpZiB5b3UgcGFzc3Rocm91Z2ggYW4gYG9uQ2xpY2tgIHRvIHRoZSBhY3R1YWxcclxuICogYE1lbnUuSXRlbWAgY29tcG9uZW50IHdlIHdpbGwgY2FsbCBpdCBjb3JyZWN0bHkuIEhvd2V2ZXIsIHdoZW4gd2UgaGF2ZSBhbiBgb25DbGlja2Agb24gdGhlIGFjdHVhbFxyXG4gKiBmaXJzdCBjaGlsZCwgdGhhdCBvbmUgc2hvdWxkIF9hbHNvXyBiZSBjYWxsZWQgKGJ1dCBiZWZvcmUgdGhpcyBpbXBsZW1lbnRhdGlvbiwgaXQgd2FzIGp1c3RcclxuICogb3ZlcnJpZGluZyB0aGUgYG9uQ2xpY2tgKS4gQnV0IGl0IGlzIG9ubHkgd2hlbiB3ZSAqcmVuZGVyKiB0aGF0IHdlIGhhdmUgYWNjZXNzIHRvIHRoZSBleGlzdGluZ1xyXG4gKiBwcm9wcyBvZiB0aGlzIGNvbXBvbmVudC5cclxuICpcclxuICogSXQncyBhIGJpdCBoYWNreSwgYW5kIG5vdCB0aGF0IGNsZWFuLCBidXQgaXQgaXMgc29tZXRoaW5nIGludGVybmFsIGFuZCB3ZSBoYXZlIHRlc3RzIHRvIHJlbHkgb25cclxuICogc28gdGhhdCB3ZSBjYW4gcmVmYWN0b3IgdGhpcyBsYXRlciAoaWYgbmVlZGVkKS5cclxuICovXG5cblxuZnVuY3Rpb24gbWVyZ2VFdmVudEZ1bmN0aW9ucyhwYXNzVGhyb3VnaFByb3BzLCBleGlzdGluZ1Byb3BzLCBmdW5jdGlvbnNUb01lcmdlKSB7XG4gIHZhciBjbG9uZSA9IE9iamVjdC5hc3NpZ24oe30sIHBhc3NUaHJvdWdoUHJvcHMpO1xuXG4gIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkge1xuICAgIHZhciBmdW5jID0gX3N0ZXAudmFsdWU7XG5cbiAgICBpZiAocGFzc1Rocm91Z2hQcm9wc1tmdW5jXSAhPT0gdW5kZWZpbmVkICYmIGV4aXN0aW5nUHJvcHNbZnVuY10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIF9PYmplY3QkYXNzaWduO1xuXG4gICAgICBPYmplY3QuYXNzaWduKGNsb25lLCAoX09iamVjdCRhc3NpZ24gPSB7fSwgX09iamVjdCRhc3NpZ25bZnVuY10gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gUHJvcHMgd2UgY29udHJvbFxuICAgICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHBhc3NUaHJvdWdoUHJvcHNbZnVuY10oZXZlbnQpOyAvLyBFeGlzdGluZyBwcm9wcyBvbiB0aGUgY29tcG9uZW50XG5cbiAgICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSBleGlzdGluZ1Byb3BzW2Z1bmNdKGV2ZW50KTtcbiAgICAgIH0sIF9PYmplY3QkYXNzaWduKSk7XG4gICAgfVxuICB9O1xuXG4gIGZvciAodmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UoZnVuY3Rpb25zVG9NZXJnZSksIF9zdGVwOyAhKF9zdGVwID0gX2l0ZXJhdG9yKCkpLmRvbmU7KSB7XG4gICAgX2xvb3AoKTtcbiAgfVxuXG4gIHJldHVybiBjbG9uZTtcbn1cbi8qKlxyXG4gKiBUaGlzIGlzIGEgaGFjaywgYnV0IGJhc2ljYWxseSB3ZSB3YW50IHRvIGtlZXAgdGhlIGZ1bGwgJ0FQSScgb2YgdGhlIGNvbXBvbmVudCwgYnV0IHdlIGRvIHdhbnQgdG9cclxuICogd3JhcCBpdCBpbiBhIGZvcndhcmRSZWYgc28gdGhhdCB3ZSBfY2FuXyBwYXNzdGhyb3VnaCB0aGUgcmVmXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIGZvcndhcmRSZWZXaXRoQXMoY29tcG9uZW50KSB7XG4gIHZhciBfY29tcG9uZW50JGRpc3BsYXlOYW07XG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZm9yd2FyZFJlZihjb21wb25lbnQpLCB7XG4gICAgZGlzcGxheU5hbWU6IChfY29tcG9uZW50JGRpc3BsYXlOYW0gPSBjb21wb25lbnQuZGlzcGxheU5hbWUpICE9IG51bGwgPyBfY29tcG9uZW50JGRpc3BsYXlOYW0gOiBjb21wb25lbnQubmFtZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY29tcGFjdChvYmplY3QpIHtcbiAgdmFyIGNsb25lID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqZWN0KTtcblxuICBmb3IgKHZhciBrZXkgaW4gY2xvbmUpIHtcbiAgICBpZiAoY2xvbmVba2V5XSA9PT0gdW5kZWZpbmVkKSBkZWxldGUgY2xvbmVba2V5XTtcbiAgfVxuXG4gIHJldHVybiBjbG9uZTtcbn1cblxuZnVuY3Rpb24gb21pdChvYmplY3QsIGtleXNUb09taXQpIHtcbiAgaWYgKGtleXNUb09taXQgPT09IHZvaWQgMCkge1xuICAgIGtleXNUb09taXQgPSBbXTtcbiAgfVxuXG4gIHZhciBjbG9uZSA9IE9iamVjdC5hc3NpZ24oe30sIG9iamVjdCk7XG5cbiAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2Uoa2V5c1RvT21pdCksIF9zdGVwMjsgIShfc3RlcDIgPSBfaXRlcmF0b3IyKCkpLmRvbmU7KSB7XG4gICAgdmFyIGtleSA9IF9zdGVwMi52YWx1ZTtcbiAgICBpZiAoa2V5IGluIGNsb25lKSBkZWxldGUgY2xvbmVba2V5XTtcbiAgfVxuXG4gIHJldHVybiBjbG9uZTtcbn1cblxuZXhwb3J0IHsgRmVhdHVyZXMsIFJlbmRlclN0cmF0ZWd5LCBmb3J3YXJkUmVmV2l0aEFzLCByZW5kZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlbmRlci5lc20uanMubWFwXG4iLCIvKipcbiAqIEZpbGU6IE1pbnVzU29pbGQudHN4XG4gKiBQcm9qZWN0OiBjaGF0dGluZy1taW5pbWFsXG4gKiBGaWxlIENyZWF0ZWQ6IDAyIE9jdCAyMDIxIDExOjMxOjM3XG4gKiBBdXRob3I6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBMYXN0IE1vZGlmaWVkOiAwMiBPY3QgMjAyMSAxMTozMTo1N1xuICogTW9kaWZpZWQgQnk6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgdW5kM2ZpbmVkLmNvbVxuICovXG5leHBvcnQgZGVmYXVsdCAocHJvcHM6IGFueSkgPT4gKFxuICA8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9IHZpZXdCb3g9JzAgMCAyMCAyMCcgZmlsbD0nY3VycmVudENvbG9yJz5cbiAgICA8cGF0aCBmaWxsUnVsZT0nZXZlbm9kZCcgZD0nTTUgMTBhMSAxIDAgMDExLTFoOGExIDEgMCAxMTAgMkg2YTEgMSAwIDAxLTEtMXonIGNsaXBSdWxlPSdldmVub2RkJyAvPlxuICA8L3N2Zz5cbik7XG4iLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UobywgYWxsb3dBcnJheUxpa2UpIHtcbiAgdmFyIGl0O1xuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgaWYgKGl0KSBvID0gaXQ7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHtcbiAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IG9baSsrXVxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG4gIH1cblxuICBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpO1xuICByZXR1cm4gaXQubmV4dC5iaW5kKGl0KTtcbn1cblxuZXhwb3J0IHsgX2FycmF5TGlrZVRvQXJyYXkgYXMgYXJyYXlMaWtlVG9BcnJheSwgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSBhcyBjcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UsIF9leHRlbmRzIGFzIGV4dGVuZHMsIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGFzIG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UsIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBhcyB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9X3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy5qcy5tYXBcbiIsImZ1bmN0aW9uIG1hdGNoKHZhbHVlLCBsb29rdXApIHtcbiAgaWYgKHZhbHVlIGluIGxvb2t1cCkge1xuICAgIHZhciByZXR1cm5WYWx1ZSA9IGxvb2t1cFt2YWx1ZV07XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZW9mIHJldHVyblZhbHVlID09PSAnZnVuY3Rpb24nID8gcmV0dXJuVmFsdWUuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJldHVyblZhbHVlO1xuICB9XG5cbiAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiVHJpZWQgdG8gaGFuZGxlIFxcXCJcIiArIHZhbHVlICsgXCJcXFwiIGJ1dCB0aGVyZSBpcyBubyBoYW5kbGVyIGRlZmluZWQuIE9ubHkgZGVmaW5lZCBoYW5kbGVycyBhcmU6IFwiICsgT2JqZWN0LmtleXMobG9va3VwKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBcIlxcXCJcIiArIGtleSArIFwiXFxcIlwiO1xuICB9KS5qb2luKCcsICcpICsgXCIuXCIpO1xuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGVycm9yLCBtYXRjaCk7XG4gIHRocm93IGVycm9yO1xufVxuXG5leHBvcnQgeyBtYXRjaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0Y2guZXNtLmpzLm1hcFxuIiwiLy8gVE9ETzogVGhpcyBtdXN0IGFscmVhZHkgZXhpc3Qgc29tZXdoZXJlLCByaWdodD8g8J+klFxuLy8gUmVmOiBodHRwczovL3d3dy53My5vcmcvVFIvdWlldmVudHMta2V5LyNuYW1lZC1rZXktYXR0cmlidXRlLXZhbHVlc1xudmFyIEtleXM7XG5cbihmdW5jdGlvbiAoS2V5cykge1xuICBLZXlzW1wiU3BhY2VcIl0gPSBcIiBcIjtcbiAgS2V5c1tcIkVudGVyXCJdID0gXCJFbnRlclwiO1xuICBLZXlzW1wiRXNjYXBlXCJdID0gXCJFc2NhcGVcIjtcbiAgS2V5c1tcIkJhY2tzcGFjZVwiXSA9IFwiQmFja3NwYWNlXCI7XG4gIEtleXNbXCJBcnJvd0xlZnRcIl0gPSBcIkFycm93TGVmdFwiO1xuICBLZXlzW1wiQXJyb3dVcFwiXSA9IFwiQXJyb3dVcFwiO1xuICBLZXlzW1wiQXJyb3dSaWdodFwiXSA9IFwiQXJyb3dSaWdodFwiO1xuICBLZXlzW1wiQXJyb3dEb3duXCJdID0gXCJBcnJvd0Rvd25cIjtcbiAgS2V5c1tcIkhvbWVcIl0gPSBcIkhvbWVcIjtcbiAgS2V5c1tcIkVuZFwiXSA9IFwiRW5kXCI7XG4gIEtleXNbXCJQYWdlVXBcIl0gPSBcIlBhZ2VVcFwiO1xuICBLZXlzW1wiUGFnZURvd25cIl0gPSBcIlBhZ2VEb3duXCI7XG4gIEtleXNbXCJUYWJcIl0gPSBcIlRhYlwiO1xufSkoS2V5cyB8fCAoS2V5cyA9IHt9KSk7XG5cbmV4cG9ydCB7IEtleXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtleWJvYXJkLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG52YXIgdXNlSXNvTW9ycGhpY0VmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0O1xuXG5leHBvcnQgeyB1c2VJc29Nb3JwaGljRWZmZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtaXNvLW1vcnBoaWMtZWZmZWN0LmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbnZhciBzdGF0ZSA9IHtcbiAgc2VydmVySGFuZG9mZkNvbXBsZXRlOiBmYWxzZVxufTtcbmZ1bmN0aW9uIHVzZVNlcnZlckhhbmRvZmZDb21wbGV0ZSgpIHtcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHN0YXRlLnNlcnZlckhhbmRvZmZDb21wbGV0ZSksXG4gICAgICBzZXJ2ZXJIYW5kb2ZmQ29tcGxldGUgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRTZXJ2ZXJIYW5kb2ZmQ29tcGxldGUgPSBfdXNlU3RhdGVbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc2VydmVySGFuZG9mZkNvbXBsZXRlID09PSB0cnVlKSByZXR1cm47XG4gICAgc2V0U2VydmVySGFuZG9mZkNvbXBsZXRlKHRydWUpO1xuICB9LCBbc2VydmVySGFuZG9mZkNvbXBsZXRlXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHN0YXRlLnNlcnZlckhhbmRvZmZDb21wbGV0ZSA9PT0gZmFsc2UpIHN0YXRlLnNlcnZlckhhbmRvZmZDb21wbGV0ZSA9IHRydWU7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHNlcnZlckhhbmRvZmZDb21wbGV0ZTtcbn1cblxuZXhwb3J0IHsgdXNlU2VydmVySGFuZG9mZkNvbXBsZXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2Utc2VydmVyLWhhbmRvZmYtY29tcGxldGUuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlIGFzIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UgfSBmcm9tICcuLi9fdmlydHVhbC9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLmpzJztcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gdXNlU3luY1JlZnMoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZWZzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHJlZnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgY2FjaGUgPSB1c2VSZWYocmVmcyk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgY2FjaGUuY3VycmVudCA9IHJlZnM7XG4gIH0sIFtyZWZzXSk7XG4gIHJldHVybiB1c2VDYWxsYmFjayhmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKGNhY2hlLmN1cnJlbnQpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvcigpKS5kb25lOykge1xuICAgICAgdmFyIHJlZiA9IF9zdGVwLnZhbHVlO1xuICAgICAgaWYgKHJlZiA9PSBudWxsKSBjb250aW51ZTtcbiAgICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSByZWYodmFsdWUpO2Vsc2UgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICB9XG4gIH0sIFtjYWNoZV0pO1xufVxuXG5leHBvcnQgeyB1c2VTeW5jUmVmcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlLXN5bmMtcmVmcy5lc20uanMubWFwXG4iLCIvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvNzcxMVxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMDYxMlxuLy8gU2VlOiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3JtLWNvbnRyb2wtaW5mcmFzdHJ1Y3R1cmUuaHRtbCNjb25jZXB0LWZlLWRpc2FibGVkICgyLilcbmZ1bmN0aW9uIGlzRGlzYWJsZWRSZWFjdElzc3VlNzcxMShlbGVtZW50KSB7XG4gIHZhciBfcmVmLCBfcGFyZW50O1xuXG4gIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIHZhciBsZWdlbmQgPSBudWxsO1xuXG4gIHdoaWxlIChwYXJlbnQgJiYgIShwYXJlbnQgaW5zdGFuY2VvZiBIVE1MRmllbGRTZXRFbGVtZW50KSkge1xuICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBIVE1MTGVnZW5kRWxlbWVudCkgbGVnZW5kID0gcGFyZW50O1xuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xuICB9XG5cbiAgdmFyIGlzUGFyZW50RGlzYWJsZWQgPSAoX3JlZiA9ICgoX3BhcmVudCA9IHBhcmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9wYXJlbnQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpKSA9PT0gJycpICE9IG51bGwgPyBfcmVmIDogZmFsc2U7XG4gIGlmIChpc1BhcmVudERpc2FibGVkICYmIGlzRmlyc3RMZWdlbmQobGVnZW5kKSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gaXNQYXJlbnREaXNhYmxlZDtcbn1cblxuZnVuY3Rpb24gaXNGaXJzdExlZ2VuZChlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudCkgcmV0dXJuIGZhbHNlO1xuICB2YXIgcHJldmlvdXMgPSBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cbiAgd2hpbGUgKHByZXZpb3VzICE9PSBudWxsKSB7XG4gICAgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgSFRNTExlZ2VuZEVsZW1lbnQpIHJldHVybiBmYWxzZTtcbiAgICBwcmV2aW91cyA9IHByZXZpb3VzLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IHsgaXNEaXNhYmxlZFJlYWN0SXNzdWU3NzExIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWdzLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSXNvTW9ycGhpY0VmZmVjdCB9IGZyb20gJy4vdXNlLWlzby1tb3JwaGljLWVmZmVjdC5lc20uanMnO1xuaW1wb3J0IHsgdXNlU2VydmVySGFuZG9mZkNvbXBsZXRlIH0gZnJvbSAnLi91c2Utc2VydmVyLWhhbmRvZmYtY29tcGxldGUuZXNtLmpzJztcblxuLy8gZGlkbid0IHRha2UgY2FyZSBvZiB0aGUgU3VzcGVuc2UgY2FzZS4gVG8gZml4IHRoaXMgd2UgdXNlZCB0aGUgYXBwcm9hY2ggdGhlIEByZWFjaC11aS9hdXRvLWlkXG4vLyB1c2VzLlxuLy9cbi8vIENyZWRpdHM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjaC9yZWFjaC11aS9ibG9iL2RldmVsb3AvcGFja2FnZXMvYXV0by1pZC9zcmMvaW5kZXgudHN4XG5cbnZhciBpZCA9IDA7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWQoKSB7XG4gIHJldHVybiArK2lkO1xufVxuXG5mdW5jdGlvbiB1c2VJZCgpIHtcbiAgdmFyIHJlYWR5ID0gdXNlU2VydmVySGFuZG9mZkNvbXBsZXRlKCk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHJlYWR5ID8gZ2VuZXJhdGVJZCA6IG51bGwpLFxuICAgICAgaWQgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRJZCA9IF91c2VTdGF0ZVsxXTtcblxuICB1c2VJc29Nb3JwaGljRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaWQgPT09IG51bGwpIHNldElkKGdlbmVyYXRlSWQoKSk7XG4gIH0sIFtpZF0pO1xuICByZXR1cm4gaWQgIT0gbnVsbCA/ICcnICsgaWQgOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCB7IHVzZUlkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtaWQuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIHVzZVdpbmRvd0V2ZW50KHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gIHZhciBsaXN0ZW5lclJlZiA9IHVzZVJlZihsaXN0ZW5lcik7XG4gIGxpc3RlbmVyUmVmLmN1cnJlbnQgPSBsaXN0ZW5lcjtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50KSB7XG4gICAgICBsaXN0ZW5lclJlZi5jdXJyZW50LmNhbGwod2luZG93LCBldmVudCk7XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICB9O1xuICB9LCBbdHlwZSwgb3B0aW9uc10pO1xufVxuXG5leHBvcnQgeyB1c2VXaW5kb3dFdmVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlLXdpbmRvdy1ldmVudC5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBtYXRjaCB9IGZyb20gJy4vbWF0Y2guZXNtLmpzJztcblxuLy8gIC0gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzMwNzUzODcwXG5cbnZhciBmb2N1c2FibGVTZWxlY3RvciA9IC8qI19fUFVSRV9fKi9bJ1tjb250ZW50RWRpdGFibGU9dHJ1ZV0nLCAnW3RhYmluZGV4XScsICdhW2hyZWZdJywgJ2FyZWFbaHJlZl0nLCAnYnV0dG9uOm5vdChbZGlzYWJsZWRdKScsICdpZnJhbWUnLCAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pJywgJ3NlbGVjdDpub3QoW2Rpc2FibGVkXSknLCAndGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pJ10ubWFwKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcgPyAvLyBUT0RPOiBSZW1vdmUgdGhpcyBvbmNlIEpTRE9NIGZpeGVzIHRoZSBpc3N1ZSB3aGVyZSBhbiBlbGVtZW50IHRoYXQgaXNcbi8vIFwiaGlkZGVuXCIgY2FuIGJlIHRoZSBkb2N1bWVudC5hY3RpdmVFbGVtZW50LCBiZWNhdXNlIHRoaXMgaXMgbm90IHBvc3NpYmxlXG4vLyBpbiByZWFsIGJyb3dzZXJzLlxuLy8gVE9ETzogUmVtb3ZlIHRoaXMgb25jZSBKU0RPTSBmaXhlcyB0aGUgaXNzdWUgd2hlcmUgYW4gZWxlbWVudCB0aGF0IGlzXG5mdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgcmV0dXJuIHNlbGVjdG9yICsgXCI6bm90KFt0YWJpbmRleD0nLTEnXSk6bm90KFtzdHlsZSo9J2Rpc3BsYXk6IG5vbmUnXSlcIjtcbn0gOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgcmV0dXJuIHNlbGVjdG9yICsgXCI6bm90KFt0YWJpbmRleD0nLTEnXSlcIjtcbn0pLmpvaW4oJywnKTtcbnZhciBGb2N1cztcblxuKGZ1bmN0aW9uIChGb2N1cykge1xuICAvKiogRm9jdXMgdGhlIGZpcnN0IG5vbi1kaXNhYmxlZCBlbGVtZW50ICovXG4gIEZvY3VzW0ZvY3VzW1wiRmlyc3RcIl0gPSAxXSA9IFwiRmlyc3RcIjtcbiAgLyoqIEZvY3VzIHRoZSBwcmV2aW91cyBub24tZGlzYWJsZWQgZWxlbWVudCAqL1xuXG4gIEZvY3VzW0ZvY3VzW1wiUHJldmlvdXNcIl0gPSAyXSA9IFwiUHJldmlvdXNcIjtcbiAgLyoqIEZvY3VzIHRoZSBuZXh0IG5vbi1kaXNhYmxlZCBlbGVtZW50ICovXG5cbiAgRm9jdXNbRm9jdXNbXCJOZXh0XCJdID0gNF0gPSBcIk5leHRcIjtcbiAgLyoqIEZvY3VzIHRoZSBsYXN0IG5vbi1kaXNhYmxlZCBlbGVtZW50ICovXG5cbiAgRm9jdXNbRm9jdXNbXCJMYXN0XCJdID0gOF0gPSBcIkxhc3RcIjtcbiAgLyoqIFdyYXAgdGFiIGFyb3VuZCAqL1xuXG4gIEZvY3VzW0ZvY3VzW1wiV3JhcEFyb3VuZFwiXSA9IDE2XSA9IFwiV3JhcEFyb3VuZFwiO1xuICAvKiogUHJldmVudCBzY3JvbGxpbmcgdGhlIGZvY3VzYWJsZSBlbGVtZW50cyBpbnRvIHZpZXcgKi9cblxuICBGb2N1c1tGb2N1c1tcIk5vU2Nyb2xsXCJdID0gMzJdID0gXCJOb1Njcm9sbFwiO1xufSkoRm9jdXMgfHwgKEZvY3VzID0ge30pKTtcblxudmFyIEZvY3VzUmVzdWx0O1xuXG4oZnVuY3Rpb24gKEZvY3VzUmVzdWx0KSB7XG4gIC8qKiBTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSB0cnlpbmcgdG8gZm9jdXMuICovXG4gIEZvY3VzUmVzdWx0W0ZvY3VzUmVzdWx0W1wiRXJyb3JcIl0gPSAwXSA9IFwiRXJyb3JcIjtcbiAgLyoqIFdoZW4gYEZvY3VzLldyYXBBcm91bmRgIGlzIGVuYWJsZWQsIGdvaW5nIGZyb20gcG9zaXRpb24gYE5gIHRvIGBOKzFgIHdoZXJlIGBOYCBpcyB0aGUgbGFzdCBpbmRleCBpbiB0aGUgYXJyYXksIHRoZW4gd2Ugb3ZlcmZsb3cuICovXG5cbiAgRm9jdXNSZXN1bHRbRm9jdXNSZXN1bHRbXCJPdmVyZmxvd1wiXSA9IDFdID0gXCJPdmVyZmxvd1wiO1xuICAvKiogRm9jdXMgd2FzIHN1Y2Nlc3NmdWwuICovXG5cbiAgRm9jdXNSZXN1bHRbRm9jdXNSZXN1bHRbXCJTdWNjZXNzXCJdID0gMl0gPSBcIlN1Y2Nlc3NcIjtcbiAgLyoqIFdoZW4gYEZvY3VzLldyYXBBcm91bmRgIGlzIGVuYWJsZWQsIGdvaW5nIGZyb20gcG9zaXRpb24gYE5gIHRvIGBOLTFgIHdoZXJlIGBOYCBpcyB0aGUgZmlyc3QgaW5kZXggaW4gdGhlIGFycmF5LCB0aGVuIHdlIHVuZGVyZmxvdy4gKi9cblxuICBGb2N1c1Jlc3VsdFtGb2N1c1Jlc3VsdFtcIlVuZGVyZmxvd1wiXSA9IDNdID0gXCJVbmRlcmZsb3dcIjtcbn0pKEZvY3VzUmVzdWx0IHx8IChGb2N1c1Jlc3VsdCA9IHt9KSk7XG5cbnZhciBEaXJlY3Rpb247XG5cbihmdW5jdGlvbiAoRGlyZWN0aW9uKSB7XG4gIERpcmVjdGlvbltEaXJlY3Rpb25bXCJQcmV2aW91c1wiXSA9IC0xXSA9IFwiUHJldmlvdXNcIjtcbiAgRGlyZWN0aW9uW0RpcmVjdGlvbltcIk5leHRcIl0gPSAxXSA9IFwiTmV4dFwiO1xufSkoRGlyZWN0aW9uIHx8IChEaXJlY3Rpb24gPSB7fSkpO1xuXG5mdW5jdGlvbiBnZXRGb2N1c2FibGVFbGVtZW50cyhjb250YWluZXIpIHtcbiAgaWYgKGNvbnRhaW5lciA9PT0gdm9pZCAwKSB7XG4gICAgY29udGFpbmVyID0gZG9jdW1lbnQuYm9keTtcbiAgfVxuXG4gIGlmIChjb250YWluZXIgPT0gbnVsbCkgcmV0dXJuIFtdO1xuICByZXR1cm4gQXJyYXkuZnJvbShjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChmb2N1c2FibGVTZWxlY3RvcikpO1xufVxudmFyIEZvY3VzYWJsZU1vZGU7XG5cbihmdW5jdGlvbiAoRm9jdXNhYmxlTW9kZSkge1xuICAvKiogVGhlIGVsZW1lbnQgaXRzZWxmIG11c3QgYmUgZm9jdXNhYmxlLiAqL1xuICBGb2N1c2FibGVNb2RlW0ZvY3VzYWJsZU1vZGVbXCJTdHJpY3RcIl0gPSAwXSA9IFwiU3RyaWN0XCI7XG4gIC8qKiBUaGUgZWxlbWVudCBzaG91bGQgYmUgaW5zaWRlIG9mIGEgZm9jdXNhYmxlIGVsZW1lbnQuICovXG5cbiAgRm9jdXNhYmxlTW9kZVtGb2N1c2FibGVNb2RlW1wiTG9vc2VcIl0gPSAxXSA9IFwiTG9vc2VcIjtcbn0pKEZvY3VzYWJsZU1vZGUgfHwgKEZvY3VzYWJsZU1vZGUgPSB7fSkpO1xuXG5mdW5jdGlvbiBpc0ZvY3VzYWJsZUVsZW1lbnQoZWxlbWVudCwgbW9kZSkge1xuICB2YXIgX21hdGNoO1xuXG4gIGlmIChtb2RlID09PSB2b2lkIDApIHtcbiAgICBtb2RlID0gRm9jdXNhYmxlTW9kZS5TdHJpY3Q7XG4gIH1cblxuICBpZiAoZWxlbWVudCA9PT0gZG9jdW1lbnQuYm9keSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gbWF0Y2gobW9kZSwgKF9tYXRjaCA9IHt9LCBfbWF0Y2hbRm9jdXNhYmxlTW9kZS5TdHJpY3RdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBlbGVtZW50Lm1hdGNoZXMoZm9jdXNhYmxlU2VsZWN0b3IpO1xuICB9LCBfbWF0Y2hbRm9jdXNhYmxlTW9kZS5Mb29zZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5leHQgPSBlbGVtZW50O1xuXG4gICAgd2hpbGUgKG5leHQgIT09IG51bGwpIHtcbiAgICAgIGlmIChuZXh0Lm1hdGNoZXMoZm9jdXNhYmxlU2VsZWN0b3IpKSByZXR1cm4gdHJ1ZTtcbiAgICAgIG5leHQgPSBuZXh0LnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LCBfbWF0Y2gpKTtcbn1cbmZ1bmN0aW9uIGZvY3VzRWxlbWVudChlbGVtZW50KSB7XG4gIGVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGVsZW1lbnQuZm9jdXMoe1xuICAgIHByZXZlbnRTY3JvbGw6IHRydWVcbiAgfSk7XG59XG5mdW5jdGlvbiBmb2N1c0luKGNvbnRhaW5lciwgZm9jdXMpIHtcbiAgdmFyIGVsZW1lbnRzID0gQXJyYXkuaXNBcnJheShjb250YWluZXIpID8gY29udGFpbmVyIDogZ2V0Rm9jdXNhYmxlRWxlbWVudHMoY29udGFpbmVyKTtcbiAgdmFyIGFjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgdmFyIGRpcmVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZm9jdXMgJiAoRm9jdXMuRmlyc3QgfCBGb2N1cy5OZXh0KSkgcmV0dXJuIERpcmVjdGlvbi5OZXh0O1xuICAgIGlmIChmb2N1cyAmIChGb2N1cy5QcmV2aW91cyB8IEZvY3VzLkxhc3QpKSByZXR1cm4gRGlyZWN0aW9uLlByZXZpb3VzO1xuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBGb2N1cy5GaXJzdCwgRm9jdXMuUHJldmlvdXMsIEZvY3VzLk5leHQgb3IgRm9jdXMuTGFzdCcpO1xuICB9KCk7XG5cbiAgdmFyIHN0YXJ0SW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGZvY3VzICYgRm9jdXMuRmlyc3QpIHJldHVybiAwO1xuICAgIGlmIChmb2N1cyAmIEZvY3VzLlByZXZpb3VzKSByZXR1cm4gTWF0aC5tYXgoMCwgZWxlbWVudHMuaW5kZXhPZihhY3RpdmUpKSAtIDE7XG4gICAgaWYgKGZvY3VzICYgRm9jdXMuTmV4dCkgcmV0dXJuIE1hdGgubWF4KDAsIGVsZW1lbnRzLmluZGV4T2YoYWN0aXZlKSkgKyAxO1xuICAgIGlmIChmb2N1cyAmIEZvY3VzLkxhc3QpIHJldHVybiBlbGVtZW50cy5sZW5ndGggLSAxO1xuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBGb2N1cy5GaXJzdCwgRm9jdXMuUHJldmlvdXMsIEZvY3VzLk5leHQgb3IgRm9jdXMuTGFzdCcpO1xuICB9KCk7XG5cbiAgdmFyIGZvY3VzT3B0aW9ucyA9IGZvY3VzICYgRm9jdXMuTm9TY3JvbGwgPyB7XG4gICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICB9IDoge307XG4gIHZhciBvZmZzZXQgPSAwO1xuICB2YXIgdG90YWwgPSBlbGVtZW50cy5sZW5ndGg7XG4gIHZhciBuZXh0ID0gdW5kZWZpbmVkO1xuXG4gIGRvIHtcbiAgICB2YXIgX25leHQ7XG5cbiAgICAvLyBHdWFyZCBhZ2FpbnN0IGluZmluaXRlIGxvb3BzXG4gICAgaWYgKG9mZnNldCA+PSB0b3RhbCB8fCBvZmZzZXQgKyB0b3RhbCA8PSAwKSByZXR1cm4gRm9jdXNSZXN1bHQuRXJyb3I7XG4gICAgdmFyIG5leHRJZHggPSBzdGFydEluZGV4ICsgb2Zmc2V0O1xuXG4gICAgaWYgKGZvY3VzICYgRm9jdXMuV3JhcEFyb3VuZCkge1xuICAgICAgbmV4dElkeCA9IChuZXh0SWR4ICsgdG90YWwpICUgdG90YWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChuZXh0SWR4IDwgMCkgcmV0dXJuIEZvY3VzUmVzdWx0LlVuZGVyZmxvdztcbiAgICAgIGlmIChuZXh0SWR4ID49IHRvdGFsKSByZXR1cm4gRm9jdXNSZXN1bHQuT3ZlcmZsb3c7XG4gICAgfVxuXG4gICAgbmV4dCA9IGVsZW1lbnRzW25leHRJZHhdOyAvLyBUcnkgdGhlIGZvY3VzIHRoZSBuZXh0IGVsZW1lbnQsIG1pZ2h0IG5vdCB3b3JrIGlmIGl0IGlzIFwiaGlkZGVuXCIgdG8gdGhlIHVzZXIuXG5cbiAgICAoX25leHQgPSBuZXh0KSA9PSBudWxsID8gdm9pZCAwIDogX25leHQuZm9jdXMoZm9jdXNPcHRpb25zKTsgLy8gVHJ5IHRoZSBuZXh0IG9uZSBpbiBsaW5lXG5cbiAgICBvZmZzZXQgKz0gZGlyZWN0aW9uO1xuICB9IHdoaWxlIChuZXh0ICE9PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KTsgLy8gVGhpcyBpcyBhIGxpdHRsZSB3ZWlyZCwgYnV0IGxldCBtZSB0cnkgYW5kIGV4cGxhaW46IFRoZXJlIGFyZSBhIGZldyBzY2VuYXJpbydzXG4gIC8vIGluIGNocm9tZSBmb3IgZXhhbXBsZSB3aGVyZSBhIGZvY3VzZWQgYDxhPmAgdGFnIGRvZXMgbm90IGdldCB0aGUgZGVmYXVsdCBmb2N1c1xuICAvLyBzdHlsZXMgYW5kIHNvbWV0aW1lcyB0aGV5IGRvLiBUaGlzIGhpZ2hseSBkZXBlbmRzIG9uIHdoZXRoZXIgeW91IHN0YXJ0ZWQgYnlcbiAgLy8gY2xpY2tpbmcgb3IgYnkgdXNpbmcgeW91ciBrZXlib2FyZC4gV2hlbiB5b3UgcHJvZ3JhbW1hdGljYWxseSBhZGQgZm9jdXMgYGFuY2hvci5mb2N1cygpYFxuICAvLyB0aGVuIHRoZSBhY3RpdmUgZWxlbWVudCAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgaXMgdGhpcyBhbmNob3IsIHdoaWNoIGlzIGV4cGVjdGVkLlxuICAvLyBIb3dldmVyIGluIHRoYXQgY2FzZSB0aGUgZGVmYXVsdCBmb2N1cyBzdHlsZXMgYXJlIG5vdCBhcHBsaWVkICp1bmxlc3MqIHlvdVxuICAvLyBhbHNvIGFkZCB0aGlzIHRhYmluZGV4LlxuXG5cbiAgaWYgKCFuZXh0Lmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSkgbmV4dC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgcmV0dXJuIEZvY3VzUmVzdWx0LlN1Y2Nlc3M7XG59XG5cbmV4cG9ydCB7IEZvY3VzLCBGb2N1c1Jlc3VsdCwgRm9jdXNhYmxlTW9kZSwgZm9jdXNFbGVtZW50LCBmb2N1c0luLCBnZXRGb2N1c2FibGVFbGVtZW50cywgaXNGb2N1c2FibGVFbGVtZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb2N1cy1tYW5hZ2VtZW50LmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiB1c2VJc01vdW50ZWQoKSB7XG4gIHZhciBtb3VudGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBtb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBtb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiBtb3VudGVkO1xufVxuXG5leHBvcnQgeyB1c2VJc01vdW50ZWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS1pcy1tb3VudGVkLmVzbS5qcy5tYXBcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuXG52YXIgQ29udGV4dCA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KG51bGwpO1xuQ29udGV4dC5kaXNwbGF5TmFtZSA9ICdPcGVuQ2xvc2VkQ29udGV4dCc7XG52YXIgU3RhdGU7XG5cbihmdW5jdGlvbiAoU3RhdGUpIHtcbiAgU3RhdGVbU3RhdGVbXCJPcGVuXCJdID0gMF0gPSBcIk9wZW5cIjtcbiAgU3RhdGVbU3RhdGVbXCJDbG9zZWRcIl0gPSAxXSA9IFwiQ2xvc2VkXCI7XG59KShTdGF0ZSB8fCAoU3RhdGUgPSB7fSkpO1xuXG5mdW5jdGlvbiB1c2VPcGVuQ2xvc2VkKCkge1xuICByZXR1cm4gdXNlQ29udGV4dChDb250ZXh0KTtcbn1cbmZ1bmN0aW9uIE9wZW5DbG9zZWRQcm92aWRlcihfcmVmKSB7XG4gIHZhciB2YWx1ZSA9IF9yZWYudmFsdWUsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogdmFsdWVcbiAgfSwgY2hpbGRyZW4pO1xufVxuXG5leHBvcnQgeyBPcGVuQ2xvc2VkUHJvdmlkZXIsIFN0YXRlLCB1c2VPcGVuQ2xvc2VkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGVuLWNsb3NlZC5lc20uanMubWFwXG4iLCJmdW5jdGlvbiBhc3NlcnROZXZlcih4KSB7XG4gIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBvYmplY3Q6ICcgKyB4KTtcbn1cblxudmFyIEZvY3VzO1xuXG4oZnVuY3Rpb24gKEZvY3VzKSB7XG4gIC8qKiBGb2N1cyB0aGUgZmlyc3Qgbm9uLWRpc2FibGVkIGl0ZW0uICovXG4gIEZvY3VzW0ZvY3VzW1wiRmlyc3RcIl0gPSAwXSA9IFwiRmlyc3RcIjtcbiAgLyoqIEZvY3VzIHRoZSBwcmV2aW91cyBub24tZGlzYWJsZWQgaXRlbS4gKi9cblxuICBGb2N1c1tGb2N1c1tcIlByZXZpb3VzXCJdID0gMV0gPSBcIlByZXZpb3VzXCI7XG4gIC8qKiBGb2N1cyB0aGUgbmV4dCBub24tZGlzYWJsZWQgaXRlbS4gKi9cblxuICBGb2N1c1tGb2N1c1tcIk5leHRcIl0gPSAyXSA9IFwiTmV4dFwiO1xuICAvKiogRm9jdXMgdGhlIGxhc3Qgbm9uLWRpc2FibGVkIGl0ZW0uICovXG5cbiAgRm9jdXNbRm9jdXNbXCJMYXN0XCJdID0gM10gPSBcIkxhc3RcIjtcbiAgLyoqIEZvY3VzIGEgc3BlY2lmaWMgaXRlbSBiYXNlZCBvbiB0aGUgYGlkYCBvZiB0aGUgaXRlbS4gKi9cblxuICBGb2N1c1tGb2N1c1tcIlNwZWNpZmljXCJdID0gNF0gPSBcIlNwZWNpZmljXCI7XG4gIC8qKiBGb2N1cyBubyBpdGVtcyBhdCBhbGwuICovXG5cbiAgRm9jdXNbRm9jdXNbXCJOb3RoaW5nXCJdID0gNV0gPSBcIk5vdGhpbmdcIjtcbn0pKEZvY3VzIHx8IChGb2N1cyA9IHt9KSk7XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZUFjdGl2ZUluZGV4KGFjdGlvbiwgcmVzb2x2ZXJzKSB7XG4gIHZhciBpdGVtcyA9IHJlc29sdmVycy5yZXNvbHZlSXRlbXMoKTtcbiAgaWYgKGl0ZW1zLmxlbmd0aCA8PSAwKSByZXR1cm4gbnVsbDtcbiAgdmFyIGN1cnJlbnRBY3RpdmVJbmRleCA9IHJlc29sdmVycy5yZXNvbHZlQWN0aXZlSW5kZXgoKTtcbiAgdmFyIGFjdGl2ZUluZGV4ID0gY3VycmVudEFjdGl2ZUluZGV4ICE9IG51bGwgPyBjdXJyZW50QWN0aXZlSW5kZXggOiAtMTtcblxuICB2YXIgbmV4dEFjdGl2ZUluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgIHN3aXRjaCAoYWN0aW9uLmZvY3VzKSB7XG4gICAgICBjYXNlIEZvY3VzLkZpcnN0OlxuICAgICAgICByZXR1cm4gaXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuICFyZXNvbHZlcnMucmVzb2x2ZURpc2FibGVkKGl0ZW0pO1xuICAgICAgICB9KTtcblxuICAgICAgY2FzZSBGb2N1cy5QcmV2aW91czpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBpZHggPSBpdGVtcy5zbGljZSgpLnJldmVyc2UoKS5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0sIGlkeCwgYWxsKSB7XG4gICAgICAgICAgICBpZiAoYWN0aXZlSW5kZXggIT09IC0xICYmIGFsbC5sZW5ndGggLSBpZHggLSAxID49IGFjdGl2ZUluZGV4KSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gIXJlc29sdmVycy5yZXNvbHZlRGlzYWJsZWQoaXRlbSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHJldHVybiBpZHg7XG4gICAgICAgICAgcmV0dXJuIGl0ZW1zLmxlbmd0aCAtIDEgLSBpZHg7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBGb2N1cy5OZXh0OlxuICAgICAgICByZXR1cm4gaXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtLCBpZHgpIHtcbiAgICAgICAgICBpZiAoaWR4IDw9IGFjdGl2ZUluZGV4KSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuICFyZXNvbHZlcnMucmVzb2x2ZURpc2FibGVkKGl0ZW0pO1xuICAgICAgICB9KTtcblxuICAgICAgY2FzZSBGb2N1cy5MYXN0OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF9pZHggPSBpdGVtcy5zbGljZSgpLnJldmVyc2UoKS5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiAhcmVzb2x2ZXJzLnJlc29sdmVEaXNhYmxlZChpdGVtKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChfaWR4ID09PSAtMSkgcmV0dXJuIF9pZHg7XG4gICAgICAgICAgcmV0dXJuIGl0ZW1zLmxlbmd0aCAtIDEgLSBfaWR4O1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgRm9jdXMuU3BlY2lmaWM6XG4gICAgICAgIHJldHVybiBpdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZXJzLnJlc29sdmVJZChpdGVtKSA9PT0gYWN0aW9uLmlkO1xuICAgICAgICB9KTtcblxuICAgICAgY2FzZSBGb2N1cy5Ob3RoaW5nOlxuICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXNzZXJ0TmV2ZXIoYWN0aW9uKTtcbiAgICB9XG4gIH0oKTtcblxuICByZXR1cm4gbmV4dEFjdGl2ZUluZGV4ID09PSAtMSA/IGN1cnJlbnRBY3RpdmVJbmRleCA6IG5leHRBY3RpdmVJbmRleDtcbn1cblxuZXhwb3J0IHsgRm9jdXMsIGNhbGN1bGF0ZUFjdGl2ZUluZGV4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxjdWxhdGUtYWN0aXZlLWluZGV4LmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuZHMgYXMgX2V4dGVuZHMsIG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgYXMgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgfSBmcm9tICcuLi8uLi9fdmlydHVhbC9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLmpzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VSZWR1Y2VyLCBjcmVhdGVSZWYsIHVzZU1lbW8sIGNyZWF0ZUNvbnRleHQsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ29udGV4dCwgRnJhZ21lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtYXRjaCB9IGZyb20gJy4uLy4uL3V0aWxzL21hdGNoLmVzbS5qcyc7XG5pbXBvcnQgeyByZW5kZXIsIGZvcndhcmRSZWZXaXRoQXMsIEZlYXR1cmVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVuZGVyLmVzbS5qcyc7XG5pbXBvcnQgeyB1c2VTeW5jUmVmcyB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZS1zeW5jLXJlZnMuZXNtLmpzJztcbmltcG9ydCB7IEtleXMgfSBmcm9tICcuLi9rZXlib2FyZC5lc20uanMnO1xuaW1wb3J0IHsgaXNEaXNhYmxlZFJlYWN0SXNzdWU3NzExIH0gZnJvbSAnLi4vLi4vdXRpbHMvYnVncy5lc20uanMnO1xuaW1wb3J0IHsgdXNlSXNvTW9ycGhpY0VmZmVjdCB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZS1pc28tbW9ycGhpYy1lZmZlY3QuZXNtLmpzJztcbmltcG9ydCB7IHVzZUlkIH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlLWlkLmVzbS5qcyc7XG5pbXBvcnQgeyBpc0ZvY3VzYWJsZUVsZW1lbnQsIEZvY3VzYWJsZU1vZGUgfSBmcm9tICcuLi8uLi91dGlscy9mb2N1cy1tYW5hZ2VtZW50LmVzbS5qcyc7XG5pbXBvcnQgeyB1c2VXaW5kb3dFdmVudCB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZS13aW5kb3ctZXZlbnQuZXNtLmpzJztcbmltcG9ydCB7IE9wZW5DbG9zZWRQcm92aWRlciwgU3RhdGUsIHVzZU9wZW5DbG9zZWQgfSBmcm9tICcuLi8uLi9pbnRlcm5hbC9vcGVuLWNsb3NlZC5lc20uanMnO1xuaW1wb3J0IHsgdXNlUmVzb2x2ZUJ1dHRvblR5cGUgfSBmcm9tICcuLi8uLi9ob29rcy91c2UtcmVzb2x2ZS1idXR0b24tdHlwZS5lc20uanMnO1xuaW1wb3J0IHsgZGlzcG9zYWJsZXMgfSBmcm9tICcuLi8uLi91dGlscy9kaXNwb3NhYmxlcy5lc20uanMnO1xuaW1wb3J0IHsgdXNlRGlzcG9zYWJsZXMgfSBmcm9tICcuLi8uLi9ob29rcy91c2UtZGlzcG9zYWJsZXMuZXNtLmpzJztcbmltcG9ydCB7IGNhbGN1bGF0ZUFjdGl2ZUluZGV4LCBGb2N1cyB9IGZyb20gJy4uLy4uL3V0aWxzL2NhbGN1bGF0ZS1hY3RpdmUtaW5kZXguZXNtLmpzJztcbmltcG9ydCB7IHVzZVRyZWVXYWxrZXIgfSBmcm9tICcuLi8uLi9ob29rcy91c2UtdHJlZS13YWxrZXIuZXNtLmpzJztcblxudmFyIF9yZWR1Y2VycztcbnZhciBNZW51U3RhdGVzO1xuXG4oZnVuY3Rpb24gKE1lbnVTdGF0ZXMpIHtcbiAgTWVudVN0YXRlc1tNZW51U3RhdGVzW1wiT3BlblwiXSA9IDBdID0gXCJPcGVuXCI7XG4gIE1lbnVTdGF0ZXNbTWVudVN0YXRlc1tcIkNsb3NlZFwiXSA9IDFdID0gXCJDbG9zZWRcIjtcbn0pKE1lbnVTdGF0ZXMgfHwgKE1lbnVTdGF0ZXMgPSB7fSkpO1xuXG52YXIgQWN0aW9uVHlwZXM7XG5cbihmdW5jdGlvbiAoQWN0aW9uVHlwZXMpIHtcbiAgQWN0aW9uVHlwZXNbQWN0aW9uVHlwZXNbXCJPcGVuTWVudVwiXSA9IDBdID0gXCJPcGVuTWVudVwiO1xuICBBY3Rpb25UeXBlc1tBY3Rpb25UeXBlc1tcIkNsb3NlTWVudVwiXSA9IDFdID0gXCJDbG9zZU1lbnVcIjtcbiAgQWN0aW9uVHlwZXNbQWN0aW9uVHlwZXNbXCJHb1RvSXRlbVwiXSA9IDJdID0gXCJHb1RvSXRlbVwiO1xuICBBY3Rpb25UeXBlc1tBY3Rpb25UeXBlc1tcIlNlYXJjaFwiXSA9IDNdID0gXCJTZWFyY2hcIjtcbiAgQWN0aW9uVHlwZXNbQWN0aW9uVHlwZXNbXCJDbGVhclNlYXJjaFwiXSA9IDRdID0gXCJDbGVhclNlYXJjaFwiO1xuICBBY3Rpb25UeXBlc1tBY3Rpb25UeXBlc1tcIlJlZ2lzdGVySXRlbVwiXSA9IDVdID0gXCJSZWdpc3Rlckl0ZW1cIjtcbiAgQWN0aW9uVHlwZXNbQWN0aW9uVHlwZXNbXCJVbnJlZ2lzdGVySXRlbVwiXSA9IDZdID0gXCJVbnJlZ2lzdGVySXRlbVwiO1xufSkoQWN0aW9uVHlwZXMgfHwgKEFjdGlvblR5cGVzID0ge30pKTtcblxudmFyIHJlZHVjZXJzID0gKF9yZWR1Y2VycyA9IHt9LCBfcmVkdWNlcnNbQWN0aW9uVHlwZXMuQ2xvc2VNZW51XSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICBpZiAoc3RhdGUubWVudVN0YXRlID09PSBNZW51U3RhdGVzLkNsb3NlZCkgcmV0dXJuIHN0YXRlO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgYWN0aXZlSXRlbUluZGV4OiBudWxsLFxuICAgIG1lbnVTdGF0ZTogTWVudVN0YXRlcy5DbG9zZWRcbiAgfSk7XG59LCBfcmVkdWNlcnNbQWN0aW9uVHlwZXMuT3Blbk1lbnVdID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5tZW51U3RhdGUgPT09IE1lbnVTdGF0ZXMuT3BlbikgcmV0dXJuIHN0YXRlO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgbWVudVN0YXRlOiBNZW51U3RhdGVzLk9wZW5cbiAgfSk7XG59LCBfcmVkdWNlcnNbQWN0aW9uVHlwZXMuR29Ub0l0ZW1dID0gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgdmFyIGFjdGl2ZUl0ZW1JbmRleCA9IGNhbGN1bGF0ZUFjdGl2ZUluZGV4KGFjdGlvbiwge1xuICAgIHJlc29sdmVJdGVtczogZnVuY3Rpb24gcmVzb2x2ZUl0ZW1zKCkge1xuICAgICAgcmV0dXJuIHN0YXRlLml0ZW1zO1xuICAgIH0sXG4gICAgcmVzb2x2ZUFjdGl2ZUluZGV4OiBmdW5jdGlvbiByZXNvbHZlQWN0aXZlSW5kZXgoKSB7XG4gICAgICByZXR1cm4gc3RhdGUuYWN0aXZlSXRlbUluZGV4O1xuICAgIH0sXG4gICAgcmVzb2x2ZUlkOiBmdW5jdGlvbiByZXNvbHZlSWQoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uaWQ7XG4gICAgfSxcbiAgICByZXNvbHZlRGlzYWJsZWQ6IGZ1bmN0aW9uIHJlc29sdmVEaXNhYmxlZChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5kYXRhUmVmLmN1cnJlbnQuZGlzYWJsZWQ7XG4gICAgfVxuICB9KTtcbiAgaWYgKHN0YXRlLnNlYXJjaFF1ZXJ5ID09PSAnJyAmJiBzdGF0ZS5hY3RpdmVJdGVtSW5kZXggPT09IGFjdGl2ZUl0ZW1JbmRleCkgcmV0dXJuIHN0YXRlO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgc2VhcmNoUXVlcnk6ICcnLFxuICAgIGFjdGl2ZUl0ZW1JbmRleDogYWN0aXZlSXRlbUluZGV4XG4gIH0pO1xufSwgX3JlZHVjZXJzW0FjdGlvblR5cGVzLlNlYXJjaF0gPSBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICB2YXIgc2VhcmNoUXVlcnkgPSBzdGF0ZS5zZWFyY2hRdWVyeSArIGFjdGlvbi52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICB2YXIgbWF0Y2ggPSBzdGF0ZS5pdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICB2YXIgX2l0ZW0kZGF0YVJlZiRjdXJyZW50O1xuXG4gICAgcmV0dXJuICgoX2l0ZW0kZGF0YVJlZiRjdXJyZW50ID0gaXRlbS5kYXRhUmVmLmN1cnJlbnQudGV4dFZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2l0ZW0kZGF0YVJlZiRjdXJyZW50LnN0YXJ0c1dpdGgoc2VhcmNoUXVlcnkpKSAmJiAhaXRlbS5kYXRhUmVmLmN1cnJlbnQuZGlzYWJsZWQ7XG4gIH0pO1xuICBpZiAobWF0Y2ggPT09IC0xIHx8IG1hdGNoID09PSBzdGF0ZS5hY3RpdmVJdGVtSW5kZXgpIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnlcbiAgfSk7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnksXG4gICAgYWN0aXZlSXRlbUluZGV4OiBtYXRjaFxuICB9KTtcbn0sIF9yZWR1Y2Vyc1tBY3Rpb25UeXBlcy5DbGVhclNlYXJjaF0gPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgaWYgKHN0YXRlLnNlYXJjaFF1ZXJ5ID09PSAnJykgcmV0dXJuIHN0YXRlO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgc2VhcmNoUXVlcnk6ICcnXG4gIH0pO1xufSwgX3JlZHVjZXJzW0FjdGlvblR5cGVzLlJlZ2lzdGVySXRlbV0gPSBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgaXRlbXM6IFtdLmNvbmNhdChzdGF0ZS5pdGVtcywgW3tcbiAgICAgIGlkOiBhY3Rpb24uaWQsXG4gICAgICBkYXRhUmVmOiBhY3Rpb24uZGF0YVJlZlxuICAgIH1dKVxuICB9KTtcbn0sIF9yZWR1Y2Vyc1tBY3Rpb25UeXBlcy5VbnJlZ2lzdGVySXRlbV0gPSBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICB2YXIgbmV4dEl0ZW1zID0gc3RhdGUuaXRlbXMuc2xpY2UoKTtcbiAgdmFyIGN1cnJlbnRBY3RpdmVJdGVtID0gc3RhdGUuYWN0aXZlSXRlbUluZGV4ICE9PSBudWxsID8gbmV4dEl0ZW1zW3N0YXRlLmFjdGl2ZUl0ZW1JbmRleF0gOiBudWxsO1xuICB2YXIgaWR4ID0gbmV4dEl0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBhLmlkID09PSBhY3Rpb24uaWQ7XG4gIH0pO1xuICBpZiAoaWR4ICE9PSAtMSkgbmV4dEl0ZW1zLnNwbGljZShpZHgsIDEpO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgaXRlbXM6IG5leHRJdGVtcyxcbiAgICBhY3RpdmVJdGVtSW5kZXg6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpZHggPT09IHN0YXRlLmFjdGl2ZUl0ZW1JbmRleCkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoY3VycmVudEFjdGl2ZUl0ZW0gPT09IG51bGwpIHJldHVybiBudWxsOyAvLyBJZiB3ZSByZW1vdmVkIHRoZSBpdGVtIGJlZm9yZSB0aGUgYWN0dWFsIGFjdGl2ZSBpbmRleCwgdGhlbiBpdCB3b3VsZCBiZSBvdXQgb2Ygc3luYy4gVG9cbiAgICAgIC8vIGZpeCB0aGlzLCB3ZSB3aWxsIGZpbmQgdGhlIGNvcnJlY3QgKG5ldykgaW5kZXggcG9zaXRpb24uXG5cbiAgICAgIHJldHVybiBuZXh0SXRlbXMuaW5kZXhPZihjdXJyZW50QWN0aXZlSXRlbSk7XG4gICAgfSgpXG4gIH0pO1xufSwgX3JlZHVjZXJzKTtcbnZhciBNZW51Q29udGV4dCA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KG51bGwpO1xuTWVudUNvbnRleHQuZGlzcGxheU5hbWUgPSAnTWVudUNvbnRleHQnO1xuXG5mdW5jdGlvbiB1c2VNZW51Q29udGV4dChjb21wb25lbnQpIHtcbiAgdmFyIGNvbnRleHQgPSB1c2VDb250ZXh0KE1lbnVDb250ZXh0KTtcblxuICBpZiAoY29udGV4dCA9PT0gbnVsbCkge1xuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXCI8XCIgKyBjb21wb25lbnQgKyBcIiAvPiBpcyBtaXNzaW5nIGEgcGFyZW50IDxcIiArIE1lbnUubmFtZSArIFwiIC8+IGNvbXBvbmVudC5cIik7XG4gICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnIsIHVzZU1lbnVDb250ZXh0KTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cblxuICByZXR1cm4gY29udGV4dDtcbn1cblxuZnVuY3Rpb24gc3RhdGVSZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcbiAgcmV0dXJuIG1hdGNoKGFjdGlvbi50eXBlLCByZWR1Y2Vycywgc3RhdGUsIGFjdGlvbik7XG59IC8vIC0tLVxuXG5cbnZhciBERUZBVUxUX01FTlVfVEFHID0gRnJhZ21lbnQ7XG5mdW5jdGlvbiBNZW51KHByb3BzKSB7XG4gIHZhciBfbWF0Y2g7XG5cbiAgdmFyIHJlZHVjZXJCYWcgPSB1c2VSZWR1Y2VyKHN0YXRlUmVkdWNlciwge1xuICAgIG1lbnVTdGF0ZTogTWVudVN0YXRlcy5DbG9zZWQsXG4gICAgYnV0dG9uUmVmOiBjcmVhdGVSZWYoKSxcbiAgICBpdGVtc1JlZjogY3JlYXRlUmVmKCksXG4gICAgaXRlbXM6IFtdLFxuICAgIHNlYXJjaFF1ZXJ5OiAnJyxcbiAgICBhY3RpdmVJdGVtSW5kZXg6IG51bGxcbiAgfSk7XG4gIHZhciBfcmVkdWNlckJhZyQgPSByZWR1Y2VyQmFnWzBdLFxuICAgICAgbWVudVN0YXRlID0gX3JlZHVjZXJCYWckLm1lbnVTdGF0ZSxcbiAgICAgIGl0ZW1zUmVmID0gX3JlZHVjZXJCYWckLml0ZW1zUmVmLFxuICAgICAgYnV0dG9uUmVmID0gX3JlZHVjZXJCYWckLmJ1dHRvblJlZixcbiAgICAgIGRpc3BhdGNoID0gcmVkdWNlckJhZ1sxXTsgLy8gSGFuZGxlIG91dHNpZGUgY2xpY2tcblxuICB1c2VXaW5kb3dFdmVudCgnbW91c2Vkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIF9idXR0b25SZWYkY3VycmVudCwgX2l0ZW1zUmVmJGN1cnJlbnQ7XG5cbiAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmIChtZW51U3RhdGUgIT09IE1lbnVTdGF0ZXMuT3BlbikgcmV0dXJuO1xuICAgIGlmICgoX2J1dHRvblJlZiRjdXJyZW50ID0gYnV0dG9uUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYnV0dG9uUmVmJGN1cnJlbnQuY29udGFpbnModGFyZ2V0KSkgcmV0dXJuO1xuICAgIGlmICgoX2l0ZW1zUmVmJGN1cnJlbnQgPSBpdGVtc1JlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2l0ZW1zUmVmJGN1cnJlbnQuY29udGFpbnModGFyZ2V0KSkgcmV0dXJuO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkNsb3NlTWVudVxuICAgIH0pO1xuXG4gICAgaWYgKCFpc0ZvY3VzYWJsZUVsZW1lbnQodGFyZ2V0LCBGb2N1c2FibGVNb2RlLkxvb3NlKSkge1xuICAgICAgdmFyIF9idXR0b25SZWYkY3VycmVudDI7XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAoX2J1dHRvblJlZiRjdXJyZW50MiA9IGJ1dHRvblJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2J1dHRvblJlZiRjdXJyZW50Mi5mb2N1cygpO1xuICAgIH1cbiAgfSk7XG4gIHZhciBzbG90ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wZW46IG1lbnVTdGF0ZSA9PT0gTWVudVN0YXRlcy5PcGVuXG4gICAgfTtcbiAgfSwgW21lbnVTdGF0ZV0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChNZW51Q29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiByZWR1Y2VyQmFnXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoT3BlbkNsb3NlZFByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IG1hdGNoKG1lbnVTdGF0ZSwgKF9tYXRjaCA9IHt9LCBfbWF0Y2hbTWVudVN0YXRlcy5PcGVuXSA9IFN0YXRlLk9wZW4sIF9tYXRjaFtNZW51U3RhdGVzLkNsb3NlZF0gPSBTdGF0ZS5DbG9zZWQsIF9tYXRjaCkpXG4gIH0sIHJlbmRlcih7XG4gICAgcHJvcHM6IHByb3BzLFxuICAgIHNsb3Q6IHNsb3QsXG4gICAgZGVmYXVsdFRhZzogREVGQVVMVF9NRU5VX1RBRyxcbiAgICBuYW1lOiAnTWVudSdcbiAgfSkpKTtcbn0gLy8gLS0tXG5cbnZhciBERUZBVUxUX0JVVFRPTl9UQUcgPSAnYnV0dG9uJztcbnZhciBCdXR0b24gPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZldpdGhBcyhmdW5jdGlvbiBCdXR0b24ocHJvcHMsIHJlZikge1xuICB2YXIgX3N0YXRlJGl0ZW1zUmVmJGN1cnJlO1xuXG4gIHZhciBfdXNlTWVudUNvbnRleHQgPSB1c2VNZW51Q29udGV4dChbTWVudS5uYW1lLCBCdXR0b24ubmFtZV0uam9pbignLicpKSxcbiAgICAgIHN0YXRlID0gX3VzZU1lbnVDb250ZXh0WzBdLFxuICAgICAgZGlzcGF0Y2ggPSBfdXNlTWVudUNvbnRleHRbMV07XG5cbiAgdmFyIGJ1dHRvblJlZiA9IHVzZVN5bmNSZWZzKHN0YXRlLmJ1dHRvblJlZiwgcmVmKTtcbiAgdmFyIGlkID0gXCJoZWFkbGVzc3VpLW1lbnUtYnV0dG9uLVwiICsgdXNlSWQoKTtcbiAgdmFyIGQgPSB1c2VEaXNwb3NhYmxlcygpO1xuICB2YXIgaGFuZGxlS2V5RG93biA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAvLyBSZWY6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS1wcmFjdGljZXMtMS4yLyNrZXlib2FyZC1pbnRlcmFjdGlvbi0xM1xuICAgICAgY2FzZSBLZXlzLlNwYWNlOlxuICAgICAgY2FzZSBLZXlzLkVudGVyOlxuICAgICAgY2FzZSBLZXlzLkFycm93RG93bjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5PcGVuTWVudVxuICAgICAgICB9KTtcbiAgICAgICAgZC5uZXh0RnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5Hb1RvSXRlbSxcbiAgICAgICAgICAgIGZvY3VzOiBGb2N1cy5GaXJzdFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgS2V5cy5BcnJvd1VwOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLk9wZW5NZW51XG4gICAgICAgIH0pO1xuICAgICAgICBkLm5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkdvVG9JdGVtLFxuICAgICAgICAgICAgZm9jdXM6IEZvY3VzLkxhc3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBkXSk7XG4gIHZhciBoYW5kbGVLZXlVcCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICBjYXNlIEtleXMuU3BhY2U6XG4gICAgICAgIC8vIFJlcXVpcmVkIGZvciBmaXJlZm94LCBldmVudC5wcmV2ZW50RGVmYXVsdCgpIGluIGhhbmRsZUtleURvd24gZm9yXG4gICAgICAgIC8vIHRoZSBTcGFjZSBrZXkgZG9lc24ndCBjYW5jZWwgdGhlIGhhbmRsZUtleVVwLCB3aGljaCBpbiB0dXJuXG4gICAgICAgIC8vIHRyaWdnZXJzIGEgKmNsaWNrKi5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9LCBbXSk7XG4gIHZhciBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChpc0Rpc2FibGVkUmVhY3RJc3N1ZTc3MTEoZXZlbnQuY3VycmVudFRhcmdldCkpIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCkgcmV0dXJuO1xuXG4gICAgaWYgKHN0YXRlLm1lbnVTdGF0ZSA9PT0gTWVudVN0YXRlcy5PcGVuKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkNsb3NlTWVudVxuICAgICAgfSk7XG4gICAgICBkLm5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfc3RhdGUkYnV0dG9uUmVmJGN1cnI7XG5cbiAgICAgICAgcmV0dXJuIChfc3RhdGUkYnV0dG9uUmVmJGN1cnIgPSBzdGF0ZS5idXR0b25SZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRidXR0b25SZWYkY3Vyci5mb2N1cyh7XG4gICAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLk9wZW5NZW51XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtkaXNwYXRjaCwgZCwgc3RhdGUsIHByb3BzLmRpc2FibGVkXSk7XG4gIHZhciBzbG90ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wZW46IHN0YXRlLm1lbnVTdGF0ZSA9PT0gTWVudVN0YXRlcy5PcGVuXG4gICAgfTtcbiAgfSwgW3N0YXRlXSk7XG4gIHZhciBwYXNzdGhyb3VnaFByb3BzID0gcHJvcHM7XG4gIHZhciBwcm9wc1dlQ29udHJvbCA9IHtcbiAgICByZWY6IGJ1dHRvblJlZixcbiAgICBpZDogaWQsXG4gICAgdHlwZTogdXNlUmVzb2x2ZUJ1dHRvblR5cGUocHJvcHMsIHN0YXRlLmJ1dHRvblJlZiksXG4gICAgJ2FyaWEtaGFzcG9wdXAnOiB0cnVlLFxuICAgICdhcmlhLWNvbnRyb2xzJzogKF9zdGF0ZSRpdGVtc1JlZiRjdXJyZSA9IHN0YXRlLml0ZW1zUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkaXRlbXNSZWYkY3VycmUuaWQsXG4gICAgJ2FyaWEtZXhwYW5kZWQnOiBwcm9wcy5kaXNhYmxlZCA/IHVuZGVmaW5lZCA6IHN0YXRlLm1lbnVTdGF0ZSA9PT0gTWVudVN0YXRlcy5PcGVuLFxuICAgIG9uS2V5RG93bjogaGFuZGxlS2V5RG93bixcbiAgICBvbktleVVwOiBoYW5kbGVLZXlVcCxcbiAgICBvbkNsaWNrOiBoYW5kbGVDbGlja1xuICB9O1xuICByZXR1cm4gcmVuZGVyKHtcbiAgICBwcm9wczogX2V4dGVuZHMoe30sIHBhc3N0aHJvdWdoUHJvcHMsIHByb3BzV2VDb250cm9sKSxcbiAgICBzbG90OiBzbG90LFxuICAgIGRlZmF1bHRUYWc6IERFRkFVTFRfQlVUVE9OX1RBRyxcbiAgICBuYW1lOiAnTWVudS5CdXR0b24nXG4gIH0pO1xufSk7IC8vIC0tLVxuXG52YXIgREVGQVVMVF9JVEVNU19UQUcgPSAnZGl2JztcbnZhciBJdGVtc1JlbmRlckZlYXR1cmVzID0gRmVhdHVyZXMuUmVuZGVyU3RyYXRlZ3kgfCBGZWF0dXJlcy5TdGF0aWM7XG52YXIgSXRlbXMgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZldpdGhBcyhmdW5jdGlvbiBJdGVtcyhwcm9wcywgcmVmKSB7XG4gIHZhciBfc3RhdGUkaXRlbXMkc3RhdGUkYWMsIF9zdGF0ZSRidXR0b25SZWYkY3VycjQ7XG5cbiAgdmFyIF91c2VNZW51Q29udGV4dDIgPSB1c2VNZW51Q29udGV4dChbTWVudS5uYW1lLCBJdGVtcy5uYW1lXS5qb2luKCcuJykpLFxuICAgICAgc3RhdGUgPSBfdXNlTWVudUNvbnRleHQyWzBdLFxuICAgICAgZGlzcGF0Y2ggPSBfdXNlTWVudUNvbnRleHQyWzFdO1xuXG4gIHZhciBpdGVtc1JlZiA9IHVzZVN5bmNSZWZzKHN0YXRlLml0ZW1zUmVmLCByZWYpO1xuICB2YXIgaWQgPSBcImhlYWRsZXNzdWktbWVudS1pdGVtcy1cIiArIHVzZUlkKCk7XG4gIHZhciBzZWFyY2hEaXNwb3NhYmxlcyA9IHVzZURpc3Bvc2FibGVzKCk7XG4gIHZhciB1c2VzT3BlbkNsb3NlZFN0YXRlID0gdXNlT3BlbkNsb3NlZCgpO1xuXG4gIHZhciB2aXNpYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh1c2VzT3BlbkNsb3NlZFN0YXRlICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdXNlc09wZW5DbG9zZWRTdGF0ZSA9PT0gU3RhdGUuT3BlbjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdGUubWVudVN0YXRlID09PSBNZW51U3RhdGVzLk9wZW47XG4gIH0oKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjb250YWluZXIgPSBzdGF0ZS5pdGVtc1JlZi5jdXJyZW50O1xuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG4gICAgaWYgKHN0YXRlLm1lbnVTdGF0ZSAhPT0gTWVudVN0YXRlcy5PcGVuKSByZXR1cm47XG4gICAgaWYgKGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgcmV0dXJuO1xuICAgIGNvbnRhaW5lci5mb2N1cyh7XG4gICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gICAgfSk7XG4gIH0sIFtzdGF0ZS5tZW51U3RhdGUsIHN0YXRlLml0ZW1zUmVmXSk7XG4gIHVzZVRyZWVXYWxrZXIoe1xuICAgIGNvbnRhaW5lcjogc3RhdGUuaXRlbXNSZWYuY3VycmVudCxcbiAgICBlbmFibGVkOiBzdGF0ZS5tZW51U3RhdGUgPT09IE1lbnVTdGF0ZXMuT3BlbixcbiAgICBhY2NlcHQ6IGZ1bmN0aW9uIGFjY2VwdChub2RlKSB7XG4gICAgICBpZiAobm9kZS5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSA9PT0gJ21lbnVpdGVtJykgcmV0dXJuIE5vZGVGaWx0ZXIuRklMVEVSX1JFSkVDVDtcbiAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZSgncm9sZScpKSByZXR1cm4gTm9kZUZpbHRlci5GSUxURVJfU0tJUDtcbiAgICAgIHJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ7XG4gICAgfSxcbiAgICB3YWxrOiBmdW5jdGlvbiB3YWxrKG5vZGUpIHtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdyb2xlJywgJ25vbmUnKTtcbiAgICB9XG4gIH0pO1xuICB2YXIgaGFuZGxlS2V5RG93biA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIHNlYXJjaERpc3Bvc2FibGVzLmRpc3Bvc2UoKTtcblxuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAvLyBSZWY6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS1wcmFjdGljZXMtMS4yLyNrZXlib2FyZC1pbnRlcmFjdGlvbi0xMlxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBGYWxsdGhyb3VnaCBpcyBleHBlY3RlZCBoZXJlXG4gICAgICBjYXNlIEtleXMuU3BhY2U6XG4gICAgICAgIGlmIChzdGF0ZS5zZWFyY2hRdWVyeSAhPT0gJycpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHJldHVybiBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5TZWFyY2gsXG4gICAgICAgICAgICB2YWx1ZTogZXZlbnQua2V5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgLy8gV2hlbiBpbiB0eXBlIGFoZWFkIG1vZGUsIGZhbGx0aHJvdWdoXG5cbiAgICAgIGNhc2UgS2V5cy5FbnRlcjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5DbG9zZU1lbnVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLmFjdGl2ZUl0ZW1JbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBfZG9jdW1lbnQkZ2V0RWxlbWVudEI7XG5cbiAgICAgICAgICB2YXIgX2lkID0gc3RhdGUuaXRlbXNbc3RhdGUuYWN0aXZlSXRlbUluZGV4XS5pZDtcbiAgICAgICAgICAoX2RvY3VtZW50JGdldEVsZW1lbnRCID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX2lkKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kb2N1bWVudCRnZXRFbGVtZW50Qi5jbGljaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcG9zYWJsZXMoKS5uZXh0RnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBfc3RhdGUkYnV0dG9uUmVmJGN1cnIyO1xuXG4gICAgICAgICAgcmV0dXJuIChfc3RhdGUkYnV0dG9uUmVmJGN1cnIyID0gc3RhdGUuYnV0dG9uUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkYnV0dG9uUmVmJGN1cnIyLmZvY3VzKHtcbiAgICAgICAgICAgIHByZXZlbnRTY3JvbGw6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIEtleXMuQXJyb3dEb3duOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5Hb1RvSXRlbSxcbiAgICAgICAgICBmb2N1czogRm9jdXMuTmV4dFxuICAgICAgICB9KTtcblxuICAgICAgY2FzZSBLZXlzLkFycm93VXA6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkdvVG9JdGVtLFxuICAgICAgICAgIGZvY3VzOiBGb2N1cy5QcmV2aW91c1xuICAgICAgICB9KTtcblxuICAgICAgY2FzZSBLZXlzLkhvbWU6XG4gICAgICBjYXNlIEtleXMuUGFnZVVwOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5Hb1RvSXRlbSxcbiAgICAgICAgICBmb2N1czogRm9jdXMuRmlyc3RcbiAgICAgICAgfSk7XG5cbiAgICAgIGNhc2UgS2V5cy5FbmQ6XG4gICAgICBjYXNlIEtleXMuUGFnZURvd246XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkdvVG9JdGVtLFxuICAgICAgICAgIGZvY3VzOiBGb2N1cy5MYXN0XG4gICAgICAgIH0pO1xuXG4gICAgICBjYXNlIEtleXMuRXNjYXBlOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkNsb3NlTWVudVxuICAgICAgICB9KTtcbiAgICAgICAgZGlzcG9zYWJsZXMoKS5uZXh0RnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBfc3RhdGUkYnV0dG9uUmVmJGN1cnIzO1xuXG4gICAgICAgICAgcmV0dXJuIChfc3RhdGUkYnV0dG9uUmVmJGN1cnIzID0gc3RhdGUuYnV0dG9uUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkYnV0dG9uUmVmJGN1cnIzLmZvY3VzKHtcbiAgICAgICAgICAgIHByZXZlbnRTY3JvbGw6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIEtleXMuVGFiOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChldmVudC5rZXkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuU2VhcmNoLFxuICAgICAgICAgICAgdmFsdWU6IGV2ZW50LmtleVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNlYXJjaERpc3Bvc2FibGVzLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgdHlwZTogQWN0aW9uVHlwZXMuQ2xlYXJTZWFyY2hcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDM1MCk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0sIFtkaXNwYXRjaCwgc2VhcmNoRGlzcG9zYWJsZXMsIHN0YXRlXSk7XG4gIHZhciBoYW5kbGVLZXlVcCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICBjYXNlIEtleXMuU3BhY2U6XG4gICAgICAgIC8vIFJlcXVpcmVkIGZvciBmaXJlZm94LCBldmVudC5wcmV2ZW50RGVmYXVsdCgpIGluIGhhbmRsZUtleURvd24gZm9yXG4gICAgICAgIC8vIHRoZSBTcGFjZSBrZXkgZG9lc24ndCBjYW5jZWwgdGhlIGhhbmRsZUtleVVwLCB3aGljaCBpbiB0dXJuXG4gICAgICAgIC8vIHRyaWdnZXJzIGEgKmNsaWNrKi5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9LCBbXSk7XG4gIHZhciBzbG90ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wZW46IHN0YXRlLm1lbnVTdGF0ZSA9PT0gTWVudVN0YXRlcy5PcGVuXG4gICAgfTtcbiAgfSwgW3N0YXRlXSk7XG4gIHZhciBwcm9wc1dlQ29udHJvbCA9IHtcbiAgICAnYXJpYS1hY3RpdmVkZXNjZW5kYW50Jzogc3RhdGUuYWN0aXZlSXRlbUluZGV4ID09PSBudWxsID8gdW5kZWZpbmVkIDogKF9zdGF0ZSRpdGVtcyRzdGF0ZSRhYyA9IHN0YXRlLml0ZW1zW3N0YXRlLmFjdGl2ZUl0ZW1JbmRleF0pID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkaXRlbXMkc3RhdGUkYWMuaWQsXG4gICAgJ2FyaWEtbGFiZWxsZWRieSc6IChfc3RhdGUkYnV0dG9uUmVmJGN1cnI0ID0gc3RhdGUuYnV0dG9uUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkYnV0dG9uUmVmJGN1cnI0LmlkLFxuICAgIGlkOiBpZCxcbiAgICBvbktleURvd246IGhhbmRsZUtleURvd24sXG4gICAgb25LZXlVcDogaGFuZGxlS2V5VXAsXG4gICAgcm9sZTogJ21lbnUnLFxuICAgIHRhYkluZGV4OiAwLFxuICAgIHJlZjogaXRlbXNSZWZcbiAgfTtcbiAgdmFyIHBhc3N0aHJvdWdoUHJvcHMgPSBwcm9wcztcbiAgcmV0dXJuIHJlbmRlcih7XG4gICAgcHJvcHM6IF9leHRlbmRzKHt9LCBwYXNzdGhyb3VnaFByb3BzLCBwcm9wc1dlQ29udHJvbCksXG4gICAgc2xvdDogc2xvdCxcbiAgICBkZWZhdWx0VGFnOiBERUZBVUxUX0lURU1TX1RBRyxcbiAgICBmZWF0dXJlczogSXRlbXNSZW5kZXJGZWF0dXJlcyxcbiAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgIG5hbWU6ICdNZW51Lkl0ZW1zJ1xuICB9KTtcbn0pOyAvLyAtLS1cblxudmFyIERFRkFVTFRfSVRFTV9UQUcgPSBGcmFnbWVudDtcblxuZnVuY3Rpb24gSXRlbShwcm9wcykge1xuICB2YXIgX3Byb3BzJGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsXG4gICAgICBkaXNhYmxlZCA9IF9wcm9wcyRkaXNhYmxlZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkZGlzYWJsZWQsXG4gICAgICBvbkNsaWNrID0gcHJvcHMub25DbGljayxcbiAgICAgIHBhc3N0aHJvdWdoUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgW1wiZGlzYWJsZWRcIiwgXCJvbkNsaWNrXCJdKTtcblxuICB2YXIgX3VzZU1lbnVDb250ZXh0MyA9IHVzZU1lbnVDb250ZXh0KFtNZW51Lm5hbWUsIEl0ZW0ubmFtZV0uam9pbignLicpKSxcbiAgICAgIHN0YXRlID0gX3VzZU1lbnVDb250ZXh0M1swXSxcbiAgICAgIGRpc3BhdGNoID0gX3VzZU1lbnVDb250ZXh0M1sxXTtcblxuICB2YXIgaWQgPSBcImhlYWRsZXNzdWktbWVudS1pdGVtLVwiICsgdXNlSWQoKTtcbiAgdmFyIGFjdGl2ZSA9IHN0YXRlLmFjdGl2ZUl0ZW1JbmRleCAhPT0gbnVsbCA/IHN0YXRlLml0ZW1zW3N0YXRlLmFjdGl2ZUl0ZW1JbmRleF0uaWQgPT09IGlkIDogZmFsc2U7XG4gIHVzZUlzb01vcnBoaWNFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChzdGF0ZS5tZW51U3RhdGUgIT09IE1lbnVTdGF0ZXMuT3BlbikgcmV0dXJuO1xuICAgIGlmICghYWN0aXZlKSByZXR1cm47XG4gICAgdmFyIGQgPSBkaXNwb3NhYmxlcygpO1xuICAgIGQubmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZG9jdW1lbnQkZ2V0RWxlbWVudEIyO1xuXG4gICAgICByZXR1cm4gKF9kb2N1bWVudCRnZXRFbGVtZW50QjIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpID09IG51bGwgPyB2b2lkIDAgOiBfZG9jdW1lbnQkZ2V0RWxlbWVudEIyLnNjcm9sbEludG9WaWV3ID09IG51bGwgPyB2b2lkIDAgOiBfZG9jdW1lbnQkZ2V0RWxlbWVudEIyLnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgYmxvY2s6ICduZWFyZXN0J1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGQuZGlzcG9zZTtcbiAgfSwgW2lkLCBhY3RpdmUsIHN0YXRlLm1lbnVTdGF0ZV0pO1xuICB2YXIgYmFnID0gdXNlUmVmKHtcbiAgICBkaXNhYmxlZDogZGlzYWJsZWRcbiAgfSk7XG4gIHVzZUlzb01vcnBoaWNFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGJhZy5jdXJyZW50LmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gIH0sIFtiYWcsIGRpc2FibGVkXSk7XG4gIHVzZUlzb01vcnBoaWNFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBfZG9jdW1lbnQkZ2V0RWxlbWVudEIzLCBfZG9jdW1lbnQkZ2V0RWxlbWVudEI0O1xuXG4gICAgYmFnLmN1cnJlbnQudGV4dFZhbHVlID0gKF9kb2N1bWVudCRnZXRFbGVtZW50QjMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpID09IG51bGwgPyB2b2lkIDAgOiAoX2RvY3VtZW50JGdldEVsZW1lbnRCNCA9IF9kb2N1bWVudCRnZXRFbGVtZW50QjMudGV4dENvbnRlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZG9jdW1lbnQkZ2V0RWxlbWVudEI0LnRvTG93ZXJDYXNlKCk7XG4gIH0sIFtiYWcsIGlkXSk7XG4gIHVzZUlzb01vcnBoaWNFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlJlZ2lzdGVySXRlbSxcbiAgICAgIGlkOiBpZCxcbiAgICAgIGRhdGFSZWY6IGJhZ1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBY3Rpb25UeXBlcy5VbnJlZ2lzdGVySXRlbSxcbiAgICAgICAgaWQ6IGlkXG4gICAgICB9KTtcbiAgICB9O1xuICB9LCBbYmFnLCBpZF0pO1xuICB2YXIgaGFuZGxlQ2xpY2sgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZGlzYWJsZWQpIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkNsb3NlTWVudVxuICAgIH0pO1xuICAgIGRpc3Bvc2FibGVzKCkubmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc3RhdGUkYnV0dG9uUmVmJGN1cnI1O1xuXG4gICAgICByZXR1cm4gKF9zdGF0ZSRidXR0b25SZWYkY3VycjUgPSBzdGF0ZS5idXR0b25SZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRidXR0b25SZWYkY3VycjUuZm9jdXMoe1xuICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpZiAob25DbGljaykgcmV0dXJuIG9uQ2xpY2soZXZlbnQpO1xuICB9LCBbZGlzcGF0Y2gsIHN0YXRlLmJ1dHRvblJlZiwgZGlzYWJsZWQsIG9uQ2xpY2tdKTtcbiAgdmFyIGhhbmRsZUZvY3VzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGlmIChkaXNhYmxlZCkgcmV0dXJuIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLkdvVG9JdGVtLFxuICAgICAgZm9jdXM6IEZvY3VzLk5vdGhpbmdcbiAgICB9KTtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5Hb1RvSXRlbSxcbiAgICAgIGZvY3VzOiBGb2N1cy5TcGVjaWZpYyxcbiAgICAgIGlkOiBpZFxuICAgIH0pO1xuICB9LCBbZGlzYWJsZWQsIGlkLCBkaXNwYXRjaF0pO1xuICB2YXIgaGFuZGxlTW92ZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZGlzYWJsZWQpIHJldHVybjtcbiAgICBpZiAoYWN0aXZlKSByZXR1cm47XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuR29Ub0l0ZW0sXG4gICAgICBmb2N1czogRm9jdXMuU3BlY2lmaWMsXG4gICAgICBpZDogaWRcbiAgICB9KTtcbiAgfSwgW2Rpc2FibGVkLCBhY3RpdmUsIGlkLCBkaXNwYXRjaF0pO1xuICB2YXIgaGFuZGxlTGVhdmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRpc2FibGVkKSByZXR1cm47XG4gICAgaWYgKCFhY3RpdmUpIHJldHVybjtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5Hb1RvSXRlbSxcbiAgICAgIGZvY3VzOiBGb2N1cy5Ob3RoaW5nXG4gICAgfSk7XG4gIH0sIFtkaXNhYmxlZCwgYWN0aXZlLCBkaXNwYXRjaF0pO1xuICB2YXIgc2xvdCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3RpdmU6IGFjdGl2ZSxcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZFxuICAgIH07XG4gIH0sIFthY3RpdmUsIGRpc2FibGVkXSk7XG4gIHZhciBwcm9wc1dlQ29udHJvbCA9IHtcbiAgICBpZDogaWQsXG4gICAgcm9sZTogJ21lbnVpdGVtJyxcbiAgICB0YWJJbmRleDogZGlzYWJsZWQgPT09IHRydWUgPyB1bmRlZmluZWQgOiAtMSxcbiAgICAnYXJpYS1kaXNhYmxlZCc6IGRpc2FibGVkID09PSB0cnVlID8gdHJ1ZSA6IHVuZGVmaW5lZCxcbiAgICBkaXNhYmxlZDogdW5kZWZpbmVkLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxuICAgIG9uRm9jdXM6IGhhbmRsZUZvY3VzLFxuICAgIG9uUG9pbnRlck1vdmU6IGhhbmRsZU1vdmUsXG4gICAgb25Nb3VzZU1vdmU6IGhhbmRsZU1vdmUsXG4gICAgb25Qb2ludGVyTGVhdmU6IGhhbmRsZUxlYXZlLFxuICAgIG9uTW91c2VMZWF2ZTogaGFuZGxlTGVhdmVcbiAgfTtcbiAgcmV0dXJuIHJlbmRlcih7XG4gICAgcHJvcHM6IF9leHRlbmRzKHt9LCBwYXNzdGhyb3VnaFByb3BzLCBwcm9wc1dlQ29udHJvbCksXG4gICAgc2xvdDogc2xvdCxcbiAgICBkZWZhdWx0VGFnOiBERUZBVUxUX0lURU1fVEFHLFxuICAgIG5hbWU6ICdNZW51Lkl0ZW0nXG4gIH0pO1xufSAvLyAtLS1cblxuXG5NZW51LkJ1dHRvbiA9IEJ1dHRvbjtcbk1lbnUuSXRlbXMgPSBJdGVtcztcbk1lbnUuSXRlbSA9IEl0ZW07XG5cbmV4cG9ydCB7IE1lbnUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lbnUuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VJc29Nb3JwaGljRWZmZWN0IH0gZnJvbSAnLi91c2UtaXNvLW1vcnBoaWMtZWZmZWN0LmVzbS5qcyc7XG5cbmZ1bmN0aW9uIHJlc29sdmVUeXBlKHByb3BzKSB7XG4gIHZhciBfcHJvcHMkYXM7XG5cbiAgaWYgKHByb3BzLnR5cGUpIHJldHVybiBwcm9wcy50eXBlO1xuICB2YXIgdGFnID0gKF9wcm9wcyRhcyA9IHByb3BzLmFzKSAhPSBudWxsID8gX3Byb3BzJGFzIDogJ2J1dHRvbic7XG4gIGlmICh0eXBlb2YgdGFnID09PSAnc3RyaW5nJyAmJiB0YWcudG9Mb3dlckNhc2UoKSA9PT0gJ2J1dHRvbicpIHJldHVybiAnYnV0dG9uJztcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gdXNlUmVzb2x2ZUJ1dHRvblR5cGUocHJvcHMsIHJlZikge1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZXNvbHZlVHlwZShwcm9wcyk7XG4gIH0pLFxuICAgICAgdHlwZSA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldFR5cGUgPSBfdXNlU3RhdGVbMV07XG5cbiAgdXNlSXNvTW9ycGhpY0VmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc2V0VHlwZShyZXNvbHZlVHlwZShwcm9wcykpO1xuICB9LCBbcHJvcHMudHlwZSwgcHJvcHMuYXNdKTtcbiAgdXNlSXNvTW9ycGhpY0VmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGUpIHJldHVybjtcbiAgICBpZiAoIXJlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICBpZiAocmVmLmN1cnJlbnQgaW5zdGFuY2VvZiBIVE1MQnV0dG9uRWxlbWVudCAmJiAhcmVmLmN1cnJlbnQuaGFzQXR0cmlidXRlKCd0eXBlJykpIHtcbiAgICAgIHNldFR5cGUoJ2J1dHRvbicpO1xuICAgIH1cbiAgfSwgW3R5cGUsIHJlZl0pO1xuICByZXR1cm4gdHlwZTtcbn1cblxuZXhwb3J0IHsgdXNlUmVzb2x2ZUJ1dHRvblR5cGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS1yZXNvbHZlLWJ1dHRvbi10eXBlLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IGNyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSBhcyBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlIH0gZnJvbSAnLi4vX3ZpcnR1YWwvX3JvbGx1cFBsdWdpbkJhYmVsSGVscGVycy5qcyc7XG5cbmZ1bmN0aW9uIGRpc3Bvc2FibGVzKCkge1xuICB2YXIgZGlzcG9zYWJsZXMgPSBbXTtcbiAgdmFyIGFwaSA9IHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWU6IGZ1bmN0aW9uIChfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICBmdW5jdGlvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKSB7XG4gICAgICAgIHJldHVybiBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUudG9TdHJpbmcoKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgfShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICAgIGFwaS5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICAgIH0pO1xuICAgIH0pLFxuICAgIG5leHRGcmFtZTogZnVuY3Rpb24gbmV4dEZyYW1lKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGFwaS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICBhcGkucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmFwcGx5KGFwaSwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNldFRpbWVvdXQ6IGZ1bmN0aW9uIChfc2V0VGltZW91dCkge1xuICAgICAgZnVuY3Rpb24gc2V0VGltZW91dCgpIHtcbiAgICAgICAgcmV0dXJuIF9zZXRUaW1lb3V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHNldFRpbWVvdXQudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfc2V0VGltZW91dC50b1N0cmluZygpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHNldFRpbWVvdXQ7XG4gICAgfShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0LmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICAgIGFwaS5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIH0pO1xuICAgIH0pLFxuICAgIGFkZDogZnVuY3Rpb24gYWRkKGNiKSB7XG4gICAgICBkaXNwb3NhYmxlcy5wdXNoKGNiKTtcbiAgICB9LFxuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKGRpc3Bvc2FibGVzLnNwbGljZSgwKSksIF9zdGVwOyAhKF9zdGVwID0gX2l0ZXJhdG9yKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBkaXNwb3NlID0gX3N0ZXAudmFsdWU7XG4gICAgICAgIGRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBhcGk7XG59XG5cbmV4cG9ydCB7IGRpc3Bvc2FibGVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwb3NhYmxlcy5lc20uanMubWFwXG4iLCJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZGlzcG9zYWJsZXMgfSBmcm9tICcuLi91dGlscy9kaXNwb3NhYmxlcy5lc20uanMnO1xuXG5mdW5jdGlvbiB1c2VEaXNwb3NhYmxlcygpIHtcbiAgLy8gVXNpbmcgdXNlU3RhdGUgaW5zdGVhZCBvZiB1c2VSZWYgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZSBpbml0aWFsaXplciBmdW5jdGlvbi5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGRpc3Bvc2FibGVzKSxcbiAgICAgIGQgPSBfdXNlU3RhdGVbMF07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGQuZGlzcG9zZSgpO1xuICAgIH07XG4gIH0sIFtkXSk7XG4gIHJldHVybiBkO1xufVxuXG5leHBvcnQgeyB1c2VEaXNwb3NhYmxlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlLWRpc3Bvc2FibGVzLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IGRpc3Bvc2FibGVzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZGlzcG9zYWJsZXMuZXNtLmpzJztcbmltcG9ydCB7IG9uY2UgfSBmcm9tICcuLi8uLi8uLi91dGlscy9vbmNlLmVzbS5qcyc7XG5cbmZ1bmN0aW9uIGFkZENsYXNzZXMobm9kZSkge1xuICB2YXIgX25vZGUkY2xhc3NMaXN0O1xuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBjbGFzc2VzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIG5vZGUgJiYgY2xhc3Nlcy5sZW5ndGggPiAwICYmIChfbm9kZSRjbGFzc0xpc3QgPSBub2RlLmNsYXNzTGlzdCkuYWRkLmFwcGx5KF9ub2RlJGNsYXNzTGlzdCwgY2xhc3Nlcyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMobm9kZSkge1xuICB2YXIgX25vZGUkY2xhc3NMaXN0MjtcblxuICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIGNsYXNzZXNbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICBub2RlICYmIGNsYXNzZXMubGVuZ3RoID4gMCAmJiAoX25vZGUkY2xhc3NMaXN0MiA9IG5vZGUuY2xhc3NMaXN0KS5yZW1vdmUuYXBwbHkoX25vZGUkY2xhc3NMaXN0MiwgY2xhc3Nlcyk7XG59XG5cbnZhciBSZWFzb247XG5cbihmdW5jdGlvbiAoUmVhc29uKSB7XG4gIFJlYXNvbltcIkZpbmlzaGVkXCJdID0gXCJmaW5pc2hlZFwiO1xuICBSZWFzb25bXCJDYW5jZWxsZWRcIl0gPSBcImNhbmNlbGxlZFwiO1xufSkoUmVhc29uIHx8IChSZWFzb24gPSB7fSkpO1xuXG5mdW5jdGlvbiB3YWl0Rm9yVHJhbnNpdGlvbihub2RlLCBkb25lKSB7XG4gIHZhciBkID0gZGlzcG9zYWJsZXMoKTtcbiAgaWYgKCFub2RlKSByZXR1cm4gZC5kaXNwb3NlOyAvLyBTYWZhcmkgcmV0dXJucyBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIHZhbHVlcywgc28gbGV0J3Mgc29ydCB0aGVtIGFuZCB0YWtlIHRoZSBoaWdoZXN0IHZhbHVlLlxuXG4gIHZhciBfZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSksXG4gICAgICB0cmFuc2l0aW9uRHVyYXRpb24gPSBfZ2V0Q29tcHV0ZWRTdHlsZS50cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICB0cmFuc2l0aW9uRGVsYXkgPSBfZ2V0Q29tcHV0ZWRTdHlsZS50cmFuc2l0aW9uRGVsYXk7XG5cbiAgdmFyIF9tYXAgPSBbdHJhbnNpdGlvbkR1cmF0aW9uLCB0cmFuc2l0aW9uRGVsYXldLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgX3ZhbHVlJHNwbGl0JGZpbHRlciRtID0gdmFsdWUuc3BsaXQoJywnKSAvLyBSZW1vdmUgZmFsc3kgd2UgY2FuJ3Qgd29yayB3aXRoXG4gICAgLmZpbHRlcihCb29sZWFuKSAvLyBWYWx1ZXMgYXJlIHJldHVybmVkIGFzIGAwLjNzYCBvciBgNzVtc2BcbiAgICAubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gdi5pbmNsdWRlcygnbXMnKSA/IHBhcnNlRmxvYXQodikgOiBwYXJzZUZsb2F0KHYpICogMTAwMDtcbiAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCB6KSB7XG4gICAgICByZXR1cm4geiAtIGE7XG4gICAgfSksXG4gICAgICAgIF92YWx1ZSRzcGxpdCRmaWx0ZXIkbTIgPSBfdmFsdWUkc3BsaXQkZmlsdGVyJG1bMF0sXG4gICAgICAgIHJlc29sdmVkVmFsdWUgPSBfdmFsdWUkc3BsaXQkZmlsdGVyJG0yID09PSB2b2lkIDAgPyAwIDogX3ZhbHVlJHNwbGl0JGZpbHRlciRtMjtcblxuICAgIHJldHVybiByZXNvbHZlZFZhbHVlO1xuICB9KSxcbiAgICAgIGR1cmF0aW9uTXMgPSBfbWFwWzBdLFxuICAgICAgZGVsYXlzTXMgPSBfbWFwWzFdOyAvLyBXYWl0aW5nIGZvciB0aGUgdHJhbnNpdGlvbiB0byBlbmQuIFdlIGNvdWxkIHVzZSB0aGUgYHRyYW5zaXRpb25lbmRgIGV2ZW50LCBob3dldmVyIHdoZW4gbm9cbiAgLy8gYWN0dWFsIHRyYW5zaXRpb24vZHVyYXRpb24gaXMgZGVmaW5lZCB0aGVuIHRoZSBgdHJhbnNpdGlvbmVuZGAgZXZlbnQgaXMgbm90IGZpcmVkLlxuICAvL1xuICAvLyBUT0RPOiBEb3duc2lkZSBpcywgd2hlbiB5b3Ugc2xvdyBkb3duIHRyYW5zaXRpb25zIHZpYSBkZXZ0b29scyB0aGlzIHRpbWVvdXQgaXMgc3RpbGwgdXNpbmcgdGhlXG4gIC8vIGZ1bGwgMTAwJSBzcGVlZCBpbnN0ZWFkIG9mIHRoZSAyNSUgb3IgMTAlLlxuXG5cbiAgaWYgKGR1cmF0aW9uTXMgIT09IDApIHtcbiAgICBkLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgZG9uZShSZWFzb24uRmluaXNoZWQpO1xuICAgIH0sIGR1cmF0aW9uTXMgKyBkZWxheXNNcyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gTm8gdHJhbnNpdGlvbiBpcyBoYXBwZW5pbmcsIHNvIHdlIHNob3VsZCBjbGVhbnVwIGFscmVhZHkuIE90aGVyd2lzZSB3ZSBoYXZlIHRvIHdhaXQgdW50aWwgd2VcbiAgICAvLyBnZXQgZGlzcG9zZWQuXG4gICAgZG9uZShSZWFzb24uRmluaXNoZWQpO1xuICB9IC8vIElmIHdlIGdldCBkaXNwb3NlZCBiZWZvcmUgdGhlIHRpbWVvdXQgcnVucyB3ZSBzaG91bGQgY2xlYW51cCBhbnl3YXlcblxuXG4gIGQuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZG9uZShSZWFzb24uQ2FuY2VsbGVkKTtcbiAgfSk7XG4gIHJldHVybiBkLmRpc3Bvc2U7XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb24obm9kZSwgYmFzZSwgZnJvbSwgdG8sIGVudGVyZWQsIGRvbmUpIHtcbiAgdmFyIGQgPSBkaXNwb3NhYmxlcygpO1xuXG4gIHZhciBfZG9uZSA9IGRvbmUgIT09IHVuZGVmaW5lZCA/IG9uY2UoZG9uZSkgOiBmdW5jdGlvbiAoKSB7fTtcblxuICByZW1vdmVDbGFzc2VzLmFwcGx5KHZvaWQgMCwgW25vZGVdLmNvbmNhdChlbnRlcmVkKSk7XG4gIGFkZENsYXNzZXMuYXBwbHkodm9pZCAwLCBbbm9kZV0uY29uY2F0KGJhc2UsIGZyb20pKTtcbiAgZC5uZXh0RnJhbWUoZnVuY3Rpb24gKCkge1xuICAgIHJlbW92ZUNsYXNzZXMuYXBwbHkodm9pZCAwLCBbbm9kZV0uY29uY2F0KGZyb20pKTtcbiAgICBhZGRDbGFzc2VzLmFwcGx5KHZvaWQgMCwgW25vZGVdLmNvbmNhdCh0bykpO1xuICAgIGQuYWRkKHdhaXRGb3JUcmFuc2l0aW9uKG5vZGUsIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJlbW92ZUNsYXNzZXMuYXBwbHkodm9pZCAwLCBbbm9kZV0uY29uY2F0KHRvLCBiYXNlKSk7XG4gICAgICBhZGRDbGFzc2VzLmFwcGx5KHZvaWQgMCwgW25vZGVdLmNvbmNhdChlbnRlcmVkKSk7XG4gICAgICByZXR1cm4gX2RvbmUocmVhc29uKTtcbiAgICB9KSk7XG4gIH0pOyAvLyBPbmNlIHdlIGdldCBkaXNwb3NlZCwgd2Ugc2hvdWxkIGVuc3VyZSB0aGF0IHdlIGNsZWFudXAgYWZ0ZXIgb3Vyc2VsdmVzLiBJbiBjYXNlIG9mIGFuIHVubW91bnQsXG4gIC8vIHRoZSBub2RlIGl0c2VsZiB3aWxsIGJlIG51bGxpZmllZCBhbmQgd2lsbCBiZSBhIG5vLW9wLiBJbiBjYXNlIG9mIGEgZnVsbCB0cmFuc2l0aW9uIHRoZSBjbGFzc2VzXG4gIC8vIGFyZSBhbHJlYWR5IHJlbW92ZWQgd2hpY2ggaXMgYWxzbyBhIG5vLW9wLiBIb3dldmVyIGlmIHlvdSBnbyBmcm9tIGVudGVyIC0+IGxlYXZlIG1pZC10cmFuc2l0aW9uXG4gIC8vIHRoZW4gd2UgaGF2ZSBzb21lIGxlZnRvdmVycyB0aGF0IHNob3VsZCBiZSBjbGVhbmVkLlxuXG4gIGQuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVtb3ZlQ2xhc3Nlcy5hcHBseSh2b2lkIDAsIFtub2RlXS5jb25jYXQoYmFzZSwgZnJvbSwgdG8sIGVudGVyZWQpKTtcbiAgfSk7IC8vIFdoZW4gd2UgZ2V0IGRpc3Bvc2VkIGVhcmx5LCB0aGFuIHdlIHNob3VsZCBhbHNvIGNhbGwgdGhlIGRvbmUgbWV0aG9kIGJ1dCBzd2l0Y2ggdGhlIHJlYXNvbi5cblxuICBkLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9kb25lKFJlYXNvbi5DYW5jZWxsZWQpO1xuICB9KTtcbiAgcmV0dXJuIGQuZGlzcG9zZTtcbn1cblxuZXhwb3J0IHsgUmVhc29uLCB0cmFuc2l0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2l0aW9uLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSXNvTW9ycGhpY0VmZmVjdCB9IGZyb20gJy4vdXNlLWlzby1tb3JwaGljLWVmZmVjdC5lc20uanMnO1xuXG5mdW5jdGlvbiB1c2VUcmVlV2Fsa2VyKF9yZWYpIHtcbiAgdmFyIGNvbnRhaW5lciA9IF9yZWYuY29udGFpbmVyLFxuICAgICAgYWNjZXB0ID0gX3JlZi5hY2NlcHQsXG4gICAgICB3YWxrID0gX3JlZi53YWxrLFxuICAgICAgX3JlZiRlbmFibGVkID0gX3JlZi5lbmFibGVkLFxuICAgICAgZW5hYmxlZCA9IF9yZWYkZW5hYmxlZCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkZW5hYmxlZDtcbiAgdmFyIGFjY2VwdFJlZiA9IHVzZVJlZihhY2NlcHQpO1xuICB2YXIgd2Fsa1JlZiA9IHVzZVJlZih3YWxrKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBhY2NlcHRSZWYuY3VycmVudCA9IGFjY2VwdDtcbiAgICB3YWxrUmVmLmN1cnJlbnQgPSB3YWxrO1xuICB9LCBbYWNjZXB0LCB3YWxrXSk7XG4gIHVzZUlzb01vcnBoaWNFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG4gICAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gICAgdmFyIGFjY2VwdCA9IGFjY2VwdFJlZi5jdXJyZW50O1xuICAgIHZhciB3YWxrID0gd2Fsa1JlZi5jdXJyZW50O1xuICAgIHZhciBhY2NlcHROb2RlID0gT2JqZWN0LmFzc2lnbihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIGFjY2VwdChub2RlKTtcbiAgICB9LCB7XG4gICAgICBhY2NlcHROb2RlOiBhY2NlcHRcbiAgICB9KTtcbiAgICB2YXIgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250YWluZXIsIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULCBhY2NlcHROb2RlLCBmYWxzZSk7XG5cbiAgICB3aGlsZSAod2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgIHdhbGsod2Fsa2VyLmN1cnJlbnROb2RlKTtcbiAgICB9XG4gIH0sIFtjb250YWluZXIsIGVuYWJsZWQsIGFjY2VwdFJlZiwgd2Fsa1JlZl0pO1xufVxuXG5leHBvcnQgeyB1c2VUcmVlV2Fsa2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtdHJlZS13YWxrZXIuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIHVzZUlzSW5pdGlhbFJlbmRlcigpIHtcbiAgdmFyIGluaXRpYWwgPSB1c2VSZWYodHJ1ZSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaW5pdGlhbC5jdXJyZW50ID0gZmFsc2U7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIGluaXRpYWwuY3VycmVudDtcbn1cblxuZXhwb3J0IHsgdXNlSXNJbml0aWFsUmVuZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtaXMtaW5pdGlhbC1yZW5kZXIuZXNtLmpzLm1hcFxuIiwiZnVuY3Rpb24gb25jZShjYikge1xuICB2YXIgc3RhdGUgPSB7XG4gICAgY2FsbGVkOiBmYWxzZVxuICB9O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChzdGF0ZS5jYWxsZWQpIHJldHVybjtcbiAgICBzdGF0ZS5jYWxsZWQgPSB0cnVlO1xuICAgIHJldHVybiBjYi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbmV4cG9ydCB7IG9uY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9uY2UuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBhcyBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSwgZXh0ZW5kcyBhcyBfZXh0ZW5kcywgY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlIGFzIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UgfSBmcm9tICcuLi8uLi9fdmlydHVhbC9fcm9sbHVwUGx1Z2luQmFiZWxIZWxwZXJzLmpzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlTWVtbywgdXNlRWZmZWN0LCBGcmFnbWVudCwgdXNlQ29udGV4dCwgY3JlYXRlQ29udGV4dCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1hdGNoIH0gZnJvbSAnLi4vLi4vdXRpbHMvbWF0Y2guZXNtLmpzJztcbmltcG9ydCB7IHJlbmRlciwgUmVuZGVyU3RyYXRlZ3ksIEZlYXR1cmVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVuZGVyLmVzbS5qcyc7XG5pbXBvcnQgeyB1c2VJc29Nb3JwaGljRWZmZWN0IH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlLWlzby1tb3JwaGljLWVmZmVjdC5lc20uanMnO1xuaW1wb3J0IHsgdXNlU2VydmVySGFuZG9mZkNvbXBsZXRlIH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlLXNlcnZlci1oYW5kb2ZmLWNvbXBsZXRlLmVzbS5qcyc7XG5pbXBvcnQgeyB1c2VJZCB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZS1pZC5lc20uanMnO1xuaW1wb3J0IHsgdXNlSXNNb3VudGVkIH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlLWlzLW1vdW50ZWQuZXNtLmpzJztcbmltcG9ydCB7IHVzZU9wZW5DbG9zZWQsIFN0YXRlLCBPcGVuQ2xvc2VkUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9pbnRlcm5hbC9vcGVuLWNsb3NlZC5lc20uanMnO1xuaW1wb3J0IHsgdXNlSXNJbml0aWFsUmVuZGVyIH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlLWlzLWluaXRpYWwtcmVuZGVyLmVzbS5qcyc7XG5pbXBvcnQgeyB0cmFuc2l0aW9uLCBSZWFzb24gfSBmcm9tICcuL3V0aWxzL3RyYW5zaXRpb24uZXNtLmpzJztcblxuZnVuY3Rpb24gdXNlU3BsaXRDbGFzc2VzKGNsYXNzZXMpIHtcbiAgaWYgKGNsYXNzZXMgPT09IHZvaWQgMCkge1xuICAgIGNsYXNzZXMgPSAnJztcbiAgfVxuXG4gIHJldHVybiB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2xhc3Nlcy5zcGxpdCgnICcpLmZpbHRlcihmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICByZXR1cm4gY2xhc3NOYW1lLnRyaW0oKS5sZW5ndGggPiAxO1xuICAgIH0pO1xuICB9LCBbY2xhc3Nlc10pO1xufVxuXG52YXIgVHJhbnNpdGlvbkNvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcblRyYW5zaXRpb25Db250ZXh0LmRpc3BsYXlOYW1lID0gJ1RyYW5zaXRpb25Db250ZXh0JztcbnZhciBUcmVlU3RhdGVzO1xuXG4oZnVuY3Rpb24gKFRyZWVTdGF0ZXMpIHtcbiAgVHJlZVN0YXRlc1tcIlZpc2libGVcIl0gPSBcInZpc2libGVcIjtcbiAgVHJlZVN0YXRlc1tcIkhpZGRlblwiXSA9IFwiaGlkZGVuXCI7XG59KShUcmVlU3RhdGVzIHx8IChUcmVlU3RhdGVzID0ge30pKTtcblxuZnVuY3Rpb24gdXNlVHJhbnNpdGlvbkNvbnRleHQoKSB7XG4gIHZhciBjb250ZXh0ID0gdXNlQ29udGV4dChUcmFuc2l0aW9uQ29udGV4dCk7XG5cbiAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgPFRyYW5zaXRpb24uQ2hpbGQgLz4gaXMgdXNlZCBidXQgaXQgaXMgbWlzc2luZyBhIHBhcmVudCA8VHJhbnNpdGlvbiAvPiBvciA8VHJhbnNpdGlvbi5Sb290IC8+LicpO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIHVzZVBhcmVudE5lc3RpbmcoKSB7XG4gIHZhciBjb250ZXh0ID0gdXNlQ29udGV4dChOZXN0aW5nQ29udGV4dCk7XG5cbiAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgPFRyYW5zaXRpb24uQ2hpbGQgLz4gaXMgdXNlZCBidXQgaXQgaXMgbWlzc2luZyBhIHBhcmVudCA8VHJhbnNpdGlvbiAvPiBvciA8VHJhbnNpdGlvbi5Sb290IC8+LicpO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbnZhciBOZXN0aW5nQ29udGV4dCA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KG51bGwpO1xuTmVzdGluZ0NvbnRleHQuZGlzcGxheU5hbWUgPSAnTmVzdGluZ0NvbnRleHQnO1xuXG5mdW5jdGlvbiBoYXNDaGlsZHJlbihiYWcpIHtcbiAgaWYgKCdjaGlsZHJlbicgaW4gYmFnKSByZXR1cm4gaGFzQ2hpbGRyZW4oYmFnLmNoaWxkcmVuKTtcbiAgcmV0dXJuIGJhZy5jdXJyZW50LmZpbHRlcihmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGU7XG4gICAgcmV0dXJuIHN0YXRlID09PSBUcmVlU3RhdGVzLlZpc2libGU7XG4gIH0pLmxlbmd0aCA+IDA7XG59XG5cbmZ1bmN0aW9uIHVzZU5lc3RpbmcoZG9uZSkge1xuICB2YXIgZG9uZVJlZiA9IHVzZVJlZihkb25lKTtcbiAgdmFyIHRyYW5zaXRpb25hYmxlQ2hpbGRyZW4gPSB1c2VSZWYoW10pO1xuICB2YXIgbW91bnRlZCA9IHVzZUlzTW91bnRlZCgpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGRvbmVSZWYuY3VycmVudCA9IGRvbmU7XG4gIH0sIFtkb25lXSk7XG4gIHZhciB1bnJlZ2lzdGVyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGNoaWxkSWQsIHN0cmF0ZWd5KSB7XG4gICAgdmFyIF9tYXRjaDtcblxuICAgIGlmIChzdHJhdGVneSA9PT0gdm9pZCAwKSB7XG4gICAgICBzdHJhdGVneSA9IFJlbmRlclN0cmF0ZWd5LkhpZGRlbjtcbiAgICB9XG5cbiAgICB2YXIgaWR4ID0gdHJhbnNpdGlvbmFibGVDaGlsZHJlbi5jdXJyZW50LmZpbmRJbmRleChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgIHZhciBpZCA9IF9yZWYyLmlkO1xuICAgICAgcmV0dXJuIGlkID09PSBjaGlsZElkO1xuICAgIH0pO1xuICAgIGlmIChpZHggPT09IC0xKSByZXR1cm47XG4gICAgbWF0Y2goc3RyYXRlZ3ksIChfbWF0Y2ggPSB7fSwgX21hdGNoW1JlbmRlclN0cmF0ZWd5LlVubW91bnRdID0gZnVuY3Rpb24gKCkge1xuICAgICAgdHJhbnNpdGlvbmFibGVDaGlsZHJlbi5jdXJyZW50LnNwbGljZShpZHgsIDEpO1xuICAgIH0sIF9tYXRjaFtSZW5kZXJTdHJhdGVneS5IaWRkZW5dID0gZnVuY3Rpb24gKCkge1xuICAgICAgdHJhbnNpdGlvbmFibGVDaGlsZHJlbi5jdXJyZW50W2lkeF0uc3RhdGUgPSBUcmVlU3RhdGVzLkhpZGRlbjtcbiAgICB9LCBfbWF0Y2gpKTtcblxuICAgIGlmICghaGFzQ2hpbGRyZW4odHJhbnNpdGlvbmFibGVDaGlsZHJlbikgJiYgbW91bnRlZC5jdXJyZW50KSB7XG4gICAgICBkb25lUmVmLmN1cnJlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvbmVSZWYuY3VycmVudCgpO1xuICAgIH1cbiAgfSwgW2RvbmVSZWYsIG1vdW50ZWQsIHRyYW5zaXRpb25hYmxlQ2hpbGRyZW5dKTtcbiAgdmFyIHJlZ2lzdGVyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGNoaWxkSWQpIHtcbiAgICB2YXIgY2hpbGQgPSB0cmFuc2l0aW9uYWJsZUNoaWxkcmVuLmN1cnJlbnQuZmluZChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgIHZhciBpZCA9IF9yZWYzLmlkO1xuICAgICAgcmV0dXJuIGlkID09PSBjaGlsZElkO1xuICAgIH0pO1xuXG4gICAgaWYgKCFjaGlsZCkge1xuICAgICAgdHJhbnNpdGlvbmFibGVDaGlsZHJlbi5jdXJyZW50LnB1c2goe1xuICAgICAgICBpZDogY2hpbGRJZCxcbiAgICAgICAgc3RhdGU6IFRyZWVTdGF0ZXMuVmlzaWJsZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC5zdGF0ZSAhPT0gVHJlZVN0YXRlcy5WaXNpYmxlKSB7XG4gICAgICBjaGlsZC5zdGF0ZSA9IFRyZWVTdGF0ZXMuVmlzaWJsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVucmVnaXN0ZXIoY2hpbGRJZCwgUmVuZGVyU3RyYXRlZ3kuVW5tb3VudCk7XG4gICAgfTtcbiAgfSwgW3RyYW5zaXRpb25hYmxlQ2hpbGRyZW4sIHVucmVnaXN0ZXJdKTtcbiAgcmV0dXJuIHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjaGlsZHJlbjogdHJhbnNpdGlvbmFibGVDaGlsZHJlbixcbiAgICAgIHJlZ2lzdGVyOiByZWdpc3RlcixcbiAgICAgIHVucmVnaXN0ZXI6IHVucmVnaXN0ZXJcbiAgICB9O1xuICB9LCBbcmVnaXN0ZXIsIHVucmVnaXN0ZXIsIHRyYW5zaXRpb25hYmxlQ2hpbGRyZW5dKTtcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBldmVudE5hbWVzID0gWydiZWZvcmVFbnRlcicsICdhZnRlckVudGVyJywgJ2JlZm9yZUxlYXZlJywgJ2FmdGVyTGVhdmUnXTtcblxuZnVuY3Rpb24gZW5zdXJlRXZlbnRIb29rc0V4aXN0KGV2ZW50cykge1xuICB2YXIgcmVzdWx0ID0ge307XG5cbiAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShldmVudE5hbWVzKSwgX3N0ZXA7ICEoX3N0ZXAgPSBfaXRlcmF0b3IoKSkuZG9uZTspIHtcbiAgICB2YXIgX2V2ZW50cyRuYW1lO1xuXG4gICAgdmFyIG5hbWUgPSBfc3RlcC52YWx1ZTtcbiAgICByZXN1bHRbbmFtZV0gPSAoX2V2ZW50cyRuYW1lID0gZXZlbnRzW25hbWVdKSAhPSBudWxsID8gX2V2ZW50cyRuYW1lIDogbm9vcDtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHVzZUV2ZW50cyhldmVudHMpIHtcbiAgdmFyIGV2ZW50c1JlZiA9IHVzZVJlZihlbnN1cmVFdmVudEhvb2tzRXhpc3QoZXZlbnRzKSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgZXZlbnRzUmVmLmN1cnJlbnQgPSBlbnN1cmVFdmVudEhvb2tzRXhpc3QoZXZlbnRzKTtcbiAgfSwgW2V2ZW50c10pO1xuICByZXR1cm4gZXZlbnRzUmVmO1xufSAvLyAtLS1cblxuXG52YXIgREVGQVVMVF9UUkFOU0lUSU9OX0NISUxEX1RBRyA9ICdkaXYnO1xudmFyIFRyYW5zaXRpb25DaGlsZFJlbmRlckZlYXR1cmVzID0gRmVhdHVyZXMuUmVuZGVyU3RyYXRlZ3k7XG5cbmZ1bmN0aW9uIFRyYW5zaXRpb25DaGlsZChwcm9wcykge1xuICB2YXIgX21hdGNoMztcblxuICB2YXIgYmVmb3JlRW50ZXIgPSBwcm9wcy5iZWZvcmVFbnRlcixcbiAgICAgIGFmdGVyRW50ZXIgPSBwcm9wcy5hZnRlckVudGVyLFxuICAgICAgYmVmb3JlTGVhdmUgPSBwcm9wcy5iZWZvcmVMZWF2ZSxcbiAgICAgIGFmdGVyTGVhdmUgPSBwcm9wcy5hZnRlckxlYXZlLFxuICAgICAgZW50ZXIgPSBwcm9wcy5lbnRlcixcbiAgICAgIGVudGVyRnJvbSA9IHByb3BzLmVudGVyRnJvbSxcbiAgICAgIGVudGVyVG8gPSBwcm9wcy5lbnRlclRvLFxuICAgICAgZW50ZXJlZCA9IHByb3BzLmVudGVyZWQsXG4gICAgICBsZWF2ZSA9IHByb3BzLmxlYXZlLFxuICAgICAgbGVhdmVGcm9tID0gcHJvcHMubGVhdmVGcm9tLFxuICAgICAgbGVhdmVUbyA9IHByb3BzLmxlYXZlVG8sXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIFtcImJlZm9yZUVudGVyXCIsIFwiYWZ0ZXJFbnRlclwiLCBcImJlZm9yZUxlYXZlXCIsIFwiYWZ0ZXJMZWF2ZVwiLCBcImVudGVyXCIsIFwiZW50ZXJGcm9tXCIsIFwiZW50ZXJUb1wiLCBcImVudGVyZWRcIiwgXCJsZWF2ZVwiLCBcImxlYXZlRnJvbVwiLCBcImxlYXZlVG9cIl0pO1xuXG4gIHZhciBjb250YWluZXIgPSB1c2VSZWYobnVsbCk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKFRyZWVTdGF0ZXMuVmlzaWJsZSksXG4gICAgICBzdGF0ZSA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldFN0YXRlID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBzdHJhdGVneSA9IHJlc3QudW5tb3VudCA/IFJlbmRlclN0cmF0ZWd5LlVubW91bnQgOiBSZW5kZXJTdHJhdGVneS5IaWRkZW47XG5cbiAgdmFyIF91c2VUcmFuc2l0aW9uQ29udGV4dCA9IHVzZVRyYW5zaXRpb25Db250ZXh0KCksXG4gICAgICBzaG93ID0gX3VzZVRyYW5zaXRpb25Db250ZXh0LnNob3csXG4gICAgICBhcHBlYXIgPSBfdXNlVHJhbnNpdGlvbkNvbnRleHQuYXBwZWFyO1xuXG4gIHZhciBfdXNlUGFyZW50TmVzdGluZyA9IHVzZVBhcmVudE5lc3RpbmcoKSxcbiAgICAgIHJlZ2lzdGVyID0gX3VzZVBhcmVudE5lc3RpbmcucmVnaXN0ZXIsXG4gICAgICB1bnJlZ2lzdGVyID0gX3VzZVBhcmVudE5lc3RpbmcudW5yZWdpc3RlcjtcblxuICB2YXIgaW5pdGlhbCA9IHVzZUlzSW5pdGlhbFJlbmRlcigpO1xuICB2YXIgaWQgPSB1c2VJZCgpO1xuICB2YXIgaXNUcmFuc2l0aW9uaW5nID0gdXNlUmVmKGZhbHNlKTtcbiAgdmFyIG5lc3RpbmcgPSB1c2VOZXN0aW5nKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBXaGVuIGFsbCBjaGlsZHJlbiBoYXZlIGJlZW4gdW5tb3VudGVkIHdlIGNhbiBvbmx5IGhpZGUgb3Vyc2VsdmVzIGlmIGFuZCBvbmx5IGlmIHdlIGFyZSBub3RcbiAgICAvLyB0cmFuc2l0aW9uaW5nIG91cnNlbHZlcy4gT3RoZXJ3aXNlIHdlIHdvdWxkIHVubW91bnQgYmVmb3JlIHRoZSB0cmFuc2l0aW9ucyBhcmUgZmluaXNoZWQuXG4gICAgaWYgKCFpc1RyYW5zaXRpb25pbmcuY3VycmVudCkge1xuICAgICAgc2V0U3RhdGUoVHJlZVN0YXRlcy5IaWRkZW4pO1xuICAgICAgdW5yZWdpc3RlcihpZCk7XG4gICAgICBldmVudHMuY3VycmVudC5hZnRlckxlYXZlKCk7XG4gICAgfVxuICB9KTtcbiAgdXNlSXNvTW9ycGhpY0VmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFpZCkgcmV0dXJuO1xuICAgIHJldHVybiByZWdpc3RlcihpZCk7XG4gIH0sIFtyZWdpc3RlciwgaWRdKTtcbiAgdXNlSXNvTW9ycGhpY0VmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9tYXRjaDI7XG5cbiAgICAvLyBJZiB3ZSBhcmUgaW4gYW5vdGhlciBtb2RlIHRoYW4gdGhlIEhpZGRlbiBtb2RlIHRoZW4gaWdub3JlXG4gICAgaWYgKHN0cmF0ZWd5ICE9PSBSZW5kZXJTdHJhdGVneS5IaWRkZW4pIHJldHVybjtcbiAgICBpZiAoIWlkKSByZXR1cm47IC8vIE1ha2Ugc3VyZSB0aGF0IHdlIGFyZSB2aXNpYmxlXG5cbiAgICBpZiAoc2hvdyAmJiBzdGF0ZSAhPT0gVHJlZVN0YXRlcy5WaXNpYmxlKSB7XG4gICAgICBzZXRTdGF0ZShUcmVlU3RhdGVzLlZpc2libGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1hdGNoKHN0YXRlLCAoX21hdGNoMiA9IHt9LCBfbWF0Y2gyW1RyZWVTdGF0ZXMuSGlkZGVuXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1bnJlZ2lzdGVyKGlkKTtcbiAgICB9LCBfbWF0Y2gyW1RyZWVTdGF0ZXMuVmlzaWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVnaXN0ZXIoaWQpO1xuICAgIH0sIF9tYXRjaDIpKTtcbiAgfSwgW3N0YXRlLCBpZCwgcmVnaXN0ZXIsIHVucmVnaXN0ZXIsIHNob3csIHN0cmF0ZWd5XSk7XG4gIHZhciBlbnRlckNsYXNzZXMgPSB1c2VTcGxpdENsYXNzZXMoZW50ZXIpO1xuICB2YXIgZW50ZXJGcm9tQ2xhc3NlcyA9IHVzZVNwbGl0Q2xhc3NlcyhlbnRlckZyb20pO1xuICB2YXIgZW50ZXJUb0NsYXNzZXMgPSB1c2VTcGxpdENsYXNzZXMoZW50ZXJUbyk7XG4gIHZhciBlbnRlcmVkQ2xhc3NlcyA9IHVzZVNwbGl0Q2xhc3NlcyhlbnRlcmVkKTtcbiAgdmFyIGxlYXZlQ2xhc3NlcyA9IHVzZVNwbGl0Q2xhc3NlcyhsZWF2ZSk7XG4gIHZhciBsZWF2ZUZyb21DbGFzc2VzID0gdXNlU3BsaXRDbGFzc2VzKGxlYXZlRnJvbSk7XG4gIHZhciBsZWF2ZVRvQ2xhc3NlcyA9IHVzZVNwbGl0Q2xhc3NlcyhsZWF2ZVRvKTtcbiAgdmFyIGV2ZW50cyA9IHVzZUV2ZW50cyh7XG4gICAgYmVmb3JlRW50ZXI6IGJlZm9yZUVudGVyLFxuICAgIGFmdGVyRW50ZXI6IGFmdGVyRW50ZXIsXG4gICAgYmVmb3JlTGVhdmU6IGJlZm9yZUxlYXZlLFxuICAgIGFmdGVyTGVhdmU6IGFmdGVyTGVhdmVcbiAgfSk7XG4gIHZhciByZWFkeSA9IHVzZVNlcnZlckhhbmRvZmZDb21wbGV0ZSgpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChyZWFkeSAmJiBzdGF0ZSA9PT0gVHJlZVN0YXRlcy5WaXNpYmxlICYmIGNvbnRhaW5lci5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RpZCB5b3UgZm9yZ2V0IHRvIHBhc3N0aHJvdWdoIHRoZSBgcmVmYCB0byB0aGUgYWN0dWFsIERPTSBub2RlPycpO1xuICAgIH1cbiAgfSwgW2NvbnRhaW5lciwgc3RhdGUsIHJlYWR5XSk7IC8vIFNraXBwaW5nIGluaXRpYWwgdHJhbnNpdGlvblxuXG4gIHZhciBza2lwID0gaW5pdGlhbCAmJiAhYXBwZWFyO1xuICB1c2VJc29Nb3JwaGljRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbm9kZSA9IGNvbnRhaW5lci5jdXJyZW50O1xuICAgIGlmICghbm9kZSkgcmV0dXJuO1xuICAgIGlmIChza2lwKSByZXR1cm47XG4gICAgaXNUcmFuc2l0aW9uaW5nLmN1cnJlbnQgPSB0cnVlO1xuICAgIGlmIChzaG93KSBldmVudHMuY3VycmVudC5iZWZvcmVFbnRlcigpO1xuICAgIGlmICghc2hvdykgZXZlbnRzLmN1cnJlbnQuYmVmb3JlTGVhdmUoKTtcbiAgICByZXR1cm4gc2hvdyA/IHRyYW5zaXRpb24obm9kZSwgZW50ZXJDbGFzc2VzLCBlbnRlckZyb21DbGFzc2VzLCBlbnRlclRvQ2xhc3NlcywgZW50ZXJlZENsYXNzZXMsIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGlzVHJhbnNpdGlvbmluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBpZiAocmVhc29uID09PSBSZWFzb24uRmluaXNoZWQpIGV2ZW50cy5jdXJyZW50LmFmdGVyRW50ZXIoKTtcbiAgICB9KSA6IHRyYW5zaXRpb24obm9kZSwgbGVhdmVDbGFzc2VzLCBsZWF2ZUZyb21DbGFzc2VzLCBsZWF2ZVRvQ2xhc3NlcywgZW50ZXJlZENsYXNzZXMsIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGlzVHJhbnNpdGlvbmluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBpZiAocmVhc29uICE9PSBSZWFzb24uRmluaXNoZWQpIHJldHVybjsgLy8gV2hlbiB3ZSBkb24ndCBoYXZlIGNoaWxkcmVuIGFueW1vcmUgd2UgY2FuIHNhZmVseSB1bnJlZ2lzdGVyIGZyb20gdGhlIHBhcmVudCBhbmQgaGlkZVxuICAgICAgLy8gb3Vyc2VsdmVzLlxuXG4gICAgICBpZiAoIWhhc0NoaWxkcmVuKG5lc3RpbmcpKSB7XG4gICAgICAgIHNldFN0YXRlKFRyZWVTdGF0ZXMuSGlkZGVuKTtcbiAgICAgICAgdW5yZWdpc3RlcihpZCk7XG4gICAgICAgIGV2ZW50cy5jdXJyZW50LmFmdGVyTGVhdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW2V2ZW50cywgaWQsIGlzVHJhbnNpdGlvbmluZywgdW5yZWdpc3RlciwgbmVzdGluZywgY29udGFpbmVyLCBza2lwLCBzaG93LCBlbnRlckNsYXNzZXMsIGVudGVyRnJvbUNsYXNzZXMsIGVudGVyVG9DbGFzc2VzLCBsZWF2ZUNsYXNzZXMsIGxlYXZlRnJvbUNsYXNzZXMsIGxlYXZlVG9DbGFzc2VzXSk7XG4gIHZhciBwcm9wc1dlQ29udHJvbCA9IHtcbiAgICByZWY6IGNvbnRhaW5lclxuICB9O1xuICB2YXIgcGFzc3Rocm91Z2hQcm9wcyA9IHJlc3Q7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KE5lc3RpbmdDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IG5lc3RpbmdcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChPcGVuQ2xvc2VkUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogbWF0Y2goc3RhdGUsIChfbWF0Y2gzID0ge30sIF9tYXRjaDNbVHJlZVN0YXRlcy5WaXNpYmxlXSA9IFN0YXRlLk9wZW4sIF9tYXRjaDNbVHJlZVN0YXRlcy5IaWRkZW5dID0gU3RhdGUuQ2xvc2VkLCBfbWF0Y2gzKSlcbiAgfSwgcmVuZGVyKHtcbiAgICBwcm9wczogX2V4dGVuZHMoe30sIHBhc3N0aHJvdWdoUHJvcHMsIHByb3BzV2VDb250cm9sKSxcbiAgICBkZWZhdWx0VGFnOiBERUZBVUxUX1RSQU5TSVRJT05fQ0hJTERfVEFHLFxuICAgIGZlYXR1cmVzOiBUcmFuc2l0aW9uQ2hpbGRSZW5kZXJGZWF0dXJlcyxcbiAgICB2aXNpYmxlOiBzdGF0ZSA9PT0gVHJlZVN0YXRlcy5WaXNpYmxlLFxuICAgIG5hbWU6ICdUcmFuc2l0aW9uLkNoaWxkJ1xuICB9KSkpO1xufVxuXG5mdW5jdGlvbiBUcmFuc2l0aW9uKHByb3BzKSB7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgdmFyIHNob3cgPSBwcm9wcy5zaG93LFxuICAgICAgX3Byb3BzJGFwcGVhciA9IHByb3BzLmFwcGVhcixcbiAgICAgIGFwcGVhciA9IF9wcm9wcyRhcHBlYXIgPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJGFwcGVhcixcbiAgICAgIHVubW91bnQgPSBwcm9wcy51bm1vdW50LFxuICAgICAgcGFzc3Rocm91Z2hQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJzaG93XCIsIFwiYXBwZWFyXCIsIFwidW5tb3VudFwiXSk7XG5cbiAgdmFyIHVzZXNPcGVuQ2xvc2VkU3RhdGUgPSB1c2VPcGVuQ2xvc2VkKCk7XG5cbiAgaWYgKHNob3cgPT09IHVuZGVmaW5lZCAmJiB1c2VzT3BlbkNsb3NlZFN0YXRlICE9PSBudWxsKSB7XG4gICAgdmFyIF9tYXRjaDQ7XG5cbiAgICBzaG93ID0gbWF0Y2godXNlc09wZW5DbG9zZWRTdGF0ZSwgKF9tYXRjaDQgPSB7fSwgX21hdGNoNFtTdGF0ZS5PcGVuXSA9IHRydWUsIF9tYXRjaDRbU3RhdGUuQ2xvc2VkXSA9IGZhbHNlLCBfbWF0Y2g0KSk7XG4gIH1cblxuICBpZiAoIVt0cnVlLCBmYWxzZV0uaW5jbHVkZXMoc2hvdykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgPFRyYW5zaXRpb24gLz4gaXMgdXNlZCBidXQgaXQgaXMgbWlzc2luZyBhIGBzaG93PXt0cnVlIHwgZmFsc2V9YCBwcm9wLicpO1xuICB9XG5cbiAgdmFyIF91c2VTdGF0ZTIgPSB1c2VTdGF0ZShzaG93ID8gVHJlZVN0YXRlcy5WaXNpYmxlIDogVHJlZVN0YXRlcy5IaWRkZW4pLFxuICAgICAgc3RhdGUgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0U3RhdGUgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBuZXN0aW5nQmFnID0gdXNlTmVzdGluZyhmdW5jdGlvbiAoKSB7XG4gICAgc2V0U3RhdGUoVHJlZVN0YXRlcy5IaWRkZW4pO1xuICB9KTtcbiAgdmFyIGluaXRpYWwgPSB1c2VJc0luaXRpYWxSZW5kZXIoKTtcbiAgdmFyIHRyYW5zaXRpb25CYWcgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvdzogc2hvdyxcbiAgICAgIGFwcGVhcjogYXBwZWFyIHx8ICFpbml0aWFsXG4gICAgfTtcbiAgfSwgW3Nob3csIGFwcGVhciwgaW5pdGlhbF0pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChzaG93KSB7XG4gICAgICBzZXRTdGF0ZShUcmVlU3RhdGVzLlZpc2libGUpO1xuICAgIH0gZWxzZSBpZiAoIWhhc0NoaWxkcmVuKG5lc3RpbmdCYWcpKSB7XG4gICAgICBzZXRTdGF0ZShUcmVlU3RhdGVzLkhpZGRlbik7XG4gICAgfVxuICB9LCBbc2hvdywgbmVzdGluZ0JhZ10pO1xuICB2YXIgc2hhcmVkUHJvcHMgPSB7XG4gICAgdW5tb3VudDogdW5tb3VudFxuICB9O1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChOZXN0aW5nQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBuZXN0aW5nQmFnXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNpdGlvbkNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogdHJhbnNpdGlvbkJhZ1xuICB9LCByZW5kZXIoe1xuICAgIHByb3BzOiBfZXh0ZW5kcyh7fSwgc2hhcmVkUHJvcHMsIHtcbiAgICAgIGFzOiBGcmFnbWVudCxcbiAgICAgIGNoaWxkcmVuOiBSZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zaXRpb25DaGlsZCwgT2JqZWN0LmFzc2lnbih7fSwgc2hhcmVkUHJvcHMsIHBhc3N0aHJvdWdoUHJvcHMpKVxuICAgIH0pLFxuICAgIGRlZmF1bHRUYWc6IEZyYWdtZW50LFxuICAgIGZlYXR1cmVzOiBUcmFuc2l0aW9uQ2hpbGRSZW5kZXJGZWF0dXJlcyxcbiAgICB2aXNpYmxlOiBzdGF0ZSA9PT0gVHJlZVN0YXRlcy5WaXNpYmxlLFxuICAgIG5hbWU6ICdUcmFuc2l0aW9uJ1xuICB9KSkpO1xufVxuXG5UcmFuc2l0aW9uLkNoaWxkID0gZnVuY3Rpb24gQ2hpbGQocHJvcHMpIHtcbiAgdmFyIGhhc1RyYW5zaXRpb25Db250ZXh0ID0gdXNlQ29udGV4dChUcmFuc2l0aW9uQ29udGV4dCkgIT09IG51bGw7XG4gIHZhciBoYXNPcGVuQ2xvc2VkQ29udGV4dCA9IHVzZU9wZW5DbG9zZWQoKSAhPT0gbnVsbDtcbiAgcmV0dXJuICFoYXNUcmFuc2l0aW9uQ29udGV4dCAmJiBoYXNPcGVuQ2xvc2VkQ29udGV4dCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNpdGlvbiwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNpdGlvbkNoaWxkLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpO1xufTtcblxuVHJhbnNpdGlvbi5Sb290ID0gVHJhbnNpdGlvbjtcblxuZXhwb3J0IHsgVHJhbnNpdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNpdGlvbi5lc20uanMubWFwXG4iLCJjb25zdCBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxuZnVuY3Rpb24gTWVudUljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIE9iamVjdC5hc3NpZ24oe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgdmlld0JveDogXCIwIDAgMjAgMjBcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gIH0sIHByb3BzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMyA1YTEgMSAwIDAxMS0xaDEyYTEgMSAwIDExMCAySDRhMSAxIDAgMDEtMS0xek0zIDEwYTEgMSAwIDAxMS0xaDEyYTEgMSAwIDExMCAySDRhMSAxIDAgMDEtMS0xek0zIDE1YTEgMSAwIDAxMS0xaDEyYTEgMSAwIDExMCAySDRhMSAxIDAgMDEtMS0xelwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9KSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTWVudUljb247IiwiLyoqXG4gKiBGaWxlOiBpbmRleC50c1xuICogUHJvamVjdDogY2hhdHRpbmctbWluaW1hbFxuICogRmlsZSBDcmVhdGVkOiAwMiBPY3QgMjAyMSAxODoxMDo0OVxuICogQXV0aG9yOiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogTGFzdCBNb2RpZmllZDogMDIgT2N0IDIwMjEgMTg6MTM6NDhcbiAqIE1vZGlmaWVkIEJ5OiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogQ29weXJpZ2h0IChjKSAyMDIxIHVuZDNmaW5lZC5jb21cbiAqL1xuaW1wb3J0IHtGcmFnbWVudH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tICdAaGVhZGxlc3N1aS9yZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0ICh7Y2hpbGRyZW59OiBhbnkpID0+IChcbiAgPFRyYW5zaXRpb25cbiAgICBhcz17RnJhZ21lbnR9XG4gICAgZW50ZXI9J3UzLXRyYW5zaXRpb24gdTMtZWFzZS1vdXQgdTMtZHVyYXRpb24tMTAwJ1xuICAgIGVudGVyRnJvbT0ndTMtdHJhbnNmb3JtIHUzLW9wYWNpdHktMCB1My1zY2FsZS05NSdcbiAgICBlbnRlclRvPSd1My10cmFuc2Zvcm0gdTMtb3BhY2l0eS0xMDAgdTMtc2NhbGUtMTAwJ1xuICAgIGxlYXZlPSd1My10cmFuc2l0aW9uIHUzLWVhc2UtaW4gdTMtZHVyYXRpb24tNzUnXG4gICAgbGVhdmVGcm9tPSd1My10cmFuc2Zvcm0gdTMtb3BhY2l0eS0xMDAgdTMtc2NhbGUtMTAwJ1xuICAgIGxlYXZlVG89J3UzLXRyYW5zZm9ybSB1My1vcGFjaXR5LTAgdTMtc2NhbGUtOTUnXG4gID5cbiAgICB7Y2hpbGRyZW59XG4gIDwvVHJhbnNpdGlvbj5cbik7XG4iLCIvKipcbiAqIEZpbGU6IE1lbnVJdGVtLnRzeFxuICogUHJvamVjdDogY2hhdHRpbmctbWluaW1hbFxuICogRmlsZSBDcmVhdGVkOiAwMiBPY3QgMjAyMSAxODoxNDo1NFxuICogQXV0aG9yOiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogTGFzdCBNb2RpZmllZDogMDIgT2N0IDIwMjEgMTg6NTE6NDFcbiAqIE1vZGlmaWVkIEJ5OiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogQ29weXJpZ2h0IChjKSAyMDIxIHVuZDNmaW5lZC5jb21cbiAqL1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQge01lbnV9IGZyb20gJ0BoZWFkbGVzc3VpL3JlYWN0JztcblxudHlwZSBNZW51SXRlbVByb3BzID0ge1xuICBuYW1lOiBzdHJpbmcgfCBSZWFjdC5SZWFjdE5vZGU7XG4gIGljb24/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGNsYXNzQWN0aXZlPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBjbGFzc05hbWU/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIG9uQ2xpY2s6ICgpID0+IHZvaWQ7IFxufVxuXG5leHBvcnQgZGVmYXVsdCAocHJvcHM6IE1lbnVJdGVtUHJvcHMpID0+IHtcbiAgY29uc3QgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lIHx8ICd1My1ncm91cCB1My10ZXh0LWdyYXktOTAwIHUzLWZsZXggdTMtcm91bmRlZC1tZCB1My1pdGVtcy1jZW50ZXIgdTMtdy1mdWxsIHUzLXB4LTIgdTMtcHktMSB1My10ZXh0LXNtJztcbiAgY29uc3QgY2xhc3NBY3RpdmUgPSBwcm9wcy5jbGFzc0FjdGl2ZSB8fCAndTMtYmctcHJpbWFyeSB1My10ZXh0LXdoaXRlJztcblxuICByZXR1cm4gKFxuICAgIDxNZW51Lkl0ZW0+XG4gICAgICB7KHthY3RpdmV9KSA9PiAoXG4gICAgICAgIDxidXR0b24gb25DbGljaz17cHJvcHMub25DbGlja30gY2xhc3NOYW1lPXtjbHN4KGNsYXNzTmFtZSwge1tjbGFzc0FjdGl2ZV06IGFjdGl2ZX0pfT5cbiAgICAgICAgICB7cHJvcHMuaWNvbn1cbiAgICAgICAgICB7cHJvcHMubmFtZX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApfVxuICAgIDwvTWVudS5JdGVtPlxuICApO1xufTtcbiIsIi8qKlxuICogRmlsZTogaW5kZXgudHNcbiAqIFByb2plY3Q6IGNoYXR0aW5nLW1pbmltYWxcbiAqIEZpbGUgQ3JlYXRlZDogMDIgT2N0IDIwMjEgMTg6MDA6NTFcbiAqIEF1dGhvcjogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIExhc3QgTW9kaWZpZWQ6IDAyIE9jdCAyMDIxIDE4OjA2OjU5XG4gKiBNb2RpZmllZCBCeTogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAyMSB1bmQzZmluZWQuY29tXG4gKi9cbmltcG9ydCB7IGNvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcblxuaW1wb3J0IFJvb3RNZW51IGZyb20gJy4vUm9vdE1lbnUnO1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KCkoUm9vdE1lbnUpOyIsIi8qKlxuICogRmlsZTogUm9vdE1lbnUudHN4XG4gKiBQcm9qZWN0OiBjaGF0dGluZy1taW5pbWFsXG4gKiBGaWxlIENyZWF0ZWQ6IDAyIE9jdCAyMDIxIDE4OjAwOjU5XG4gKiBBdXRob3I6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBMYXN0IE1vZGlmaWVkOiAxMyBPY3QgMjAyMSAxNzo0OTo0M1xuICogTW9kaWZpZWQgQnk6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgdW5kM2ZpbmVkLmNvbVxuICovXG5pbXBvcnQge01lbnV9IGZyb20gJ0BoZWFkbGVzc3VpL3JlYWN0JztcbmltcG9ydCB7RnJhZ21lbnQsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZX0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1lbnVTb2xpZCBmcm9tICdAaGVyb2ljb25zL3JlYWN0L3NvbGlkL01lbnVJY29uJztcblxuaW1wb3J0IFRyYW5zaXRpb25Eb3duIGZyb20gJ0Bjb21wb25lbnRzL3dpZGdldHMvVHJhbnNpdGlvbkRvd24nO1xuaW1wb3J0IE1lbnVJdGVtIGZyb20gJ0Bjb21wb25lbnRzL3dpZGdldHMvTWVudS9NZW51SXRlbSc7XG5cbmltcG9ydCBjbGFzc2VzIGZyb20gJy4vc3R5bGVzLm1vZHVsZS5zY3NzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdE1lbnUoeyBoaXN0b3J5IH06YW55KSB7XG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gKHBhdGg6IHN0cmluZykgPT4ge1xuICAgIGhpc3RvcnkucHVzaChwYXRoKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPE1lbnUgYXM9J2RpdicgY2xhc3NOYW1lPSd1My1yZWxhdGl2ZSB1My1pbmxpbmUtYmxvY2snPlxuICAgICAgPE1lbnUuQnV0dG9uIGNsYXNzTmFtZT17Y2xhc3Nlcy5tZW51QnRufT5cbiAgICAgICAgPE1lbnVTb2xpZFxuICAgICAgICAgIGNsYXNzTmFtZT0ndTMtdy00IHUzLWgtNCB1My10ZXh0LXZpb2xldC0yMDAgaG92ZXI6dGV4dC12aW9sZXQtMTAwJ1xuICAgICAgICAgIGFyaWEtaGlkZGVuPSd0cnVlJ1xuICAgICAgICAvPlxuICAgICAgPC9NZW51LkJ1dHRvbj5cbiAgICAgIDxUcmFuc2l0aW9uRG93bj5cbiAgICAgICAgPE1lbnUuSXRlbXMgY2xhc3NOYW1lPXtjbGFzc2VzLm1lbnVJdGVtc30+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3UzLXB4LTEgdTMtcHktMSc+XG4gICAgICAgICAgICA8TWVudUl0ZW0gbmFtZT0nR2nhu5tpIHRoaeG7h3UnIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNsaWNrKCcvYWJvdXQnKX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9NZW51Lkl0ZW1zPlxuICAgICAgPC9UcmFuc2l0aW9uRG93bj5cbiAgICA8L01lbnU+XG4gICk7XG59XG4iLCIvKipcbiAqIEZpbGU6IFJvdXRlLnByb2QudHN4XG4gKiBQcm9qZWN0OiBjaGF0dGluZy1taW5pbWFsXG4gKiBGaWxlIENyZWF0ZWQ6IDA3IE9jdCAyMDIxIDIwOjUzOjE1XG4gKiBBdXRob3I6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBMYXN0IE1vZGlmaWVkOiAwNyBPY3QgMjAyMSAyMDo1NTozNVxuICogTW9kaWZpZWQgQnk6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgdW5kM2ZpbmVkLmNvbVxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtTd2l0Y2gsIFJvdXRlLCBSZWRpcmVjdCwgUm91dGVDaGlsZHJlblByb3BzfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcblxuaW1wb3J0IEFzeW5jQ29tcG9uZW50IGZyb20gJ0Bjb21wb25lbnRzL0FzeW5jQ29tcG9uZW50JztcblxuY29uc3QgTGF6eUxvZ2dlZEluID0gUmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJ0Bjb21wb25lbnRzL0xvZ2dlZEluJykpO1xuY29uc3QgTGF6eUVycm9yUGFnZSA9IFJlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCdAcGFnZXMvRXJyb3InKSk7XG5jb25zdCBMYXp5QWJvdXRQYWdlID0gUmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJ0BwYWdlcy9BYm91dCcpKTtcbmNvbnN0IExhenlDb25uZWN0UGFnZSA9IFJlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCdAcGFnZXMvQ29ubmVjdCcpKTtcbmNvbnN0IExhenlKb2luUGFnZSA9IFJlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCdAcGFnZXMvSm9pbicpKTtcbmNvbnN0IExhenlUZWFtUGFnZSA9IFJlYWN0LmxhenkoKCkgPT4gaW1wb3J0KCdAcGFnZXMvVGVhbScpKTtcblxuY29uc3QgTG9nZ2VkSW4gPSBBc3luY0NvbXBvbmVudChMYXp5TG9nZ2VkSW4pO1xuY29uc3QgRXJyb3JQYWdlID0gQXN5bmNDb21wb25lbnQoTGF6eUVycm9yUGFnZSk7XG5jb25zdCBBYm91dFBhZ2UgPSBBc3luY0NvbXBvbmVudChMYXp5QWJvdXRQYWdlKTtcbmNvbnN0IENvbm5lY3RQYWdlID0gQXN5bmNDb21wb25lbnQoTGF6eUNvbm5lY3RQYWdlKTtcbmNvbnN0IEpvaW5UZWFtUGFnZSA9IEFzeW5jQ29tcG9uZW50KExhenlKb2luUGFnZSk7XG5jb25zdCBUZWFtUGFnZSA9IEFzeW5jQ29tcG9uZW50KExhenlUZWFtUGFnZSk7XG5cbmNvbnN0IExvZ2dlZEluUm91dGUgPSAoe2NvbXBvbmVudDogQ29tcG9uZW50LCAuLi5yZXN0fTogYW55KSA9PiAoXG4gIDxSb3V0ZVxuICAgIHsuLi5yZXN0fVxuICAgIHJlbmRlcj17KHByb3BzKSA9PiAoXG4gICAgICA8TG9nZ2VkSW4gey4uLnByb3BzfT5cbiAgICAgICAgPENvbXBvbmVudCB7Li4ucHJvcHN9IC8+XG4gICAgICA8L0xvZ2dlZEluPlxuICAgICl9XG4gIC8+XG4pO1xuXG5leHBvcnQgZGVmYXVsdCAocHJvcHM6IFJvdXRlQ2hpbGRyZW5Qcm9wcykgPT4gKFxuICA8U3dpdGNoPlxuICAgIDxSb3V0ZSBwYXRoPXsnL2Vycm9yJ30gY29tcG9uZW50PXtFcnJvclBhZ2V9IC8+XG4gICAgPFJvdXRlIHBhdGg9eycvYWJvdXQnfSBjb21wb25lbnQ9e0Fib3V0UGFnZX0gLz5cbiAgICA8Um91dGUgcGF0aD17Jy9jb25uZWN0J30gY29tcG9uZW50PXtDb25uZWN0UGFnZX0gLz5cbiAgICA8TG9nZ2VkSW5Sb3V0ZSBwYXRoPXsnL2pvaW4nfSBjb21wb25lbnQ9e0pvaW5UZWFtUGFnZX0gLz5cbiAgICA8TG9nZ2VkSW5Sb3V0ZSBwYXRoPXsnLzp0ZWFtJ30gY29tcG9uZW50PXtUZWFtUGFnZX0gLz5cbiAgICA8UmVkaXJlY3QgdG89e3suLi5wcm9wcy5sb2NhdGlvbiwgcGF0aG5hbWU6ICcvY29ubmVjdCd9fSAvPlxuICA8L1N3aXRjaD5cbik7XG4iLCJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBEYXRlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAqIH0sIF8ubm93KCkpO1xuICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAqL1xudmFyIG5vdyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBub3c7XG4iLCIvKiogVXNlZCB0byBtYXRjaCBhIHNpbmdsZSB3aGl0ZXNwYWNlIGNoYXJhY3Rlci4gKi9cbnZhciByZVdoaXRlc3BhY2UgPSAvXFxzLztcblxuLyoqXG4gKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlXG4gKiBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyLlxuICovXG5mdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSB7XG4gIHZhciBpbmRleCA9IHN0cmluZy5sZW5ndGg7XG5cbiAgd2hpbGUgKGluZGV4LS0gJiYgcmVXaGl0ZXNwYWNlLnRlc3Qoc3RyaW5nLmNoYXJBdChpbmRleCkpKSB7fVxuICByZXR1cm4gaW5kZXg7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdHJpbW1lZEVuZEluZGV4O1xuIiwidmFyIHRyaW1tZWRFbmRJbmRleCA9IHJlcXVpcmUoJy4vX3RyaW1tZWRFbmRJbmRleCcpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIHdoaXRlc3BhY2UuICovXG52YXIgcmVUcmltU3RhcnQgPSAvXlxccysvO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRyaW1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVHJpbShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZ1xuICAgID8gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSkucmVwbGFjZShyZVRyaW1TdGFydCwgJycpXG4gICAgOiBzdHJpbmc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVRyaW07XG4iLCJ2YXIgYmFzZVRyaW0gPSByZXF1aXJlKCcuL19iYXNlVHJpbScpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b051bWJlcjtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBub3cgPSByZXF1aXJlKCcuL25vdycpLFxuICAgIHRvTnVtYmVyID0gcmVxdWlyZSgnLi90b051bWJlcicpO1xuXG4vKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgdGltZVdhaXRpbmcgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICByZXR1cm4gbWF4aW5nXG4gICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICA6IHRpbWVXYWl0aW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgfVxuICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICB9XG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICB9XG4gICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgcmV0dXJuIGRlYm91bmNlZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWJvdW5jZTtcbiIsInZhciBkZWJvdW5jZSA9IHJlcXVpcmUoJy4vZGVib3VuY2UnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKTtcblxuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gKlxuICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG4gIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0aHJvdHRsZTtcbiIsIi8qKlxuICogRmlsZTogUm9vdFgudHN4XG4gKiBQcm9qZWN0OiBjaGF0dGluZy1taW5pbWFsXG4gKiBGaWxlIENyZWF0ZWQ6IDA3IE9jdCAyMDIxIDIwOjQ3OjMyXG4gKiBBdXRob3I6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBMYXN0IE1vZGlmaWVkOiAyMSBPY3QgMjAyMSAxMDo1NTowNVxuICogTW9kaWZpZWQgQnk6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgdW5kM2ZpbmVkLmNvbVxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEZhc3RDbGljayBmcm9tICdmYXN0Y2xpY2snO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5cbmltcG9ydCBJY29uUmVmcmVzaCBmcm9tICdAaGVyb2ljb25zL3JlYWN0L291dGxpbmUvUmVmcmVzaEljb24nO1xuXG5pbXBvcnQge0NsaWVudDR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L2NsaWVudCc7XG5pbXBvcnQge3NldFVybH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvYWN0aW9ucy9nZW5lcmFsJztcbmltcG9ydCB7c2V0U3lzdGVtRW1vamlzfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL2Vtb2ppcyc7XG5cbmltcG9ydCB7Z2V0Q3VycmVudFVzZXJ9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy91c2Vycyc7XG5cbmltcG9ydCB7ZW1pdFVzZXJMb2dnZWRPdXRFdmVudCwgcmVkaXJlY3RVc2VyVG9EZWZhdWx0VGVhbX0gZnJvbSAnJGFjdGlvbnMvZ2xvYmFsX2FjdGlvbnMnO1xuXG5pbXBvcnQgc3RvcmUgZnJvbSAnJHN0b3Jlcy9yZWR1eF9zdG9yZS5qc3gnO1xuaW1wb3J0IHtnZXRTaXRlVVJMLCBnZXRBcGlVUkwsIGdldERvbWFpbn0gZnJvbSAnJHV0aWxzL3VybCc7XG5cbmltcG9ydCB7RW1vamlJbmRpY2VzQnlBbGlhc30gZnJvbSAnJHV0aWxzL2Vtb2ppJztcbmltcG9ydCB7U3RvcmFnZVByZWZpeGVzfSBmcm9tICckdXRpbHMvY29uc3RhbnRzJztcblxuaW1wb3J0IHtsb2FkUmVjZW50bHlVc2VkQ3VzdG9tRW1vamlzfSBmcm9tICckYWN0aW9ucy9lbW9qaV9hY3Rpb25zJztcbmltcG9ydCBMb2NhbFN0b3JhZ2VTdG9yZSBmcm9tICckc3RvcmVzL2xvY2FsX3N0b3JhZ2Vfc3RvcmUnO1xuXG5pbXBvcnQge3Jvb3RFbGVtZW50fSBmcm9tICdAdXRpbHMvaW50ZWdyYXRlJztcbmltcG9ydCB7QXBwQ29udGV4dFByb3ZpZGVyfSBmcm9tICdAdXRpbHMvQXBwQ29udGV4dCc7XG5cbmltcG9ydCBJbnRsUHJvdmlkZXIgZnJvbSAnQGNvbXBvbmVudHMvSW50bFByb3ZpZGVyJztcbmltcG9ydCBMb2FkaW5nU2NyZWVuIGZyb20gJ0Bjb21wb25lbnRzL0xvYWRpbmdTY3JlZW4nO1xuaW1wb3J0IExvZ28gZnJvbSAnQGNvbXBvbmVudHMvSWNvbnMvTG9nbyc7XG5pbXBvcnQgUGx1c1NvaWxkIGZyb20gJ0Bjb21wb25lbnRzL0ljb25zL1BsdXNTb2lsZCc7XG5pbXBvcnQgTWludXNTb2lsZCBmcm9tICdAY29tcG9uZW50cy9JY29ucy9NaW51c1NvaWxkJztcbmltcG9ydCBSb290TWVudSBmcm9tICdAY29tcG9uZW50cy9Sb290TWVudSc7XG5cbmltcG9ydCBSb3V0ZSBmcm9tICcuL1JvdXRlLnByb2QnO1xuXG5pbXBvcnQgdHlwZSB7UHJvcHMsIFN0YXRlfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCBjbGFzc2VzIGZyb20gJy4vc3R5bGVzLm1vZHVsZS5zY3NzJztcbmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gvdGhyb3R0bGUnO1xuXG5jbGFzcyBSb290WCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHByaXZhdGUgbW91bnRlZDogYm9vbGVhbjtcbiAgcHJpdmF0ZSB0aXRsZVJlZjogUmVhY3QuUmVmT2JqZWN0PGFueT47XG4gIHByaXZhdGUgZGVib3VuY2VSZWxvYWQ6IGFueTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5tb3VudGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLnRpdGxlUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG5cbiAgICBzZXRVcmwoZ2V0QXBpVVJMKCkgfHwgZ2V0U2l0ZVVSTCgpKTtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBzZXRTeXN0ZW1FbW9qaXMoRW1vamlJbmRpY2VzQnlBbGlhcyk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIHRoaXMuaGFuZGxlTG9nb3V0TG9naW5TaWduYWwpO1xuICAgIC8vIFByZXZlbnQgZHJhZyBhbmQgZHJvcCBmaWxlcyBmcm9tIG5hdmlnYXRpbmcgYXdheSBmcm9tIHRoZSBhcHBcbiAgICByb290RWxlbWVudCgpPy5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5oYW5kbGVEbmRFdmVudCk7XG4gICAgcm9vdEVsZW1lbnQoKT8uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLmhhbmRsZURuZEV2ZW50KTtcblxuICAgIHRoaXMuZGVib3VuY2VSZWxvYWQgPSB0aHJvdHRsZShcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5oaXN0b3J5LnJlcGxhY2UoJy8nKTtcbiAgICAgIH0sXG4gICAgICA1MDAwLFxuICAgICAge3RyYWlsaW5nOiBmYWxzZX1cbiAgICApO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNvbmZpZ0xvYWRlZDogISFwcm9wcy5zaXRlTmFtZSxcbiAgICAgIGV4cGFuZGVkOiB0cnVlLFxuICAgICAgcmVsb2FkOiBmYWxzZSxcbiAgICAgIGJhZGdlOiAnJyxcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgRmFzdENsaWNrKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1My1jaGF0dGluZycpKTtcblxuICAgIHJvb3RFbGVtZW50KCk/LnN0eWxlLnNldFByb3BlcnR5KCctLXUzLWNoYXR0aW5nLWNvbnRlbnQtd2lkdGgnLCBgJHtyb290RWxlbWVudCgpPy5jbGllbnRXaWR0aCB8fCA0NDB9cHhgKTtcbiAgICByb290RWxlbWVudCgpPy5jbGFzc0xpc3QuYWRkKCd1My1jaGF0LW1haW4nKTtcblxuICAgIHRoaXMubW91bnRlZCA9IHRydWU7XG4gICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKHByb3BzLmNsaWVudElkKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IExvY2FsU3RvcmFnZVN0b3JlLmdldFRva2VuKHByb3BzLmNsaWVudElkKTtcbiAgICAgIGNvbnN0IGNzcmYgPSBMb2NhbFN0b3JhZ2VTdG9yZS5nZXRDc3JmKHByb3BzLmNsaWVudElkKTtcblxuICAgICAgaWYgKHRva2VuICYmIGNzcmYpIHtcbiAgICAgICAgQ2xpZW50NC5zZXRUb2tlbih0b2tlbik7XG4gICAgICAgIENsaWVudDQuc2V0Q1NSRihjc3JmKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXByb3BzLnNpdGVOYW1lICYmIHByb3BzLmNsaWVudElkKSB7XG4gICAgICBjb25zdCBbY2xpZW50LCBsaWNlbnNlLCBhcHAsIG1lXSA9IGF3YWl0IHByb3BzLmFjdGlvbnMubG9hZE1lQW5kQ29uZmlnKHByb3BzLmNsaWVudElkKTtcbiAgICAgIGlmIChwcm9wcy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nICYmIG1lICYmIG1lLmRhdGEpIHtcbiAgICAgICAgcmVkaXJlY3RVc2VyVG9EZWZhdWx0VGVhbShwcm9wcy5oaXN0b3J5KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5oYW5kbGVDb25maWdMb2FkZWQobWUgJiYgbWUuZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCB7bG9jYXRpb24sIG5vQWNjb3VudHMsIGFsbG93ZWREb21haW5zLCBjbGllbnRWYWxpZH0gPSB0aGlzLnByb3BzO1xuXG4gICAgLy8gVmFsaWRhdGUgY2xpZW50XG4gICAgaWYgKFxuICAgICAgdGhpcy5zdGF0ZS5jb25maWdMb2FkZWQgJiZcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lICE9PSAnL2Vycm9yJyAmJlxuICAgICAgIWNsaWVudFZhbGlkICYmXG4gICAgICBhbGxvd2VkRG9tYWlucy5pbmRleE9mKGdldERvbWFpbigpKSA9PT0gLTFcbiAgICApIHtcbiAgICAgIHByZXZQcm9wcy5oaXN0b3J5LnJlcGxhY2UoJy9lcnJvcj90eXBlPWNsaWVudC1pbnZhbGlkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnLycgJiYgbm9BY2NvdW50cyAmJiAhdGhpcy5wcm9wcy5jdXJyZW50VXNlcklkKSB7XG4gICAgICBwcmV2UHJvcHMuaGlzdG9yeS5yZXBsYWNlKCcvY29ubmVjdCcpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMubW91bnRlZCA9IGZhbHNlO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgdGhpcy5oYW5kbGVMb2dvdXRMb2dpblNpZ25hbCk7XG4gIH1cblxuICBoYW5kbGVDb25maWdMb2FkZWQgPSAoc2tpcENvbm5lY3Q6IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCB7bG9jYXRpb24sIGhpc3RvcnksIG5vQWNjb3VudHMsIGN1cnJlbnRVc2VySWR9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChub0FjY291bnRzIHx8ICghY3VycmVudFVzZXJJZCAmJiAhc2tpcENvbm5lY3QpKSB7XG4gICAgICBoaXN0b3J5LnB1c2goYC9jb25uZWN0P25leHQ9JHtlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24ucGF0aG5hbWUpfWApO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe2NvbmZpZ0xvYWRlZDogdHJ1ZX0pO1xuICAgIGxvYWRSZWNlbnRseVVzZWRDdXN0b21FbW9qaXMoKShzdG9yZS5kaXNwYXRjaCwgc3RvcmUuZ2V0U3RhdGUpO1xuICB9O1xuXG4gIGhhbmRsZUxvZ291dExvZ2luU2lnbmFsID0gKGU6IFN0b3JhZ2VFdmVudCkgPT4ge1xuICAgIC8vIHdoZW4gb25lIHRhYiBvbiBhIGJyb3dzZXIgbG9ncyBvdXQsIGl0IHNldHMgX19sb2dvdXRfXyBpbiBsb2NhbFN0b3JhZ2UgdG8gdHJpZ2dlciBvdGhlciB0YWJzIHRvIGxvZyBvdXRcbiAgICBjb25zdCBpc05ld0xvY2FsU3RvcmFnZUV2ZW50ID0gKGV2ZW50OiBTdG9yYWdlRXZlbnQpID0+IGV2ZW50LnN0b3JhZ2VBcmVhID09PSBsb2NhbFN0b3JhZ2UgJiYgZXZlbnQubmV3VmFsdWU7XG5cbiAgICBpZiAoZS5rZXkgPT09IFN0b3JhZ2VQcmVmaXhlcy5MT0dPVVQgJiYgaXNOZXdMb2NhbFN0b3JhZ2VFdmVudChlKSkge1xuICAgICAgY29uc29sZS5sb2coJ2RldGVjdGVkIGxvZ291dCBmcm9tIGEgZGlmZmVyZW50IHRhYicpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgZW1pdFVzZXJMb2dnZWRPdXRFdmVudCgnI3UzLWFwcCcsIGZhbHNlLCBmYWxzZSwgdGhpcy5wcm9wcy5oaXN0b3J5KTtcbiAgICB9XG5cbiAgICBpZiAoZS5rZXkgPT09IFN0b3JhZ2VQcmVmaXhlcy5MT0dJTiAmJiBpc05ld0xvY2FsU3RvcmFnZUV2ZW50KGUpKSB7XG4gICAgICBjb25zdCBpc0xvZ2dlZEluID0gZ2V0Q3VycmVudFVzZXIoc3RvcmUuZ2V0U3RhdGUoKSk7XG5cbiAgICAgIC8vIG1ha2Ugc3VyZSB0aGlzIGlzIG5vdCB0aGUgc2FtZSB0YWIgd2hpY2ggc2VudCBsb2dpbiBzaWduYWxcbiAgICAgIC8vIGJlY2F1c2UgYW5vdGhlciB0YWJzIHdpbGwgYWxzbyBzZW5kIGxvZ2luIHNpZ25hbCBhZnRlciByZWxvYWRpbmdcbiAgICAgIGlmIChpc0xvZ2dlZEluKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gZGV0ZWN0ZWQgbG9naW4gZnJvbSBhIGRpZmZlcmVudCB0YWJcbiAgICAgIGZ1bmN0aW9uIG9uVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICB9XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgb25WaXNpYmlsaXR5Q2hhbmdlLCBmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZURuZEV2ZW50ID0gKGU6IGFueSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9O1xuXG4gIGhhbmRsZUV4cGFubmVkID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmV4cGFuZGVkID09PSB0cnVlKSB7XG4gICAgICByb290RWxlbWVudCgpPy5jbGFzc0xpc3QuYWRkKCd1My1jb2xsYXBzZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm9vdEVsZW1lbnQoKT8uY2xhc3NMaXN0LnJlbW92ZSgndTMtY29sbGFwc2VkJyk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7ZXhwYW5kZWQ6ICF0aGlzLnN0YXRlLmV4cGFuZGVkfSk7XG4gIH07XG5cbiAgaGFuZGxlUmVsb2FkID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmRlYm91bmNlUmVsb2FkKSB0aGlzLmRlYm91bmNlUmVsb2FkLmNhbmNlbCgpO1xuICAgIHRoaXMuc2V0U3RhdGUoe3JlbG9hZDogdHJ1ZX0pO1xuICAgIHRoaXMuZGVib3VuY2VSZWxvYWQoKTtcbiAgfTtcblxuICBzZXRUaXRsZSA9ICh0aXRsZTogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy50aXRsZVJlZi5jdXJyZW50LmlubmVySFRNTCA9IHRpdGxlO1xuICB9O1xuXG4gIHNlbGVjdERvdCA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtiYWRnZTogdHlwZX0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7Y29uZmlnTG9hZGVkLCByZWxvYWR9ID0gdGhpcy5zdGF0ZTtcblxuICAgIGlmICghY29uZmlnTG9hZGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8SW50bFByb3ZpZGVyPlxuICAgICAgICAgIDxMb2FkaW5nU2NyZWVuIG1lc3NhZ2U9J1ThuqNpIGPDoGkgxJHhurd0JyAvPlxuICAgICAgICA8L0ludGxQcm92aWRlcj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGV4cGFuZGVkID0gPFBsdXNTb2lsZCBjbGFzc05hbWU9eyd1My13LTMuNSB1My1oLTMuNSd9IC8+O1xuICAgIGlmICh0aGlzLnN0YXRlLmV4cGFuZGVkKSB7XG4gICAgICBleHBhbmRlZCA9IDxNaW51c1NvaWxkIGNsYXNzTmFtZT17J3UzLXctMy41IHUzLWgtMy41J30gLz47XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxJbnRsUHJvdmlkZXI+XG4gICAgICAgIDxBcHBDb250ZXh0UHJvdmlkZXIgdmFsdWU9e3tzZXRUaXRsZTogdGhpcy5zZXRUaXRsZSwgc2VsZWN0RG90OiB0aGlzLnNlbGVjdERvdH19PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmhlYWRlckJhcn0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy50aXRsZX0+XG4gICAgICAgICAgICAgIDxMb2dvIGNsYXNzTmFtZT17J3UzLXctNCB1My1oLTQnfSAvPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMudGl0bGVEb3QsIHtcbiAgICAgICAgICAgICAgICAgIFtjbGFzc2VzLnVucmVhZF06IHRoaXMuc3RhdGUuYmFkZ2UgPT09ICdVbnJlYWQnLFxuICAgICAgICAgICAgICAgICAgW2NsYXNzZXMubWVudGlvbl06IHRoaXMuc3RhdGUuYmFkZ2UgPT09ICdNZW50aW9uJyxcbiAgICAgICAgICAgICAgICAgICd1My1hbmltYXRlLXBpbmcnOiB0aGlzLnN0YXRlLmJhZGdlICE9PSAnJyxcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChjbGFzc2VzLnRpdGxlRG90LCBjbGFzc2VzLngsIHtcbiAgICAgICAgICAgICAgICAgIFtjbGFzc2VzLnVucmVhZF06IHRoaXMuc3RhdGUuYmFkZ2UgPT09ICdVbnJlYWQnLFxuICAgICAgICAgICAgICAgICAgW2NsYXNzZXMubWVudGlvbl06IHRoaXMuc3RhdGUuYmFkZ2UgPT09ICdNZW50aW9uJyxcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGgzIHJlZj17dGhpcy50aXRsZVJlZn0+VTMgQ2hhdDwvaDM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmFjdGlvbnN9PlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuaGFuZGxlUmVsb2FkfSBjbGFzc05hbWU9e2NsYXNzZXMucmVmcmVzaH0+XG4gICAgICAgICAgICAgICAgPEljb25SZWZyZXNoXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goJ3UzLWgtNCB1My13LTQgdTMtdGV4dC13aGl0ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgJ3UzLWFuaW1hdGUtc3Bpbic6IHJlbG9hZCxcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuaGFuZGxlRXhwYW5uZWR9IGNsYXNzTmFtZT17Y2xhc3Nlcy5leHBhbm5lZH0+XG4gICAgICAgICAgICAgICAge2V4cGFuZGVkfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPFJvb3RNZW51IGhpc3Rvcnk9e3RoaXMucHJvcHMuaGlzdG9yeX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMucm9vdENvbnRlbnQsIHsndTMtY29sbGFwc2VkJzogIXRoaXMuc3RhdGUuZXhwYW5kZWR9KX0+XG4gICAgICAgICAgICA8Um91dGUgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQXBwQ29udGV4dFByb3ZpZGVyPlxuICAgICAgPC9JbnRsUHJvdmlkZXI+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSb290WDtcbiIsIi8qKlxuICogRmlsZTogaW5kZXgudHNcbiAqIFByb2plY3Q6IGNoYXR0aW5nLW1pbmltYWxcbiAqIEZpbGUgQ3JlYXRlZDogMzAgU2VwIDIwMjEgMDk6MjU6MzlcbiAqIEF1dGhvcjogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIExhc3QgTW9kaWZpZWQ6IDA3IE9jdCAyMDIxIDIyOjU1OjAzXG4gKiBNb2RpZmllZCBCeTogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAyMSB1bmQzZmluZWQuY29tXG4gKi9cbmltcG9ydCB7YmluZEFjdGlvbkNyZWF0b3JzLCBEaXNwYXRjaH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCc7XG5cbmltcG9ydCB7Z2V0Q29uZmlnLCBnZXRBcHBJbmZvfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvZ2VuZXJhbCc7XG5pbXBvcnQge2dldEN1cnJlbnRVc2VySWR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy91c2Vycyc7XG5pbXBvcnQge2dldFRlYW19IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy90ZWFtcyc7XG5pbXBvcnQge0dlbmVyaWNBY3Rpb259IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3R5cGVzL2FjdGlvbnMnO1xuXG5pbXBvcnQge2xvYWRNZUFuZENvbmZpZ30gZnJvbSAnJGFjdGlvbnMvdmlld3Mvcm9vdCc7XG5pbXBvcnQgTG9jYWxTdG9yYWdlU3RvcmUgZnJvbSAnJHN0b3Jlcy9sb2NhbF9zdG9yYWdlX3N0b3JlJztcbmltcG9ydCB7R2xvYmFsU3RhdGV9IGZyb20gJyR0eXBlcy9zdG9yZSc7XG5cbmltcG9ydCB7Z2V0SW5pdERhdGF9IGZyb20gJ0B1dGlscy9pbnRlZ3JhdGUnO1xuXG5pbXBvcnQgdHlwZSB7U3RhdGVQcm9wcywgRGlzcGF0Y2hQcm9wcywgT3duUHJvcHN9IGZyb20gJy4vdHlwZXMnOyBcblxuaW1wb3J0IFJvb3QgZnJvbSAnLi9Sb290JztcblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlOiBHbG9iYWxTdGF0ZSkge1xuICBjb25zdCBjbGllbnRJbmZvID0gZ2V0SW5pdERhdGEoKTtcbiAgY29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKHN0YXRlKTtcbiAgY29uc3QgYXBwSW5mbyA9IGdldEFwcEluZm8oc3RhdGUpO1xuICBjb25zdCBwbHVnaW5zID0gc3RhdGUucGx1Z2lucy5jb21wb25lbnRzLkN1c3RvbVJvdXRlQ29tcG9uZW50O1xuICBcbiAgY29uc3QgY2xpZW50VmFsaWQgPSBjbGllbnRJbmZvLmNsaWVudElkID09PSBhcHBJbmZvLmNsaWVudElkO1xuICBjb25zdCBhbGxvd2VkRG9tYWlucyA9IGFwcEluZm8uYWxsb3dlZDtcbiAgY29uc3QgY3VycmVudFVzZXJJZCA9IGdldEN1cnJlbnRVc2VySWQoc3RhdGUpO1xuICBjb25zdCB0ZWFtSWQgPSBMb2NhbFN0b3JhZ2VTdG9yZS5nZXRQcmV2aW91c1RlYW1JZChnZXRDdXJyZW50VXNlcklkKHN0YXRlKSk7XG4gIGNvbnN0IHBlcm1hbGlua1JlZGlyZWN0VGVhbSA9IGdldFRlYW0oc3RhdGUsIHRlYW1JZCBhcyBzdHJpbmcpO1xuXG4gIHJldHVybiB7XG4gICAgc2l0ZU5hbWU6IGNvbmZpZy5TaXRlTmFtZSxcbiAgICBub0FjY291bnRzOiBjb25maWcuTm9BY2NvdW50cyA9PT0gJ3RydWUnLFxuICAgIGNsaWVudFZhbGlkLFxuICAgIGNsaWVudElkOiBjbGllbnRJbmZvLmNsaWVudElkLFxuICAgIGFsbG93ZWREb21haW5zLFxuICAgIGhhc1VzZXJUb2tlbjogISFjbGllbnRJbmZvLnVzZXJUb2tlbixcbiAgICBwZXJtYWxpbmtSZWRpcmVjdFRlYW1OYW1lOiBwZXJtYWxpbmtSZWRpcmVjdFRlYW0gPyBwZXJtYWxpbmtSZWRpcmVjdFRlYW0ubmFtZSA6ICcnLFxuICAgIGN1cnJlbnRVc2VySWQsXG4gICAgcGx1Z2lucyxcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoOiBEaXNwYXRjaDxHZW5lcmljQWN0aW9uPikge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbnM6IGJpbmRBY3Rpb25DcmVhdG9ycyhcbiAgICAgIHtcbiAgICAgICAgbG9hZE1lQW5kQ29uZmlnLFxuICAgICAgfSxcbiAgICAgIGRpc3BhdGNoXG4gICAgKSxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdDxTdGF0ZVByb3BzLCBEaXNwYXRjaFByb3BzLCBPd25Qcm9wcywgR2xvYmFsU3RhdGU+KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShSb290KTtcbiJdLCJuYW1lcyI6WyJ1c2VySWQiLCJhc3luYyIsImRpc3BhdGNoIiwiZ2V0U3RhdGUiLCJzdGF0ZSIsImN1cnJlbnRVc2VySWQiLCJnZXRDdXJyZW50VXNlcklkIiwiY2hhbm5lbE5hbWUiLCJnZXREaXJlY3RDaGFubmVsTmFtZSIsImNoYW5uZWwiLCJnZXRDaGFubmVsQnlOYW1lIiwiQ2hhbm5lbEFjdGlvbnMiLCJub3ciLCJEYXRlIiwicHJlZkRpcmVjdCIsImNhdGVnb3J5IiwiUHJlZmVyZW5jZXMiLCJDQVRFR09SWV9ESVJFQ1RfQ0hBTk5FTF9TSE9XIiwibmFtZSIsInZhbHVlIiwicHJlZk9wZW5UaW1lIiwiQ0FURUdPUllfQ0hBTk5FTF9PUEVOX1RJTUUiLCJpZCIsInRvU3RyaW5nIiwiYWN0aW9ucyIsInR5cGUiLCJQcmVmZXJlbmNlVHlwZXMiLCJSRUNFSVZFRF9QUkVGRVJFTkNFUyIsImRhdGEiLCJiYXRjaEFjdGlvbnMiLCJzYXZlUHJlZmVyZW5jZXMiLCJfX3NwcmVhZFZhbHVlcyIsInVzZXJfaWQiLCJjYXRlZ29yeUlkIiwiZ2V0Q3VycmVudENhdGVnb3J5IiwiZ2V0Q2F0ZWdvcnkiLCJjaGFubmVsVW5sb2FkZWQiLCJnZXRDaGFubmVsSWRzSW5DYXRlZ29yeSIsImZpbHRlciIsImdldENoYW5uZWwiLCJnZXRDdXJyZW50VGVhbUlkIiwidW5yZWFkcyIsImdldFVucmVhZENoYW5uZWxJZHMiLCJDb25zdGFudHMiLCJETV9DSEFOTkVMIiwibG9hZE5ld0RNSWZOZWVkZWQiLCJHTV9DSEFOTkVMIiwibG9hZE5ld0dNSWZOZWVkZWQiLCJsb2FkUHJvZmlsZXNGb3JTaWRlYmFyIiwidGVybSIsInN1Y2Nlc3MiLCJlcnJvciIsInRlYW1JZCIsImVyciIsInNlcnZlcl9lcnJvcl9pZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGllbnRJZCIsImdldE1ldGEiLCJ1c2VyVG9rZW4iLCJtZXRhTmFtZSIsIm1ldGFzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpIiwibGVuZ3RoIiwiZ2V0QXR0cmlidXRlIiwicHJvbWlzZXMiLCJnZXRDbGllbnRDb25maWciLCJnZXRMaWNlbnNlQ29uZmlnIiwiZ2V0QXBwSW5mbyIsInJlc29sdmVkUHJvbWlzZXMiLCJQcm9taXNlIiwiYWxsIiwiTG9jYWxTdG9yYWdlU3RvcmUiLCJnZXRVc2VySWQiLCJwdXNoIiwiVXNlckFjdGlvbnMiLCJwbHVnaW5UcmFuc2xhdGlvblNvdXJjZXMiLCJsb2NhbGUiLCJ1cmwiLCJ0cmFuc2xhdGlvbnMiLCJlbiIsInZhbHVlcyIsImZvckVhY2giLCJhc3NpZ24iLCJwbHVnaW5GdW5jIiwic2VydmVyVHJhbnNsYXRpb25zIiwiQ2xpZW50NCIsImdldFRyYW5zbGF0aW9ucyIsIkFjdGlvblR5cGVzIiwiUkVDRUlWRURfVFJBTlNMQVRJT05TIiwibGF5ZXIiLCJvcHRpb25zIiwib2xkT25DbGljayIsInRyYWNraW5nQ2xpY2siLCJ0cmFja2luZ0NsaWNrU3RhcnQiLCJ0YXJnZXRFbGVtZW50IiwidG91Y2hTdGFydFgiLCJ0b3VjaFN0YXJ0WSIsImxhc3RUb3VjaElkZW50aWZpZXIiLCJ0b3VjaEJvdW5kYXJ5IiwidGFwRGVsYXkiLCJ0YXBUaW1lb3V0IiwiRmFzdENsaWNrIiwibm90TmVlZGVkIiwibWV0aG9kcyIsImNvbnRleHQiLCJ0aGlzIiwibCIsImJpbmQiLCJkZXZpY2VJc0FuZHJvaWQiLCJhZGRFdmVudExpc3RlbmVyIiwib25Nb3VzZSIsIm9uQ2xpY2siLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hFbmQiLCJvblRvdWNoQ2FuY2VsIiwiRXZlbnQiLCJwcm90b3R5cGUiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2FsbGJhY2siLCJjYXB0dXJlIiwicm12IiwiTm9kZSIsImNhbGwiLCJoaWphY2tlZCIsImFkdiIsImV2ZW50IiwicHJvcGFnYXRpb25TdG9wcGVkIiwib25jbGljayIsIm1ldGhvZCIsImFwcGx5IiwiYXJndW1lbnRzIiwiZGV2aWNlSXNXaW5kb3dzUGhvbmUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwiZGV2aWNlSXNJT1MiLCJ0ZXN0IiwiZGV2aWNlSXNJT1M0IiwiZGV2aWNlSXNJT1NXaXRoQmFkVGFyZ2V0IiwiZGV2aWNlSXNCbGFja0JlcnJ5MTAiLCJuZWVkc0NsaWNrIiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImRpc2FibGVkIiwiY2xhc3NOYW1lIiwibmVlZHNGb2N1cyIsInJlYWRPbmx5Iiwic2VuZENsaWNrIiwiY2xpY2tFdmVudCIsInRvdWNoIiwiYWN0aXZlRWxlbWVudCIsImJsdXIiLCJjaGFuZ2VkVG91Y2hlcyIsImNyZWF0ZUV2ZW50IiwiaW5pdE1vdXNlRXZlbnQiLCJkZXRlcm1pbmVFdmVudFR5cGUiLCJ3aW5kb3ciLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwiZm9yd2FyZGVkVG91Y2hFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJ0YWdOYW1lIiwiZm9jdXMiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInVwZGF0ZVNjcm9sbFBhcmVudCIsInNjcm9sbFBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJmYXN0Q2xpY2tTY3JvbGxQYXJlbnQiLCJjb250YWlucyIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsImZhc3RDbGlja0xhc3RTY3JvbGxUb3AiLCJzY3JvbGxUb3AiLCJnZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0IiwiZXZlbnRUYXJnZXQiLCJub2RlVHlwZSIsIlRFWFRfTk9ERSIsInBhcmVudE5vZGUiLCJzZWxlY3Rpb24iLCJ0YXJnZXRUb3VjaGVzIiwiZ2V0U2VsZWN0aW9uIiwicmFuZ2VDb3VudCIsImlzQ29sbGFwc2VkIiwiaWRlbnRpZmllciIsInByZXZlbnREZWZhdWx0IiwidGltZVN0YW1wIiwicGFnZVgiLCJwYWdlWSIsImxhc3RDbGlja1RpbWUiLCJ0b3VjaEhhc01vdmVkIiwiYm91bmRhcnkiLCJNYXRoIiwiYWJzIiwiZmluZENvbnRyb2wiLCJsYWJlbEVsZW1lbnQiLCJ1bmRlZmluZWQiLCJjb250cm9sIiwiaHRtbEZvciIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JFbGVtZW50IiwidGFyZ2V0VGFnTmFtZSIsImNhbmNlbE5leHRDbGljayIsImVsZW1lbnRGcm9tUG9pbnQiLCJwYWdlWE9mZnNldCIsInBhZ2VZT2Zmc2V0IiwidG9wIiwiY2FuY2VsYWJsZSIsInN0b3BQcm9wYWdhdGlvbiIsInBlcm1pdHRlZCIsImRldGFpbCIsImRlc3Ryb3kiLCJtZXRhVmlld3BvcnQiLCJjaHJvbWVWZXJzaW9uIiwiYmxhY2tiZXJyeVZlcnNpb24iLCJvbnRvdWNoc3RhcnQiLCJleGVjIiwiY29udGVudCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbFdpZHRoIiwib3V0ZXJXaWR0aCIsIm1hdGNoIiwic3R5bGUiLCJtc1RvdWNoQWN0aW9uIiwidG91Y2hBY3Rpb24iLCJhdHRhY2giLCJtb2R1bGUiLCJleHBvcnRzIiwicHJvcHMiLCJPYmplY3QiLCJ4bWxucyIsImZpbGwiLCJ2aWV3Qm94Iiwic3Ryb2tlIiwiYXBwc0VuYWJsZWQiLCJjcmVhdGVTZWxlY3RvciIsImdldENvbmZpZyIsImNvbmZpZyIsInVzZXJJRCIsImNoYW5uZWxJRCIsInRlYW1JRCIsInRlYW1faWQiLCJiaW5kQ2xpZW50RnVuYyIsImNsaWVudEZ1bmMiLCJnZXRBcHBzQmluZGluZ3MiLCJvblN1Y2Nlc3MiLCJBcHBzVHlwZXMiLCJSRUNFSVZFRF9BUFBfQklORElOR1MiLCJrbm93blVzZXJzIiwiZmV0Y2hSZXN1bHQiLCJnZXRLbm93blVzZXJzIiwiU2V0IiwiYWRkIiwiYWxsVXNlcnMiLCJrZXlzIiwiZ2V0VXNlcnMiLCJ1c2Vyc1RvUmVtb3ZlIiwiaGFzIiwieCIsInVzZXJUb1JlbW92ZSIsIlVzZXJUeXBlcyIsIlBST0ZJTEVfTk9fTE9OR0VSX1ZJU0lCTEUiLCJBZG1pblR5cGVzIiwiR0VUX0FOQUxZVElDU19SRVFVRVNUIiwiZ2V0QW5hbHl0aWNzIiwiR0VUX0FOQUxZVElDU19GQUlMVVJFIiwibG9nRXJyb3IiLCJHRVRfQU5BTFlUSUNTX1NVQ0NFU1MiLCJSRUNFSVZFRF9TWVNURU1fQU5BTFlUSUNTIiwiUkVDRUlWRURfVEVBTV9BTkFMWVRJQ1MiLCJnZXRNeUNoYW5uZWxNZW1iZXJzaGlwcyIsImdldEFsbENoYW5uZWxzIiwicHJvZmlsZXMiLCJtZW1iZXJzaGlwcyIsImFsbENoYW5uZWxzIiwiRE1jaGFubmVscyIsInJlZHVjZSIsImFjYyIsIkdlbmVyYWwiLCJfX3NwcmVhZFByb3BzIiwibWFwIiwicHJvZmlsZSIsIm1lbWJlcnNoaXAiLCJsYXN0X3ZpZXdlZF9hdCIsImdldFByZXZpb3VzVGVhbUlkIiwibG9jYWxTdG9yYWdlU3RvcmUiLCJnZXRUb2FzdFN0YXR1cyIsInZpZXdzIiwidG9hc3RTdGF0dXMiLCJVUERBVEVfTU9CSUxFX1ZJRVciLCJpc01vYmlsZSIsImN1cnJlbnRDaGFubmVsIiwiZ2V0Q3VycmVudENoYW5uZWwiLCJjaGFubmVsc0luVGVhbSIsImdldENoYW5uZWxzTmFtZU1hcEluQ3VycmVudFRlYW0iLCJkaXJlY3RDaGFubmVsIiwiZ2V0QWxsRGlyZWN0Q2hhbm5lbHNOYW1lTWFwSW5DdXJyZW50VGVhbSIsImNoYW5uZWxzIiwiY2hhbm5lbFRvU3dpdGNoVG8iLCJnZXRQcmV2aW91c0NoYW5uZWxOYW1lIiwiZ2V0TGFzdFZpZXdlZENoYW5uZWxOYW1lIiwiZ2V0UmVkaXJlY3RDaGFubmVsTmFtZUZvclRlYW0iLCJ0ZWFtVXJsIiwiZ2V0Q3VycmVudFJlbGF0aXZlVGVhbVVybCIsImZha2UiLCJ1c2VybmFtZSIsImRpc3BsYXlfbmFtZSIsInVzZXIiLCJnZXRVc2VyQnlVc2VybmFtZSIsIm9wZW5EaXJlY3RDaGFubmVsVG9Vc2VySWQiLCJnbUNoYW5uZWwiLCJnZXRUZWFtc0xpc3QiLCJwcmV2aW91c0NoYW5uZWwiLCJjdXJyZW50VGVhbSIsInBlbnVsdGltYXRlQ2hhbm5lbCIsImdldFBlbnVsdGltYXRlQ2hhbm5lbE5hbWUiLCJyZW1vdmVQcmV2aW91c0NoYW5uZWxOYW1lIiwicmVtb3ZlUGVudWx0aW1hdGVDaGFubmVsTmFtZSIsInByZWZpeCIsImNoYW5uZWxJZCIsImFkZExhc3RWaWV3QXRUb1Byb2ZpbGVzIiwibWFrZUFkZExhc3RWaWV3QXRUb1Byb2ZpbGVzIiwiY3VycmVudFRlYW1JZCIsInJlc3Bvc2UiLCJhdXRvY29tcGxldGVVc2VycyIsInVzZXJzIiwib3V0X29mX2NoYW5uZWwiLCJwcmVmZXRjaCIsInRpbWUiLCJQUkVGRVRDSF9QT1NUU19GT1JfQ0hBTk5FTCIsInN0YXR1cyIsIlJlcXVlc3RTdGF0dXMiLCJTVEFSVEVEIiwiUG9zdEFjdGlvbnMiLCJGQUlMVVJFIiwiYXRMYXRlc3RNZXNzYWdlIiwiYXRPbGRlc3RtZXNzYWdlIiwiSU5DUkVBU0VfUE9TVF9WSVNJQklMSVRZIiwiYW1vdW50Iiwib3JkZXIiLCJTVUNDRVNTIiwibmV4dF9wb3N0X2lkIiwiUkVDRUlWRURfUE9TVFNfRk9SX0NIQU5ORUxfQVRfVElNRSIsInByZXZfcG9zdF9pZCIsImZvY3VzZWRQb3N0SWQiLCJQb3N0cyIsIlBPU1RfQ0hVTktfU0laRSIsInBvc3RJZCIsIlBPU1RfSU5DUkVBU0VfQU1PVU5UIiwiTE9BRElOR19QT1NUUyIsInJlc3VsdCIsIlBvc3RSZXF1ZXN0VHlwZXMiLCJCRUZPUkVfSUQiLCJtb3JlVG9Mb2FkIiwic2luY2UiLCJzb2NrZXRTdGF0dXMiLCJ3ZWJzb2NrZXQiLCJnZXRTb2NrZXRTdGF0dXMiLCJzaW5jZVRpbWVUb0dldFBvc3RzIiwibGFzdFBvc3RzQXBpQ2FsbEZvckNoYW5uZWwiLCJsYXN0R2V0UG9zdHMiLCJnZXRMYXN0UG9zdHNBcGlUaW1lRm9yQ2hhbm5lbCIsImxhc3REaXNjb25uZWN0QXQiLCJqaXR0ZXIiLCJyZWNlbnRQb3N0SWRJbkNoYW5uZWwiLCJnZXRNb3N0UmVjZW50UG9zdElkSW5DaGFubmVsIiwiZW50aXRpZXMiLCJwb3N0cyIsInBvc3RzSW5DaGFubmVsIiwic2V0VGltZW91dCIsInJlc29sdmUiLCJsb2FkVW5yZWFkcyIsInJlY2VudFBvc3QiLCJnZXRQb3N0Iiwic3luY1Bvc3RzSW5DaGFubmVsIiwiY3JlYXRlX2F0IiwiZW1pdCIsIkV2ZW50VHlwZXMiLCJQT1NUX0xJU1RfU0NST0xMX1RPX0JPVFRPTSIsIlVQREFURV9UT0FTVF9TVEFUVVMiLCJXZWJDbGllbnQiLCJjb25zdHJ1Y3RvciIsImNvbm4iLCJjb25uZWN0aW9uVXJsIiwicmVzcG9uc2VTZXF1ZW5jZSIsInNlcnZlclNlcXVlbmNlIiwiY29ubmVjdEZhaWxDb3VudCIsImV2ZW50Q2FsbGJhY2siLCJyZXNwb25zZUNhbGxiYWNrcyIsImZpcnN0Q29ubmVjdENhbGxiYWNrIiwicmVjb25uZWN0Q2FsbGJhY2siLCJtaXNzZWRFdmVudENhbGxiYWNrIiwiZXJyb3JDYWxsYmFjayIsImNsb3NlQ2FsbGJhY2siLCJjb25uZWN0aW9uSWQiLCJpbml0aWFsaXplIiwidG9rZW4iLCJXZWJTb2NrZXQiLCJyZWxpYWJsZVdlYlNvY2tldHMiLCJzdG9yZSIsIkVuYWJsZVJlbGlhYmxlV2ViU29ja2V0cyIsIm9ub3BlbiIsInNlbmRNZXNzYWdlIiwib25jbG9zZSIsInJldHJ5VGltZSIsIm9uZXJyb3IiLCJldnQiLCJvbm1lc3NhZ2UiLCJtc2ciLCJKU09OIiwicGFyc2UiLCJzZXFfcmVwbHkiLCJkZWxldGVQcm9wZXJ0eSIsIlNvY2tldEV2ZW50cyIsIkhFTExPIiwiY29ubmVjdGlvbl9pZCIsInNlcSIsImNsb3NlIiwic2V0RXZlbnRDYWxsYmFjayIsInNldEZpcnN0Q29ubmVjdENhbGxiYWNrIiwic2V0UmVjb25uZWN0Q2FsbGJhY2siLCJzZXRNaXNzZWRFdmVudENhbGxiYWNrIiwic2V0RXJyb3JDYWxsYmFjayIsInNldENsb3NlQ2FsbGJhY2siLCJyZWFkeVN0YXRlIiwiT1BFTiIsImFjdGlvbiIsInJlc3BvbnNlQ2FsbGJhY2siLCJzZW5kIiwic3RyaW5naWZ5IiwiQ0xPU0VEIiwidXNlclR5cGluZyIsInBhcmVudElkIiwiY2hhbm5lbF9pZCIsInBhcmVudF9pZCIsInVzZXJVcGRhdGVBY3RpdmVTdGF0dXMiLCJ1c2VySXNBY3RpdmUiLCJtYW51YWwiLCJ1c2VyX2lzX2FjdGl2ZSIsImdldFN0YXR1c2VzIiwiZ2V0U3RhdHVzZXNCeUlkcyIsInVzZXJJZHMiLCJ1c2VyX2lkcyIsInBsdWdpbkV2ZW50SGFuZGxlcnMiLCJsb2ciLCJjb25uVXJsIiwiV2Vic29ja2V0VVJMIiwiVVJMIiwiaW1wb3J0IiwicHJvdG9jb2wiLCJob3N0IiwiV2Vic29ja2V0U2VjdXJlUG9ydCIsIldlYnNvY2tldFBvcnQiLCJzdWJzdHJpbmciLCJnZXRVcmxWZXJzaW9uIiwiaGFuZGxlRXZlbnQiLCJoYW5kbGVGaXJzdENvbm5lY3QiLCJyZWNvbm5lY3QiLCJoYW5kbGVDbG9zZSIsImdldFRva2VuIiwiaW5jbHVkZVdlYlNvY2tldCIsIkdlbmVyYWxUeXBlcyIsIldFQlNPQ0tFVF9TVUNDRVNTIiwidGltZXN0YW1wIiwidGVhbXMiLCJjdXJyZW50Q2hhbm5lbElkIiwiZ2V0Q3VycmVudENoYW5uZWxJZCIsIm1vc3RSZWNlbnRJZCIsIm1vc3RSZWNlbnRQb3N0IiwibG9hZENoYW5uZWxzRm9yQ3VycmVudFVzZXIyIiwiaGFuZGxlUmVmcmVzaEFwcHNCaW5kaW5ncyIsImdldFBvc3RzIiwiVGVhbUFjdGlvbnMiLCJjaGVja0Zvck1vZGlmaWVkVXNlcnMiLCJSRVNFVF9XU19FUlJPUl9DT1VOVCIsImNsZWFyRXJyb3JzIiwiZmFpbENvdW50IiwibWVzc2FnZSIsIkFubm91bmNlbWVudEJhck1lc3NhZ2VzIiwiV0VCU09DS0VUX1BPUlRfRVJST1IiLCJXRUJTT0NLRVRfRkFJTFVSRSIsIklOQ1JFTUVOVF9XU19FUlJPUl9DT1VOVCIsIlBPU1RFRCIsIkVQSEVNRVJBTF9NRVNTQUdFIiwiUE9TVF9FRElURUQiLCJwb3N0IiwicmVjZWl2ZWRQb3N0IiwiYnJvYWRjYXN0IiwiZ2V0Q2hhbm5lbFN0YXRzIiwiaXNBY3RpdmUiLCJ2aWV3Q2hhbm5lbCIsIlBPU1RfREVMRVRFRCIsInBvc3REZWxldGVkIiwiaXNfcGlubmVkIiwiUE9TVF9VTlJFQUQiLCJQT1NUX1VOUkVBRF9TVUNDRVNTIiwibGFzdFZpZXdlZEF0IiwibXNnQ291bnQiLCJtc2dfY291bnQiLCJtZW50aW9uQ291bnQiLCJtZW50aW9uX2NvdW50IiwiTEVBVkVfVEVBTSIsIlJFQ0VJVkVEX1BST0ZJTEVfTk9UX0lOX1RFQU0iLCJUZWFtVHlwZXMiLCJSRU1PVkVfTUVNQkVSX0ZST01fVEVBTSIsImNoYW5uZWxzUGVyVGVhbSIsImdldENoYW5uZWxzSW5UZWFtIiwiQ2hhbm5lbFR5cGVzIiwiUkVNT1ZFX01FTUJFUl9GUk9NX0NIQU5ORUwiLCJjdXJyZW50VXNlciIsImdldEN1cnJlbnRVc2VyIiwiZ2xvYmFsIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInN0YXJ0c1dpdGgiLCJpc0d1ZXN0IiwicmVtb3ZlTm90VmlzaWJsZVVzZXJzIiwidGVhbSIsImdldFRlYW0iLCJtZW1iZXJzIiwiZ2V0Q2hhbm5lbE1lbWJlcnNJbkNoYW5uZWxzIiwiaXNNZW1iZXIiLCJzb21lIiwibWVtYmVyIiwiVVBEQVRFX1RFQU0iLCJVUERBVEVEX1RFQU0iLCJVUERBVEVfVEVBTV9TQ0hFTUUiLCJERUxFVEVfVEVBTSIsImRlbGV0ZWRUZWFtIiwiZGVsZXRlX2F0IiwibXlNZW1iZXJzIiwidGVhbU1lbWJlcnMiLCJ0ZWFtTWVtYmVyIiwiZmluZCIsIm0iLCJuZXdUZWFtSWQiLCJteVRlYW1zIiwidCIsIm1lbWJlclRlYW1JZCIsIlJFQ0VJVkVEX1RFQU1fREVMRVRFRCIsIlNFTEVDVF9URUFNIiwiZ2xvYmFsU3RhdGUiLCJyZWRpcmVjdENoYW5uZWwiLCJnZXRDdXJyZW50VGVhbVVybCIsIkFEREVEX1RPX1RFQU0iLCJVU0VSX0FEREVEIiwiZG9EaXNwYXRjaCIsImRvR2V0U3RhdGUiLCJsaWNlbnNlIiwiZ2V0TGljZW5zZSIsImlzVGltZXpvbmVFbmFibGVkIiwiRXhwZXJpbWVudGFsVGltZXpvbmUiLCJSRUNFSVZFRF9QUk9GSUxFX0lOX0NIQU5ORUwiLCJJc0xpY2Vuc2VkIiwiTERBUEdyb3VwcyIsImdldENoYW5uZWxNZW1iZXJDb3VudHNCeUdyb3VwIiwiZmV0Y2hDaGFubmVsQW5kQWRkVG9TaWRlYmFyIiwiQ2xvdWQiLCJpc0N1cnJlbnRVc2VyU3lzdGVtQWRtaW4iLCJnZXRTdGFuZGFyZEFuYWx5dGljcyIsImhhbmRsZVVzZXJBZGRlZEV2ZW50IiwiVVNFUl9SRU1PVkVEIiwicmhzQ2hhbm5lbElkIiwiZ2V0U2VsZWN0ZWRDaGFubmVsSWQiLCJjbG9zZVJpZ2h0SGFuZFNpZGUiLCJyZW1vdmVyX2lkIiwiTEVBVkVfQ0hBTk5FTCIsImdldFVzZXIiLCJsb2FkVXNlciIsImluZm8iLCJSRUNFSVZFRF9QUk9GSUxFX05PVF9JTl9DSEFOTkVMIiwiaGF2ZUlTeXN0ZW1QZXJtaXNzaW9uIiwicGVybWlzc2lvbiIsIlBlcm1pc3Npb25zIiwiVklFV19NRU1CRVJTIiwiaGF2ZUlUZWFtUGVybWlzc2lvbiIsIlVTRVJfVVBEQVRFRCIsInVzZXJJc0d1ZXN0IiwiaXNMREFQRW5hYmxlZCIsImdldE1lbWJlcnNJbkN1cnJlbnRDaGFubmVsIiwibWVtYmVyRXhpc3RzIiwiZ2V0Q2hhbm5lbE1lbWJlciIsInVwZGF0ZV9hdCIsIlJFQ0VJVkVEX1BST0ZJTEUiLCJST0xFX0FEREVEIiwicm9sZSIsIlJvbGVUeXBlcyIsIlJFQ0VJVkVEX1JPTEUiLCJST0xFX1JFTU9WRUQiLCJST0xFX0RFTEVURUQiLCJDSEFOTkVMX1NDSEVNRV9VUERBVEVEIiwiZ2V0TXlDaGFubmVsTWVtYmVyIiwiTUVNQkVSUk9MRV9VUERBVEVEIiwibWVtYmVyRGF0YSIsIm5ld1JvbGVzIiwicm9sZXMiLCJzcGxpdCIsImxvYWRSb2xlc0lmTmVlZGVkIiwiUkVDRUlWRURfTVlfVEVBTV9NRU1CRVIiLCJST0xFX1VQREFURUQiLCJDSEFOTkVMX0NSRUFURUQiLCJteURpc3BhdGNoIiwibXlHZXRTdGF0ZSIsImdldENoYW5uZWxBbmRNeU1lbWJlciIsImFkZENoYW5uZWxUb0luaXRpYWxDYXRlZ29yeSIsImhhbmRsZUNoYW5uZWxDcmVhdGVkRXZlbnQiLCJDSEFOTkVMX0RFTEVURUQiLCJ2aWV3QXJjaGl2ZWRDaGFubmVscyIsIkV4cGVyaW1lbnRhbFZpZXdBcmNoaXZlZENoYW5uZWxzIiwiUkVDRUlWRURfQ0hBTk5FTF9ERUxFVEVEIiwiZGVsZXRlQXQiLCJDSEFOTkVMX1VOQVJDSElWRUQiLCJSRUNFSVZFRF9DSEFOTkVMX1VOQVJDSElWRUQiLCJDSEFOTkVMX0NPTlZFUlRFRCIsIlJFQ0VJVkVEX0NIQU5ORUwiLCJQUklWQVRFX0NIQU5ORUwiLCJDSEFOTkVMX1VQREFURUQiLCJyZXBsYWNlIiwiaGFuZGxlQ2hhbm5lbFVwZGF0ZWRFdmVudCIsIkNIQU5ORUxfTUVNQkVSX1VQREFURUQiLCJjaGFubmVsTWVtYmVyIiwiUkVDRUlWRURfTVlfQ0hBTk5FTF9NRU1CRVIiLCJESVJFQ1RfQURERUQiLCJHUk9VUF9BRERFRCIsImhhbmRsZUdyb3VwQWRkZWRFdmVudCIsIlBSRUZFUkVOQ0VfQ0hBTkdFRCIsInByZWZlcmVuY2UiLCJhZGRlZE5ld0RtVXNlciIsIlBSRUZFUkVOQ0VTX0NIQU5HRUQiLCJwcmVmZXJlbmNlcyIsImZpbmRJbmRleCIsIlBSRUZFUkVOQ0VTX0RFTEVURUQiLCJERUxFVEVEX1BSRUZFUkVOQ0VTIiwiVFlQSU5HIiwiV2Vic29ja2V0RXZlbnRzIiwiU1RPUF9UWVBJTkciLCJwYXJzZUludCIsIlRpbWVCZXR3ZWVuVXNlclR5cGluZ1VwZGF0ZXNNaWxsaXNlY29uZHMiLCJnZXRNaXNzaW5nUHJvZmlsZXNCeUlkcyIsImdldFN0YXR1c0ZvclVzZXJJZCIsIk9OTElORSIsImhhbmRsZVVzZXJUeXBpbmdFdmVudCIsIlNUQVRVU19DSEFOR0VEIiwiUkVDRUlWRURfU1RBVFVTRVMiLCJzZXJ2ZXJfdmVyc2lvbiIsIlJFQUNUSU9OX0FEREVEIiwicmVhY3Rpb24iLCJnZXRDdXN0b21FbW9qaUZvclJlYWN0aW9uIiwiZW1vamlfbmFtZSIsIlBvc3RUeXBlcyIsIlJFQ0VJVkVEX1JFQUNUSU9OIiwiUkVBQ1RJT05fUkVNT1ZFRCIsIlJFQUNUSU9OX0RFTEVURUQiLCJFTU9KSV9BRERFRCIsImVtb2ppIiwiRW1vamlUeXBlcyIsIlJFQ0VJVkVEX0NVU1RPTV9FTU9KSSIsIkNIQU5ORUxfVklFV0VEIiwibWFya0NoYW5uZWxBc1JlYWQiLCJQTFVHSU5fRU5BQkxFRCIsIlBMVUdJTl9ESVNBQkxFRCIsIm1hbmlmZXN0IiwiVVNFUl9ST0xFX1VQREFURUQiLCJkZW1vdGVkIiwiaW5jbHVkZXMiLCJQRVJNSVNTSU9OU19TWVNURU1fQURNSU4iLCJDT05GSUdfQ0hBTkdFRCIsIkNMSUVOVF9DT05GSUdfUkVDRUlWRUQiLCJMSUNFTlNFX0NIQU5HRUQiLCJDTElFTlRfTElDRU5TRV9SRUNFSVZFRCIsIlBMVUdJTl9TVEFUVVNFU19DSEFOR0VEIiwiUkVDRUlWRURfUExVR0lOX1NUQVRVU0VTIiwicGx1Z2luX3N0YXR1c2VzIiwiT1BFTl9ESUFMT0ciLCJkaWFsb2ciLCJJbnRlZ3JhdGlvblR5cGVzIiwiUkVDRUlWRURfRElBTE9HIiwiY3VycmVudFRyaWdnZXJJZCIsImludGVncmF0aW9ucyIsImRpYWxvZ1RyaWdnZXJJZCIsInRyaWdnZXJfaWQiLCJSRUNFSVZFRF9HUk9VUCIsImdyb3VwIiwiR3JvdXBUeXBlcyIsIlJFQ0VJVkVEX01ZX0dST1VQUyIsIlJFQ0VJVkVEX0dST1VQX0FTU09DSUFURURfVE9fVEVBTSIsImdyb3VwcyIsImdyb3VwX2lkIiwiUkVDRUlWRURfR1JPVVBfTk9UX0FTU09DSUFURURfVE9fVEVBTSIsIlJFQ0VJVkVEX0dST1VQX0FTU09DSUFURURfVE9fQ0hBTk5FTCIsIlJFQ0VJVkVEX0dST1VQX05PVF9BU1NPQ0lBVEVEX1RPX0NIQU5ORUwiLCJXQVJOX01FVFJJQ19TVEFUVVNfUkVDRUlWRUQiLCJyZWNlaXZlZERhdGEiLCJ3YXJuTWV0cmljU3RhdHVzIiwiYmFubmVyRGF0YSIsIldhcm5NZXRyaWNUeXBlcyIsIlNZU1RFTV9XQVJOX01FVFJJQ19OVU1CRVJfT0ZfQUNUSVZFX1VTRVJTXzUwMCIsIldBUk5fTUVUUklDX1NUQVRVU19OVU1CRVJfT0ZfVVNFUlMiLCJTWVNURU1fV0FSTl9NRVRSSUNfTlVNQkVSX09GX1BPU1RTXzJNIiwiV0FSTl9NRVRSSUNfU1RBVFVTX05VTUJFUl9PRl9QT1NUUyIsIlNIT1dfTk9USUNFIiwiV0FSTl9NRVRSSUNfU1RBVFVTX1JFTU9WRUQiLCJ3YXJuTWV0cmljSWQiLCJTSURFQkFSX0NBVEVHT1JZX0NSRUFURUQiLCJmZXRjaE15Q2F0ZWdvcmllcyIsImhhbmRsZVNpZGViYXJDYXRlZ29yeUNyZWF0ZWQiLCJTSURFQkFSX0NBVEVHT1JZX1VQREFURUQiLCJoYW5kbGVTaWRlYmFyQ2F0ZWdvcnlVcGRhdGVkIiwiU0lERUJBUl9DQVRFR09SWV9ERUxFVEVEIiwiaGFuZGxlU2lkZWJhckNhdGVnb3J5RGVsZXRlZCIsIlNJREVCQVJfQ0FURUdPUllfT1JERVJfVVBEQVRFRCIsInJlY2VpdmVkQ2F0ZWdvcnlPcmRlciIsImhhbmRsZVNpZGViYXJDYXRlZ29yeU9yZGVyVXBkYXRlZCIsIlVTRVJfQUNUSVZBVElPTl9TVEFUVVNfQ0hBTkdFRCIsImdldFN1YnNjcmlwdGlvblN0YXRzIiwiQ2xvdWRUeXBlcyIsIlJFQ0VJVkVEX0NMT1VEX1NVQlNDUklQVElPTl9TVEFUUyIsIkNMT1VEX1BBWU1FTlRfU1RBVFVTX1VQREFURUQiLCJnZXRTdWJzY3JpcHRpb24iLCJSRUNFSVZFRF9DTE9VRF9TVUJTQ1JJUFRJT04iLCJGSVJTVF9BRE1JTl9WSVNJVF9NQVJLRVRQTEFDRV9TVEFUVVNfUkVDRUlWRUQiLCJmaXJzdEFkbWluVmlzaXRNYXJrZXRwbGFjZVN0YXR1cyIsIlRIUkVBRF9GT0xMT1dfQ0hBTkdFRCIsImdldFRocmVhZCIsInRocmVhZF9pZCIsImZldGNoVGhyZWFkIiwiaGFuZGxlVGhyZWFkRm9sbG93Q2hhbmdlZCIsIlRIUkVBRF9SRUFEX0NIQU5HRUQiLCJ0aHJlYWQiLCJ0aHJlYWRzIiwicHJldlVucmVhZE1lbnRpb25zIiwidW5yZWFkX21lbnRpb25zIiwibmV3VW5yZWFkTWVudGlvbnMiLCJwcmV2VW5yZWFkUmVwbGllcyIsInVucmVhZF9yZXBsaWVzIiwibmV3VW5yZWFkUmVwbGllcyIsImhhbmRsZVRocmVhZFJlYWRDaGFuZ2VkIiwiVEhSRUFEX1VQREFURUQiLCJ0aHJlYWREYXRhIiwiaGFuZGxlVGhyZWFkVXBkYXRlZCIsIkNPTlRBQ1RfQ0hBTkdFRCIsImNvbnRhY3QiLCJDb250YWN0VHlwZXMiLCJORVdfQ09OVEFDVCIsIkFQUFNfRlJBTUVXT1JLX1JFRlJFU0hfQklORElOR1MiLCJwbHVnaW5FdmVudHMiLCJoYXNPd25Qcm9wZXJ0eSIsImhhbmRsZU5ld1Bvc3RFdmVudERlYm91bmNlZCIsIndhaXQiLCJ0aW1lb3V0IiwicXVldWUiLCJjb3VudCIsInRyaWdnZXJlZCIsImNydEVuYWJsZWQiLCJpc0NvbGxhcHNlZFRocmVhZHNFbmFibGVkIiwicmVjZWl2ZWROZXdQb3N0IiwiZ2V0VGhyZWFkc0ZvclBvc3RzIiwiaGFuZGxlTmV3UG9zdEV2ZW50cyIsImhhbmRsZU5ld1Bvc3QiLCJnZXRJc01hbnVhbFN0YXR1c0ZvclVzZXJJZCIsInNldF9vbmxpbmUiLCJVc2VyU3RhdHVzZXMiLCJoYW5kbGVOZXdQb3N0RXZlbnQiLCJkZWJvdW5jZVBvc3RFdmVudCIsImZldGNoQXBwQmluZGluZ3MiLCJvYmoiLCJrZXkiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImludmFyaWFudCIsImNvbmRpdGlvbiIsImZvcm1hdCIsIl9sZW4iLCJhcmdzIiwiQXJyYXkiLCJfa2V5IiwiRXJyb3IiLCJhcmdJbmRleCIsIlN0cmluZyIsImZyYW1lc1RvUG9wIiwiX2NhbGxiYWNrcyIsIl9pc0Rpc3BhdGNoaW5nIiwiX2lzSGFuZGxlZCIsIl9pc1BlbmRpbmciLCJfbGFzdElEIiwiX3Byb3RvIiwiRGlzcGF0Y2hlciIsInJlZ2lzdGVyIiwidW5yZWdpc3RlciIsIndhaXRGb3IiLCJpZHMiLCJpaSIsIl9pbnZva2VDYWxsYmFjayIsInBheWxvYWQiLCJfc3RhcnREaXNwYXRjaGluZyIsIl9zdG9wRGlzcGF0Y2hpbmciLCJpc0Rpc3BhdGNoaW5nIiwiX3BlbmRpbmdQYXlsb2FkIiwiUGF5bG9hZFNvdXJjZXMiLCJBcHBEaXNwYXRjaGVyIiwiRmx1eCIsImhhbmRsZVNlcnZlckFjdGlvbiIsIndhcm4iLCJzb3VyY2UiLCJTRVJWRVJfQUNUSU9OIiwiaGFuZGxlVmlld0FjdGlvbiIsIlZJRVdfQUNUSU9OIiwiQnJvd3NlclN0b3JlIiwic2V0SXRlbSIsIkFjdGlvbnMiLCJnZXRJdGVtIiwiZGVmYXVsdFZhbHVlIiwiU2VsZWN0b3JzIiwicmVtb3ZlSXRlbSIsInNldEdsb2JhbEl0ZW0iLCJnZXRHbG9iYWxJdGVtIiwicmVtb3ZlR2xvYmFsSXRlbSIsInNpZ25hbExvZ291dCIsImlzTG9jYWxTdG9yYWdlU3VwcG9ydGVkIiwibG9nb3V0SWQiLCJVdGlscyIsIlN0b3JhZ2VQcmVmaXhlcyIsIkFOTk9VTkNFTUVOVCIsIkxPR09VVCIsImlzU2lnbmFsbGluZ0xvZ291dCIsInNlc3Npb25TdG9yYWdlIiwic2lnbmFsTG9naW4iLCJsb2dpbklkIiwiTE9HSU4iLCJpc1NpZ25hbGxpbmdMb2dpbiIsImNsZWFyIiwiaGFzQ2hlY2tlZExvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZVN1cHBvcnRlZCIsImxvY2FsU3RvcmFnZSIsImUiLCJFcnJvclBhZ2VUeXBlcyIsIkxPQ0FMX1NUT1JBR0UiLCJoYXNTZWVuTGFuZGluZ1BhZ2UiLCJMQU5ESU5HX1BBR0VfU0VFTiIsInNldExhbmRpbmdQYWdlU2VlbiIsImxhbmRpbmdQYWdlU2VlbiIsImdldExhbmRpbmdQcmVmZXJlbmNlIiwic2l0ZVVybCIsIkxBTkRJTkdfUFJFRkVSRU5DRSIsInNldExhbmRpbmdQcmVmZXJlbmNlVG9NYXR0ZXJtb3N0QXBwIiwiTGFuZGluZ1ByZWZlcmVuY2VUeXBlcyIsIk1BVFRFUk1PU1RBUFAiLCJzZXRMYW5kaW5nUHJlZmVyZW5jZVRvQnJvd3NlciIsIkJST1dTRVIiLCJjbGVhckxhbmRpbmdQcmVmZXJlbmNlIiwiY2hhbiIsImlzUkhTT3BlbmVkIiwiZ2V0SXNSaHNPcGVuIiwiaXNQaW5uZWRQb3N0c1Nob3dpbmciLCJnZXRSaHNTdGF0ZSIsIlJIU1N0YXRlcyIsIlBJTiIsImlzQ2hhbm5lbEZpbGVzU2hvd2luZyIsIkNIQU5ORUxfRklMRVMiLCJwZW51bHRpbWF0ZSIsInNldFBlbnVsdGltYXRlQ2hhbm5lbE5hbWUiLCJzZXRQcmV2aW91c0NoYW5uZWxOYW1lIiwidXBkYXRlUmhzU3RhdGUiLCJTRUxFQ1RfQ0hBTk5FTCIsIlNFTEVDVF9DSEFOTkVMX1dJVEhfTUVNQkVSIiwiZmFpbCIsIm90aGVyVXNlcklkIiwicmVzIiwiY3JlYXRlRGlyZWN0Q2hhbm5lbCIsIlVQREFURV9DSEFOTkVMX0xBU1RfVklFV0VEX0FUIiwiVE9HR0xFX1NIT1JUQ1VUU19NT0RBTCIsIlRPR0dMRV9DSEFOTkVMX05BTUVfVVBEQVRFX01PREFMIiwiZmlsZUlkIiwiVE9HR0xFX0dFVF9QVUJMSUNfTElOS19NT0RBTCIsIlRPR0dMRV9MRUFWRV9QUklWQVRFX0NIQU5ORUxfTU9EQUwiLCJsYXN0VGltZVR5cGluZ1NlbnQiLCJwYXJlbnRQb3N0SWQiLCJhY3Rpb25EaXNwYXRjaCIsImFjdGlvbkdldFN0YXRlIiwic3RhdHMiLCJnZXRDdXJyZW50Q2hhbm5lbFN0YXRzIiwibWVtYmVyc0luQ2hhbm5lbCIsIm1lbWJlcl9jb3VudCIsInRpbWVCZXR3ZWVuVXNlclR5cGluZ1VwZGF0ZXNNaWxsaXNlY29uZHMiLCJtYXhOb3RpZmljYXRpb25zUGVyQ2hhbm5lbCIsIk1heE5vdGlmaWNhdGlvbnNQZXJDaGFubmVsIiwiRW5hYmxlVXNlclR5cGluZ01lc3NhZ2VzIiwicmVkaXJlY3RUbyIsInNob3VsZFNpZ25hbExvZ291dCIsInVzZXJBY3Rpb24iLCJoaXN0b3J5Iiwic2V0V2FzTG9nZ2VkSW4iLCJsb2dvdXQiLCJ0aGVuIiwiYnJvd3Nlckhpc3RvcnkiLCJjYXRjaCIsIkJST1dTRVJfQ0hBTkdFX0ZPQ1VTIiwiZ2V0VGVhbU1lbWJlcnNoaXBzIiwibG9hZE1lIiwiZ2V0Q3VycmVudExvY2FsZSIsImdldE15VGVhbXMiLCJ0ZWFtc09yZGVyIiwidGVhbXNPcmRlckxpc3QiLCJzb3J0IiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwibnVtZXJpYyIsImNvbXBhcmVUZWFtc0J5RGlzcGxheU5hbWUiLCJmaWx0ZXJBbmRTb3J0VGVhbXNCeURpc3BsYXlOYW1lIiwibXlUZWFtIiwiaCIsInBhdGhzdHIiLCJBcHBDb250ZXh0IiwiUmVhY3QiLCJjcmVhdGVDb250ZXh0Iiwic2V0VGl0bGUiLCJzZWxlY3REb3QiLCJBcHBDb250ZXh0UHJvdmlkZXIiLCJQcm92aWRlciIsInVzZUNvbnRleHQiLCJQdXJlQ29tcG9uZW50Iiwic2V0QWNjZXB0TGFuZ3VhZ2UiLCJsb2FkVHJhbnNsYXRpb25zSWZOZWNlc3NhcnkiLCJsb2NhbGVJbmZvIiwiSTE4biIsImxvYWRUcmFuc2xhdGlvbnMiLCJjb21wb25lbnREaWRNb3VudCIsImxvY2FsaXplTWVzc2FnZSIsImhhbmRsZUxvY2FsZUNoYW5nZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsInJlbmRlciIsImNoaWxkcmVuIiwiQmFzZUludGxQcm92aWRlciIsIm1lc3NhZ2VzIiwidGV4dENvbXBvbmVudCIsIndyYXBSaWNoVGV4dENodW5rc0luRnJhZ21lbnQiLCJjb25uZWN0IiwiYmluZEFjdGlvbkNyZWF0b3JzIiwiSW50bFByb3ZpZGVyIiwiZm9ybWF0TWVzc2FnZSIsInVzZUludGwiLCJ5IiwiZW5hYmxlQmFja2dyb3VuZCIsImRlZmF1bHRNZXNzYWdlIiwiZCIsInJ4IiwicnkiLCJ0cmFuc2Zvcm0iLCJmaWxsUnVsZSIsImNsaXBSdWxlIiwiRmVhdHVyZXMiLCJSZW5kZXJTdHJhdGVneSIsImV4Y2x1ZGVkIiwic291cmNlS2V5cyIsImFyciIsImxlbiIsImFycjIiLCJvIiwiYWxsb3dBcnJheUxpa2UiLCJpdCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiaXNBcnJheSIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsInNsaWNlIiwiZnJvbSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsImRvbmUiLCJUeXBlRXJyb3IiLCJuZXh0IiwibG9va3VwIiwicmV0dXJuVmFsdWUiLCJqb2luIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJfcmVmIiwic2xvdCIsImRlZmF1bHRUYWciLCJmZWF0dXJlcyIsIl9yZWYkdmlzaWJsZSIsInZpc2libGUiLCJfcmVuZGVyIiwiZmVhdHVyZUZsYWdzIiwiTm9uZSIsIlN0YXRpYyIsIl9wcm9wcyRzdGF0aWMiLCJpc1N0YXRpYyIsInJlc3QiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsIl9tYXRjaCIsIl9wcm9wcyR1bm1vdW50IiwidW5tb3VudCIsIl9yZXN0IiwiVW5tb3VudCIsIkhpZGRlbiIsIl9leHRlbmRzIiwiaGlkZGVuIiwiZGlzcGxheSIsInRhZyIsIl9yZWYyIiwiX29taXQiLCJvbWl0IiwiX29taXQkYXMiLCJhcyIsIkNvbXBvbmVudCIsIl9vbWl0JHJlZk5hbWUiLCJyZWZOYW1lIiwicGFzc1Rocm91Z2hQcm9wcyIsInJlZlJlbGF0ZWRQcm9wcyIsInJlZiIsInJlc29sdmVkQ2hpbGRyZW4iLCJGcmFnbWVudCIsImlzVmFsaWRFbGVtZW50IiwibGluZSIsImNsb25lRWxlbWVudCIsImV4aXN0aW5nUHJvcHMiLCJmdW5jdGlvbnNUb01lcmdlIiwiX3N0ZXAiLCJjbG9uZSIsIl9sb29wIiwiX09iamVjdCRhc3NpZ24iLCJmdW5jIiwiZGVmYXVsdFByZXZlbnRlZCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UiLCJtZXJnZUV2ZW50RnVuY3Rpb25zIiwib2JqZWN0IiwiY29tcGFjdCIsImNyZWF0ZUVsZW1lbnQiLCJjb21wb25lbnQiLCJfY29tcG9uZW50JGRpc3BsYXlOYW0iLCJmb3J3YXJkUmVmIiwiZGlzcGxheU5hbWUiLCJrZXlzVG9PbWl0IiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsIktleXMiLCJ1c2VJc29Nb3JwaGljRWZmZWN0IiwidXNlTGF5b3V0RWZmZWN0IiwidXNlRWZmZWN0Iiwic2VydmVySGFuZG9mZkNvbXBsZXRlIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJzZXRTZXJ2ZXJIYW5kb2ZmQ29tcGxldGUiLCJyZWZzIiwiY2FjaGUiLCJ1c2VSZWYiLCJjdXJyZW50IiwidXNlQ2FsbGJhY2siLCJlbGVtZW50IiwiX3BhcmVudCIsInBhcmVudCIsImxlZ2VuZCIsIkhUTUxGaWVsZFNldEVsZW1lbnQiLCJIVE1MTGVnZW5kRWxlbWVudCIsImlzUGFyZW50RGlzYWJsZWQiLCJwcmV2aW91cyIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJpc0ZpcnN0TGVnZW5kIiwicmVhZHkiLCJ1c2VTZXJ2ZXJIYW5kb2ZmQ29tcGxldGUiLCJnZW5lcmF0ZUlkIiwic2V0SWQiLCJsaXN0ZW5lciIsImxpc3RlbmVyUmVmIiwiaGFuZGxlciIsIkZvY3VzIiwiRm9jdXNSZXN1bHQiLCJEaXJlY3Rpb24iLCJGb2N1c2FibGVNb2RlIiwiZm9jdXNhYmxlU2VsZWN0b3IiLCJzZWxlY3RvciIsInByZXZlbnRTY3JvbGwiLCJjb250YWluZXIiLCJlbGVtZW50cyIsImJvZHkiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZ2V0Rm9jdXNhYmxlRWxlbWVudHMiLCJhY3RpdmUiLCJkaXJlY3Rpb24iLCJGaXJzdCIsIk5leHQiLCJQcmV2aW91cyIsIkxhc3QiLCJzdGFydEluZGV4IiwibWF4IiwiZm9jdXNPcHRpb25zIiwiTm9TY3JvbGwiLCJvZmZzZXQiLCJ0b3RhbCIsIl9uZXh0IiwibmV4dElkeCIsIldyYXBBcm91bmQiLCJVbmRlcmZsb3ciLCJPdmVyZmxvdyIsImhhc0F0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIlN1Y2Nlc3MiLCJtb3VudGVkIiwiU3RhdGUiLCJfcmVkdWNlcnMiLCJNZW51U3RhdGVzIiwiQ29udGV4dCIsIl9wcm9wcyRhcyIsInJlc29sdmVUeXBlIiwic2V0VHlwZSIsIkhUTUxCdXR0b25FbGVtZW50IiwiZGlzcG9zYWJsZXMiLCJhcGkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfcmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmFmIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJuZXh0RnJhbWUiLCJfc2V0VGltZW91dCIsInRpbWVyIiwiY2xlYXJUaW1lb3V0IiwiY2IiLCJkaXNwb3NlIiwic3BsaWNlIiwicmVzb2x2ZXJzIiwiaXRlbXMiLCJyZXNvbHZlSXRlbXMiLCJjdXJyZW50QWN0aXZlSW5kZXgiLCJyZXNvbHZlQWN0aXZlSW5kZXgiLCJhY3RpdmVJbmRleCIsIm5leHRBY3RpdmVJbmRleCIsIml0ZW0iLCJyZXNvbHZlRGlzYWJsZWQiLCJpZHgiLCJyZXZlcnNlIiwiX2lkeCIsIlNwZWNpZmljIiwicmVzb2x2ZUlkIiwiTm90aGluZyIsInJlZHVjZXJzIiwiQ2xvc2VNZW51IiwibWVudVN0YXRlIiwiQ2xvc2VkIiwiYWN0aXZlSXRlbUluZGV4IiwiT3Blbk1lbnUiLCJPcGVuIiwiR29Ub0l0ZW0iLCJjYWxjdWxhdGVBY3RpdmVJbmRleCIsImRhdGFSZWYiLCJzZWFyY2hRdWVyeSIsIlNlYXJjaCIsIl9pdGVtJGRhdGFSZWYkY3VycmVudCIsInRleHRWYWx1ZSIsIkNsZWFyU2VhcmNoIiwiUmVnaXN0ZXJJdGVtIiwiY29uY2F0IiwiVW5yZWdpc3Rlckl0ZW0iLCJuZXh0SXRlbXMiLCJjdXJyZW50QWN0aXZlSXRlbSIsIk1lbnVDb250ZXh0IiwiTWVudSIsInVzZU1lbnVDb250ZXh0IiwiREVGQVVMVF9NRU5VX1RBRyIsInJlZHVjZXJCYWciLCJ1c2VSZWR1Y2VyIiwic3RhdGVSZWR1Y2VyIiwiYnV0dG9uUmVmIiwiY3JlYXRlUmVmIiwiaXRlbXNSZWYiLCJfcmVkdWNlckJhZyQiLCJfYnV0dG9uUmVmJGN1cnJlbnQiLCJfaXRlbXNSZWYkY3VycmVudCIsIl9idXR0b25SZWYkY3VycmVudDIiLCJtb2RlIiwiU3RyaWN0IiwibWF0Y2hlcyIsIkxvb3NlIiwiaXNGb2N1c2FibGVFbGVtZW50IiwidXNlTWVtbyIsIm9wZW4iLCJSZWFzb24iLCJCdXR0b24iLCJfc3RhdGUkaXRlbXNSZWYkY3VycmUiLCJfdXNlTWVudUNvbnRleHQiLCJ1c2VTeW5jUmVmcyIsInVzZUlkIiwidXNlRGlzcG9zYWJsZXMiLCJoYW5kbGVLZXlEb3duIiwiU3BhY2UiLCJFbnRlciIsIkFycm93RG93biIsIkFycm93VXAiLCJoYW5kbGVLZXlVcCIsImhhbmRsZUNsaWNrIiwiaXNEaXNhYmxlZFJlYWN0SXNzdWU3NzExIiwiY3VycmVudFRhcmdldCIsIl9zdGF0ZSRidXR0b25SZWYkY3VyciIsInVzZVJlc29sdmVCdXR0b25UeXBlIiwib25LZXlEb3duIiwib25LZXlVcCIsIkl0ZW1zUmVuZGVyRmVhdHVyZXMiLCJJdGVtcyIsIl9zdGF0ZSRpdGVtcyRzdGF0ZSRhYyIsIl9zdGF0ZSRidXR0b25SZWYkY3VycjQiLCJhY2NlcHQiLCJ3YWxrIiwiX3JlZiRlbmFibGVkIiwiZW5hYmxlZCIsImFjY2VwdFJlZiIsIndhbGtSZWYiLCJfdXNlTWVudUNvbnRleHQyIiwic2VhcmNoRGlzcG9zYWJsZXMiLCJ1c2VzT3BlbkNsb3NlZFN0YXRlIiwidXNlT3BlbkNsb3NlZCIsIm5vZGUiLCJOb2RlRmlsdGVyIiwiRklMVEVSX1JFSkVDVCIsIkZJTFRFUl9TS0lQIiwiRklMVEVSX0FDQ0VQVCIsImFjY2VwdE5vZGUiLCJ3YWxrZXIiLCJjcmVhdGVUcmVlV2Fsa2VyIiwiU0hPV19FTEVNRU5UIiwibmV4dE5vZGUiLCJjdXJyZW50Tm9kZSIsIl9kb2N1bWVudCRnZXRFbGVtZW50QiIsIl9pZCIsImNsaWNrIiwiX3N0YXRlJGJ1dHRvblJlZiRjdXJyMiIsIkhvbWUiLCJQYWdlVXAiLCJFbmQiLCJQYWdlRG93biIsIkVzY2FwZSIsIl9zdGF0ZSRidXR0b25SZWYkY3VycjMiLCJUYWIiLCJ0YWJJbmRleCIsIkRFRkFVTFRfSVRFTV9UQUciLCJpbml0aWFsIiwiX25vZGUkY2xhc3NMaXN0IiwiY2xhc3NlcyIsImNsYXNzTGlzdCIsIl9ub2RlJGNsYXNzTGlzdDIiLCJfbGVuMiIsIl9rZXkyIiwicmVtb3ZlIiwiYmFzZSIsInRvIiwiZW50ZXJlZCIsIl9kb25lIiwiY2FsbGVkIiwiX2dldENvbXB1dGVkU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiX21hcCIsInRyYW5zaXRpb25EdXJhdGlvbiIsInRyYW5zaXRpb25EZWxheSIsIl92YWx1ZSRzcGxpdCRmaWx0ZXIkbTIiLCJCb29sZWFuIiwidiIsInBhcnNlRmxvYXQiLCJ6IiwiZHVyYXRpb25NcyIsImRlbGF5c01zIiwiRmluaXNoZWQiLCJDYW5jZWxsZWQiLCJ3YWl0Rm9yVHJhbnNpdGlvbiIsInJlYXNvbiIsInJlbW92ZUNsYXNzZXMiLCJ0cmltIiwiSXRlbSIsIl9wcm9wcyRkaXNhYmxlZCIsInBhc3N0aHJvdWdoUHJvcHMiLCJfdXNlTWVudUNvbnRleHQzIiwiX2RvY3VtZW50JGdldEVsZW1lbnRCMiIsInNjcm9sbEludG9WaWV3IiwiYmxvY2siLCJiYWciLCJfZG9jdW1lbnQkZ2V0RWxlbWVudEIzIiwiX2RvY3VtZW50JGdldEVsZW1lbnRCNCIsInRleHRDb250ZW50IiwiX3N0YXRlJGJ1dHRvblJlZiRjdXJyNSIsImhhbmRsZUZvY3VzIiwiaGFuZGxlTW92ZSIsImhhbmRsZUxlYXZlIiwib25Gb2N1cyIsIm9uUG9pbnRlck1vdmUiLCJvbk1vdXNlTW92ZSIsIm9uUG9pbnRlckxlYXZlIiwib25Nb3VzZUxlYXZlIiwiVHJlZVN0YXRlcyIsIlRyYW5zaXRpb25Db250ZXh0IiwiTmVzdGluZ0NvbnRleHQiLCJoYXNDaGlsZHJlbiIsIlZpc2libGUiLCJkb25lUmVmIiwidHJhbnNpdGlvbmFibGVDaGlsZHJlbiIsInVzZUlzTW91bnRlZCIsImNoaWxkSWQiLCJzdHJhdGVneSIsImNoaWxkIiwiX3JlZjMiLCJldmVudE5hbWVzIiwiZXZlbnRzIiwiX2V2ZW50cyRuYW1lIiwibm9vcCIsIlRyYW5zaXRpb25DaGlsZFJlbmRlckZlYXR1cmVzIiwiX21hdGNoMyIsImJlZm9yZUVudGVyIiwiYWZ0ZXJFbnRlciIsImJlZm9yZUxlYXZlIiwiYWZ0ZXJMZWF2ZSIsImVudGVyIiwiZW50ZXJGcm9tIiwiZW50ZXJUbyIsImxlYXZlIiwibGVhdmVGcm9tIiwibGVhdmVUbyIsInNldFN0YXRlIiwiX3VzZVRyYW5zaXRpb25Db250ZXh0IiwidXNlVHJhbnNpdGlvbkNvbnRleHQiLCJzaG93IiwiYXBwZWFyIiwiX3VzZVBhcmVudE5lc3RpbmciLCJ1c2VQYXJlbnROZXN0aW5nIiwidXNlSXNJbml0aWFsUmVuZGVyIiwiaXNUcmFuc2l0aW9uaW5nIiwibmVzdGluZyIsInVzZU5lc3RpbmciLCJfbWF0Y2gyIiwiZW50ZXJDbGFzc2VzIiwidXNlU3BsaXRDbGFzc2VzIiwiZW50ZXJGcm9tQ2xhc3NlcyIsImVudGVyVG9DbGFzc2VzIiwiZW50ZXJlZENsYXNzZXMiLCJsZWF2ZUNsYXNzZXMiLCJsZWF2ZUZyb21DbGFzc2VzIiwibGVhdmVUb0NsYXNzZXMiLCJldmVudHNSZWYiLCJlbnN1cmVFdmVudEhvb2tzRXhpc3QiLCJ1c2VFdmVudHMiLCJza2lwIiwidHJhbnNpdGlvbiIsInByb3BzV2VDb250cm9sIiwiX21hdGNoNCIsIl9wcm9wcyRhcHBlYXIiLCJfdXNlU3RhdGUyIiwibmVzdGluZ0JhZyIsInRyYW5zaXRpb25CYWciLCJzaGFyZWRQcm9wcyIsIlRyYW5zaXRpb24iLCJDaGlsZCIsImhhc1RyYW5zaXRpb25Db250ZXh0IiwiaGFzT3BlbkNsb3NlZENvbnRleHQiLCJSb290IiwiY2xhc3NBY3RpdmUiLCJjbHN4IiwiaWNvbiIsIk1lbnVTb2xpZCIsIlRyYW5zaXRpb25Eb3duIiwiTWVudUl0ZW0iLCJwYXRoIiwiTGF6eUxvZ2dlZEluIiwibGF6eSIsIl9fdml0ZVByZWxvYWQiLCJMYXp5RXJyb3JQYWdlIiwiTGF6eUFib3V0UGFnZSIsIkxhenlDb25uZWN0UGFnZSIsIkxhenlKb2luUGFnZSIsIkxhenlUZWFtUGFnZSIsIkxvZ2dlZEluIiwiQXN5bmNDb21wb25lbnQiLCJFcnJvclBhZ2UiLCJBYm91dFBhZ2UiLCJDb25uZWN0UGFnZSIsIkpvaW5UZWFtUGFnZSIsIlRlYW1QYWdlIiwiTG9nZ2VkSW5Sb3V0ZSIsIl9hIiwiX2IiLCJSb3V0ZSIsIlN3aXRjaCIsIlJlZGlyZWN0Iiwicm9vdCIsInJlcXVpcmUiLCJyZVdoaXRlc3BhY2UiLCJ0cmltbWVkRW5kSW5kZXgiLCJzdHJpbmciLCJpbmRleCIsImNoYXJBdCIsInJlVHJpbVN0YXJ0IiwiYmFzZVRyaW0iLCJpc09iamVjdCIsImlzU3ltYm9sIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzT2N0YWwiLCJmcmVlUGFyc2VJbnQiLCJ0b051bWJlciIsIm90aGVyIiwidmFsdWVPZiIsImlzQmluYXJ5IiwibmF0aXZlTWF4IiwibmF0aXZlTWluIiwibWluIiwibGFzdEFyZ3MiLCJsYXN0VGhpcyIsIm1heFdhaXQiLCJ0aW1lcklkIiwibGFzdENhbGxUaW1lIiwibGFzdEludm9rZVRpbWUiLCJsZWFkaW5nIiwibWF4aW5nIiwidHJhaWxpbmciLCJ0aGlzQXJnIiwidGltZXJFeHBpcmVkIiwiaW52b2tlRnVuYyIsInRpbWVTaW5jZUxhc3RDYWxsIiwic2hvdWxkSW52b2tlIiwidHJhaWxpbmdFZGdlIiwidGltZVdhaXRpbmciLCJyZW1haW5pbmdXYWl0IiwiaXNJbnZva2luZyIsImxlYWRpbmdFZGdlIiwiY2FuY2VsIiwiZmx1c2giLCJkZWJvdW5jZWQiLCJkZWJvdW5jZSIsInNraXBDb25uZWN0Iiwibm9BY2NvdW50cyIsImVuY29kZVVSSUNvbXBvbmVudCIsImNvbmZpZ0xvYWRlZCIsImlzTmV3TG9jYWxTdG9yYWdlRXZlbnQiLCJzdG9yYWdlQXJlYSIsIm5ld1ZhbHVlIiwib25WaXNpYmlsaXR5Q2hhbmdlIiwicmVsb2FkIiwiZXhwYW5kZWQiLCJkZWJvdW5jZVJlbG9hZCIsInRpdGxlIiwidGl0bGVSZWYiLCJpbm5lckhUTUwiLCJiYWRnZSIsImdldEFwaVVSTCIsIkVtb2ppSW5kaWNlc0J5QWxpYXMiLCJoYW5kbGVMb2dvdXRMb2dpblNpZ25hbCIsImhhbmRsZURuZEV2ZW50IiwidGhyb3R0bGUiLCJzaXRlTmFtZSIsInNldFByb3BlcnR5IiwiY2xpZW50V2lkdGgiLCJjc3JmIiwiZ2V0Q3NyZiIsInNldFRva2VuIiwic2V0Q1NSRiIsImNsaWVudCIsImFwcCIsIm1lIiwibG9hZE1lQW5kQ29uZmlnIiwiaGFuZGxlQ29uZmlnTG9hZGVkIiwiYWxsb3dlZERvbWFpbnMiLCJjbGllbnRWYWxpZCIsImdldERvbWFpbiIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiTG9hZGluZ1NjcmVlbiIsIlBsdXNTb2lsZCIsIk1pbnVzU29pbGQiLCJMb2dvIiwiaGFuZGxlUmVsb2FkIiwiSWNvblJlZnJlc2giLCJoYW5kbGVFeHBhbm5lZCIsIlJvb3RNZW51IiwiUm9vdFgiLCJjbGllbnRJbmZvIiwiZ2V0SW5pdERhdGEiLCJhcHBJbmZvIiwicGx1Z2lucyIsImNvbXBvbmVudHMiLCJDdXN0b21Sb3V0ZUNvbXBvbmVudCIsImFsbG93ZWQiLCJwZXJtYWxpbmtSZWRpcmVjdFRlYW0iLCJTaXRlTmFtZSIsIk5vQWNjb3VudHMiLCJoYXNVc2VyVG9rZW4iLCJwZXJtYWxpbmtSZWRpcmVjdFRlYW1OYW1lIl0sIm1hcHBpbmdzIjoiMm9FQXNCMENBLFVBQy9CQyxNQUFPQyxFQUFVQyxXQUNkQyxFQUFRRCxJQUNSRSxFQUFnQkMsRUFBaUJGLEdBQ2pDRyxFQUFjQyxFQUFxQkgsRUFBZUwsR0FDbERTLEVBQVVDLEVBQWlCTixFQUFPRyxPQUVuQ0UsU0FDTVAsRUFBU1MsRUFBbUNOLEVBQWVMLE1BRzNELE1BQU8sa0NBQ1pZLEVBQU1DLEtBQUtELE1BQ1hFLEVBQWEsQ0FDZkMsU0FBVUMsRUFBWUMsNkJBQ3RCQyxLQUFNbEIsRUFDTm1CLE1BQU8sUUFFTEMsRUFBZSxDQUNqQkwsU0FBVUMsRUFBWUssMkJBQ3RCSCxLQUFNVCxFQUFRYSxHQUNkSCxNQUFPUCxFQUFJVyxZQUVUQyxFQUFVLENBQUMsQ0FDYkMsS0FBTUMsRUFBZ0JD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
