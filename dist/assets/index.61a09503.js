var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,r=(e,t,n)=>(i(e,"symbol"!=typeof t?t+"":t,n),n);import{R as c,x as d,w as u,I as p,J as l}from"./vendor.b4a3f96f.js";import{aQ as m,bX as h,bY as w,ad as f,bZ as v,bS as b,N as g,aK as L,y,ag as k,$ as E,b_ as U}from"./index.fe6624b8.js";import{i as S,e as O,a as z,B,c as T,W as I}from"./index.552beff8.js";function j(e){return async(r,c)=>{const d=m(c()),u=h(c(),d.id),p=u.automaticTimezone!==e;if(u.useAutomaticTimezone&&p){const p={useAutomaticTimezone:"true",automaticTimezone:e,manualTimezone:u.manualTimezone},m=(l=((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&i(e,n,t[n]);if(o)for(var n of o(t))a.call(t,n)&&i(e,n,t[n]);return e})({},d),t(l,n({timezone:p})));w(m)(r,c)}var l;return{}}}const x=f.dispatch,C=f.getState;class A extends c.PureComponent{constructor(e){super(e),r(this,"onDesktopMessageListener",(e=>{const{origin:t,data:{type:n,message:o={}}={}}=e;if(this.props.currentUser&&t===window.location.origin)switch(n){case"register-desktop":{const{version:e}=o;window.desktop||(window.desktop={}),window.desktop.version=u.valid(u.coerce(e));break}case"user-activity-update":{const{userIsActive:e,manual:t}=o;!0!==e&&!1!==e||I.userUpdateActiveStatus(e,t);break}case"notification-clicked":{const{channel:e,teamId:t}=o;window.focus(),this.props.actions.getChannelURLAction(e,t);break}}})),r(this,"handleBackSpace",(e=>{8!==e.which||["input","textarea"].includes(e.target.tagName.toLowerCase())||e.preventDefault()})),r(this,"handleBeforeUnload",(()=>{window.removeEventListener("beforeunload",this.handleBeforeUnload),document.cookie.indexOf(`${g.COOKIE.SESSION_USER}=`)>-1&&L("",this.props.currentChannelId||"")(x,C),T()}));const t=document.getElementById("u3-chatting");t&&(t.className+=" channel-view")}isValidState(){return null!=this.props.currentUser}componentDidMount(){const{currentUser:e,enableTimezone:t,actions:n,location:o}=this.props;S(),t&&n.autoUpdateTimezone(v()),window.addEventListener("beforeunload",this.handleBeforeUnload),window.addEventListener("focus",this.onFocusListener),window.addEventListener("blur",this.onBlurListener),document.hasFocus()||O(!1),window.addEventListener("message",this.onDesktopMessageListener),window.postMessage({type:"webapp-ready"},window.location.origin),e||z("/error?type=no-auth&redirect_to="+encodeURIComponent(o.pathname),!0,!1),window.addEventListener("keydown",this.handleBackSpace),this.isValidState()&&B.signalLogin()}componentWillUnmount(){T(),window.removeEventListener("keydown",this.handleBackSpace),window.removeEventListener("focus",this.onFocusListener),window.removeEventListener("blur",this.onBlurListener),window.removeEventListener("message",this.onDesktopMessageListener)}render(){return this.isValidState()?this.props.children:d(b,{message:"Xác thực tài khoản"})}onFocusListener(){O(!0)}onBlurListener(){O(!1)}}var D=A;const P=(e,t)=>(n,o)=>E.push(U(o(),e,t));var M=p((function(e){const t=y(e);return{currentUser:m(e),currentChannelId:k(e),enableTimezone:"true"===t.ExperimentalTimezone}}),(function(e){return{actions:l({autoUpdateTimezone:j,getChannelURLAction:P},e)}}))(D);export{M as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguNjFhMDk1MDMuanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy94L3BhY2thZ2VzL2NoYXR0aW5nLXJlZHV4L3NyYy9hY3Rpb25zL3RpbWV6b25lLnRzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvTG9nZ2VkSW4vTG9nZ2VkSW4udHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvTG9nZ2VkSW4vaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQgTWF0dGVybW9zdCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU2VlIExJQ0VOU0UudHh0IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuaW1wb3J0IHtnZXRDdXJyZW50VXNlcn0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL3VzZXJzJztcbmltcG9ydCB7Z2V0VXNlclRpbWV6b25lfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdGltZXpvbmUnO1xuXG5pbXBvcnQge0FjdGlvbkZ1bmMsIERpc3BhdGNoRnVuYywgR2V0U3RhdGVGdW5jfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcblxuaW1wb3J0IHt1cGRhdGVNZX0gZnJvbSAnLi91c2Vycyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhdXRvVXBkYXRlVGltZXpvbmUoZGV2aWNlVGltZXpvbmU6IHN0cmluZyk6IEFjdGlvbkZ1bmMge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlOiBHZXRTdGF0ZUZ1bmMpID0+IHtcbiAgICBjb25zdCBjdXJyZW50VWVyID0gZ2V0Q3VycmVudFVzZXIoZ2V0U3RhdGUoKSk7XG4gICAgY29uc3QgY3VycmVudFRpbWV6b25lID0gZ2V0VXNlclRpbWV6b25lKGdldFN0YXRlKCksIGN1cnJlbnRVZXIuaWQpO1xuICAgIGNvbnN0IG5ld1RpbWV6b25lRXhpc3RzID0gY3VycmVudFRpbWV6b25lLmF1dG9tYXRpY1RpbWV6b25lICE9PSBkZXZpY2VUaW1lem9uZTtcblxuICAgIGlmIChjdXJyZW50VGltZXpvbmUudXNlQXV0b21hdGljVGltZXpvbmUgJiYgbmV3VGltZXpvbmVFeGlzdHMpIHtcbiAgICAgIGNvbnN0IHRpbWV6b25lID0ge1xuICAgICAgICB1c2VBdXRvbWF0aWNUaW1lem9uZTogJ3RydWUnLFxuICAgICAgICBhdXRvbWF0aWNUaW1lem9uZTogZGV2aWNlVGltZXpvbmUsXG4gICAgICAgIG1hbnVhbFRpbWV6b25lOiBjdXJyZW50VGltZXpvbmUubWFudWFsVGltZXpvbmUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1cGRhdGVkVXNlciA9IHtcbiAgICAgICAgLi4uY3VycmVudFVlcixcbiAgICAgICAgdGltZXpvbmUsXG4gICAgICB9O1xuXG4gICAgICB1cGRhdGVNZSh1cGRhdGVkVXNlcikoZGlzcGF0Y2gsIGdldFN0YXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge307XG4gIH07XG59XG4iLCIvKipcbiAqIEZpbGU6IExvZ2dlZEluLnRzeFxuICogUHJvamVjdDogY2hhdHRpbmctbWluaW1hbFxuICogRmlsZSBDcmVhdGVkOiAzMCBTZXAgMjAyMSAxMDo1Mzo1MVxuICogQXV0aG9yOiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogTGFzdCBNb2RpZmllZDogMDcgT2N0IDIwMjEgMjI6Mzc6MTdcbiAqIE1vZGlmaWVkIEJ5OiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogQ29weXJpZ2h0IChjKSAyMDIxIHVuZDNmaW5lZC5jb21cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHNlbXZlciBmcm9tICdzZW12ZXInO1xuXG5pbXBvcnQge3ZpZXdDaGFubmVsfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL2NoYW5uZWxzJztcbmltcG9ydCBHZW5lcmFsIGZyb20gJ2NoYXR0aW5nLXJlZHV4L2NvbnN0YW50cy9nZW5lcmFsJztcblxuaW1wb3J0ICogYXMgR2xvYmFsQWN0aW9ucyBmcm9tICckYWN0aW9ucy9nbG9iYWxfYWN0aW9ucyc7XG5pbXBvcnQgKiBhcyBXZWJTb2NrZXRBY3Rpb25zIGZyb20gJyRhY3Rpb25zL3dlYnNvY2tldF9hY3Rpb25zLmpzeCc7XG5pbXBvcnQge2dldEJyb3dzZXJUaW1lem9uZX0gZnJvbSAnJHV0aWxzL3RpbWV6b25lLmpzeCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnJHN0b3Jlcy9yZWR1eF9zdG9yZS5qc3gnO1xuaW1wb3J0IFdlYlNvY2tldENsaWVudCBmcm9tICckY2xpZW50L3dlYl93ZWJzb2NrZXRfY2xpZW50LmpzeCc7XG5pbXBvcnQgQnJvd3NlclN0b3JlIGZyb20gJyRzdG9yZXMvYnJvd3Nlcl9zdG9yZSc7XG5cbmltcG9ydCBMb2FkaW5nU2NyZWVuIGZyb20gJ0Bjb21wb25lbnRzL0xvYWRpbmdTY3JlZW4nO1xuXG5pbXBvcnQgdHlwZSB7U3RhdGUsIFByb3BzfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7RGlzcGF0Y2hGdW5jfSBmcm9tICdjaGF0dGluZy1yZWR1eC90eXBlcy9hY3Rpb25zJztcblxuY29uc3QgZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaDtcbmNvbnN0IGdldFN0YXRlID0gc3RvcmUuZ2V0U3RhdGU7XG5cbmNvbnN0IEJBQ0tTUEFDRV9DSEFSID0gODtcblxuY2xhc3MgTG9nZ2VkSW4gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBjb25zdCByb290ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3UzLWNoYXR0aW5nJyk7XG4gICAgaWYgKHJvb3QpIHtcbiAgICAgIHJvb3QuY2xhc3NOYW1lICs9ICcgY2hhbm5lbC12aWV3JztcbiAgICB9XG4gIH1cblxuICBpc1ZhbGlkU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY3VycmVudFVzZXIgIT0gbnVsbDtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHtjdXJyZW50VXNlciwgZW5hYmxlVGltZXpvbmUsIGFjdGlvbnMsIGxvY2F0aW9ufSA9IHRoaXMucHJvcHM7XG5cbiAgICAvLyBJbml0aWFsaXplIHdlYnNvY2tldFxuICAgIFdlYlNvY2tldEFjdGlvbnMuaW5pdGlhbGl6ZSgpO1xuXG4gICAgaWYgKGVuYWJsZVRpbWV6b25lKSB7XG4gICAgICBhY3Rpb25zLmF1dG9VcGRhdGVUaW1lem9uZShnZXRCcm93c2VyVGltZXpvbmUoKSk7XG4gICAgfVxuXG4gICAgLy8gTWFrZSBzdXJlIHRoZSB3ZWJzb2NrZXRzIGNsb3NlIGFuZCByZXNldCB2ZXJzaW9uXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMuaGFuZGxlQmVmb3JlVW5sb2FkKTtcblxuICAgIC8vIExpc3RlbiBmb3IgZm9jdXNlZCB0YWIvd2luZG93IHN0YXRlXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5vbkZvY3VzTGlzdGVuZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5vbkJsdXJMaXN0ZW5lcik7XG4gICAgaWYgKCFkb2N1bWVudC5oYXNGb2N1cygpKSB7XG4gICAgICBHbG9iYWxBY3Rpb25zLmVtaXRCcm93c2VyRm9jdXMoZmFsc2UpO1xuICAgIH1cblxuICAgIC8vIExpc3RlbiBmb3IgbWVzc2FnZXMgZnJvbSB0aGUgZGVza3RvcCBhcHBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25EZXNrdG9wTWVzc2FnZUxpc3RlbmVyKTtcblxuICAgIC8vIFRlbGwgdGhlIGRlc2t0b3AgYXBwIHRoZSB3ZWJhcHAgaXMgcmVhZHlcbiAgICB3aW5kb3cucG9zdE1lc3NhZ2Uoe3R5cGU6ICd3ZWJhcHAtcmVhZHknfSwgd2luZG93LmxvY2F0aW9uLm9yaWdpbik7XG5cbiAgICBpZiAoIWN1cnJlbnRVc2VyKSB7XG4gICAgICBHbG9iYWxBY3Rpb25zLmVtaXRVc2VyTG9nZ2VkT3V0RXZlbnQoXG4gICAgICAgICcvZXJyb3I/dHlwZT1uby1hdXRoJnJlZGlyZWN0X3RvPScgKyBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24ucGF0aG5hbWUpLFxuICAgICAgICB0cnVlLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBQcmV2ZW50IGJhY2tzcGFjZSBmcm9tIG5hdmlnYXRpbmcgYmFjayBhIHBhZ2VcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlQmFja1NwYWNlKTtcblxuICAgIGlmICh0aGlzLmlzVmFsaWRTdGF0ZSgpKSB7XG4gICAgICBCcm93c2VyU3RvcmUuc2lnbmFsTG9naW4oKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBXZWJTb2NrZXRBY3Rpb25zLmNsb3NlKCk7XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlQmFja1NwYWNlKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLm9uRm9jdXNMaXN0ZW5lcik7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLm9uQmx1ckxpc3RlbmVyKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25EZXNrdG9wTWVzc2FnZUxpc3RlbmVyKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZFN0YXRlKCkpIHtcbiAgICAgIHJldHVybiA8TG9hZGluZ1NjcmVlbiBtZXNzYWdlPSdYw6FjIHRo4buxYyB0w6BpIGtob+G6o24nIC8+O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG5cbiAgb25Gb2N1c0xpc3RlbmVyKCkge1xuICAgIEdsb2JhbEFjdGlvbnMuZW1pdEJyb3dzZXJGb2N1cyh0cnVlKTtcbiAgfVxuXG4gIG9uQmx1ckxpc3RlbmVyKCkge1xuICAgIEdsb2JhbEFjdGlvbnMuZW1pdEJyb3dzZXJGb2N1cyhmYWxzZSk7XG4gIH1cblxuICAvLyBsaXN0ZW4gZm9yIG1lc3NhZ2VzIGZyb20gdGhlIGRlc2t0b3AgYXBwXG4gIG9uRGVza3RvcE1lc3NhZ2VMaXN0ZW5lciA9IChldjogTWVzc2FnZUV2ZW50PGFueT4pID0+IHtcbiAgICBjb25zdCB7b3JpZ2luLCBkYXRhOiB7dHlwZSwgbWVzc2FnZSA9IHt9fSA9IHt9fSA9IGV2O1xuXG4gICAgaWYgKCF0aGlzLnByb3BzLmN1cnJlbnRVc2VyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3JlZ2lzdGVyLWRlc2t0b3AnOiB7XG4gICAgICAgIGNvbnN0IHt2ZXJzaW9ufSA9IG1lc3NhZ2U7XG4gICAgICAgIGlmICghd2luZG93LmRlc2t0b3ApIHtcbiAgICAgICAgICB3aW5kb3cuZGVza3RvcCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5kZXNrdG9wLnZlcnNpb24gPSBzZW12ZXIudmFsaWQoc2VtdmVyLmNvZXJjZSh2ZXJzaW9uKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAndXNlci1hY3Rpdml0eS11cGRhdGUnOiB7XG4gICAgICAgIGNvbnN0IHt1c2VySXNBY3RpdmUsIG1hbnVhbH0gPSBtZXNzYWdlO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgc2VydmVyIHdpdGggdGhlIHVzZXJzIGN1cnJlbnQgYXdheSBzdGF0dXNcbiAgICAgICAgaWYgKHVzZXJJc0FjdGl2ZSA9PT0gdHJ1ZSB8fCB1c2VySXNBY3RpdmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgV2ViU29ja2V0Q2xpZW50LnVzZXJVcGRhdGVBY3RpdmVTdGF0dXModXNlcklzQWN0aXZlLCBtYW51YWwpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnbm90aWZpY2F0aW9uLWNsaWNrZWQnOiB7XG4gICAgICAgIGNvbnN0IHtjaGFubmVsLCB0ZWFtSWR9ID0gbWVzc2FnZTtcbiAgICAgICAgd2luZG93LmZvY3VzKCk7XG5cbiAgICAgICAgLy8gbmF2aWdhdGUgdG8gdGhlIGFwcHJvcHJpYXRlIGNoYW5uZWxcbiAgICAgICAgdGhpcy5wcm9wcy5hY3Rpb25zLmdldENoYW5uZWxVUkxBY3Rpb24oY2hhbm5lbCwgdGVhbUlkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZUJhY2tTcGFjZSA9IChlOiBhbnkpID0+IHtcbiAgICBjb25zdCBleGNsdWRlZEVsZW1lbnRzID0gWydpbnB1dCcsICd0ZXh0YXJlYSddO1xuXG4gICAgaWYgKGUud2hpY2ggPT09IEJBQ0tTUEFDRV9DSEFSICYmICFleGNsdWRlZEVsZW1lbnRzLmluY2x1ZGVzKGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlQmVmb3JlVW5sb2FkID0gKCkgPT4ge1xuICAgIC8vIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgdG8gcHJldmVudCBnZXR0aW5nIHN0dWNrIGluIGEgbG9vcFxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLmhhbmRsZUJlZm9yZVVubG9hZCk7XG5cbiAgICBpZiAoZG9jdW1lbnQuY29va2llLmluZGV4T2YoYCR7R2VuZXJhbC5DT09LSUUuU0VTU0lPTl9VU0VSfT1gKSA+IC0xKSB7XG4gICAgICB2aWV3Q2hhbm5lbCgnJywgdGhpcy5wcm9wcy5jdXJyZW50Q2hhbm5lbElkIHx8ICcnKShkaXNwYXRjaCBhcyBEaXNwYXRjaEZ1bmMsIGdldFN0YXRlKTtcbiAgICB9XG4gICAgV2ViU29ja2V0QWN0aW9ucy5jbG9zZSgpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dnZWRJbjtcbiIsIi8qKlxuICogRmlsZTogaW5kZXgudHNcbiAqIFByb2plY3Q6IGNoYXR0aW5nLW1pbmltYWxcbiAqIEZpbGUgQ3JlYXRlZDogMzAgU2VwIDIwMjEgMTA6NTM6NDFcbiAqIEF1dGhvcjogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIExhc3QgTW9kaWZpZWQ6IDA3IE9jdCAyMDIxIDE2OjUzOjUwXG4gKiBNb2RpZmllZCBCeTogdW5kM2ZpbmVkIChtZUB1bmQzZmluZWQuY29tKVxuICogLS0tLS1cbiAqIENvcHlyaWdodCAoYykgMjAyMSB1bmQzZmluZWQuY29tXG4gKi9cbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHtiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNofSBmcm9tICdyZWR1eCc7XG5cbmltcG9ydCB7YXV0b1VwZGF0ZVRpbWV6b25lfSBmcm9tICdjaGF0dGluZy1yZWR1eC9hY3Rpb25zL3RpbWV6b25lJztcbmltcG9ydCB7Z2V0Q3VycmVudENoYW5uZWxJZH0gZnJvbSAnY2hhdHRpbmctcmVkdXgvc2VsZWN0b3JzL2VudGl0aWVzL2NoYW5uZWxzJztcbmltcG9ydCB7Z2V0Q29uZmlnfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvZ2VuZXJhbCc7XG5pbXBvcnQge2dldEN1cnJlbnRVc2VyfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvdXNlcnMnO1xuaW1wb3J0IHsgR2VuZXJpY0FjdGlvbiB9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3R5cGVzL2FjdGlvbnMnO1xuXG5pbXBvcnQge2Jyb3dzZXJIaXN0b3J5fSBmcm9tICckdXRpbHMvYnJvd3Nlcl9oaXN0b3J5JztcbmltcG9ydCB7Z2V0Q2hhbm5lbFVSTH0gZnJvbSAnJHV0aWxzL3V0aWxzJztcblxuaW1wb3J0IExvZ2dlZEluIGZyb20gJy4vTG9nZ2VkSW4nO1xuaW1wb3J0IHsgR2xvYmFsU3RhdGUgfSBmcm9tICckdHlwZXMvc3RvcmUnO1xuaW1wb3J0IHtTdGF0ZVByb3BzLCBEaXNwYXRjaFByb3BzLCBPd25Qcm9wcyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgQ2hhbm5lbCB9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3R5cGVzL2NoYW5uZWxzJztcblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlOiBHbG9iYWxTdGF0ZSk6IFN0YXRlUHJvcHMge1xuICBjb25zdCBjb25maWcgPSBnZXRDb25maWcoc3RhdGUpO1xuXG4gIHJldHVybiB7XG4gICAgY3VycmVudFVzZXI6IGdldEN1cnJlbnRVc2VyKHN0YXRlKSxcbiAgICBjdXJyZW50Q2hhbm5lbElkOiBnZXRDdXJyZW50Q2hhbm5lbElkKHN0YXRlKSxcbiAgICBlbmFibGVUaW1lem9uZTogY29uZmlnLkV4cGVyaW1lbnRhbFRpbWV6b25lID09PSAndHJ1ZScsXG4gIH07XG59XG5cbmNvbnN0IGdldENoYW5uZWxVUkxBY3Rpb24gPSAoY2hhbm5lbDogQ2hhbm5lbCwgdGVhbUlkOiBzdHJpbmcpID0+IChkaXNwYXRjaDogRGlzcGF0Y2gsIGdldFN0YXRlOiAoKSA9PiBHbG9iYWxTdGF0ZSkgPT4gYnJvd3Nlckhpc3RvcnkucHVzaChnZXRDaGFubmVsVVJMKGdldFN0YXRlKCksIGNoYW5uZWwsIHRlYW1JZCkpO1xuXG5mdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2g6IERpc3BhdGNoPEdlbmVyaWNBY3Rpb24+KSB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uczogYmluZEFjdGlvbkNyZWF0b3JzKFxuICAgICAge1xuICAgICAgICBhdXRvVXBkYXRlVGltZXpvbmUsXG4gICAgICAgIGdldENoYW5uZWxVUkxBY3Rpb24sXG4gICAgICB9LFxuICAgICAgZGlzcGF0Y2hcbiAgICApLFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0PFN0YXRlUHJvcHMsIERpc3BhdGNoUHJvcHMsIE93blByb3BzLCBHbG9iYWxTdGF0ZT4obWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKExvZ2dlZEluKTtcbiJdLCJuYW1lcyI6WyJkZXZpY2VUaW1lem9uZSIsImFzeW5jIiwiZGlzcGF0Y2giLCJnZXRTdGF0ZSIsImN1cnJlbnRVZXIiLCJnZXRDdXJyZW50VXNlciIsImN1cnJlbnRUaW1lem9uZSIsImdldFVzZXJUaW1lem9uZSIsImlkIiwibmV3VGltZXpvbmVFeGlzdHMiLCJhdXRvbWF0aWNUaW1lem9uZSIsInVzZUF1dG9tYXRpY1RpbWV6b25lIiwidGltZXpvbmUiLCJtYW51YWxUaW1lem9uZSIsInVwZGF0ZWRVc2VyIiwic3RvcmUiLCJSZWFjdCIsIlB1cmVDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiZXYiLCJvcmlnaW4iLCJkYXRhIiwidHlwZSIsIm1lc3NhZ2UiLCJ0aGlzIiwiY3VycmVudFVzZXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInZlcnNpb24iLCJkZXNrdG9wIiwic2VtdmVyIiwidmFsaWQiLCJjb2VyY2UiLCJ1c2VySXNBY3RpdmUiLCJtYW51YWwiLCJ1c2VyVXBkYXRlQWN0aXZlU3RhdHVzIiwiY2hhbm5lbCIsInRlYW1JZCIsImZvY3VzIiwiYWN0aW9ucyIsImdldENoYW5uZWxVUkxBY3Rpb24iLCJlIiwid2hpY2giLCJpbmNsdWRlcyIsInRhcmdldCIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsInByZXZlbnREZWZhdWx0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUJlZm9yZVVubG9hZCIsImRvY3VtZW50IiwiY29va2llIiwiaW5kZXhPZiIsIkdlbmVyYWwiLCJDT09LSUUiLCJTRVNTSU9OX1VTRVIiLCJjdXJyZW50Q2hhbm5lbElkIiwicm9vdCIsImdldEVsZW1lbnRCeUlkIiwiY2xhc3NOYW1lIiwiaXNWYWxpZFN0YXRlIiwiY29tcG9uZW50RGlkTW91bnQiLCJlbmFibGVUaW1lem9uZSIsImF1dG9VcGRhdGVUaW1lem9uZSIsImdldEJyb3dzZXJUaW1lem9uZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbkZvY3VzTGlzdGVuZXIiLCJvbkJsdXJMaXN0ZW5lciIsImhhc0ZvY3VzIiwib25EZXNrdG9wTWVzc2FnZUxpc3RlbmVyIiwicG9zdE1lc3NhZ2UiLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXRobmFtZSIsImhhbmRsZUJhY2tTcGFjZSIsInNpZ25hbExvZ2luIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJyZW5kZXIiLCJjaGlsZHJlbiIsIkxvYWRpbmdTY3JlZW4iLCJMb2dnZWRJbiIsImJyb3dzZXJIaXN0b3J5IiwicHVzaCIsImdldENoYW5uZWxVUkwiLCJjb25uZWN0Iiwic3RhdGUiLCJjb25maWciLCJnZXRDb25maWciLCJnZXRDdXJyZW50Q2hhbm5lbElkIiwiRXhwZXJpbWVudGFsVGltZXpvbmUiLCJiaW5kQWN0aW9uQ3JlYXRvcnMiXSwibWFwcGluZ3MiOiJxbEJBU21DQSxVQUMxQkMsTUFBT0MsRUFBd0JDLFdBQzlCQyxFQUFhQyxFQUFlRixLQUM1QkcsRUFBa0JDLEVBQWdCSixJQUFZQyxFQUFXSSxJQUN6REMsRUFBb0JILEVBQWdCSSxvQkFBc0JWLEtBRTVETSxFQUFnQkssc0JBQXdCRixFQUFtQixPQUN2REcsRUFBVyxDQUNmRCxxQkFBc0IsT0FDdEJELGtCQUFtQlYsRUFDbkJhLGVBQWdCUCxFQUFnQk8sZ0JBRzVCQyw0SEFDRFYsU0FEZSxDQUVsQlEsU0FBQUEsUUFHT0UsR0FBYVosRUFBVUMsZUFHM0IsSUNBWCxNQUFNRCxFQUFXYSxFQUFN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
