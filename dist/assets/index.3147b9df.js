import{B as e,A as a,y as n,x as s,a7 as t,F as c,G as i}from"./vendor.458fa16b.js";import{gx as o,ap as r,y as d,E as l,cU as u,k as h,L as m,b0 as x}from"./index.95ab521c.js";import{b as f,l as p,d as N}from"./index.f7204134.js";var v="u3-cxx-5e84d357",I="u3-cxx-a99804c4",k="u3-cxx-e6035078",g="u3-cxx-6cc2687d";var A=c=>{const[i,d]=e.exports.useState(!1),[l,u]=e.exports.useState(!1),h=async e=>{const{location:a,history:n,noAccounts:s,currentUserId:t}=c;(s||!t&&!e)&&n.push(`/connect?next=${encodeURIComponent(a.pathname)}`),d(!0),o()(r.dispatch,r.getState)},m=async()=>{if(!c.siteName&&c.clientId){const[e,a,n,s]=await c.actions.loadMeAndConfig(c.clientId);s||await c.actions.userConnect(),s&&s.data&&f(c.history),h(s&&s.data)}c.siteName&&h(!1)};return e.exports.useEffect((()=>{m()}),[]),a("div",i?{className:n(v),children:[s("div",{className:I,children:s("p",{children:"Kết nối thành công"})}),s(t,{to:"/connect"})]}:{className:n(v),children:[a("div",{className:I,children:[a("svg",{viewBox:"-2000 -1000 4000 2000",children:[s("path",{id:"inf",d:"M354-354A500 500 0 1 1 354 354L-354-354A500 500 0 1 0-354 354z"}),s("use",{xlinkHref:"#inf",strokeDasharray:"1570 5143",strokeDashoffset:"6713px"})]}),s("p",{children:"Kết nối tài khoản"})]}),l?a("div",{className:k,children:[s("p",{children:"Kết nối có thể bị gián đoạn."}),s("button",{className:g,onClick:m,children:"Thử lại"})]}):null]})};var y=c((function(e){const a=d(),n=l(e),s=u(e),t=a.clientId===s.clientId,c=s.allowed,i=h(e),o=m.getPreviousTeamId(h(e)),r=x(e,o);return{siteName:n.SiteName,noAccounts:"true"===n.NoAccounts,clientValid:t,clientId:a.clientId,allowedDomains:c,hasUserToken:!!a.userToken,permalinkRedirectTeamName:r?r.name:"",currentUserId:i}}),(function(e){return{actions:i({loadMeAndConfig:p,userConnect:N},e)}}))(A);export{y as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguMzE0N2I5ZGYuanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wYWdlcy9Jbml0aWFsL0luaXRpYWwudHN4IiwiLi4vLi4vc3JjL3BhZ2VzL0luaXRpYWwvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGaWxlOiBJbml0aWFsLnRzeFxuICogUHJvamVjdDogY2hhdHRpbmctbWluaW1hbFxuICogRmlsZSBDcmVhdGVkOiAwMSBOb3YgMjAyMSAwOTo1MTowMFxuICogQXV0aG9yOiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogTGFzdCBNb2RpZmllZDogMTEgTm92IDIwMjEgMjA6MzE6MjRcbiAqIE1vZGlmaWVkIEJ5OiB1bmQzZmluZWQgKG1lQHVuZDNmaW5lZC5jb20pXG4gKiAtLS0tLVxuICogQ29weXJpZ2h0IChjKSAyMDIxIHVuZDNmaW5lZC5jb21cbiAqL1xuaW1wb3J0IHt1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1JlZGlyZWN0fSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuXG5pbXBvcnQgc3RvcmUgZnJvbSAnJHN0b3Jlcy9yZWR1eF9zdG9yZS5qc3gnO1xuaW1wb3J0IHtyZWRpcmVjdFVzZXJUb0RlZmF1bHRUZWFtfSBmcm9tICckYWN0aW9ucy9nbG9iYWxfYWN0aW9ucyc7XG5pbXBvcnQge2xvYWRSZWNlbnRseVVzZWRDdXN0b21FbW9qaXN9IGZyb20gJyRhY3Rpb25zL2Vtb2ppX2FjdGlvbnMnO1xuXG5pbXBvcnQgdHlwZSB7UHJvcHN9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlcy5tb2R1bGUuc2Nzcyc7XG5cbmNvbnN0IEluaXRpYWxQYWdlOiBSZWFjdC5GQzxQcm9wcz4gPSAocHJvcHM6IFByb3BzKSA9PiB7XG4gIGNvbnN0IFtjb25maWdMb2FkZWQsIHNldENvbmZpZ0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlbmFibGVSZXRyeSwgc2V0RW5hYmxlUmV0cnldID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGhhbmRsZUNvbmZpZ0xvYWRlZCA9IGFzeW5jIChza2lwQ29ubmVjdDogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IHtsb2NhdGlvbiwgaGlzdG9yeSwgbm9BY2NvdW50cywgY3VycmVudFVzZXJJZH0gPSBwcm9wcztcblxuICAgIGlmIChub0FjY291bnRzIHx8ICghY3VycmVudFVzZXJJZCAmJiAhc2tpcENvbm5lY3QpKSB7XG4gICAgICBoaXN0b3J5LnB1c2goYC9jb25uZWN0P25leHQ9JHtlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24ucGF0aG5hbWUpfWApO1xuICAgIH1cblxuICAgIHNldENvbmZpZ0xvYWRlZCh0cnVlKTtcbiAgICBsb2FkUmVjZW50bHlVc2VkQ3VzdG9tRW1vamlzKCkoc3RvcmUuZGlzcGF0Y2gsIHN0b3JlLmdldFN0YXRlKTtcbiAgfTtcblxuICBjb25zdCBsb2FkTWVBbmRDb25maWcgPSBhc3luYyAoKSA9PiB7XG5cbiAgICBpZiAoIXByb3BzLnNpdGVOYW1lICYmIHByb3BzLmNsaWVudElkKSB7XG4gICAgICBjb25zdCBbY2xpZW50LCBsaWNlbnNlLCBhcHAsIG1lXSA9IGF3YWl0IHByb3BzLmFjdGlvbnMubG9hZE1lQW5kQ29uZmlnKHByb3BzLmNsaWVudElkKTtcbiAgICAgIGxldCBza2lwQ29ubmVjdCA9IGZhbHNlO1xuICAgICAgaWYgKCFtZSkge1xuICAgICAgICBjb25zdCB7ZGF0YX0gPSBhd2FpdCBwcm9wcy5hY3Rpb25zLnVzZXJDb25uZWN0KCk7XG4gICAgICAgIHNraXBDb25uZWN0ID0gISFkYXRhO1xuICAgICAgfVxuXG4gICAgICBpZiAobWUgJiYgbWUuZGF0YSkge1xuICAgICAgICByZWRpcmVjdFVzZXJUb0RlZmF1bHRUZWFtKHByb3BzLmhpc3RvcnkpO1xuICAgICAgICBza2lwQ29ubmVjdCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGhhbmRsZUNvbmZpZ0xvYWRlZChtZSAmJiBtZS5kYXRhKTtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuc2l0ZU5hbWUpIHtcbiAgICAgIGhhbmRsZUNvbmZpZ0xvYWRlZChmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9hZE1lQW5kQ29uZmlnKCk7XG4gIH0sIFtdKTtcblxuICBpZiAoIWNvbmZpZ0xvYWRlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xzeChzdHlsZXMuY29udGFpbmVyKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGVudH0+XG4gICAgICAgICAgPHN2ZyB2aWV3Qm94PSctMjAwMCAtMTAwMCA0MDAwIDIwMDAnPlxuICAgICAgICAgICAgPHBhdGggaWQ9J2luZicgZD0nTTM1NC0zNTRBNTAwIDUwMCAwIDEgMSAzNTQgMzU0TC0zNTQtMzU0QTUwMCA1MDAgMCAxIDAtMzU0IDM1NHonPjwvcGF0aD5cbiAgICAgICAgICAgIDx1c2UgeGxpbmtIcmVmPScjaW5mJyBzdHJva2VEYXNoYXJyYXk9JzE1NzAgNTE0Mycgc3Ryb2tlRGFzaG9mZnNldD0nNjcxM3B4Jz48L3VzZT5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8cD5L4bq/dCBu4buRaSB0w6BpIGtob+G6o248L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7ZW5hYmxlUmV0cnkgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5lcnJvckJveH0+XG4gICAgICAgICAgICA8cD5L4bq/dCBu4buRaSBjw7MgdGjhu4MgYuG7iyBnacOhbiDEkW/huqFuLjwvcD5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXtzdHlsZXMuYnRuUmV0cnl9IG9uQ2xpY2s9e2xvYWRNZUFuZENvbmZpZ30+XG4gICAgICAgICAgICAgIFRo4butIGzhuqFpXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xzeChzdHlsZXMuY29udGFpbmVyKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGVudH0+XG4gICAgICAgICAgPHA+S+G6v3QgbuG7kWkgdGjDoG5oIGPDtG5nPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPFJlZGlyZWN0IHRvPXsnL2Nvbm5lY3QnfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgSW5pdGlhbFBhZ2U7XG4iLCIvKipcbiAqIEZpbGU6IGluZGV4LnRzXG4gKiBQcm9qZWN0OiBjaGF0dGluZy1taW5pbWFsXG4gKiBGaWxlIENyZWF0ZWQ6IDAxIE5vdiAyMDIxIDA5OjUxOjA1XG4gKiBBdXRob3I6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBMYXN0IE1vZGlmaWVkOiAxMSBOb3YgMjAyMSAyMDowNzowM1xuICogTW9kaWZpZWQgQnk6IHVuZDNmaW5lZCAobWVAdW5kM2ZpbmVkLmNvbSlcbiAqIC0tLS0tXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgdW5kM2ZpbmVkLmNvbVxuICovXG5cbmltcG9ydCB7YmluZEFjdGlvbkNyZWF0b3JzLCBEaXNwYXRjaH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCc7XG5cbmltcG9ydCB7Z2V0Q29uZmlnLCBnZXRBcHBJbmZvfSBmcm9tICdjaGF0dGluZy1yZWR1eC9zZWxlY3RvcnMvZW50aXRpZXMvZ2VuZXJhbCc7XG5pbXBvcnQge2dldEN1cnJlbnRVc2VySWR9IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy91c2Vycyc7XG5pbXBvcnQge2dldFRlYW19IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3NlbGVjdG9ycy9lbnRpdGllcy90ZWFtcyc7XG5pbXBvcnQge0dlbmVyaWNBY3Rpb259IGZyb20gJ2NoYXR0aW5nLXJlZHV4L3R5cGVzL2FjdGlvbnMnO1xuXG5pbXBvcnQge2xvYWRNZUFuZENvbmZpZ30gZnJvbSAnJGFjdGlvbnMvdmlld3Mvcm9vdCc7XG5pbXBvcnQge2Nvbm5lY3QgYXMgdXNlckNvbm5lY3R9IGZyb20gJyRhY3Rpb25zL3ZpZXdzL2Nvbm5lY3QnO1xuaW1wb3J0IExvY2FsU3RvcmFnZVN0b3JlIGZyb20gJyRzdG9yZXMvbG9jYWxfc3RvcmFnZV9zdG9yZSc7XG5pbXBvcnQge0dsb2JhbFN0YXRlfSBmcm9tICckdHlwZXMvc3RvcmUnO1xuXG5pbXBvcnQge2dldEluaXREYXRhfSBmcm9tICdAdXRpbHMvaW50ZWdyYXRlJztcblxuaW1wb3J0IHR5cGUge1N0YXRlUHJvcHMsIERpc3BhdGNoUHJvcHMsIE93blByb3BzfSBmcm9tICcuL3R5cGVzJztcblxuaW1wb3J0IEluaXRpYWxQYWdlIGZyb20gJy4vSW5pdGlhbCc7XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZTogR2xvYmFsU3RhdGUpIHtcbiAgY29uc3QgY2xpZW50SW5mbyA9IGdldEluaXREYXRhKCk7XG4gIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZyhzdGF0ZSk7XG4gIGNvbnN0IGFwcEluZm8gPSBnZXRBcHBJbmZvKHN0YXRlKTtcblxuICBjb25zdCBjbGllbnRWYWxpZCA9IGNsaWVudEluZm8uY2xpZW50SWQgPT09IGFwcEluZm8uY2xpZW50SWQ7XG4gIGNvbnN0IGFsbG93ZWREb21haW5zID0gYXBwSW5mby5hbGxvd2VkO1xuICBjb25zdCBjdXJyZW50VXNlcklkID0gZ2V0Q3VycmVudFVzZXJJZChzdGF0ZSk7XG4gIGNvbnN0IHRlYW1JZCA9IExvY2FsU3RvcmFnZVN0b3JlLmdldFByZXZpb3VzVGVhbUlkKGdldEN1cnJlbnRVc2VySWQoc3RhdGUpKTtcbiAgY29uc3QgcGVybWFsaW5rUmVkaXJlY3RUZWFtID0gZ2V0VGVhbShzdGF0ZSwgdGVhbUlkIGFzIHN0cmluZyk7XG5cbiAgcmV0dXJuIHtcbiAgICBzaXRlTmFtZTogY29uZmlnLlNpdGVOYW1lLFxuICAgIG5vQWNjb3VudHM6IGNvbmZpZy5Ob0FjY291bnRzID09PSAndHJ1ZScsXG4gICAgY2xpZW50VmFsaWQsXG4gICAgY2xpZW50SWQ6IGNsaWVudEluZm8uY2xpZW50SWQsXG4gICAgYWxsb3dlZERvbWFpbnMsXG4gICAgaGFzVXNlclRva2VuOiAhIWNsaWVudEluZm8udXNlclRva2VuLFxuICAgIHBlcm1hbGlua1JlZGlyZWN0VGVhbU5hbWU6IHBlcm1hbGlua1JlZGlyZWN0VGVhbSA/IHBlcm1hbGlua1JlZGlyZWN0VGVhbS5uYW1lIDogJycsXG4gICAgY3VycmVudFVzZXJJZCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoOiBEaXNwYXRjaDxHZW5lcmljQWN0aW9uPikge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbnM6IGJpbmRBY3Rpb25DcmVhdG9ycyhcbiAgICAgIHtcbiAgICAgICAgbG9hZE1lQW5kQ29uZmlnLFxuICAgICAgICB1c2VyQ29ubmVjdCxcbiAgICAgIH0sXG4gICAgICBkaXNwYXRjaFxuICAgICksXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3Q8U3RhdGVQcm9wcywgRGlzcGF0Y2hQcm9wcywgT3duUHJvcHMsIEdsb2JhbFN0YXRlPihcbiAgbWFwU3RhdGVUb1Byb3BzLFxuICBtYXBEaXNwYXRjaFRvUHJvcHNcbikoSW5pdGlhbFBhZ2UpO1xuIl0sIm5hbWVzIjpbInByb3BzIiwiY29uZmlnTG9hZGVkIiwic2V0Q29uZmlnTG9hZGVkIiwidXNlU3RhdGUiLCJlbmFibGVSZXRyeSIsInNldEVuYWJsZVJldHJ5IiwiaGFuZGxlQ29uZmlnTG9hZGVkIiwiYXN5bmMiLCJza2lwQ29ubmVjdCIsImxvY2F0aW9uIiwiaGlzdG9yeSIsIm5vQWNjb3VudHMiLCJjdXJyZW50VXNlcklkIiwicHVzaCIsImVuY29kZVVSSUNvbXBvbmVudCIsInBhdGhuYW1lIiwic3RvcmUiLCJkaXNwYXRjaCIsImdldFN0YXRlIiwibG9hZE1lQW5kQ29uZmlnIiwic2l0ZU5hbWUiLCJjbGllbnRJZCIsImNsaWVudCIsImxpY2Vuc2UiLCJhcHAiLCJtZSIsImFjdGlvbnMiLCJ1c2VyQ29ubmVjdCIsImRhdGEiLCJjbGFzc05hbWUiLCJjbHN4Iiwic3R5bGVzIiwiUmVkaXJlY3QiLCJ0byIsInZpZXdCb3giLCJpZCIsImQiLCJ4bGlua0hyZWYiLCJzdHJva2VEYXNoYXJyYXkiLCJzdHJva2VEYXNob2Zmc2V0Iiwib25DbGljayIsImNvbm5lY3QiLCJzdGF0ZSIsImNsaWVudEluZm8iLCJnZXRJbml0RGF0YSIsImNvbmZpZyIsImdldENvbmZpZyIsImFwcEluZm8iLCJnZXRBcHBJbmZvIiwiY2xpZW50VmFsaWQiLCJhbGxvd2VkRG9tYWlucyIsImFsbG93ZWQiLCJnZXRDdXJyZW50VXNlcklkIiwidGVhbUlkIiwiTG9jYWxTdG9yYWdlU3RvcmUiLCJnZXRQcmV2aW91c1RlYW1JZCIsInBlcm1hbGlua1JlZGlyZWN0VGVhbSIsImdldFRlYW0iLCJTaXRlTmFtZSIsIk5vQWNjb3VudHMiLCJoYXNVc2VyVG9rZW4iLCJ1c2VyVG9rZW4iLCJwZXJtYWxpbmtSZWRpcmVjdFRlYW1OYW1lIiwibmFtZSIsImJpbmRBY3Rpb25DcmVhdG9ycyIsIkluaXRpYWxQYWdlIl0sIm1hcHBpbmdzIjoiMlRBZ0dBLE1BMUVzQ0EsVUFDN0JDLEVBQWNDLEdBQW1CQyxvQkFBUyxJQUMxQ0MsRUFBYUMsR0FBa0JGLG9CQUFTLEdBRXpDRyxFQUFxQkMsTUFBT0MsVUFDMUJDLFNBQUNBLFVBQVVDLGFBQVNDLGdCQUFZQyxHQUFpQlosR0FFbkRXLElBQWdCQyxJQUFrQkosTUFDNUJLLEtBQU0saUJBQWdCQyxtQkFBbUJMLEVBQVNNLGdCQUc1QyxPQUNlQyxFQUFNQyxTQUFVRCxFQUFNRSxXQUdqREMsRUFBa0JaLGNBRWpCUCxFQUFNb0IsVUFBWXBCLEVBQU1xQixTQUFVLE9BQzlCQyxFQUFRQyxFQUFTQyxFQUFLQyxTQUFZekIsRUFBTTBCLFFBQVFQLGdCQUFnQm5CLEVBQU1xQixVQUV4RUksU0FDa0J6QixFQUFNMEIsUUFBUUMsY0FJakNGLEdBQU1BLEVBQUdHLFFBQ2U1QixFQUFNVSxXQUlmZSxHQUFNQSxFQUFHRyxNQUcxQjVCLEVBQU1vQixhQUNXLGdDQUliLFdBRVAsWUFFRW5CLEdBc0JJNEIsVUFBV0MsRUFBS0Msc0JBQ2RGLFVBQVdFLHNEQUdmQyxHQUFTQyxHQUFJLGdCQXhCWEosVUFBV0MsRUFBS0Msc0JBQ2RGLFVBQVdFLHFCQUNURyxRQUFRLDRDQUNMQyxHQUFHLE1BQU1DLEVBQUUsNEVBQ1pDLFVBQVUsT0FBT0MsZ0JBQWdCLFlBQVlDLGlCQUFpQix1REFJdEVuQyxXQUNNeUIsVUFBV0UseUVBRU5GLFVBQVdFLEVBQWlCUyxRQUFTckIsMEJBSTdDLFNDZlosTUFBZXNCLEdBbkNmLFNBQXlCQyxTQUNqQkMsRUFBYUMsSUFDYkMsRUFBU0MsRUFBVUosR0FDbkJLLEVBQVVDLEVBQVdOLEdBRXJCTyxFQUFjTixFQUFXdEIsV0FBYTBCLEVBQVExQixTQUM5QzZCLEVBQWlCSCxFQUFRSSxRQUN6QnZDLEVBQWdCd0MsRUFBaUJWLEdBQ2pDVyxFQUFTQyxFQUFrQkMsa0JBQWtCSCxFQUFpQlYsSUFDOURjLEVBQXdCQyxFQUFRZixFQUFPVyxTQUV0QyxDQUNMakMsU0FBVXlCLEVBQU9hLFNBQ2pCL0MsV0FBa0MsU0FBdEJrQyxFQUFPYyxXQUNuQlYsWUFBQUEsRUFDQTVCLFNBQVVzQixFQUFXdEIsU0FDckI2QixlQUFBQSxFQUNBVSxlQUFnQmpCLEVBQVdrQixVQUMzQkMsMEJBQTJCTixFQUF3QkEsRUFBc0JPLEtBQU8sR0FDaEZuRCxjQUFBQSxNQUlKLFNBQTRCSyxTQUNuQixDQUNMUyxRQUFTc0MsRUFDUCxDQUNFN0MsZ0JBQUFBLGNBQ0FRLEdBRUZWLE1BS1N3QixDQUdid0IifQ==
