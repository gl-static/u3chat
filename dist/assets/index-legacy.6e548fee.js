!function(){function e(e,t,r,n,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void r(u)}c.done?t(s):Promise.resolve(s).then(n,a)}function t(t){return function(){var r=this,n=arguments;return new Promise((function(a,i){var o=t.apply(r,n);function c(t){e(o,a,i,c,s,"next",t)}function s(t){e(o,a,i,c,s,"throw",t)}c(void 0)}))}}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(s){c=!0,a=s}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=document.createElement("style");a.innerHTML=".u3-cxx-7b3a68ba{display:flex;height:auto;width:100%;flex-direction:column;align-items:center;justify-content:center;flex-grow:1}.u3-cxx-7b3a68ba .u3-cxx-70356cac{display:inline-flex;width:14rem;flex-direction:column;align-items:center}.u3-cxx-7b3a68ba .u3-cxx-70356cac svg{width:8rem;background-color:transparent;fill:none;stroke:#e5e5e5;stroke-linecap:round;stroke-width:8%}.u3-cxx-7b3a68ba .u3-cxx-70356cac use{stroke:var(--u3-chat-primary-color);animation:u3-cxx-88484c0c 2s linear infinite}@keyframes u3-cxx-88484c0c{to{stroke-dashoffset:0px}}.u3-cxx-7b3a68ba p{font-size:1rem;line-height:1.5rem;font-weight:400}.u3-cxx-7b3a68ba .u3-cxx-279e5a87{margin-top:.5rem;width:50%;text-align:center}.u3-cxx-7b3a68ba .u3-cxx-279e5a87 p{margin-top:.5rem;margin-bottom:.5rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgba(64,64,64,var(--tw-text-opacity))}.u3-cxx-7b3a68ba .u3-cxx-279e5a87 .u3-cxx-80b49aae{border-radius:.25rem;background-color:var(--u3-chat-secondary-color);padding:.5rem .75rem}\n",document.head.appendChild(a),System.register(["./vendor-legacy.75f81643.js","./index-legacy.71180a05.js","./index-legacy.c2ac5a5d.js"],(function(e){"use strict";var n,a,i,o,c,s,u,l,d,m,f,x,p,h,b,g,v,y;return{setters:[function(e){n=e.B,a=e.A,i=e.y,o=e.x,c=e.F,s=e.G},function(e){u=e.C,l=e.E,d=e.a_,m=e.bK,f=e.a$,x=e.gG,p=e.b8,h=e.b9,b=e.gH,g=e.aP,v=e.gt},function(e){y=e.F}],execute:function(){var T="u3-cxx-7b3a68ba",_="u3-cxx-70356cac",k="u3-cxx-279e5a87",w="u3-cxx-80b49aae",S=function(e){var c=r(n.exports.useState(""),2),s=c[0],l=c[1],d=r(n.exports.useState(!1),2),m=d[0],f=d[1],x=function(){var r=t(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.next=3,e.actions.getTeams(0,10,!1);case 3:if(r=t.sent,n=r.data,!(a=r.error)){t.next=9;break}return l(a.message),t.abrupt("return");case 9:if(void 0===e.currentUserRoles){t.next=12;break}return t.next=12,e.actions.loadRolesIfNeeded(e.currentUserRoles.split(" "));case 12:p(n);case 13:case"end":return t.stop()}}),t)})));return function(){return r.apply(this,arguments)}}(),p=function(){var r=t(regeneratorRuntime.mark((function t(r){var n,a,i,c,s,d,m,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.currentUserRoles,a=e.siteURL,(i=r||e.listableTeams[0])[0]){t.next=4;break}return t.abrupt("return",l("Có lỗi không xác định. Hãy thử lại!"));case 4:return c=i[0],t.next=7,e.actions.addUserToTeam(i[0].id,e.currentUserId);case 7:s=t.sent,d=s.data,m=s.error,d&&void 0!==e.history?e.history.replace("/".concat(c.name)):m&&(f=m.message,"api.team.add_members.user_denied"===m.server_error_id&&(f=void 0!==n&&n.includes(u.PERMISSIONS_SYSTEM_ADMIN)?o(y,{id:"join_team_group_constrained_denied_admin",defaultMessage:"You need to be a member of a linked group to join this team. You can add a group to this team [here](".concat(a,"/admin_console/user_management/groups)."),values:{siteURL:a}}):o(y,{id:"join_team_group_constrained_denied",defaultMessage:"You need to be a member of a linked group to join this team."})),l(f));case 11:case"end":return t.stop()}}),t)})));return function(e){return r.apply(this,arguments)}}();return n.exports.useEffect((function(){m||x()}),[]),a("div",{className:i(T),children:[a("div",{className:_,children:[a("svg",{viewBox:"-2000 -1000 4000 2000",children:[o("path",{id:"inf",d:"M354-354A500 500 0 1 1 354 354L-354-354A500 500 0 1 0-354 354z"}),o("use",{xlinkHref:"#inf",strokeDasharray:"1570 5143",strokeDashoffset:"6713px"})]}),o("p",{children:"Kết nối tài khoản"})]}),s?a("div",{className:k,children:[o("p",{children:s}),o("button",{className:w,onClick:x,children:"Thử lại"})]}):null]})};e("default",c((function(e){var t=l(e),r=d(e),n=Object.values(m(e));return{currentUserId:r.id,currentUserRoles:r.roles||"",currentUserIsGuest:f(r),customDescriptionText:t.CustomDescriptionText,isMemberOfTeam:n&&n.length>0,listableTeams:x(e,r.locale),siteName:t.SiteName,canCreateTeams:p(e,{permission:h.CREATE_TEAM}),canManageSystem:p(e,{permission:h.MANAGE_SYSTEM}),canJoinPublicTeams:p(e,{permission:h.JOIN_PUBLIC_TEAMS}),canJoinPrivateTeams:p(e,{permission:h.JOIN_PRIVATE_TEAMS}),siteURL:t.SiteURL,totalTeamsCount:e.entities.teams.totalCount||0,publicChannel:t.ChannelPublic}}),(function(e){return{actions:s({getTeams:b,loadRolesIfNeeded:g,addUserToTeam:v},e)}}))(S))}}}))}();
