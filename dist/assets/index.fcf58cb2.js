var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,a=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&i(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&i(e,n,t[n]);return e},l=(e,s)=>t(e,n(s)),c=(e,t)=>{var n={};for(var i in e)r.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&s)for(var i of s(e))t.indexOf(i)<0&&o.call(e,i)&&(n[i]=e[i]);return n},u=(e,t,n)=>(i(e,"symbol"!=typeof t?t+"":t,n),n);import{q as d,a as p,R as h,B as f,x as m,E as g,F as v,G as y,H as b,A as _,I as w,J as x,K as C,y as E,L as S,N as T,O as A,Q as P,S as I,T as N,U as k,V as R,W as M,Y as O,D as L,Z as D,$ as j,a0 as F,m as U,a1 as H,v as B,a2 as q,_ as G,a3 as z,a4 as V,a5 as W,a6 as Y,a7 as K,a8 as $,C as J}from"./vendor.458fa16b.js";import{g as X,a as Q,b as Z,c as ee,f as te,d as ne,e as se,C as re,l as oe,h as ie,i as ae,j as le,k as ce,m as ue,n as de,t as pe,P as he,o as fe,s as me,p as ge,q as ve,r as ye,u as be,v as _e,L as we,w as xe,x as Ce,A as Ee,y as Se,z as Te,B as Ae,D as Pe,E as Ie,F as Ne,G as ke,H as Re,I as Me,J as Oe,U as Le,K as De,M as je,N as Fe,O as Ue,Q as He,R as Be,S as qe,T as Ge,V as ze,W as Ve,X as We,Y as Ye,Z as Ke,_ as $e,$ as Je,a0 as Xe,a1 as Qe,a2 as Ze,a3 as et,a4 as tt,a5 as nt,a6 as st,a7 as rt,a8 as ot,a9 as it,aa as at,ab as lt,ac as ct,ad as ut,ae as dt,af as pt,ag as ht,ah as ft,ai as mt,aj as gt,ak as vt,al as yt,am as bt,an as _t,ao as wt,ap as xt,aq as Ct,ar as Et,as as St,at as Tt,au as At,av as Pt,aw as It,ax as Nt,ay as kt,az as Rt,aA as Mt,aB as Ot,aC as Lt,aD as Dt,aE as jt,aF as Ft,aG as Ut,aH as Ht,aI as Bt,aJ as qt,aK as Gt,aL as zt,aM as Vt,aN as Wt,aO as Yt,aP as Kt,aQ as $t,aR as Jt,aS as Xt,aT as Qt,aU as Zt,aV as en,aW as tn,aX as nn,aY as sn,aZ as rn,a_ as on,a$ as an,b0 as ln,b1 as cn,b2 as un,b3 as dn,b4 as pn,b5 as hn,b6 as fn,b7 as mn,b8 as gn,b9 as vn,ba as yn,bb as bn,bc as _n,bd as wn,be as xn,bf as Cn,bg as En,bh as Sn,bi as Tn,bj as An,bk as Pn,bl as In,bm as Nn,bn as kn,bo as Rn,bp as Mn,bq as On,br as Ln,bs as Dn,bt as jn,bu as Fn,bv as Un,bw as Hn,bx as Bn,by as qn,bz as Gn,bA as zn,bB as Vn,bC as Wn,bD as Yn,bE as Kn,bF as $n,bG as Jn,bH as Xn,bI as Qn,bJ as Zn,bK as es,bL as ts,bM as ns,bN as ss,bO as rs,bP as os,bQ as is,bR as as,bS as ls,bT as cs,bU as us,bV as ds,bW as ps,bX as hs,bY as fs,bZ as ms,b_ as gs,b$ as vs,c0 as ys,c1 as bs,c2 as _s,c3 as ws,c4 as xs,c5 as Cs,c6 as Es,c7 as Ss,c8 as Ts,c9 as As,ca as Ps,cb as Is,cc as Ns,cd as ks,ce as Rs,cf as Ms,cg as Os,ch as Ls,ci as Ds,cj as js,ck as Fs,cl as Us,cm as Hs,cn as Bs,co as qs,cp as Gs,cq as zs,cr as Vs,cs as Ws,ct as Ys,cu as Ks,cv as $s,cw as Js,cx as Xs,cy as Qs,cz as Zs,cA as er,cB as tr,cC as nr,cD as sr,cE as rr,cF as or,cG as ir,cH as ar,cI as lr,cJ as cr,cK as ur,cL as dr,cM as pr,cN as hr,cO as fr,cP as mr,cQ as gr,cR as vr,cS as yr,cT as br,cU as _r,cV as wr,cW as xr,cX as Cr,cY as Er,cZ as Sr,c_ as Tr,c$ as Ar,d0 as Pr,d1 as Ir,d2 as Nr,d3 as kr,d4 as Rr,d5 as Mr,d6 as Or,d7 as Lr,d8 as Dr,d9 as jr,da as Fr,db as Ur,dc as Hr,dd as Br,de as qr,df as Gr,dg as zr,dh as Vr,di as Wr,dj as Yr,dk as Kr,dl as $r,dm as Jr,dn as Xr,dp as Qr,dq as Zr,dr as eo,ds as to,dt as no,du as so,dv as ro,dw as oo,dx as io,dy as ao,dz as lo,dA as co,dB as uo,dC as po,dD as ho,dE as fo,dF as mo,dG as go,dH as vo,dI as yo,dJ as bo,dK as _o,dL as wo,dM as xo,dN as Co,dO as Eo,dP as So,dQ as To,dR as Ao,dS as Po,dT as Io,dU as No,dV as ko,dW as Ro,dX as Mo,dY as Oo,dZ as Lo,d_ as Do,d$ as jo,e0 as Fo,e1 as Uo,e2 as Ho,e3 as Bo,e4 as qo,e5 as Go,e6 as zo,e7 as Vo,e8 as Wo,e9 as Yo,ea as Ko,eb as $o,ec as Jo,ed as Xo,ee as Qo,ef as Zo,eg as ei,eh as ti,ei as ni,ej as si,ek as ri,el as oi,em as ii,en as ai,eo as li,ep as ci,eq as ui,er as di,es as pi,et as hi,eu as fi,ev as mi,ew as gi,ex as vi,ey as yi,ez as bi,eA as _i,eB as wi,eC as xi,eD as Ci,eE as Ei,eF as Si,eG as Ti,eH as Ai,eI as Pi,eJ as Ii,eK as Ni,eL as ki,eM as Ri,eN as Mi,eO as Oi,eP as Li,eQ as Di,eR as ji,eS as Fi,eT as Ui,eU as Hi,eV as Bi,eW as qi,eX as Gi,eY as zi,eZ as Vi,e_ as Wi,e$ as Yi,f0 as Ki,f1 as $i,f2 as Ji,f3 as Xi,f4 as Qi,f5 as Zi,f6 as ea,f7 as ta,f8 as na,f9 as sa,fa as ra,fb as oa,fc as ia,fd as aa,fe as la,ff as ca,fg as ua,fh as da,fi as pa,fj as ha,fk as fa,fl as ma,fm as ga,fn as va,fo as ya,fp as ba,fq as _a,fr as wa,fs as xa,ft as Ca,fu as Ea,fv as Sa,fw as Ta,fx as Aa,fy as Pa,fz as Ia,fA as Na,fB as ka,fC as Ra,fD as Ma,fE as Oa,fF as La,fG as Da,fH as ja,fI as Fa,fJ as Ua,fK as Ha,fL as Ba,fM as qa,fN as Ga,fO as za,fP as Va,fQ as Wa,fR as Ya,fS as Ka,fT as $a,fU as Ja,fV as Xa,fW as Qa,fX as Za,fY as el,fZ as tl,f_ as nl,f$ as sl,g0 as rl,g1 as ol,g2 as il,g3 as al,g4 as ll,g5 as cl,g6 as ul,g7 as dl,g8 as pl,g9 as hl,ga as fl,gb as ml,gc as gl,gd as vl,ge as yl,gf as bl,gg as _l,gh as wl,gi as xl,gj as Cl,gk as El,gl as Sl,gm as Tl,gn as Al,go as Pl,gp as Il,gq as Nl,gr as kl,gs as Rl,gt as Ml,gu as Ol,gv as Ll,gw as Dl,gx as jl,gy as Fl,gz as Ul,gA as Hl}from"./index.658feb03.js";function Bl(e){return async(t,n)=>{const s=n(),r=ce(s),o=ve(r,e),i=ue(s,o);if(!i)return t(de(r,e));pe("api","api_channels_join_direct");const l=Date.now(),c={category:he.CATEGORY_DIRECT_CHANNEL_SHOW,name:e,value:"true"},u={category:he.CATEGORY_CHANNEL_OPEN_TIME,name:i.id,value:l.toString()},p=[{type:fe.RECEIVED_PREFERENCES,data:[c]},{type:fe.RECEIVED_PREFERENCES,data:[u]}];return t(d(p)),t(me(r,[a({user_id:r},c),a({user_id:r},u)])),{data:i}}}function ql(){return async(e,t)=>{const n=t(),s=X(n),r=Q(n,s),o=Z(n,r?r.id:"all",r?r.type:"").filter((e=>!ee(n,e)));await e(te(ne(n),o));const i=se(n);for(const a of i){const t=ee(n,a);t&&t.type===re.DM_CHANNEL?e(oe(t.id)):t&&t.type===re.GM_CHANNEL&&e(ie(t.id))}return await ae(),{data:!0}}}function Gl(e,t,n){return async(s,r)=>{const o=r(),i=ne(o);if(!i)return{data:!1};const{data:l,error:c}=await s(ge(i,e));return l&&t?t(l):c&&n&&n(a({id:c.server_error_id},c)),{data:!0}}}var zl={"about.buildnumber":"Build Number:","about.cloudEdition":"Cloud","about.copyright":"Copyright 2015 - {currentYear} Gomlo, Inc. All rights reserved","about.database":"Database:","about.date":"Build Date:","about.dbversion":"Database Schema Version:","about.enterpriseEditione1":"Enterprise Edition","about.enterpriseEditionLearn":"Learn more about Enterprise Edition at ","about.enterpriseEditionSst":"High trust messaging for the enterprise","about.enterpriseEditionSt":"Modern communication from behind your firewall.","about.hash":"Build Hash:","about.hashee":"EE Build Hash:","about.hashwebapp":"Webapp Build Hash:","about.licensed":"Licensed to:","about.notice":"Gomlo is made possible by the open source software used in our [server](!https://about.chatting.gomlo.me/platform-notice-txt/), [desktop](!https://about.chatting.gomlo.me/desktop-notice-txt/) and [mobile](!https://about.chatting.gomlo.me/mobile-notice-txt/) apps.","about.privacy":"Privacy Policy","about.teamEditionLearn":"Join the Gomlo community at ","about.teamEditionSt":"All your team communication in one place, instantly searchable and accessible anywhere.","about.teamEditiont0":"Team Edition","about.teamEditiont1":"Enterprise Edition","about.title":"About {appTitle}","about.tos":"Terms of Service","about.version":"Gomlo Version:","access_history.title":"Access History","accessibility.button.attachment":"attachment","accessibility.button.dialog":"{dialogName} dialog","accessibility.button.Info":"Info","accessibility.button.Search":"Search","accessibility.sections.centerContent":"message list main region","accessibility.sections.centerFooter":"message input complimentary region","accessibility.sections.channelHeader":"channel header region","accessibility.sections.lhsHeader":"team menu region","accessibility.sections.lhsList":"channel sidebar region","accessibility.sections.lhsNavigator":"channel navigator region","accessibility.sections.rhs":"{regionTitle} complimentary region","accessibility.sections.rhsContent":"message details complimentary region","accessibility.sections.rhsFooter":"reply input region","accessibility.sidebar.types.mention":"mention","accessibility.sidebar.types.mentions":"mentions","accessibility.sidebar.types.private":"private channel","accessibility.sidebar.types.public":"public channel","accessibility.sidebar.types.shared":"shared","accessibility.sidebar.types.unread":"unread","activity_log_modal.android":"Android","activity_log_modal.androidNativeApp":"Android Native App","activity_log_modal.androidNativeClassicApp":"Android Native Classic App","activity_log_modal.desktop":"Native Desktop App","activity_log_modal.iphoneNativeApp":"iPhone Native App","activity_log_modal.iphoneNativeClassicApp":"iPhone Native Classic App","activity_log.activeSessions":"Active Sessions","activity_log.browser":"Browser: {browser}","activity_log.firstTime":"First time active: {date}, {time}","activity_log.lastActivity":"Last activity: {date}, {time}","activity_log.logout":"Log Out","activity_log.moreInfo":"More info","activity_log.os":"OS: {os}","activity_log.sessionId":"Session ID: {id}","activity_log.sessionsDescription":"Sessions are created when you log in through a new browser on a device. Sessions let you use Gomlo without having to log in again for a time period specified by the System Admin. To end the session sooner, use the 'Log Out' button.","add_channels_to_scheme.title":"Add Channels to **Channel Selection** List","add_groups_to_channel.title":"Add New Groups to {channelName} Channel","add_groups_to_team.title":"Add New Groups to {teamName} Team","add_teams_to_scheme.confirmation.accept":"Yes, Move Team","add_teams_to_scheme.confirmation.message":"This team is already selected in another team scheme, are you sure you want to move it to this team scheme?","add_teams_to_scheme.confirmation.title":"Team Override Scheme Change?","add_teams_to_scheme.title":"Add Teams to **Team Selection** List","add_user_to_channel_modal.add":"Add","add_user_to_channel_modal.cancel":"Cancel","add_user_to_channel_modal.help":"Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.","add_user_to_channel_modal.membershipExistsError":"{name} is already a member of that channel","add_user_to_channel_modal.title":"Add {name} to a Channel","add_users_to_role.title":"Add users to {roleName}","add_users_to_team.title":"Add New Members to {teamName} Team","announcement_bar.error.email_verification_required":"Check your email inbox to verify the address.","announcement_bar.error.past_grace":"Enterprise license is expired and some features may be disabled. Please contact your System Administrator for details.","announcement_bar.error.preview_mode":"Preview Mode: Email notifications have not been configured.","announcement_bar.error.warn_metric_status.link":"Learn more","announcement_bar.notification.email_verified":"Email verified","announcement_bar.number_active_users_warn_metric_status.text":"You now have over {limit} users. We strongly recommend using advanced features for large-scale servers.","announcement_bar.number_of_posts_warn_metric_status.text":"You now have over {limit} posts. We strongly advise using advanced features to avoid degraded performance.","announcement_bar.warn_metric_status_ack.text":"Thank you for contacting Gomlo. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_posts_ack.text":"Thank you for contacting Gomlo. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_posts.text":"You now have over 2,000,000 posts. We strongly advise using advanced features to avoid degraded performance.","announcement_bar.warn_metric_status.number_of_users_ack.text":"Thank you for contacting Gomlo. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_users.text":"You now have over 500 users. We strongly recommend using advanced features for large-scale servers.","announcement_bar.warn.contact_support_text":"To renew your license, contact support at support@chatting.gomlo.me.","announcement_bar.warn.email_support":"[Contact support](!{email}).","announcement_bar.warn.no_internet_connection":"Looks like you do not have access to the internet.","api.channel.add_guest.added":"{addedUsername} added to the channel as a guest by {username}.","api.channel.add_member.added":"{addedUsername} added to the channel by {username}.","api.channel.delete_channel.archived":"{username} archived the channel.","api.channel.guest_join_channel.post_and_forget":"{username} joined the channel as a guest.","api.channel.join_channel.post_and_forget":"{username} joined the channel.","api.channel.leave.left":"{username} left the channel.","api.channel.post_convert_channel_to_private.updated_from":"{username} converted the channel from public to private","api.channel.post_update_channel_displayname_message_and_forget.updated_from":"{username} updated the channel display name from: {old} to: {new}","api.channel.post_update_channel_header_message_and_forget.removed":"{username} removed the channel header (was: {old})","api.channel.post_update_channel_header_message_and_forget.updated_from":"{username} updated the channel header <br></br><strong>From:</strong> {old} <br></br><strong>To:</strong> {new}","api.channel.post_update_channel_header_message_and_forget.updated_to":"{username} updated the channel header to: {new}","api.channel.remove_member.removed":"{removedUsername} was removed from the channel","api.channel.restore_channel.unarchived":"{username} unarchived the channel.","api.team.add_member.added":"{addedUsername} added to the team by {username}","api.team.join_team.post_and_forget":"{username} joined the team.","api.team.leave.left":"{username} left the team.","api.team.remove_user_from_team.removed":"{removedUsername} was removed from the team.","app.channel.post_update_channel_purpose_message.removed":"{username} removed the channel purpose (was: {old})","app.channel.post_update_channel_purpose_message.updated_from":"{username} updated the channel purpose from: {old} to: {new}","app.channel.post_update_channel_purpose_message.updated_to":"{username} updated the channel purpose to: {new}","app.plugin.marketplace_plugins.app_error":"Error connecting to the marketplace server. Please check your settings in the [System Console]({siteURL}/admin_console/plugins/plugin_management).","apps.error":"Error: {error}","apps.error.command.field_missing":"Required fields missing: `{fieldName}`.","apps.error.command.unknown_channel":"Unknown channel for field `{fieldName}`: `{option}`.","apps.error.command.unknown_option":"Unknown option for field `{fieldName}`: `{option}`.","apps.error.command.unknown_user":"Unknown user for field `{fieldName}`: `{option}`.","apps.error.form.no_call":"`call` is not defined.","apps.error.form.no_form":"`form` is not defined.","apps.error.form.refresh":"There has been an error updating the modal. Contact the app developer. Details: {details}","apps.error.form.refresh_no_refresh":"Called refresh on no refresh field.","apps.error.form.submit.pretext":"There has been an error submitting the modal. Contact the app developer. Details: {details}","apps.error.lookup.error_preparing_request":"Error preparing lookup request: {errorMessage}","apps.error.parser":"Parsing error: {error}","apps.error.parser.empty_value":"empty values are not allowed","apps.error.parser.missing_call":"Missing binding call.","apps.error.parser.missing_field_value":"Field value is missing.","apps.error.parser.missing_quote":"Matching double quote expected before end of input.","apps.error.parser.missing_tick":"Matching tick quote expected before end of input.","apps.error.parser.multiple_equal":"Multiple `=` signs are not allowed.","apps.error.parser.no_argument_pos_x":"Unable to identify argument.","apps.error.parser.no_bindings":"No command bindings.","apps.error.parser.no_match":"`{command}`: No matching command found in this workspace.","apps.error.parser.no_slash_start":"Command must start with a `/`.","apps.error.parser.unexpected_error":"Unexpected error.","apps.error.parser.unexpected_flag":"Command does not accept flag `{flagName}`.","apps.error.parser.unexpected_state":"Unreachable: Unexpected state in matchBinding: `{state}`.","apps.error.parser.unexpected_whitespace":"Unreachable: Unexpected whitespace.","apps.error.responses.form.no_form":"Response type is `form`, but no form was included in response.","apps.error.responses.navigate.no_submit":"Response type is `navigate`, but the call was not a submission.","apps.error.responses.navigate.no_url":"Response type is `navigate`, but no url was included in response.","apps.error.responses.unexpected_error":"Received an unexpected error.","apps.error.responses.unexpected_type":"App response type was not expected. Response type: {type}","apps.error.responses.unknown_type":"App response type not supported. Response type: {type}.","apps.error.unknown":"Unknown error occurred.","apps.suggestion.dynamic.error":"Dynamic select error","apps.suggestion.errors.parser_error":"Parsing error","apps.suggestion.no_dynamic":"No data was returned for dynamic suggestions","apps.suggestion.no_static":"No matching options.","apps.suggestion.no_suggestion":"No matching suggestions.",archivedChannelMessage:"You are viewing an **archived channel**. New messages cannot be posted.","atmos/camo":"atmos/camo","authorize.access":"Allow **{appName}** access?","authorize.allow":"Allow","authorize.app":"The app **{appName}** would like the ability to access and modify your basic information.","authorize.deny":"Deny","authorize.title":"Authorize **{appName}** to Connect to Your **Gomlo** User Account","avatars.overflowUnnamedOnly":"{overflowUnnamedCount, plural, =1 {one other} other {# others}}","avatars.overflowUsers":"{overflowUnnamedCount, plural, =0 {{names}} =1 {{names} and one other} other {{names} and # others}}","backstage_list.search":"Search","backstage_navbar.backToGomlo":"Back to {siteName}","backstage_sidebar.bots":"Bot Accounts","backstage_sidebar.emoji":"Custom Emoji","backstage_sidebar.integrations":"Integrations","backstage_sidebar.integrations.commands":"Slash Commands","backstage_sidebar.integrations.incoming_webhooks":"Incoming Webhooks","backstage_sidebar.integrations.oauthApps":"OAuth 2.0 Applications","backstage_sidebar.integrations.outgoing_webhooks":"Outgoing Webhooks","call_button.menuAriaLabel":"Call type selector","center_panel.archived.closeChannel":"Close Channel","center_panel.direct.closeDirectMessage":"Close Direct Message","center_panel.direct.closeGroupMessage":"Close Group Message","channel_header.addChannelHeader":"Add a channel description","channel_header.channelFiles":"Channel files","channel_header.channelHasGuests":"This channel has guests","channel_header.channelMembers":"Members","channel_header.convert":"Convert to Private Channel","channel_header.delete":"Archive Channel","channel_header.directchannel.you":"{displayname} (you) ","channel_header.editLink":"Edit","channel_header.flagged":"Saved posts","channel_header.groupConstrained":"Members managed by linked groups.","channel_header.groupMessageHasGuests":"This group message has guests","channel_header.leave":"Leave Channel","channel_header.manageMembers":"Manage Members","channel_header.menuAriaLabel":"Channel Menu","channel_header.mute":"Mute Channel","channel_header.pinnedPosts":"Pinned posts","channel_header.recentMentions":"Recent mentions","channel_header.rename":"Rename","channel_header.search":"Search","channel_header.setHeader":"Edit Banner","channel_header.setPurpose":"Edit Purpose","channel_header.unarchive":"Unarchive Group","channel_header.unmute":"Unmute Group","channel_header.userHelpGuide":"Help","channel_header.viewMembers":"View Members","channel_info.about":"About","channel_info.header":"Header:","channel_info.id":"ID: ","channel_info.notFound":"No Channel Found","channel_info.purpose":"Purpose:","channel_info.url":"URL:","channel_invite.addNewMembers":"Add people to {channel}","channel_loader.posted":"Posted","channel_loader.postedImage":" posted an image","channel_loader.socketError":"Please check connection, Gomlo unreachable. If issue persists, ask administrator to check WebSocket port.","channel_loader.someone":"Someone","channel_loader.something":" did something new","channel_loader.unknown_error":"We received an unexpected status code from the server.","channel_loader.uploadedFile":" uploaded a file","channel_loader.uploadedImage":" uploaded an image","channel_members_dropdown.channel_admin":"Admin","channel_members_dropdown.channel_admins":"Group Admins","channel_members_dropdown.channel_mod":"Mod","channel_members_dropdown.channel_mods":"Group Mods","channel_members_dropdown.channel_guest":"Guest","channel_members_dropdown.channel_member":"Member","channel_members_dropdown.channel_members":"Group Members","channel_members_dropdown.make_channel_admin":"Make as Admin","channel_members_dropdown.make_channel_admins":"Make as Admins","channel_members_dropdown.make_channel_mod":"Make as Mod","channel_members_dropdown.make_channel_mods":"Make as Mods","channel_members_dropdown.make_channel_member":"Make as Member","channel_members_dropdown.make_channel_members":"Make as Members","channel_members_dropdown.menuAriaLabel":"Change the role of channel member","channel_members_dropdown.remove_from_channel":"Kick user","channel_members_dropdown.shared_member":"Shared Member","channel_members_modal.addNew":" Add Members","channel_members_modal.members":" Members","channel_modal.cancel":"Cancel","channel_modal.createNew":"Create Channel","channel_modal.descriptionHelp":"Describe how this channel should be used.","channel_modal.displayNameError":"Display name must have at least 2 characters.","channel_modal.edit":"Edit","channel_modal.header":"Header","channel_modal.headerEx":'E.g.: "[Link Title](http://example.com)"',"channel_modal.headerHelp":"Set text that will appear in the header of the channel beside the channel name. For example, include frequently used links by typing [Link Title](http://example.com).","channel_modal.modalTitle":"New Channel","channel_modal.name":"Name","channel_modal.nameEx":'E.g.: "Bugs", "Marketing", "客户支持"',"channel_modal.optional":"(optional)","channel_modal.privateHint":" - Only invited members can join this channel","channel_modal.privateName":"Private","channel_modal.publicHint":" - Anyone can join this channel","channel_modal.publicName":"Public","channel_modal.purpose":"Purpose","channel_modal.purposeEx":'E.g.: "A channel to file bugs and improvements"',"channel_modal.type":"Type","channel_notifications.allActivity":"For all activity","channel_notifications.globalDefault":"Global default ({notifyLevel})","channel_notifications.ignoreChannelMentions":"Ignore mentions for @group, @here and @all","channel_notifications.ignoreChannelMentions.help":"When enabled, @group, @here and @all will not trigger mentions or mention notifications in this channel.","channel_notifications.ignoreChannelMentions.off.title":"Off","channel_notifications.ignoreChannelMentions.on.title":"On","channel_notifications.levels.all":"All","channel_notifications.levels.default":"Default","channel_notifications.levels.mention":"Mention","channel_notifications.levels.none":"None","channel_notifications.muteChannel.help":"Muting turns off desktop, email and push notifications for this channel. The channel will not be marked as unread unless you're mentioned.","channel_notifications.muteChannel.off.title":"Off","channel_notifications.muteChannel.on.title":"On","channel_notifications.muteChannel.on.title.collapse":"Mute is enabled. Desktop, email and push notifications will not be sent for this channel.","channel_notifications.muteChannel.settings":"Mute channel","channel_notifications.never":"Never","channel_notifications.onlyMentions":"Only for mentions","channel_notifications.override":'Selecting an option other than "Default" will override the global notification settings. Desktop notifications are available on Firefox, Safari, and Chrome.',"channel_notifications.overridePush":'Selecting an option other than "Global default" will override the global notification settings for mobile push notifications in account settings. Push notifications must be enabled by the System Admin.',"channel_notifications.preferences":"Notification Preferences for ","channel_notifications.push":"Send mobile push notifications","channel_notifications.sendDesktop":"Send desktop notifications","channel_select.placeholder":"--- Select a channel ---","channel_switch_modal.deactivated":"Deactivated","channel_switch_modal.title":"Switch a chat","channel_toggle_button.private":"Private","channel_toggle_button.public":"Public","channelHeader.addToFavorites":"Add to Favorites","channelHeader.removeFromFavorites":"Remove from Favorites","channelHeader.unmute":"Unmute","cloud.upgrade.notrightnow":"Not right now","combined_system_message.added_to_channel.many_expanded":"{users} and {lastUser} were **added to the channel** by {actor}.","combined_system_message.added_to_channel.one":"{firstUser} **added to the channel** by {actor}.","combined_system_message.added_to_channel.one_you":"You were **added to the channel** by {actor}.","combined_system_message.added_to_channel.two":"{firstUser} and {secondUser} **added to the channel** by {actor}.","combined_system_message.added_to_team.many_expanded":"{users} and {lastUser} were **added to the team** by {actor}.","combined_system_message.added_to_team.one":"{firstUser} **added to the team** by {actor}.","combined_system_message.added_to_team.one_you":"You were **added to the team** by {actor}.","combined_system_message.added_to_team.two":"{firstUser} and {secondUser} **added to the team** by {actor}.","combined_system_message.joined_channel.many_expanded":"{users} and {lastUser} **joined the channel**.","combined_system_message.joined_channel.one":"{firstUser} **joined the channel**.","combined_system_message.joined_channel.one_you":"You **joined the channel**.","combined_system_message.joined_channel.two":"{firstUser} and {secondUser} **joined the channel**.","combined_system_message.joined_team.many_expanded":"{users} and {lastUser} **joined the team**.","combined_system_message.joined_team.one":"{firstUser} **joined the team**.","combined_system_message.joined_team.one_you":"You **joined the team**.","combined_system_message.joined_team.two":"{firstUser} and {secondUser} **joined the team**.","combined_system_message.left_channel.many_expanded":"{users} and {lastUser} **left the channel**.","combined_system_message.left_channel.one":"{firstUser} **left the channel**.","combined_system_message.left_channel.one_you":"You **left the channel**.","combined_system_message.left_channel.two":"{firstUser} and {secondUser} **left the channel**.","combined_system_message.left_team.many_expanded":"{users} and {lastUser} **left the team**.","combined_system_message.left_team.one":"{firstUser} **left the team**.","combined_system_message.left_team.one_you":"You **left the team**.","combined_system_message.left_team.two":"{firstUser} and {secondUser} **left the team**.","combined_system_message.removed_from_channel.many_expanded":"{users} and {lastUser} were **removed from the channel**.","combined_system_message.removed_from_channel.one":"{firstUser} was **removed from the channel**.","combined_system_message.removed_from_channel.one_you":"You were **removed from the channel**.","combined_system_message.removed_from_channel.two":"{firstUser} and {secondUser} were **removed from the channel**.","combined_system_message.removed_from_team.many_expanded":"{users} and {lastUser} were **removed from the team**.","combined_system_message.removed_from_team.one":"{firstUser} was **removed from the team**.","combined_system_message.removed_from_team.one_you":"You were **removed from the team**.","combined_system_message.removed_from_team.two":"{firstUser} and {secondUser} were **removed from the team**.","combined_system_message.you":"You","confirm_modal.cancel":"Cancel","confirm.notification_sent_to_admin.modal_body":"A notification has been sent to your administrator.","confirm.notification_sent_to_admin.modal_done":"Done","confirm.notification_sent_to_admin.modal_title":"Thank you!","convert_channel.cancel":"No, cancel","convert_channel.confirm":"Yes, convert to private channel","convert_channel.question1":"When you convert **{display_name}** to a private channel, history and membership are preserved. Publicly shared files remain accessible to anyone with the link. Membership in a private channel is by invitation only.","convert_channel.question2":"The change is permanent and cannot be undone.","convert_channel.question3":"Are you sure you want to convert **{display_name}** to a private channel?","convert_channel.title":"Convert {display_name} to a Private Channel?","copy_url_context_menu.getChannelLink":"Copy Link","create_category_modal.create":"Create","create_category_modal.createCategory":"Create New Category","create_comment.addComment":"Add a comment...","create_comment.comment":"Add Comment","create_comment.commentTitle":"Comment","create_comment.file":"File uploading","create_comment.files":"Files uploading","create_post.comment":"Comment","create_post.deactivated":"You are viewing an archived channel with a **deactivated user**. New messages cannot be posted.","create_post.error_message":"Your message is too long. Character count: {length}/{limit}","create_post.fileProcessing":"Processing...","create_post.icon":"Create a post","create_post.post":"Post","create_post.read_only":"This channel is read-only. Only members with permission can post here.","create_post.send_message":"Send a message","create_post.shortcutsNotSupported":"Keyboard shortcuts are not supported on your device.","create_post.tutorialTip.title":"Sending Messages","create_post.tutorialTip1":"Type here to write a message and press **Enter** to post it.","create_post.tutorialTip2":"Click the **Attachment** button to upload an image or a file.","create_post.write":"Write to {channelDisplayName}","custom_emoji.header":"Custom Emoji","custom_status.modal_cancel":"Clear Status","custom_status.modal_confirm":"Set Status","custom_status.set_status":"Set a status","custom_status.suggestions.in_a_meeting":"In a meeting","custom_status.suggestions.on_a_vacation":"On a vacation","custom_status.suggestions.out_for_lunch":"Out for lunch","custom_status.suggestions.out_sick":"Out sick","custom_status.suggestions.recent_title":"RECENT","custom_status.suggestions.title":"SUGGESTIONS","custom_status.suggestions.working_from_home":"Working from home","date_separator.today":"Today","date_separator.yesterday":"Yesterday","deactivate_member_modal.deactivate":"Deactivate","deactivate_member_modal.desc":"This action deactivates {username}. They will be logged out and not have access to any teams or channels on this system.\n","deactivate_member_modal.desc.confirm":" Are you sure you want to deactivate {username}?","deactivate_member_modal.desc.for_users_with_bot_accounts":"This action deactivates {username}.\n \n * They will be logged out and not have access to any teams or channels on this system.\n * Bot accounts they manage will be disabled along with their integrations. To enable them again, go to [Integrations > Bot Accounts]({siteURL}/_redirect/integrations/bots). [Learn more about bot accounts](!https://chatting.gomlo.me/pl/default-bot-accounts).\n \n \n","deactivate_member_modal.sso_warning":"You must also deactivate this user in the SSO provider or they will be reactivated on next login or sync.","deactivate_member_modal.title":"Deactivate {username}","default_channel.purpose":"Post messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.","delete_category_modal.delete":"Delete","delete_category_modal.deleteCategory":"Delete this category?","delete_category_modal.helpText":"Channels in **{category_name}** will move back to the Channels and Direct messages categories. You're not removed from any channels.","delete_channel.cancel":"Cancel","delete_channel.confirm":"Confirm ARCHIVE Channel","delete_channel.del":"Archive","delete_channel.question":"This will archive the channel from the team and remove it from the user interface. Archived channels can be unarchived if needed again. \n \nAre you sure you wish to archive the {display_name} channel?","delete_channel.viewArchived.question":"This will archive the channel from the team. Channel contents will still be accessible by channel members.\n \nAre you sure you wish to archive the **{display_name}** channel?","delete_post.cancel":"Cancel","delete_post.comment":"Comment","delete_post.confirm":"Confirm {term} Delete","delete_post.del":"Delete","delete_post.post":"Post","delete_post.question":"Are you sure you want to delete this {term}?","delete_post.warning":"This post has {count, number} {count, plural, one {comment} other {comments}} on it.","demote_to_user_modal.demote":"Demote","demote_to_user_modal.desc":"This action demotes the user {username} to a guest. It will restrict the user's ability to join public channels and interact with users outside of the channels they are currently members of. Are you sure you want to demote user {username} to guest?","demote_to_user_modal.title":"Demote User {username} to Guest","device_icons.android":"Android Icon","device_icons.apple":"Apple Icon","device_icons.linux":"Linux Icon","device_icons.windows":"Windows Icon","discard_changes_modal.leave":"Yes, Discard","discard_changes_modal.message":"You have unsaved changes, are you sure you want to discard them?","discard_changes_modal.title":"Discard Changes?","dnd_custom_time_picker_modal.date":"Date","dnd_custom_time_picker_modal.defaultMsg":"Disable notifications until","dnd_custom_time_picker_modal.submitButton":"Disable Notifications","dnd_custom_time_picker_modal.time":"Time","edit_category_modal.helpText":"Drag channels into this category to organize your sidebar.","edit_category_modal.placeholder":"Name your category","edit_channel_header_modal.cancel":"Cancel","edit_channel_header_modal.description":"Edit the text appearing next to the channel name in the channel header.","edit_channel_header_modal.error":"The text entered exceeds the character limit. The channel header is limited to {maxLength} characters.","edit_channel_header_modal.save":"Save","edit_channel_header_modal.title":"Edit Header for {channel}","edit_channel_header_modal.title_dm":"Edit Header","edit_channel_header.editHeader":"Edit the Channel Header...","edit_channel_header.previewHeader":"Edit Header","edit_channel_private_purpose_modal.body":'This text appears in the "View Info" modal of the private channel.',"edit_channel_purpose_modal.body":'Describe how this channel should be used. This text appears in the channel list in the "More..." menu and helps others decide whether to join.',"edit_channel_purpose_modal.cancel":"Cancel","edit_channel_purpose_modal.save":"Save","edit_channel_purpose_modal.title1":"Edit Purpose","edit_channel_purpose_modal.title2":"Edit Purpose for ","edit_command.update":"Update","edit_command.updating":"Updating...","edit_post.cancel":"Cancel","edit_post.edit":"Edit {title}","edit_post.editPost":"Edit the post...","edit_post.save":"Save","edit_post.time_limit_button.for_n_seconds":"For {n} seconds","edit_post.time_limit_button.no_limit":"Anytime","edit_post.time_limit_modal.description":'Setting a time limit **applies to all users** who have the "Edit Post" permissions in any permission scheme.',"edit_post.time_limit_modal.invalid_time_limit":"Invalid time limit","edit_post.time_limit_modal.option_label_anytime":"Anytime","edit_post.time_limit_modal.option_label_time_limit.postinput":"seconds after posting","edit_post.time_limit_modal.option_label_time_limit.preinput":"Can edit for","edit_post.time_limit_modal.save_button":"Save Edit Time","edit_post.time_limit_modal.subscript":"Set the length of time users have to edit their messages after posting.","edit_post.time_limit_modal.title":"Configure Global Edit Post Time Limit","email_verify.almost":"{siteName}: You are almost done","email_verify.failed":" Failed to send verification email.","email_verify.notVerifiedBody":"Please verify your email address. Check your inbox for an email.","email_verify.resend":"Resend Email","email_verify.sent":" Verification email sent.","emoji_list.actions":"Actions","emoji_list.add":"Add Custom Emoji","emoji_list.creator":"Creator","emoji_list.delete":"Delete","emoji_list.delete.confirm.button":"Delete","emoji_list.delete.confirm.msg":"This action permanently deletes the custom emoji. Are you sure you want to delete it?","emoji_list.delete.confirm.title":"Delete Custom Emoji","emoji_list.empty":"No Custom Emoji Found","emoji_list.header":"Custom Emoji","emoji_list.help":"Custom emoji are available to everyone on your server. Type ':' followed by two characters in a message box to bring up the emoji selection menu.","emoji_list.help2":"Tip: If you add #, ##, or ### as the first character on a new line containing emoji, you can use larger sized emoji. To try it out, send a message such as: '# :smile:'.","emoji_list.image":"Image","emoji_list.name":"Name","emoji_list.search":"Search Custom Emoji","emoji_picker_item.emoji_aria_label":"{emojiName} emoji","emoji_picker.activity":"Activity","emoji_picker.close":"Close","emoji_picker.custom":"Custom","emoji_picker.emojiPicker":"Emoji Picker","emoji_picker.flags":"Flags","emoji_picker.foods":"Foods","emoji_picker.header":"Emoji Picker","emoji_picker.nature":"Nature","emoji_picker.objects":"Objects","emoji_picker.people":"People","emoji_picker.places":"Places","emoji_picker.recent":"Recently Used","emoji_picker.search":"Search emojis","emoji_picker.search_emoji":"Search for an emoji","emoji_picker.searchResults":"Search Results","emoji_picker.symbols":"Symbols","error.channel_not_found.message":"The channel you're requesting is private or does not exist. Please contact an Administrator to be added to the channel.","error.channel_not_found.message_guest":"Your guest account has no channels assigned. Please contact an administrator.","error.channel_not_found.title":"Channel Not Found","error.channelNotFound.guest_link":"Back","error.channelNotFound.link":"Back to {defaultChannelName}","error.generic.link":"Back to {siteName}","error.generic.link_login":"Back to Login Page","error.generic.message":"An error has occurred.","error.generic.title":"Error","error.local_storage.help1":"Enable cookies","error.local_storage.help2":"Turn off private browsing","error.local_storage.help3":"Use a supported browser (IE 11, Chrome 61+, Firefox 60+, Safari 12+, Edge 42+)","error.local_storage.message":"Gomlo was unable to load because a setting in your browser prevents the use of its local storage features. To allow Gomlo to load, try the following actions:","error.local_storage.title":"Cannot Load Gomlo","error.maxFreeUsersReached.description":"New users cannot be added to this workspace because it has reached the user limit for the free version of Gomlo Cloud. The system administrator has been notified","error.maxFreeUsersReached.title":"This workspace has reached the user limit.","error.not_found.message":"The page you were trying to reach does not exist","error.not_found.title":"Page Not Found","error.oauth_access_denied":"You must authorize Gomlo to log in with {service}.","error.oauth_access_denied.title":"Authorization Error","error.oauth_invalid_param.title":"OAuth Parameter Error","error.oauth_missing_code":"The service provider {service} did not provide an authorization code in the redirect URL.","error.oauth_missing_code.forum":"If you reviewed the above and are still having trouble with configuration, you may post in our {link} where we'll be happy to help with issues during setup.","error.oauth_missing_code.forum.link":"Troubleshooting forum","error.oauth_missing_code.gitlab":"For {link} please make sure you followed the setup instructions.","error.oauth_missing_code.gitlab.link":"GitLab","error.oauth_missing_code.google":"For {link} make sure your administrator enabled the Google+ API.","error.oauth_missing_code.google.link":"Google Apps","error.oauth_missing_code.office365":"For {link} make sure the administrator of your Microsoft organization has enabled the Gomlo app.","error.oauth_missing_code.office365.link":"Office 365","error.oauth_missing_code.title":"Gomlo Needs Your Help","error.plugin_not_found.desc":"The plugin you are looking for does not exist.","error.plugin_not_found.title":"Plugin Not Found","error.team_not_found.message":"The team you're requesting is private or does not exist. Please contact your Administrator for an invitation.","error.team_not_found.title":"Team Not Found","file_attachment.thumbnail":"file thumbnail","file_info_preview.size":"Size ","file_info_preview.type":"File type ","file_search_result_item.copy_link":"Copy link","file_search_result_item.download":"Download","file_search_result_item.more_actions":"More Actions","file_search_result_item.open_in_channel":"Open in channel","file_upload.disabled":"File attachments are disabled.","file_upload.drag_folder":"Folders cannot be uploaded. Please drag all files separately.","file_upload.fileAbove":"File above {max}MB cannot be uploaded: {filename}","file_upload.filesAbove":"Files above {max}MB cannot be uploaded: {filenames}","file_upload.generic_error":"There was a problem uploading your files.","file_upload.limited":"Uploads limited to {count, number} files maximum. Please use additional posts for more files.","file_upload.menuAriaLabel":"Upload type selector","file_upload.pasted":"Image Pasted at ","file_upload.upload_files":"Upload files","file_upload.zeroBytesFile":"You are uploading an empty file: {filename}","file_upload.zeroBytesFiles":"You are uploading empty files: {filenames}","filtered_channels_list.search":"Search channels","filtered_user_list.countTotal":"{count, number} {count, plural, one {member} other {members}} of {total, number} total","filtered_user_list.countTotalPage":"{startCount, number} - {endCount, number} {count, plural, one {member} other {members}} of {total, number} total","filtered_user_list.next":"Next","filtered_user_list.prev":"Previous","filtered_user_list.search":"Search users","filtered_user_list.team":"Team:","filtered_user_list.userStatus":"User Status:","flag_post.flag":"Save","flag_post.unflag":"Remove from Saved","full_screen_modal.back":"Back","full_screen_modal.close":"Close","general_button.close":"Close","general_button.esc":"Esc","generic_icons.add":"Add Icon","generic_icons.add-mail":"Add Mail Icon","generic_icons.add-reaction":"Add Reaction Icon","generic_icons.adminOnlyIcon":"Admin View Only Icon","generic_icons.alert":"Alert Icon","generic_icons.archive":"Archive Icon","generic_icons.arrow.down":"Down Arrow Icon","generic_icons.attach":"Attachment Icon","generic_icons.back":"Back Icon","generic_icons.bot":"Bot Icon","generic_icons.breadcrumb":"Breadcrumb Icon","generic_icons.camera":"Camera Icon","generic_icons.channel.arrow-right":"Arrow right","generic_icons.channel.draft":"Channel Draft Icon","generic_icons.channel.private":"Private Channel Icon","generic_icons.channel.public":"Public Channel Icon","generic_icons.close":"Close Icon","generic_icons.collapse":"Collapse Icon","generic_icons.download":"Download Icon","generic_icons.dropdown":"Dropdown Icon","generic_icons.edit":"Edit Icon","generic_icons.elipsisHorizontalIcon":"Ellipsis Horizontal Icon","generic_icons.expand":"Expand Icon","generic_icons.fail":"Faliure Icon","generic_icons.flag":"Save Icon","generic_icons.flagged":"Saved Icon","generic_icons.info":"Info Icon","generic_icons.invite":"Invite Icon","generic_icons.invite_members":"Invite Members Icon","generic_icons.link":"Link Icon","generic_icons.loading":"Loading Icon","generic_icons.logout":"Logout Icon","generic_icons.mail":"Mail Icon","generic_icons.chatting":"Gomlo Logo","generic_icons.member":"Member Icon","generic_icons.mention":"Mention Icon","generic_icons.menu":"Menu Icon","generic_icons.message":"Message Icon","generic_icons.muted":"Muted Icon","generic_icons.next":"Next Icon","generic_icons.pin":"Pin Icon","generic_icons.plugin":"Plugin Icon","generic_icons.plugins":"Plugins","generic_icons.previous":"Previous Icon","generic_icons.reload":"Reload Icon","generic_icons.remove":"Remove Icon","generic_icons.reply":"Reply Icon","generic_icons.search":"Search Icon","generic_icons.select":"Select Icon","generic_icons.settings":"Settings Icon","generic_icons.success":"Success Icon","generic_icons.upload":"Upload Icon","generic_icons.userGuide":"Help","generic_icons.warning":"Warning Icon","generic_modal.cancel":"Cancel","generic_modal.confirm":"Confirm","generic.done":"Done","generic.next":"Next","generic.previous":"Previous","get_link.clipboard":" Link copied","get_link.close":"Close","get_link.copy":"Copy Link","get_public_link_modal.help":"The link below allows anyone to see this file without being registered on this server.","get_public_link_modal.title":"Copy Public Link","gif_picker.gfycat":"Search Gfycat","globalThreads.heading":"Followed threads","globalThreads.noThreads.subtitle":"Any threads you are mentioned in or have participated in will show here along with any threads you have followed.","globalThreads.noThreads.title":"No followed threads yet","globalThreads.sidebarLink":"Threads","globalThreads.subtitle":"Threads you’re participating in will automatically show here","globalThreads.threadList.noUnreadThreads":"No unread threads","globalThreads.threadPane.unselectedTitle":"{numUnread, plural, =0 {Looks like you’re all caught up} other {Catch up on your threads}}","globalThreads.title":"{prefix}Threads - {displayName} {siteName}","group_list_modal.addGroupButton":"Add Groups","group_list_modal.removeGroupButton":"Remove Group",groups:"{team} Groups","inProduct_notices.adminOnlyMessage":"Visible to Admins only","input.clear":"Clear","integrations.add":"Add","integrations.command.description":"Slash commands send events to external integrations","integrations.command.title":"Slash Commands","integrations.delete.confirm.button":"Delete","integrations.delete.confirm.title":"Delete Integration","integrations.done":"Done","integrations.edit":"Edit","integrations.header":"Integrations","integrations.help":"Visit the {appDirectory} to find self-hosted, third-party apps and integrations for Gomlo.","integrations.help.appDirectory":"App Directory","integrations.incomingWebhook.description":"Incoming webhooks allow external integrations to send messages","integrations.incomingWebhook.title":"Incoming Webhooks","integrations.oauthApps.description":"OAuth 2.0 allows external applications to make authorized requests to the Gomlo API","integrations.oauthApps.title":"OAuth 2.0 Applications","integrations.outgoingWebhook.description":"Outgoing webhooks allow external integrations to receive and respond to messages","integrations.outgoingWebhook.title":"Outgoing Webhooks","integrations.successful":"Setup Successful","interactive_dialog.cancel":"Cancel","interactive_dialog.element.optional":"(optional)","interactive_dialog.submit":"Submit","interactive_dialog.submitting":"Submitting...","intro_messages.addGroupsToTeam":"Add other groups to this team","intro_messages.anyMember":" Any member can join and read this channel.","intro_messages.beginning":"Beginning of {name}","intro_messages.creator":"This is the start of the {name} channel, created by {creator} on {date}.","intro_messages.creatorPrivate":"This is the start of the {name} private channel, created by {creator} on {date}.","intro_messages.default":"**Welcome to {display_name}!**\n \nPost messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.","intro_messages.DM":"This is the start of your direct message history with {teammate}.\nDirect messages and files shared here are not shown to people outside this area.","intro_messages.GM":"This is the start of your group message history with {names}.\nMessages and files shared here are not shown to people outside this area.","intro_messages.group_message":"This is the start of your group message history with these teammates. Messages and files shared here are not shown to people outside this area.","intro_messages.inviteGropusToChannel.button":"Add groups to this private channel","intro_messages.inviteMembersToChannel.button":"Add members to this channel","intro_messages.inviteMembersToPrivateChannel.button":"Add members to this private channel","intro_messages.inviteOthers":"Invite others to this team","intro_messages.inviteOthersToWorkspace.button":"Invite others to the workspace","intro_messages.inviteOthersToWorkspace.title":"Let’s add some people to the workspace!","intro_messages.noCreator":"This is the start of the {name} channel, created on {date}.","intro_messages.noCreatorPrivate":"This is the start of the {name} private channel, created on {date}.","intro_messages.offTopic":"This is the start of {display_name}, a channel for non-work-related conversations.","intro_messages.onlyInvited":" Only invited members can see this private channel.","intro_messages.purpose":" This channel's purpose is: {purpose}","intro_messages.purposePrivate":" This private channel's purpose is: {purpose}","intro_messages.readonly.default":"**Welcome to {display_name}!**\n \nMessages can only be posted by system admins. Everyone automatically becomes a permanent member of this channel when they join the team.","intro_messages.setHeader":"Set a Header","intro_messages.teammate":"This is the start of your direct message history with this teammate. Direct messages and files shared here are not shown to people outside this area.","invitation_modal.confirm.done":"Done","invitation_modal.confirm.guests_title":"**Guests** Invited to **{teamName}**","invitation_modal.confirm.members_subtitle":"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited, and **{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent","invitation_modal.confirm.members_subtitle_without_not_sent":"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited","invitation_modal.confirm.members_subtitle_without_sent":"**{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent","invitation_modal.confirm.members_subtitle_without_sent_and_not_sent":"No invitation sent","invitation_modal.confirm.members_title":"**Members** Invited to **{teamName}**","invitation_modal.confirm.not-sent-header":"Invitations Not Sent","invitation_modal.confirm.sent-header":"Successful Invites","invitation_modal.guests.add_channels.placeholder":"Search and add channels","invitation_modal.guests.add_channels.title":"Search and Add Channels","invitation_modal.guests.add_people.description":"Add existing guests or send email invites to new guests.","invitation_modal.guests.add_people.description-email-disabled":"Add existing guests.","invitation_modal.guests.add_people.title":"Invite People","invitation_modal.guests.add-channels.description":"Specify the channels the guests have access to.","invitation_modal.guests.custom-message.description":"Create a custom message to make your invite more personal.","invitation_modal.guests.custom-message.link":"Set a custom message","invitation_modal.guests.custom-message.title":"Custom message","invitation_modal.guests.invite_button":"Invite Guests","invitation_modal.guests.search-and-add.placeholder":"Add guests or email addresses","invitation_modal.guests.search-and-add.placeholder-email-disabled":"Add guests","invitation_modal.guests.title":"Invite **Guests** to {teamName}","invitation_modal.guests.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email to invite","invitation_modal.guests.users_emails_input.no_user_found_matching-email-disabled":"No one found matching **{text}**","invitation_modal.guests.users_emails_input.valid_email":"Invite **{email}** as a guest","invitation_modal.invite_guests.description":"Invite guests to one or more channels. Guests only have access to messages, files, and people in the channels they are members of.","invitation_modal.invite_guests.title":"Invite **Guests**","invitation_modal.invite_members.description":"Invite new team members with a link or by email. Team members have access to messages and files in open teams and public channels.","invitation_modal.invite_members.description-email-disabled":"Invite new team members with a link. Team members have access to messages and files in open teams and public channels.","invitation_modal.invite_members.exceeded_max_add_members_batch":"No more than **{text}** people can be invited at once","invitation_modal.invite_members.hit_cloud_user_limit":"You can only invite **{num} more {num, plural, one {member} other {members}}** to the team on the free tier.","invitation_modal.invite_members.title":"Invite **Members**","invitation_modal.invite.more":"Invite More People","invitation_modal.members.invite_button":"Invite Members","invitation_modal.members.or":"OR","invitation_modal.members.search_and_add.title":"Add or Invite People","invitation_modal.members.search-and-add.description":"Add existing members or send email invites to new members.","invitation_modal.members.search-and-add.description-email-disabled":"Add existing members to this team.","invitation_modal.members.search-and-add.placeholder":"Add members or email addresses","invitation_modal.members.search-and-add.placeholder-email-disabled":"Add members","invitation_modal.members.share_link.copy_button":"Copy Link","invitation_modal.members.share_link.description":"Share this link to invite people to this team.","invitation_modal.members.share_link.input":"team invite link","invitation_modal.members.share_link.link_copied":"Link Copied","invitation_modal.members.share_link.title":"Share This Link","invitation_modal.members.title":"Invite **Members** to {teamName}","invitation_modal.members.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email to invite","invitation_modal.members.users_emails_input.no_user_found_matching-email-disabled":"No one found matching **{text}**","invitation_modal.members.users_emails_input.valid_email":"Invite **{email}** as a team member","invitation_modal.title":"Invite people to **{teamName}**","invitation-modal.confirm.details-header":"Details","invitation-modal.confirm.not-valid-channel":"Does not match a valid channel name.","invitation-modal.confirm.not-valid-user-or-email":"Does not match a valid user or email.","invitation-modal.confirm.people-header":"People","invitation-modal.discard-changes.button":"Yes, Discard","invitation-modal.discard-changes.message":"You have unsent invitations, are you sure you want to discard them?","invitation-modal.discard-changes.title":"Discard Changes","invitation-modal.notify-admin.failed":"Failed. Try again later.","invitation-modal.notify-admin.notify":"Notify the admin.","invitation-modal.notify-admin.sending":"Sending...","invitation-modal.notify-admin.sent":"Sent!","invite.guests.added-to-channel":"An invitation email has been sent.","invite.guests.already-all-channels-member":"This person is already a member of all the channels.","invite.guests.already-some-channels-member":"This person is already a member of some of the channels.","invite.guests.new-member":"This guest has been added to the team and {count, plural, one {channel} other {channels}}.","invite.guests.unable-to-add-the-user-to-the-channels":"Unable to add the guest to the channels.","invite.members.added-to-team":"This member has been added to the team.","invite.members.already-member":"This person is already a team member.","invite.members.invite-sent":"An invitation email has been sent.","invite.members.unable-to-add-the-user-to-the-team":"Unable to add the user to the team.","invite.members.user-is-guest":"Contact your admin to make this guest a full member.","invite.members.user-is-not-guest":"This person is already a member.","invite.rate-limit-exceeded":"Invite emails rate limit exceeded.",join_team_group_constrained_denied:"You need to be a member of a linked group to join this team.",join_team_group_constrained_denied_admin:"You need to be a member of a linked group to join this team. You can add a group to this team [here]({siteURL}/admin_console/user_management/groups).","katex.error":"Couldn't compile your Latex code. Please review the syntax and try again.","last_users_message.added_to_channel.type":"were **added to the channel** by {actor}.","last_users_message.added_to_team.type":"were **added to the team** by {actor}.","last_users_message.first":"{firstUser} and ","last_users_message.joined_channel.type":"**joined the channel**.","last_users_message.joined_team.type":"**joined the team**.","last_users_message.left_channel.type":"**left the channel**.","last_users_message.left_team.type":"**left the team**.","last_users_message.others":"{numOthers} others ","last_users_message.removed_from_channel.type":"were **removed from the channel**.","last_users_message.removed_from_team.type":"were **removed from the team**.","leave_private_channel_modal.leave":"Yes, leave channel","leave_private_channel_modal.message":"Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.","leave_private_channel_modal.title":"Leave Private Channel {channel}","leave_team_modal_guest_only_private.desc":"**You will be removed from {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** You won't be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_guest_only_public.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} on this team.** You won't be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_guest.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} and {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** You won't be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_private.desc":"**You will be removed from {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels} } on this team.** If the team is private you won't be able to rejoin it the team without an invitation from another team member. Are you sure?","leave_team_modal_public.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels} } on this team.** Are you sure?","leave_team_modal.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} and {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** If the team is private you won't be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal.no":"No","leave_team_modal.title":"Leave the team?","leave_team_modal.yes":"Yes","list_modal.paginatorCount":"{startCount, number} - {endCount, number} of {total, number} total","loading_screen.loading":"Loading",local:"local","manage_channel_groups_modal.search_placeholder":"Search groups","manage_team_groups_modal.search_placeholder":"Search groups","members_popover.button.message":"message","members_popover.manageMembers":"Manage Members","members_popover.title":"Channel Members","members_popover.viewMembers":"View Members","message_submit_error.invalidCommand":"Command with a trigger of ''{command}'' not found. ","message_submit_error.sendAsMessageLink":"Click here to send as a message.","mobile.set_status.away.icon":"Away Icon","mobile.set_status.dnd.icon":"Do Not Disturb Icon","mobile.set_status.offline.icon":"Offline Icon","mobile.set_status.online.icon":"Online Icon","modal.manual_status.ask":"Do not ask me again","modal.manual_status.auto_responder.message_":'Would you like to switch your status to "{status}" and disable Automatic Replies?',"modal.manual_status.auto_responder.message_away":'Would you like to switch your status to "Away" and disable Automatic Replies?',"modal.manual_status.auto_responder.message_dnd":'Would you like to switch your status to "Do Not Disturb" and disable Automatic Replies?',"modal.manual_status.auto_responder.message_offline":'Would you like to switch your status to "Offline" and disable Automatic Replies?',"modal.manual_status.auto_responder.message_online":'Would you like to switch your status to "Online" and disable Automatic Replies?',"modal.manual_status.button_":'Yes, set my status to "{status}"',"modal.manual_status.button_away":'Yes, set my status to "Away"',"modal.manual_status.button_dnd":'Yes, set my status to "Do Not Disturb"',"modal.manual_status.button_offline":'Yes, set my status to "Offline"',"modal.manual_status.button_online":'Yes, set my status to "Online"',"modal.manual_status.cancel_":'No, keep it as "{status}"',"modal.manual_status.cancel_away":'No, keep it as "Away"',"modal.manual_status.cancel_dnd":'No, keep it as "Do Not Disturb"',"modal.manual_status.cancel_offline":'No, keep it as "Offline"',"modal.manual_status.cancel_ooo":'No, keep it as "Out of Office"',"modal.manual_status.message_":'Would you like to switch your status to "{status}"?',"modal.manual_status.message_away":'Would you like to switch your status to "Away"?',"modal.manual_status.message_dnd":'Would you like to switch your status to "Do Not Disturb"?',"modal.manual_status.message_offline":'Would you like to switch your status to "Offline"?',"modal.manual_status.message_online":'Would you like to switch your status to "Online"?',"modal.manual_status.title_":'Your Status is Set to "{status}"',"modal.manual_status.title_away":'Your Status is Set to "Away"',"modal.manual_status.title_dnd":'Your Status is Set to "Do Not Disturb"',"modal.manual_status.title_offline":'Your Status is Set to "Offline"',"modal.manual_status.title_ooo":'Your Status is Set to "Out of Office"',"more_channels.create":"Create Channel","more_channels.createClick":"Click 'Create New Channel' to make a new one","more_channels.joining":"Joining...","more_channels.next":"Next","more_channels.noMore":"No more channels to join","more_channels.prev":"Previous","more_channels.show_archived_channels":"Show: Archived Channels","more_channels.show_public_channels":"Show: Public Channels","more_channels.title":"More Channels","more_direct_channels.directchannel.deactivated":"{displayname} - Deactivated","more_direct_channels.directchannel.you":"{displayname} (you)","more_direct_channels.new_convo_note":"This will start a new conversation. If you're adding a lot of people, consider creating a private channel instead.","more_direct_channels.new_convo_note.full":"You've reached the maximum number of people for this conversation. Consider creating a private channel instead.","more_direct_channels.title":"Direct Messages","more_public_direct_channels.channels":"Channels","more_public_direct_channels.direct_messages":"Direct Messages","more_public_direct_channels.title":"Channels and Direct Messages","msg_typing.areTyping":"{users} and {last} are typing...","msg_typing.isTyping":"{user} is typing...","multiselect.add":"Add","multiselect.addChannelsPlaceholder":"Search and add channels","multiselect.addGroupsPlaceholder":"Search and add groups","multiselect.adding":"Adding...","multiselect.addTeamsPlaceholder":"Search and add teams","multiselect.go":"Go","multiselect.list.notFound":"No results found matching **{searchQuery}**","multiselect.loading":"Loading...","multiselect.numGroupsRemaining":"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {group} other {groups}}. ","multiselect.numMembers":"{memberOptions, number} of {totalCount, number} members","multiselect.numPeopleRemaining":"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {person} other {people}}. ","multiselect.numRemaining":"You can add {num, number} more","multiselect.placeholder":"Search for people","multiselect.selectChannels":"Use ↑↓ to browse, ↵ to select.","multiselect.selectTeams":"Use ↑↓ to browse, ↵ to select.","navbar_dropdown.about":"About {appTitle}","navbar_dropdown.accountSettings":"Account Settings","navbar_dropdown.addGroupsToTeam":"Add Groups to Team","navbar_dropdown.console":"System Console","navbar_dropdown.create":"Create a Team","navbar_dropdown.help":"Help","navbar_dropdown.logout":"Log Out","navbar_dropdown.menuAriaLabel":"main menu","navbar_dropdown.switchTo":"Switch to ","navbar_dropdown.teamSettings":"Team Settings","navbar_dropdown.viewMembers":"View Members","navbar.addGroups":"Add Groups","navbar.addMembers":"Add Members","navbar.click":"Click here","navbar.clickToAddHeader":"{clickHere} to add one.","navbar.noHeader":"No channel header yet.","navbar.preferences":"Notification Preferences","navbar.toggle2":"Toggle sidebar","navbar.viewInfo":"View Info","navbar.viewPinnedPosts":"View Pinned Posts","no_results.channel_files_filtered.subtitle":"This channel doesn't contains any file with the selected file format.","no_results.channel_files_filtered.title":"No files found","no_results.channel_files.subtitle":"Files posted in this channel will show here.","no_results.channel_files.title":"No files yet","no_results.channel_search.subtitle":"Check the spelling or try another search.","no_results.contact_search.subtitle":"Check the spelling or try another search.","no_results.channel_search.title":"No results for {channelName}","no_results.contact_search.title":"No contacts match with {channelName}","no_results.flagged_posts.subtitle":"Saved messages are only visible to you. Mark messages for follow-up or save something for later by clicking the {icon} to save them here.","no_results.flagged_posts.title":"No Saved posts yet","no_results.mentions.subtitle":"Messages where someone mentions you or includes your trigger words are saved here.","no_results.mentions.title":"No mentions yet","no_results.pinned_posts.subtitle":"Pin important messages which are visible to the whole channel. Open the context menu on a message and choose {text} to save it here.","no_results.pinned_posts.title":"No pinned posts yet","notification.dm":"Direct Message","notify_all.confirm":"Confirm","notify_all.question":"By using @all or @group you are about to send notifications to {totalMembers} people. Are you sure you want to do this?","notify_all.question_groups":"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people**. Are you sure you want to do this?","notify_all.question_one_group":"By using **{mention}** you are about to send notifications to **{totalMembers} people**. Are you sure you want to do this?","notify_all.question_timezone":"By using @all or @group you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.question_timezone_groups":"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.question_timezone_one_group":"By using **{mention}** you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.title.confirm":"Confirm Sending Notifications to Entire Channel","notify_all.title.confirm_groups":"Confirm sending notifications to groups",numMembers:"{num, number} {num, plural, one {member} other {members}}",passwordRequirements:"Password Requirements:","pending_post_actions.cancel":"Cancel","pending_post_actions.retry":"Retry","permalink.error.access":"Permalink belongs to a deleted message or to a channel to which you do not have access.","permalink.error.title":"Message Not Found","permalink.show_dialog_warn.description":"You are about to join {channel} without explicitly being added by the channel admin. Are you sure you wish to join this private channel?","permalink.show_dialog_warn.join":"Join","permalink.show_dialog_warn.title":"Join private channel","picture_selector.image.ariaLabel":"Picture selector image","picture_selector.remove_picture":"Remove picture","picture_selector.select_button.ariaLabel":"Select picture","post_body.check_for_out_of_channel_groups_mentions.message":"did not get notified by this mention because they are not in the channel. They cannot be added to the channel because they are not a member of the linked groups. To add them to this channel, they must be added to the linked groups.","post_body.check_for_out_of_channel_mentions.link.and":" and ","post_body.check_for_out_of_channel_mentions.link.private":"add them to this private channel","post_body.check_for_out_of_channel_mentions.link.public":"add them to the channel","post_body.check_for_out_of_channel_mentions.message_last":"? They will have access to all message history.","post_body.check_for_out_of_channel_mentions.message.multiple":"did not get notified by this mention because they are not in the channel. Would you like to ","post_body.check_for_out_of_channel_mentions.message.one":"did not get notified by this mention because they are not in the channel. Would you like to ","post_body.check_for_out_of_channel_mentions.others":"{numOthers} others","post_body.commentedOn":"Commented on {name}'s message: ","post_body.deleted":"(message deleted)","post_body.plusMore":" plus {count, number} other {count, plural, one {file} other {files}}","post_delete.notPosted":"Comment could not be posted","post_delete.okay":"Okay","post_delete.someone":"Someone deleted the message on which you tried to post a comment.","post_header.update_status":"Update your status","post_info.auto_responder":"AUTOMATIC REPLY","post_info.bot":"BOT","post_info.comment_icon.tooltip.reply":"Reply","post_info.del":"Delete","post_info.dot_menu.tooltip.more_actions":"More actions","post_info.edit":"Edit","post_info.guest":"GUEST","post_info.info.view_additional_info":"View additional info","post_info.menuAriaLabel":"Post extra options","post_info.message.show_less":"Show less","post_info.message.show_more":"Show more","post_info.message.visible":"(Only visible to you)","post_info.message.visible.compact":" (Only visible to you)","post_info.permalink":"Copy Link","post_info.pin":"Pin to Channel","post_info.reply":"Reply","post_info.submenu.icon":"submenu icon","post_info.submenu.mobile":"mobile submenu","post_info.system":"System","post_info.tooltip.add_reactions":"Add Reaction","post_info.unpin":"Unpin from Channel","post_info.unread":"Mark as Unread","post_message_view.edited":"(edited)","post_pre_header.flagged":"Saved","post_pre_header.pinned":"Pinned","post.ariaLabel.attachment":", 1 attachment","post.ariaLabel.attachmentMultiple":", {attachmentCount} attachments","post.ariaLabel.message":"At {time} {date}, {authorName} wrote, {message}","post.ariaLabel.messageIsFlagged":", message is saved","post.ariaLabel.messageIsFlaggedAndPinned":", message is saved and pinned","post.ariaLabel.messageIsPinned":", message is pinned","post.ariaLabel.reaction":", 1 reaction","post.ariaLabel.reactionMultiple":", {reactionCount} reactions","post.ariaLabel.replyMessage":"At {time} {date}, {authorName} replied, {message}","postlist.toast.history":"Viewing message history","postlist.toast.newMessages":"{count, number} new {count, plural, one {message} other {messages}}","postlist.toast.newMessagesSince":"{count, number} new {count, plural, one {message} other {messages}} {isToday, select, true {} other {since}} {date}","postlist.toast.scrollToBottom":"Jump to recents","postlist.toast.scrollToLatest":"Jump to new messages","postlist.toast.searchHint":"Tip: Try {searchShortcut} to search this channel","posts_view.loadMore":"Load More messages","posts_view.newMsg":"New Messages","promote_to_user_modal.desc":"This action promotes the guest {username} to a member. It will allow the user to join public channels and interact with users outside of the channels they are currently members of. Are you sure you want to promote guest {username} to member?","promote_to_user_modal.promote":"Promote","promote_to_user_modal.title":"Promote guest {username} to member","quick_switch_modal.channels":"Channels","quick_switch_modal.channelsShortcut.mac":"- ⌘K","quick_switch_modal.channelsShortcut.windows":"- CTRL+K","quick_switch_modal.help":"Start typing then use TAB to toggle channels/teams, **▲▼** to browse, **ENTER** to select, **ESC** to dismiss.","quick_switch_modal.help_mobile":"Type to find a channel.","quick_switch_modal.help_no_team":"Type to find a channel. Use **UP/DOWN** to browse, **ENTER** to select, **ESC** to dismiss.","quick_switch_modal.input":"quick switch input","quick_switch_modal.switchChannels":"Switch a chat","quick_switch_modal.teams":"Teams","quick_switch_modal.teamsShortcut.mac":"- ⌘⌥K","quick_switch_modal.teamsShortcut.windows":"- CTRL+ALT+K","reaction_list.addReactionTooltip":"Add a reaction","reaction.add.ariaLabel":"Add a reaction","reaction.clickToAdd":"(click to add)","reaction.clickToRemove":"(click to remove)","reaction.container.ariaLabel":"reactions","reaction.othersReacted":"{otherUsers, number} {otherUsers, plural, one {user} other {users}}","reaction.reacted":"{users} {reactionVerb} with {emoji}","reaction.reactionVerb.user":"reacted","reaction.reactionVerb.users":"reacted","reaction.reactionVerb.you":"reacted","reaction.reactionVerb.youAndUsers":"reacted","reaction.reactWidth.ariaLabel":"react with","reaction.removeReact.ariaLabel":"remove reaction","reaction.usersAndOthersReacted":"{users} and {otherUsers, number} other {otherUsers, plural, one {user} other {users}}","reaction.usersReacted":"{users} and {lastUser}","reaction.you":"You",remove_group_confirm_button:"Yes, Remove Group and {memberCount, plural, one {Member} other {Members}}",remove_group_confirm_message:"{memberCount, number} {memberCount, plural, one {member} other {members}} associated to this group will be removed from the team. Are you sure you wish to remove this group and {memberCount} {memberCount, plural, one {member} other {members}}?",remove_group_confirm_title:"Remove Group and {memberCount, number} {memberCount, plural, one {Member} other {Members}}","remove_next_steps_modal.confirm":"Remove","remove_next_steps_modal.header":"Remove {title}?","remove_next_steps_modal.helpText":"Access {title} any time through the Main Menu","remove_next_steps_modal.mainText":"This will remove this section from your sidebar, but you can access it later in the Help section of the Main Menu.","removed_channel.channelName":"the channel","removed_channel.from":"Removed from ","removed_channel.okay":"Okay","removed_channel.remover":"{remover} removed you from {channel}","removed_channel.someone":"Someone","rename_category_modal.rename":"Rename","rename_category_modal.renameCategory":"Rename Category","rename_channel.cancel":"Cancel","rename_channel.defaultError":" - Cannot be changed for the default channel","rename_channel.displayName":"Display Name","rename_channel.displayNameHolder":"Enter display name","rename_channel.maxLength":"This field must be less than {maxLength, number} characters","rename_channel.minLength":"Display name must have at least {minLength, number} characters.","rename_channel.save":"Save","rename_channel.title":"Rename Channel","rename_channel.url":"URL","revoke_user_sessions_modal.desc":"This action revokes all sessions for {username}. They will be logged out from all devices. Are you sure you want to revoke all sessions for {username}?","revoke_user_sessions_modal.revoke":"Revoke","revoke_user_sessions_modal.title":"Revoke Sessions for {username}","rhs_card.jump":"Jump","rhs_card.message_by":"Message by {avatar} {user}","rhs_comment.comment":"Comment","rhs_header.backToFlaggedTooltip":"Back to saved posts","rhs_header.backToPinnedTooltip":"Back to pinned posts","rhs_header.backToResultsTooltip":"Back to search results","rhs_header.closeSidebarTooltip":"Close","rhs_header.closeTooltip.icon":"Close Sidebar Icon","rhs_header.collapseSidebarTooltip":"Collapse Sidebar","rhs_header.collapseSidebarTooltip.icon":"Collapse Sidebar Icon","rhs_header.details":"Thread","rhs_header.expandSidebarTooltip":"Expand Sidebar","rhs_header.expandSidebarTooltip.icon":"Expand Sidebar Icon","rhs_root.mobile.add_reaction":"Add Reaction","rhs_root.mobile.flag":"Save","rhs_root.mobile.unflag":"Remove from Saved","rhs_thread.rootPostDeletedMessage.body":"Part of this thread has been deleted due to a data retention policy. You can no longer reply to this thread.","save_button.save":"Save","save_button.saving":"Saving","search_bar.files_tab":"Files","search_bar.messages_tab":"Messages","search_bar.search":"Search","search_bar.search_types.files":"FILES","search_bar.search_types.messages":"MESSAGES","search_bar.usage.search_type_files":"Files","search_bar.usage.search_type_messages":"Messages","search_bar.usage.search_type_question":"What are you searching for?","search_bar.usage.title":"Search options","search_bar.usage.title_files":"File search options","search_bar.usage.title_messages":"Message search options","search_files_list_option.after":"Files after a date","search_files_list_option.before":"Files before a date","search_files_list_option.exclude":"Exclude search terms","search_files_list_option.ext":"Files with a extension","search_files_list_option.from":"Files from a user","search_files_list_option.in":"Files in a channel","search_files_list_option.on":"Files on a date","search_files_list_option.phrases":"Files with phrases","search_header.loading":"Searching...","search_header.title5":"Extra Information","search_item.channelArchived":"Archived","search_item.direct":"Direct Message (with {username})","search_item.file_badge.direct_message":"Direct Message","search_item.file_badge.group_message":"Group Message","search_item.jump":"Jump","search_list_option.after":"Messages after a date","search_list_option.before":"Messages before a date","search_list_option.exclude":"Exclude search terms","search_list_option.from":"Messages from a user","search_list_option.in":"Messages in a channel","search_list_option.on":"Messages on a date","search_list_option.phrases":"Messages with phrases","search_results.channel-files-header":"Recent files","search_results.usage.dataRetention":"Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.","select_team.icon":"Select Team Icon","select_team.join.icon":"Join Team Icon","select_team.private.icon":"Private Team","setting_item_max.cancel":"Cancel","setting_item_min.edit":"Edit","setting_picture.cancel":"Cancel","setting_picture.help.profile":"Upload a picture in BMP, JPG or PNG format. Maximum file size: {max}","setting_picture.help.team":"Upload a team icon in BMP, JPG or PNG format.\nSquare images with a solid background color are recommended.","setting_picture.remove":"Remove This Icon","setting_picture.remove_profile_picture":"Remove Profile Picture","setting_picture.save":"Save","setting_picture.select":"Select","setting_picture.uploading":"Uploading...","setting_upload.import":"Import","setting_upload.noFile":"No file selected.","setting_upload.select":"Select file","shared_channel_indicator.tooltip":"Shared with trusted organizations","shared_user_indicator.tooltip":"From a trusted organization","sidebar_header.tutorial.body1":"The **Main Menu** is where you can **Invite New Members**, access your **Account Settings** and set your **Theme Color**.","sidebar_header.tutorial.body2":"Team administrators can also access their **Team Settings** from this menu.","sidebar_header.tutorial.body3":"System administrators will find a **System Console** option to administrate the entire system.","sidebar_header.tutorial.title":"Main Menu","sidebar_left.add_channel_dropdown.browseChannels":"Browse Channels","sidebar_left.add_channel_dropdown.browseOrCreateChannels":"Browse or create channels","sidebar_left.add_channel_dropdown.createCategory":"Create New Category","sidebar_left.add_channel_dropdown.createNewChannel":"Create New Channel","sidebar_left.add_channel_dropdown.dropdownAriaLabel":"Add Channel Dropdown","sidebar_left.channel_filter.filterByUnread":"Filter by unread","sidebar_left.channel_filter.showAllChannels":"Show all channels","sidebar_left.channel_navigator.channelSwitcherLabel":"Channel Switcher","sidebar_left.channel_navigator.goBackLabel":"Back","sidebar_left.channel_navigator.goForwardLabel":"Forward","sidebar_left.channel_navigator.jumpTo":"Find contacts or chat","sidebar_left.sidebar_category_menu.createCategory":"Create New Category","sidebar_left.sidebar_category_menu.deleteCategory":"Delete Category","sidebar_left.sidebar_category_menu.dropdownAriaLabel":"Edit category menu","sidebar_left.sidebar_category_menu.editCategory":"Category options","sidebar_left.sidebar_category_menu.muteCategory":"Mute Category","sidebar_left.sidebar_category_menu.renameCategory":"Rename Category","sidebar_left.sidebar_category_menu.unmuteCategory":"Unmute Category","sidebar_left.sidebar_category.newDropBoxLabel":"Drag channels here...","sidebar_left.sidebar_category.newLabel":"new","sidebar_left.sidebar_channel_menu.addMembers":"Add Members","sidebar_left.sidebar_channel_menu.copyLink":"Copy Link","sidebar_left.sidebar_channel_menu.dropdownAriaLabel":"Edit channel menu","sidebar_left.sidebar_channel_menu.editChannel":"Channel options","sidebar_left.sidebar_channel_menu.favoriteChannel":"Favorite","sidebar_left.sidebar_channel_menu.leaveChannel":"Leave Channel","sidebar_left.sidebar_channel_menu.leaveConversation":"Close Conversation","sidebar_left.sidebar_channel_menu.markAsRead":"Mark as Read","sidebar_left.sidebar_channel_menu.moveTo":"Move to","sidebar_left.sidebar_channel_menu.moveToNewCategory":"New Category","sidebar_left.sidebar_channel_menu.muteChannel":"Mute Channel","sidebar_left.sidebar_channel_menu.muteConversation":"Mute Conversation","sidebar_left.sidebar_channel_menu.unfavoriteChannel":"Unfavorite","sidebar_left.sidebar_channel_menu.unmuteChannel":"Unmute Channel","sidebar_left.sidebar_channel_menu.unmuteConversation":"Unmute Conversation","sidebar_left.sidebar_channel.selectedCount":"{count} selected","sidebar_next_steps.gettingStarted":"Getting Started","sidebar_next_steps.otherAreasToExplore":"A few other areas to explore","sidebar_next_steps.stepsComplete":"{complete} / {total} steps complete","sidebar_next_steps.tipsAndNextSteps":"Tips & Next Steps","sidebar_right_menu.console":"System Console","sidebar_right_menu.flagged":"Saved Posts","sidebar_right_menu.recentMentions":"Recent Mentions","sidebar.allDirectMessages":"All direct messages","sidebar.browseChannelDirectChannel":"Browse channels and direct messages","sidebar.createChannel":"Create a public channel","sidebar.createDirectMessage":"Write a direct message","sidebar.createGroup":"Create a private channel","sidebar.createPublicPrivateChannel":"Create a public or private channel","sidebar.directchannel.you":"{displayname} (you)","sidebar.leave":"Leave the channel","sidebar.moreDmAria":"See more direct messages","sidebar.moreElips":"More...","sidebar.morePublicAria":"See more public channels","sidebar.morePublicDmAria":"See more public channels and direct messages","sidebar.openDirectMessage":"Open a Direct Message","sidebar.removeList":"Remove from this list","sidebar.show":"Show","sidebar.sort":"Sort","sidebar.sortedByRecencyLabel":"Recent activity","sidebar.sortedManually":"Manually","sidebar.team_select":"{siteName} - Join a team","sidebar.types.alpha":"Groups","sidebar.types.channels":"Groups","sidebar.types.direct":"Direct messages","sidebar.types.direct_messages":"Direct messages","sidebar.types.favorite":"Favorite channel","sidebar.types.favorites":"Favorites","sidebar.types.private":"Private groups","sidebar.types.public":"Public groups","sidebar.types.recent":"Recent activity","sidebar.types.unreads":"Unreads","sidebar.unreads":"More unreads","someting.string":"defaultString","status_dropdown.custom_status.tooltip_clear":"Clear","status_dropdown.dnd_sub_menu_header":"Disable notifications until:","status_dropdown.menuAriaLabel":"set status","status_dropdown.set_away":"Away","status_dropdown.set_custom":"Set a Custom Status","status_dropdown.set_dnd":"Do Not Disturb","status_dropdown.set_dnd.extra":"Disables all notifications","status_dropdown.set_offline":"Offline","status_dropdown.set_online":"Online","status_dropdown.set_ooo":"Out of Office","status_dropdown.set_ooo.extra":"Automatic Replies are enabled","status_dropdown.set_your_status":"Set your status","string.id":"default message","suggestion_list.no_matches":"No items match __{value}__","suggestion.archive":"Archived Channels","suggestion.mention.all":"Notifies everyone in this channel","suggestion.mention.channel":"Notifies everyone in this channel","suggestion.mention.channels":"My Channels","suggestion.mention.groups":"Group Mentions","suggestion.mention.here":"Notifies everyone online in this channel","suggestion.mention.members":"Channel Members","suggestion.mention.morechannels":"Other Channels","suggestion.mention.moremembers":"Other Members","suggestion.mention.nonmembers":"Not in Channel","suggestion.mention.special":"Special Mentions","suggestion.mention.unread.channels":"Unread Channels","suggestion.search.direct":"Direct Messages","suggestion.search.private":"Private Channels","suggestion.search.public":"Public Channels","suggestion.user.isCurrent":"(you)","textbox.bold":"**bold**","textbox.edit":"Edit message","textbox.help":"Help","textbox.inlinecode":"`inline code`","textbox.italic":"*italic*","textbox.preformatted":"```preformatted```","textbox.preview":"Preview","textbox.quote":">quote","textbox.strike":"strike","threading.filters.allThreads":"All your threads","threading.filters.unreads":"Unreads","threading.following":"Following","threading.footer.lastReplyAt":"Last reply {formatted}","threading.header.heading":"Thread","threading.notFollowing":"Follow","threading.numNewMessages":"{newReplies, plural, =0 {No unread messages} =1 {One unread message} other {# unread messages}}","threading.numNewReplies":"{newReplies, plural, =1 {# new reply} other {# new replies}}","threading.numReplies":"{totalReplies, plural, =0 {Reply} =1 {# reply} other {# replies}}","threading.threadHeader.menu":"More Actions","threading.threadItem.menu":"Actions","threading.threadList.markRead":"Mark all as read","threading.threadMenu.copy":"Copy link","threading.threadMenu.follow":"Follow thread","threading.threadMenu.followExtra":"You will be notified about replies","threading.threadMenu.markRead":"Mark as read","threading.threadMenu.markUnread":"Mark as unread","threading.threadMenu.openInChannel":"Open in channel","threading.threadMenu.save":"Save","threading.threadMenu.unfollow":"Unfollow thread","threading.threadMenu.unfollowExtra":"You won’t be notified about replies","threading.threadMenu.unsave":"Unsave","timestamp.datetime":"{relativeOrDate} at {time}","upload_overlay.info":"Drop a file to upload it.","user_list.notFound":"No users found","user_profile.account.editSettings":"Edit Account Settings","user_profile.account.localTime":"Local Time","user_profile.account.post_was_created":"This post was created by an integration from","user_profile.add_user_to_channel":"Add to a Channel","user_profile.add_user_to_channel.icon":"Add User to Channel Icon","user_profile.custom_status":"Status","user_profile.custom_status.set_status":"Set a status","user_profile.send.dm":"Send Message","user_profile.send.dm.icon":"Send Message Icon","user.settings.advance.confirmDeactivateAccountTitle":"Confirm Deactivation","user.settings.advance.confirmDeactivateDesc":"Are you sure you want to deactivate your account? This can only be reversed by your System Administrator.","user.settings.advance.deactivate_member_modal.deactivateButton":"Yes, deactivate my account","user.settings.advance.deactivateAccountTitle":"Deactivate Account","user.settings.advance.deactivateDesc":"Deactivating your account removes your ability to log in to this server and disables all email and mobile notifications. To reactivate your account, contact your System Administrator.","user.settings.advance.deactivateDescShort":"Click 'Edit' to deactivate your account","user.settings.advance.enabledFeatures":"{count, number} {count, plural, one {Feature} other {Features}} Enabled","user.settings.advance.formattingDesc":"If enabled, posts will be formatted to create links, show emoji, style the text, and add line breaks. By default, this setting is enabled.","user.settings.advance.formattingTitle":"Enable Post Formatting","user.settings.advance.icon":"Advanced Settings Icon","user.settings.advance.joinLeaveDesc":'When "On", System Messages saying a user has joined or left a channel will be visible. When "Off", the System Messages about joining or leaving a channel will be hidden. A message will still show up when you are added to a channel, so you can receive a notification.',"user.settings.advance.joinLeaveTitle":"Enable Join/Leave Messages","user.settings.advance.markdown_preview":"Show markdown preview option in message input box","user.settings.advance.off":"Off","user.settings.advance.on":"On","user.settings.advance.onForAllMessages":"On for all messages","user.settings.advance.onForCode":"On only for code blocks starting with ```","user.settings.advance.preReleaseDesc":"Check any pre-released features you'd like to preview.  You may also need to refresh the page before the setting will take effect.","user.settings.advance.preReleaseTitle":"Preview Pre-release Features","user.settings.advance.sendDesc":"When enabled, CTRL + ENTER will send the message and ENTER inserts a new line.","user.settings.advance.sendDesc.mac":"When enabled, ⌘ + ENTER will send the message and ENTER inserts a new line.","user.settings.advance.sendTitle":"Send Messages on CTRL+ENTER","user.settings.advance.sendTitle.mac":"Send Messages on ⌘+ENTER","user.settings.advance.title":"Advanced Settings","user.settings.custom_theme.awayIndicator":"Away Indicator","user.settings.custom_theme.buttonBg":"Button BG","user.settings.custom_theme.buttonColor":"Button Text","user.settings.custom_theme.centerChannelBg":"Center Channel BG","user.settings.custom_theme.centerChannelColor":"Center Channel Text","user.settings.custom_theme.centerChannelTitle":"Center Channel Styles","user.settings.custom_theme.codeTheme":"Code Theme","user.settings.custom_theme.copied":"✔ Copied","user.settings.custom_theme.copyPaste":"Copy and paste to share theme colors:","user.settings.custom_theme.copyThemeColors":"Copy Theme Colors","user.settings.custom_theme.dndIndicator":"Do Not Disturb Indicator","user.settings.custom_theme.errorTextColor":"Error Text Color","user.settings.custom_theme.linkButtonTitle":"Link and Button Styles","user.settings.custom_theme.linkColor":"Link Color","user.settings.custom_theme.mentionBg":"Mention Jewel BG","user.settings.custom_theme.mentionColor":"Mention Jewel Text","user.settings.custom_theme.mentionHighlightBg":"Mention Highlight BG","user.settings.custom_theme.mentionHighlightLink":"Mention Highlight Link","user.settings.custom_theme.newMessageSeparator":"New Message Separator","user.settings.custom_theme.onlineIndicator":"Online Indicator","user.settings.custom_theme.sidebarBg":"Sidebar BG","user.settings.custom_theme.sidebarHeaderBg":"Sidebar Header BG","user.settings.custom_theme.sidebarHeaderTextColor":"Sidebar Header Text","user.settings.custom_theme.sidebarTeamBarBg":"Team Sidebar BG","user.settings.custom_theme.sidebarText":"Sidebar Text","user.settings.custom_theme.sidebarTextActiveBorder":"Sidebar Text Active Border","user.settings.custom_theme.sidebarTextActiveColor":"Sidebar Text Active Color","user.settings.custom_theme.sidebarTextHoverBg":"Sidebar Text Hover BG","user.settings.custom_theme.sidebarTitle":"Sidebar Styles","user.settings.custom_theme.sidebarUnreadText":"Sidebar Unread Text","user.settings.display.channeldisplaymode":"Select the width of the center channel.","user.settings.display.channelDisplayTitle":"Channel Display","user.settings.display.clockDisplay":"Clock Display","user.settings.display.collapseDesc":"Set whether previews of image links and image attachment thumbnails show as expanded or collapsed by default. This setting can also be controlled using the slash commands /expand and /collapse.","user.settings.display.collapseDisplay":"Default Appearance of Image Previews","user.settings.display.collapsedReplyThreadsDescription":"When enabled, reply messages are not shown in the channel view. You can still read and reply to threads in the right-hand sidebar. You'll be notified about threads you're following in a new \"Threads\" item in the channel sidebar.","user.settings.display.collapsedReplyThreadsOff":"Off","user.settings.display.collapsedReplyThreadsOn":"On","user.settings.display.collapsedReplyThreadsTitle":"Collapsed Reply Threads (Beta)","user.settings.display.collapseOff":"Collapsed","user.settings.display.collapseOn":"Expanded","user.settings.display.fixedWidthCentered":"Fixed width, centered","user.settings.display.fullScreen":"Full width","user.settings.display.icon":"Display Settings Icon","user.settings.display.language":"Language","user.settings.display.linkPreviewDesc":"When available, the first web link in a message will show a preview of the website content below the message.","user.settings.display.linkPreviewDisplay":"Website Link Previews","user.settings.display.linkPreviewOff":"Off","user.settings.display.linkPreviewOn":"On","user.settings.display.messageDisplayClean":"Standard","user.settings.display.messageDisplayCleanDes":"Easy to scan and read.","user.settings.display.messageDisplayCompact":"Compact","user.settings.display.messageDisplayCompactDes":"Fit as many messages on the screen as we can.","user.settings.display.messageDisplayDescription":"Select how messages in a channel should be displayed.","user.settings.display.messageDisplayTitle":"Message Display","user.settings.display.militaryClock":"24-hour clock (example: 16:00)","user.settings.display.normalClock":"12-hour clock (example: 4:00 PM)","user.settings.display.preferTime":"Select how you prefer time displayed.","user.settings.display.teammateNameDisplay":"This field is handled through your System Administrator. If you want to change it, you need to do so through your System Administrator.","user.settings.display.teammateNameDisplayDescription":"Set how to display other user's names in posts and the Direct Messages list.","user.settings.display.teammateNameDisplayFullname":"Show first and last name","user.settings.display.teammateNameDisplayNicknameFullname":"Show nickname if one exists, otherwise show first and last name","user.settings.display.teammateNameDisplayTitle":"Teammate Name Display","user.settings.display.teammateNameDisplayUsername":"Show username","user.settings.display.theme.applyToAllTeams":"Apply new theme to all my teams","user.settings.display.theme.customTheme":"Custom Theme","user.settings.display.theme.describe":"Open to manage your theme","user.settings.display.theme.import":"Import theme colors from Slack","user.settings.display.theme.otherThemes":"See other themes","user.settings.display.theme.themeColors":"Theme Colors","user.settings.display.theme.title":"Theme","user.settings.display.timezone":"Timezone","user.settings.display.title":"Display Settings","user.settings.general.close":"Close","user.settings.general.confirmEmail":"Confirm Email","user.settings.general.currentEmail":"Current Email","user.settings.general.currentPassword":"Current Password","user.settings.general.email":"Email","user.settings.general.emailGitlabCantUpdate":"Login occurs through GitLab. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailGoogleCantUpdate":"Login occurs through Google. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailHelp1":"Email is used for sign-in, notifications, and password reset. Email requires verification if changed.","user.settings.general.emailHelp3":"Email is used for sign-in, notifications, and password reset.","user.settings.general.emailLdapCantUpdate":"Login occurs through AD/LDAP. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailMatch":"The new emails you entered do not match.","user.settings.general.emailOffice365CantUpdate":"Login occurs through Office 365. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailOpenIdCantUpdate":"Login occurs through OpenID Connect. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailSamlCantUpdate":"Login occurs through SAML. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emptyName":"Click 'Edit' to add your full name","user.settings.general.emptyNickname":"Click 'Edit' to add a nickname","user.settings.general.emptyPassword":"Please enter your current password.","user.settings.general.emptyPosition":"Click 'Edit' to add your job title / position","user.settings.general.field_handled_externally":"This field is handled through your login provider. If you want to change it, you need to do so through your login provider.","user.settings.general.firstName":"First Name","user.settings.general.fullName":"Full Name","user.settings.general.icon":"General Settings Icon","user.settings.general.imageTooLarge":"Unable to upload profile image. File is too large.","user.settings.general.imageUpdated":"Image last updated {date}","user.settings.general.incorrectPassword":"Your password is incorrect.","user.settings.general.lastName":"Last Name","user.settings.general.loginGitlab":"Login done through GitLab ({email})","user.settings.general.loginGoogle":"Login done through Google ({email})","user.settings.general.loginLdap":"Login done through AD/LDAP ({email})","user.settings.general.loginOffice365":"Login done through Office 365 ({email})","user.settings.general.loginSaml":"Login done through SAML ({email})","user.settings.general.mobile.emptyName":"Click to add your full name","user.settings.general.mobile.emptyNickname":"Click to add a nickname","user.settings.general.mobile.emptyPosition":"Click to add your job title / position","user.settings.general.mobile.uploadImage":"Click to upload an image","user.settings.general.newEmail":"New Email","user.settings.general.nickname":"Nickname","user.settings.general.nicknameExtra":"Use Nickname for a name you might be called that is different from your first name and username. This is most often used when two or more people have similar sounding names and usernames.","user.settings.general.notificationsExtra":"By default, you will receive mention notifications when someone types your first name. Go to {notify} settings to change this default.","user.settings.general.notificationsLink":"Notifications","user.settings.general.position":"Position","user.settings.general.positionExtra":"Use Position for your role or job title. This will be shown in your profile popover.","user.settings.general.profilePicture":"Avatar","user.settings.general.sendAgain":"Send again","user.settings.general.sending":"Sending","user.settings.general.title":"General Settings","user.settings.general.uploadImage":"Click 'Edit' to upload an image.","user.settings.general.username":"Username","user.settings.general.usernameInfo":"Pick something easy for teammates to recognize and recall.","user.settings.general.usernameReserved":"This username is reserved, please choose a new one.","user.settings.general.usernameRestrictions":"Username must begin with a letter, and contain between {min} to {max} lowercase characters made up of numbers, letters, and the symbols '.', '-', and '_'.","user.settings.general.validEmail":"Please enter a valid email address","user.settings.general.validImage":"Only BMP, JPG or PNG images may be used for profile pictures","user.settings.import_theme.cancel":"Cancel","user.settings.import_theme.importBody":'To import a theme, go to a Slack team and look for "Preferences -> Sidebar Theme". Open the custom theme option, copy the theme color values and paste them here:',"user.settings.import_theme.importHeader":"Import Slack Theme","user.settings.import_theme.submit":"Submit","user.settings.import_theme.submitError":"Invalid format, please try copying and pasting in again.","user.settings.languages.change":"Change interface language","user.settings.languages.promote":"Select which language Gomlo displays in the user interface.\n \nWould you like to help with translations? Join the [Gomlo Translation Server](!http://translate.chatting.gomlo.me/) to contribute.","user.settings.mfa.add":"Add MFA to Account","user.settings.mfa.addHelp":"Adding multi-factor authentication will make your account more secure by requiring a code from your mobile phone each time you sign in.","user.settings.mfa.remove":"Remove MFA from Account","user.settings.mfa.removeHelp":"Removing multi-factor authentication means you will no longer require a phone-based passcode to sign-in to your account.","user.settings.mfa.requiredHelp":"Multi-factor authentication is required on this server. Resetting is only recommended when you need to switch code generation to a new mobile device. You will be required to set it up again immediately.","user.settings.mfa.reset":"Reset MFA on Account","user.settings.mfa.title":"Multi-factor Authentication","user.settings.modal.advanced":"Advanced","user.settings.modal.confirmBtns":"Yes, Discard","user.settings.modal.confirmMsg":"You have unsaved changes, are you sure you want to discard them?","user.settings.modal.confirmTitle":"Discard Changes?","user.settings.modal.display":"Display","user.settings.modal.general":"General","user.settings.modal.notifications":"Notifications","user.settings.modal.security":"Security","user.settings.modal.sidebar":"Sidebar","user.settings.modal.title":"Account Settings","user.settings.notifications.allActivity":"For all activity","user.settings.notifications.autoResponder":"Automatic Direct Message Replies","user.settings.notifications.autoResponderDefault":"Hello, I am out of office and unable to respond to messages.","user.settings.notifications.autoResponderDisabled":"Disabled","user.settings.notifications.autoResponderEnabled":"Enabled","user.settings.notifications.autoResponderHint":"Set a custom message that will be automatically sent in response to Direct Messages. Mentions in Public and Private Channels will not trigger the automated reply. Enabling Automatic Replies sets your status to Out of Office and disables email and push notifications.","user.settings.notifications.autoResponderPlaceholder":"Message","user.settings.notifications.channelWide":'Channel-wide mentions "@group", "@all", "@here"',"user.settings.notifications.comments":"Reply notifications","user.settings.notifications.commentsAny":"Trigger notifications on messages in reply threads that I start or participate in","user.settings.notifications.commentsInfo":"In addition to notifications for when you're mentioned, select if you would like to receive notifications on reply threads.","user.settings.notifications.commentsNever":"Do not trigger notifications on messages in reply threads unless I'm mentioned","user.settings.notifications.commentsRoot":"Trigger notifications on messages in threads that I start","user.settings.notifications.desktop":"Send desktop notifications","user.settings.notifications.desktop.allNoSound":"For all activity, without sound","user.settings.notifications.desktop.allSound":"For all activity, with sound","user.settings.notifications.desktop.allSoundHidden":"For all activity","user.settings.notifications.desktop.mentionsNoSound":"For mentions and direct messages, without sound","user.settings.notifications.desktop.mentionsSound":"For mentions and direct messages, with sound","user.settings.notifications.desktop.mentionsSoundHidden":"For mentions and direct messages","user.settings.notifications.desktop.sound":"Notification sound","user.settings.notifications.desktop.title":"Desktop Notifications","user.settings.notifications.email.disabled":"Email notifications are not enabled","user.settings.notifications.email.disabled_long":"Email notifications have not been enabled by your System Administrator.","user.settings.notifications.email.everyHour":"Every hour","user.settings.notifications.email.everyXMinutes":"Every {count, plural, one {minute} other {{count, number} minutes}}","user.settings.notifications.email.immediately":"Immediately","user.settings.notifications.email.never":"Never","user.settings.notifications.email.send":"Send email notifications","user.settings.notifications.emailBatchingInfo":"Notifications received over the time period selected are combined and sent in a single email.","user.settings.notifications.emailInfo":"Email notifications are sent for mentions and direct messages when you are offline or away for more than 5 minutes.","user.settings.notifications.emailNotifications":"Email Notifications","user.settings.notifications.header":"Notifications","user.settings.notifications.icon":"Notification Settings Icon","user.settings.notifications.info":"Desktop notifications are available on Edge, Firefox, Safari, Chrome and Gomlo Desktop Apps.","user.settings.notifications.mentionsInfo":'Mentions trigger when someone sends a message that includes your username ("@{username}") or any of the options selected above.',"user.settings.notifications.never":"Never","user.settings.notifications.noWords":"No words configured","user.settings.notifications.off":"Off","user.settings.notifications.on":"On","user.settings.notifications.onlyMentions":"Only for mentions and direct messages","user.settings.notifications.push":"Mobile Push Notifications","user.settings.notifications.push_notification.status":"Trigger push notifications when","user.settings.notifications.sensitiveName":'Your case-sensitive first name "{first_name}"',"user.settings.notifications.sensitiveUsername":'Your non case-sensitive username "{username}"',"user.settings.notifications.sensitiveWords":"Other non case-sensitive words, separated by commas:","user.settings.notifications.soundConfig":"Please configure notification sounds in your browser settings","user.settings.notifications.sounds_info":"Notification sounds are available on Firefox, Edge, Safari, Chrome and Gomlo Desktop Apps.","user.settings.notifications.title":"Notification Settings","user.settings.notifications.wordsTrigger":"Words That Trigger Mentions","user.settings.push_notification.allActivity":"For all activity","user.settings.push_notification.allActivityAway":"For all activity when away or offline","user.settings.push_notification.allActivityOffline":"For all activity when offline","user.settings.push_notification.allActivityOnline":"For all activity when online, away or offline","user.settings.push_notification.away":"Away or offline","user.settings.push_notification.disabled":"Push notifications are not enabled","user.settings.push_notification.disabled_long":"Push notifications have not been enabled by your System Administrator.","user.settings.push_notification.info":"Notification alerts are pushed to your mobile device when there is activity in Gomlo.","user.settings.push_notification.offline":"Offline","user.settings.push_notification.online":"Online, away or offline","user.settings.push_notification.onlyMentions":"For mentions and direct messages","user.settings.push_notification.onlyMentionsAway":"For mentions and direct messages when away or offline","user.settings.push_notification.onlyMentionsOffline":"For mentions and direct messages when offline","user.settings.push_notification.onlyMentionsOnline":"For mentions and direct messages when online, away or offline","user.settings.push_notification.send":"Send mobile push notifications","user.settings.push_notification.status_info":"Notification alerts are only pushed to your mobile device when your availability matches the selection above.","user.settings.security.active":"Active","user.settings.security.close":"Close","user.settings.security.currentPassword":"Current Password","user.settings.security.currentPasswordError":"Please enter your current password.","user.settings.security.deauthorize":"Deauthorize","user.settings.security.emailPwd":"Email and Password","user.settings.security.gitlab":"GitLab","user.settings.security.google":"Google","user.settings.security.icon":"Security Settings Icon","user.settings.security.inactive":"Inactive","user.settings.security.lastUpdated":"Last updated {date} at {time}","user.settings.security.ldap":"AD/LDAP","user.settings.security.loginGitlab":"Login done through GitLab","user.settings.security.loginGoogle":"Login done through Google Apps","user.settings.security.loginLdap":"Login done through AD/LDAP","user.settings.security.loginOffice365":"Login done through Office 365","user.settings.security.loginSaml":"Login done through SAML","user.settings.security.logoutActiveSessions":"View and Log Out of Active Sessions","user.settings.security.logoutActiveSessions.icon":"Active Sessions Icon","user.settings.security.method":"Sign-in Method","user.settings.security.newPassword":"New Password","user.settings.security.noApps":"No OAuth 2.0 Applications are authorized.","user.settings.security.oauthApps":"OAuth 2.0 Applications","user.settings.security.oauthAppsDescription":"Click 'Edit' to manage your OAuth 2.0 Applications","user.settings.security.oauthAppsHelp":"Applications act on your behalf to access your data based on the permissions you grant them.","user.settings.security.office365":"Office 365","user.settings.security.oneSignin":"You may only have one sign-in method at a time. Switching sign-in method will send an email notifying you if the change was successful.","user.settings.security.openid":"OpenID","user.settings.security.password":"Password","user.settings.security.passwordError":"Your password must contain between {min} and {max} characters.","user.settings.security.passwordErrorLowercase":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter.","user.settings.security.passwordErrorLowercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one number.","user.settings.security.passwordErrorLowercaseNumberSymbol":'Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one number, and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorLowercaseSymbol":'Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorLowercaseUppercase":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one uppercase letter.","user.settings.security.passwordErrorLowercaseUppercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, and at least one number.","user.settings.security.passwordErrorLowercaseUppercaseNumberSymbol":'Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, at least one number, and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorLowercaseUppercaseSymbol":'Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorNumber":"Your password must contain between {min} and {max} characters made up of at least one number.","user.settings.security.passwordErrorNumberSymbol":'Your password must contain between {min} and {max} characters made up of at least one number and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorSymbol":'Your password must contain between {min} and {max} characters made up of at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorUppercase":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter.","user.settings.security.passwordErrorUppercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter and at least one number.","user.settings.security.passwordErrorUppercaseNumberSymbol":'Your password must contain between {min} and {max} characters made up of at least one uppercase letter, at least one number, and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordErrorUppercaseSymbol":'Your password must contain between {min} and {max} characters made up of at least one uppercase letter and at least one symbol (e.g. "~!@#$%^&*()").',"user.settings.security.passwordGitlabCantUpdate":"Login occurs through GitLab. Password cannot be updated.","user.settings.security.passwordGoogleCantUpdate":"Login occurs through Google Apps. Password cannot be updated.","user.settings.security.passwordLdapCantUpdate":"Login occurs through AD/LDAP. Password cannot be updated.","user.settings.security.passwordMatchError":"The new passwords you entered do not match.","user.settings.security.passwordMinLength":"Invalid minimum length, cannot show preview.","user.settings.security.passwordOffice365CantUpdate":"Login occurs through Office 365. Password cannot be updated.","user.settings.security.passwordSamlCantUpdate":"This field is handled through your login provider. If you want to change it, you need to do so through your login provider.","user.settings.security.retypePassword":"Retype New Password","user.settings.security.saml":"SAML","user.settings.security.switchEmail":"Switch to Using Email and Password","user.settings.security.switchGitlab":"Switch to Using GitLab SSO","user.settings.security.switchGoogle":"Switch to Using Google SSO","user.settings.security.switchLdap":"Switch to Using AD/LDAP","user.settings.security.switchOffice365":"Switch to Using Office 365 SSO","user.settings.security.switchOpenId":"Switch to Using OpenID SSO","user.settings.security.switchSaml":"Switch to Using SAML SSO","user.settings.security.title":"Security Settings","user.settings.security.viewHistory":"View Access History","user.settings.security.viewHistory.icon":"Access History Icon","user.settings.sidebar.after_seven_days":"After 7 days with no new messages","user.settings.sidebar.autoCloseDMDesc":"Direct Message conversations can be reopened with the “+” button in the sidebar or using the Channel Switcher (CTRL+K).","user.settings.sidebar.autoCloseDMTitle":"Automatically Close Direct Messages","user.settings.sidebar.channelSwitcherSectionDesc.mac":"The channel switcher is shown at the bottom of the sidebar and is used to jump between channels quickly. It can also be accessed using CMD + K.","user.settings.sidebar.channelSwitcherSectionDesc.windows":"The channel switcher is shown at the bottom of the sidebar and is used to jump between channels quickly. It can also be accessed using CTRL + K.","user.settings.sidebar.channelSwitcherSectionTitle":"Channel Switcher","user.settings.sidebar.favorites":"Favorites grouped separately","user.settings.sidebar.favoritesDesc":"Channels marked as favorites will be grouped separately.","user.settings.sidebar.favoritesShort":"Favorites grouped separately","user.settings.sidebar.groupAndSortChannelsTitle":"Channel Grouping and Sorting","user.settings.sidebar.groupByNone":"Combine all channel types","user.settings.sidebar.groupByNoneShort":"No grouping","user.settings.sidebar.groupByType":"Channels grouped by type","user.settings.sidebar.groupByTypeShort":"Group by channel type","user.settings.sidebar.groupChannelsTitle":"Channel grouping","user.settings.sidebar.groupDesc":"Group channels by type, or combine all types into a list.","user.settings.sidebar.icon":"Sidebar Settings Icon","user.settings.sidebar.limitVisibleGMsDMs.allDirectMessages":"All Direct Messages","user.settings.sidebar.limitVisibleGMsDMsDesc":"You can also change these settings in the direct messages sidebar menu.","user.settings.sidebar.limitVisibleGMsDMsTitle":"Number of direct messages to show","user.settings.sidebar.never":"Never","user.settings.sidebar.off":"Off","user.settings.sidebar.on":"On","user.settings.sidebar.recent":"Recent activity","user.settings.sidebar.showUnreadsCategoryDesc":"When enabled, all unread channels and direct messages will be grouped together in the sidebar.","user.settings.sidebar.showUnreadsCategoryTitle":"Group unread channels separately","user.settings.sidebar.sortAlpha":"Alphabetically","user.settings.sidebar.sortAlphaShort":"sorted alphabetically","user.settings.sidebar.sortChannelsTitle":"Channel sorting","user.settings.sidebar.sortDesc":"Sort channels alphabetically, or by most recent post.","user.settings.sidebar.sortRecent":"Recency","user.settings.sidebar.sortRecentShort":"sorted by recency","user.settings.sidebar.title":"Sidebar Settings","user.settings.sidebar.unreads":"Unreads grouped separately","user.settings.sidebar.unreadsDesc":"Group unread channels separately until read.","user.settings.sidebar.unreadsFavoritesShort":"Unreads and favorites grouped separately","user.settings.sidebar.unreadsShort":"Unreads grouped separately","user.settings.timezones.automatic":"Automatic","user.settings.timezones.promote":"Select the timezone used for timestamps in the user interface and email notifications.","user.settings.tokens.activate":"Enable","user.settings.tokens.cancel":"Cancel","user.settings.tokens.clickToEdit":"Click 'Edit' to manage your personal access tokens","user.settings.tokens.confirmCopyButton":"Yes, I have copied the token","user.settings.tokens.confirmCopyMessage":"Make sure you have copied and saved the access token below. You won't be able to see it again!","user.settings.tokens.confirmCopyTitle":"Copied Your Token?","user.settings.tokens.confirmCreateButton":"Yes, Create","user.settings.tokens.confirmCreateMessage":"You are generating a personal access token with System Admin permissions. Are you sure want to create this token?","user.settings.tokens.confirmCreateTitle":"Create System Admin Personal Access Token","user.settings.tokens.confirmDeleteButton":"Yes, Delete","user.settings.tokens.confirmDeleteMessage":"Any integrations using this token will no longer be able to access the Gomlo API. You cannot undo this action. \n \nAre you sure want to delete the **{description}** token?","user.settings.tokens.confirmDeleteTitle":"Delete Token?","user.settings.tokens.copy":"Please copy the access token below. You won't be able to see it again!","user.settings.tokens.create":"Create Token","user.settings.tokens.deactivate":"Disable","user.settings.tokens.deactivatedWarning":"(Disabled)","user.settings.tokens.delete":"Delete","user.settings.tokens.description":"[Personal access tokens](!https://about.chatting.gomlo.me/default-user-access-tokens) function similarly to session tokens and can be used by integrations to [authenticate against the REST API](!https://about.chatting.gomlo.me/default-api-authentication).","user.settings.tokens.description_mobile":"[Personal access tokens](!https://about.chatting.gomlo.me/default-user-access-tokens) function similarly to session tokens and can be used by integrations to [authenticate against the REST API](!https://about.chatting.gomlo.me/default-api-authentication). Create new tokens on your desktop.","user.settings.tokens.id":"Token ID: ","user.settings.tokens.name":"Token Description: ","user.settings.tokens.nameHelp":"Enter a description for your token to remember what it does.","user.settings.tokens.nameRequired":"Please enter a description.","user.settings.tokens.save":"Save","user.settings.tokens.title":"Personal Access Tokens","user.settings.tokens.token":"Access Token: ","user.settings.tokens.tokenDesc":"Token Description: ","user.settings.tokens.tokenId":"Token ID: ","user.settings.tokens.tokenLoading":"Loading...","user.settings.tokens.userAccessTokensNone":"No personal access tokens.","userGuideHelp.askTheCommunity":"Ask the community","userGuideHelp.helpResources":"Help resources","userGuideHelp.keyboardShortcuts":"Keyboard shortcuts","userGuideHelp.reportAProblem":"Report a problem","version_bar.new":"A new version of Gomlo is available.","version_bar.refresh":"Refresh the app now","view_image_popover.download":"Download","view_image_popover.file":"File {count, number} of {total, number}","view_image_popover.open":"Open","view_image_popover.publicLink":"Get a public link","view_image.loading":"Loading ","view_image.zoom_in":"Zoom In","view_image.zoom_out":"Zoom Out","view_image.zoom_reset":"Reset Zoom","web.footer.about":"About","web.footer.help":"Help","web.footer.privacy":"Privacy","web.footer.terms":"Terms","web.header.back":"Back","web.header.logout":"Logout","web.root.signup_info":"All team communication in one place, searchable and accessible anywhere","widgets.channels_input.empty":"No channels found","widgets.channels_input.loading":"Loading","widgets.users_emails_input.loading":"Loading","widgets.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email address","widgets.users_emails_input.valid_email":"Add **{email}**",yourcomputer:"Your computer"};function Vl(e){return async t=>{const n=[t(ye()),t(be()),t(_e())],s=await Promise.all(n),r=we.getUserId(e);return r&&s.push(await t(xe(r))),s}}const Wl={};function Yl(e,t){return async n=>{const s=a({},zl);if(Object.values(Wl).forEach((t=>{Object.assign(s,t(e))})),"en"!==e)try{const e=await Ce.getTranslations(t);Object.assign(s,e)}catch(r){console.error(r)}n({type:Ee.RECEIVED_TRANSLATIONS,data:{locale:e,translations:s}})}}function Kl(){return async e=>{const{clientId:t,userToken:n}=Se();return e(Te(t,n))}}function $l(){return async e=>{const{userToken:t}=Se(),{data:n}=await e(Ae(t));return n&&n.id&&e(me(n.id,[{category:Pe.CATEGORY_SYNC_STATE,name:Pe.SYNC_USER_INFO,user_id:n.id,value:(new Date).getTime().toString()}])),{data:!0}}}var Jl,Xl={exports:{}};Jl=Xl,function(){
/**
     * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
     *
     * @codingstandard ftlabs-jsv2
     * @copyright The Financial Times Limited [All Rights Reserved]
     * @license MIT License (see LICENSE.txt)
     */
function e(t,s){var r;if(s=s||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=s.touchBoundary||10,this.layer=t,this.tapDelay=s.tapDelay||200,this.tapTimeout=s.tapTimeout||700,!e.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],i=this,a=0,l=o.length;a<l;a++)i[o[a]]=c(i[o[a]],i);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,s){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,s):r.call(t,e,n,s)},t.addEventListener=function(e,n,s){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),s):r.call(t,e,n,s)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",(function(e){r(e)}),!1),t.onclick=null)}function c(e,t){return function(){return e.apply(t,arguments)}}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,s=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,r=s&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=s&&/OS [6-7]_\d/.test(navigator.userAgent),i=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(s&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,s;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),s=t.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;s&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(!(t=e.fastClickScrollParent)||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,o;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],s){if((o=window.getSelection()).rangeCount&&!o.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,i,a,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(c=e.changedTouches[0],(u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(a=u.tagName.toLowerCase())){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-i>100||s&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),s&&"select"===a||(this.targetElement=null,e.preventDefault()),!1);return!(!s||r||!(l=u.fastClickScrollParent)||l.fastClickLastScrollTop===l.scrollTop)||(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!(this.targetElement&&!e.forwardedTouchEvent&&e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),1))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,s,r;if(void 0===window.ontouchstart)return!0;if(s=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(s>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(i&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&r[2]>=3&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===e.style.touchAction||"manipulation"===e.style.touchAction},e.attach=function(t,n){return new e(t,n)},Jl.exports?(Jl.exports=e.attach,Jl.exports.FastClick=e):window.FastClick=e}();var Ql=Xl.exports;const Zl=p((e=>Ie(e)),(e=>"true"===(null==e?void 0:e.FeatureFlagAppsEnabled)));function ec(e,t){return async(n,s)=>{const r=ee(s(),t),o=(null==r?void 0:r.team_id)||"";return n(Ne({clientFunc:()=>Ce.getAppsBindings(e,t,o),onSuccess:ke.RECEIVED_APP_BINDINGS}))}}function tc(){return async(e,t)=>{const n=t();let s;try{const t=await e(Me());s=new Set(t.data)}catch(a){return{error:a}}s.add(ce(n));const r=Object.keys(Oe(n)),o=new Set(r.filter((e=>!s.has(e)))),i=[];for(const l of o.values())i.push({type:Le.PROFILE_NO_LONGER_VISIBLE,data:{user_id:l}});return i.length>0&&e(De(i)),{data:!0}}}function nc(e=""){return function(e,t=""){return async(n,s)=>{let r;n({type:je.GET_ANALYTICS_REQUEST,data:null});try{r=await Ce.getAnalytics(e,t)}catch(i){return Fe(i,n,s),n(De([{type:je.GET_ANALYTICS_FAILURE,error:i},Ue(i)])),{error:i}}const o=[{type:je.GET_ANALYTICS_SUCCESS,data:null}];return""===t?o.push({type:je.RECEIVED_SYSTEM_ANALYTICS,data:r,name:e}):o.push({type:je.RECEIVED_TEAM_ANALYTICS,data:r,name:e,teamId:t}),n(De(o)),{data:r}}}("standard",e)}function sc(){return p(ce,He,Be,((e,t)=>t),((e,t,n,s)=>{const r=Object.values(n).reduce(((e,t)=>t.type===qe.DM_CHANNEL?l(a({},e),{[t.name]:t}):e),{});return s.map((n=>{const s=Ge(e,n.id),o=r[s],i=o?t[o.id]:null;return l(a({},n),{last_viewed_at:o&&i?i.last_viewed_at:0})}))}))}const rc=e=>{const t=ce(e);return we.getPreviousTeamId(t)},oc=e=>e.websocket;function ic(){return e=>{e({type:Ee.UPDATE_MOBILE_VIEW,data:We()})}}function ac(){return async(e,t)=>{const n=t(),s=Ye(n)||{},r=Ke(n),o=$e(n),i=Object.assign({},r,o);let a=Je(i,(e=>{const t=ce(e),n=ne(e);return we.getPreviousChannelName(t,n)})(n));return s.id===a.id&&(a=Je(i,Xe(n,ne(n)))),e((l=a,async(e,t)=>{const n=t(),s=Qe(n);if(l.fake||l.userId){const t=l.userId?l.name:l.display_name,r=Ze(n,t);if(!r)return{error:!0};if((await e(Bl(r.id))).error)return{error:!0};et.push(`${s}/messages/@${l.name}`)}else if(l.type===re.GM_CHANNEL){const e=ee(n,l.id);et.push(`${s}/group/${e.name}`)}else et.push(`${s}/group/${l.name}`);return{data:!0}}));var l}}function lc(e){return async(t,n)=>{let s=n();const r=ce(s),o=tt(s),i=ee(s,e);nt(s,e)&&t(st(e));const a=Qe(s);rt(i)||we.removePreviousChannelName(r,o.id,s);const{error:l}=await t(ot(e));if(l)return{error:l};s=n();const c=we.getPreviousChannelName(r,o.id,s),u=Ke(s),d=Je(u,c);return d&&He(s)[d.id]||we.removePreviousChannelName(r,o.id,s),0===it(n()).filter((e=>e.type===re.OPEN_CHANNEL||e.type===re.PRIVATE_CHANNEL)).length?(we.removePreviousChannelName(r,o.id,s),t(at("")),t({type:lt.LEAVE_TEAM,data:o}),et.push("/")):et.push(a),{data:!0}}}function cc(e){return async(t,n)=>{let s=n();const r=ce(s),o=tt(s),i=ee(s,e);nt(s,e)&&t(st(e));const a=Qe(s);rt(i)||we.removePreviousChannelName(r,o.id,s);const{error:l}=await t(ot(e));if(l)return{error:l};s=n();const c=we.getPreviousChannelName(r,o.id,s),u=Ke(s),d=Je(u,c);d&&He(s)[d.id]||we.removePreviousChannelName(r,o.id,s);let p="/";return 0===it(n()).filter((e=>e.type===re.OPEN_CHANNEL||e.type===re.PRIVATE_CHANNEL)).length?(we.removePreviousChannelName(r,o.id,s),t(at("")),t({type:lt.LEAVE_TEAM,data:o})):p=a,{data:{nextPage:p}}}}function uc(e){return async(t,n)=>{const s=n(),r=ce(s);return ct(s).forEach((t=>{const n=we.getPreviousChannelName(r,t.id,s),o=we.getPenultimateChannelName(r,t.id,s);e===n?we.removePreviousChannelName(r,t.id,s):e===o&&we.removePenultimateChannelName(r,t.id,s)})),{data:!0}}}function dc(e,t){const n=sc();return async(s,r)=>{const o=r(),i=ne(o),c=await s(ut(e,i,t)),u=c.data;return u?l(a({},c),{data:l(a({},u),{users:n(o,u.users||[]),out_of_channel:n(o,u.out_of_channel||[])})}):c}}function pc(e,t=!1){return async n=>{const s=Date.now();t&&n({type:Ee.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:ze.STARTED});const{data:r,error:o}=await n(dt(e));if(o)return t&&n({type:Ee.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:ze.FAILURE}),{error:o,atLatestMessage:!1,atOldestmessage:!1};const i=[];return i.push({type:Ee.INCREASE_POST_VISIBILITY,data:e,amount:r.order.length}),t&&i.push({type:Ee.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:ze.SUCCESS}),""===r.next_post_id&&i.push({type:Ee.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:s}),n(d(i)),{atLatestMessage:""===r.next_post_id,atOldestmessage:""===r.prev_post_id}}}function hc(e,t){return async n=>{const{data:s,error:r}=await n(pt(e,t,ft.POST_CHUNK_SIZE/2));return r?{error:r,atLatestMessage:!1,atOldestmessage:!1}:(n({type:Ee.INCREASE_POST_VISIBILITY,data:e,amount:s.order.length}),{atLatestMessage:""===s.next_post_id,atOldestmessage:""===s.prev_post_id})}}function fc(e){return async t=>{const n=Date.now(),{data:s,error:r}=await t(ht(e,0,ft.POST_CHUNK_SIZE/2));return r?{error:r,atLatestMessage:!1,atOldestmessage:!1}:(t({type:Ee.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:n}),{data:s,atLatestMessage:""===s.next_post_id,atOldestmessage:""===s.prev_post_id})}}function mc({channelId:e,postId:t,type:n}){return async s=>{const r=re.POST_CHUNK_SIZE/2;s({type:Ee.LOADING_POSTS,data:!0,channelId:e});let o;o=n===mt.BEFORE_ID?await s(gt(e,t,0,r)):await s(vt(e,t,0,r));const{data:i}=o,a=[{type:Ee.LOADING_POSTS,data:!1,channelId:e}];return o.error?{error:o.error,moreToLoad:!0}:(a.push({type:Ee.INCREASE_POST_VISIBILITY,data:e,amount:i.order.length}),s(d(a)),{moreToLoad:n===mt.BEFORE_ID?""!==i.prev_post_id:""!==i.next_post_id})}}function gc(e,t,n=!1){return async(s,r)=>{const o=Date.now(),i=r(),a=oc(i);let l=t;const c=((e,t)=>e.views.channel.lastGetPosts[t])(i,e),u=[];c&&c<a.lastDisconnectAt&&(l=c),n&&s({type:Ee.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:ze.STARTED});const{data:p,error:h}=await s(Ve(e,l));return p&&u.push({type:Ee.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:o}),n&&(h?u.push({type:Ee.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:ze.FAILURE}):u.push({type:Ee.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:ze.SUCCESS})),s(d(u)),{data:p,error:h}}}function vc(e,t){return async(n,s)=>{const r=s(),o=yt(r,e);if(!r.entities.posts.postsInChannel[e]||!o)return t&&await new Promise((e=>setTimeout(e,t))),n(pc(e,!0));const i=bt(r,o);return n(gc(e,i.create_at,!0))}}function yc(){return()=>{_t.emit(wt.POST_LIST_SCROLL_TO_BOTTOM)}}function bc(e){return t=>{t({type:Ee.UPDATE_TOAST_STATUS,data:e})}}var _c=new class{constructor(){u(this,"conn"),u(this,"connectionUrl"),u(this,"responseSequence"),u(this,"serverSequence"),u(this,"connectFailCount"),u(this,"eventCallback"),u(this,"responseCallbacks"),u(this,"firstConnectCallback"),u(this,"reconnectCallback"),u(this,"missedEventCallback"),u(this,"errorCallback"),u(this,"closeCallback"),u(this,"connectionId"),this.conn=null,this.connectionUrl=null,this.responseSequence=1,this.serverSequence=0,this.connectFailCount=0,this.eventCallback=null,this.responseCallbacks={},this.firstConnectCallback=null,this.reconnectCallback=null,this.missedEventCallback=null,this.errorCallback=null,this.closeCallback=null,this.connectionId=""}initialize(e=this.connectionUrl,t){if(this.conn)return;if(null==e)return;this.connectFailCount,this.conn=new WebSocket(`${e}?connection_id=${this.connectionId}&sequence_number=${this.serverSequence}`),this.connectionUrl=e;const n="true"===Ie(xt.getState()).EnableReliableWebSockets;this.conn.onopen=()=>{n||(this.serverSequence=0),t&&this.sendMessage("authentication_challenge",{token:t}),this.connectFailCount>0?!n&&this.reconnectCallback&&this.reconnectCallback():this.firstConnectCallback&&this.firstConnectCallback(),this.connectFailCount=0},this.conn.onclose=()=>{this.conn=null,this.responseSequence=1,this.connectFailCount,this.connectFailCount++,this.closeCallback&&this.closeCallback(this.connectFailCount);let n=3e3;this.connectFailCount>7&&(n=3e3*this.connectFailCount*this.connectFailCount,n>3e5&&(n=3e5)),setTimeout((()=>{this.initialize(e,t)}),n)},this.conn.onerror=e=>{this.connectFailCount,this.errorCallback&&this.errorCallback(e)},this.conn.onmessage=e=>{var t;const s=JSON.parse(e.data);if(s.seq_reply)s.error,this.responseCallbacks[s.seq_reply]&&(this.responseCallbacks[s.seq_reply](s),Reflect.deleteProperty(this.responseCallbacks,s.seq_reply));else if(this.eventCallback){if(n){if(s.event===Ct.HELLO&&this.missedEventCallback&&(""!==this.connectionId&&this.connectionId!==s.data.connection_id&&(this.missedEventCallback(),this.serverSequence=0),this.connectionId=s.data.connection_id),s.seq!==this.serverSequence)return this.connectFailCount=0,this.responseSequence=1,void(null==(t=this.conn)||t.close())}else s.seq!==this.serverSequence&&this.missedEventCallback&&this.missedEventCallback();this.serverSequence=s.seq+1,this.eventCallback(s)}}}setEventCallback(e){this.eventCallback=e}setFirstConnectCallback(e){this.firstConnectCallback=e}setReconnectCallback(e){this.reconnectCallback=e}setMissedEventCallback(e){this.missedEventCallback=e}setErrorCallback(e){this.errorCallback=e}setCloseCallback(e){this.closeCallback=e}close(){this.connectFailCount=0,this.responseSequence=1,this.conn&&this.conn.readyState===WebSocket.OPEN&&(this.conn.onclose=()=>{},this.conn.close(),this.conn=null)}sendMessage(e,t,n){const s={action:e,seq:this.responseSequence++,data:t};n&&(this.responseCallbacks[s.seq]=n),this.conn&&this.conn.readyState===WebSocket.OPEN?this.conn.send(JSON.stringify(s)):this.conn&&this.conn.readyState!==WebSocket.CLOSED||(this.conn=null,this.initialize())}userTyping(e,t,n){const s={channel_id:e,parent_id:t};this.sendMessage("user_typing",s,n)}userUpdateActiveStatus(e,t,n){const s={user_is_active:e,manual:t};this.sendMessage("user_update_active_status",s,n)}getStatuses(e){this.sendMessage("get_statuses",null,e)}getStatusesByIds(e,t){const n={user_ids:e};this.sendMessage("get_statuses_by_ids",n,t)}};const wc=xt.dispatch,xc=xt.getState,Cc={};function Ec(){if(!window.WebSocket)return void console.log("Browser does not support websocket");const e=Ie(xc());let t="";if(e.WebsocketURL)t=e.WebsocketURL;else{t=new URL("https://gomlo.me"),"https:"===t.protocol?t.protocol="wss:":t.protocol="ws:",/:\d+$/.test(t.host)||("wss:"===t.protocol?t.host+=":"+e.WebsocketSecurePort:t.host+=":"+e.WebsocketPort),t=t.toString()}t.length>0&&"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t+=Ce.getUrlVersion()+"/websocket",_c.setEventCallback(Ic),_c.setFirstConnectCallback(Ac),_c.setReconnectCallback((()=>Tc(!1))),_c.setMissedEventCallback((()=>Tc(!1))),_c.setCloseCallback(Pc),_c.initialize(t,Ce.getToken())}function Sc(){_c.close()}function Tc(e=!0){e&&(Sc(),Ec()),wc({type:Et.WEBSOCKET_SUCCESS,timestamp:Date.now()});const t=xc();if(t.entities.teams.currentTeamId){const e=St(t),n=yt(t,e),s=bt(t,n);wc(ql()),wc(Mc()),wc(s?gc(e,s.create_at):ht(e)),wc(Tt())}t.websocket.lastDisconnectAt&&wc(At()),wc((async e=>{e({type:Ee.RESET_WS_ERROR_COUNT})})),wc(Pt())}function Ac(){wc(d([{type:Et.WEBSOCKET_SUCCESS,timestamp:Date.now()},Pt()]))}function Pc(e){e>7&&wc(Ue({type:"critical",message:It.WEBSOCKET_PORT_ERROR},!0)),wc(d([{type:Et.WEBSOCKET_FAILURE,timestamp:Date.now()},async e=>{e({type:Ee.INCREMENT_WS_ERROR_COUNT})}]))}function Ic(e){switch(e.event){case Ct.POSTED:case Ct.EPHEMERAL_MESSAGE:Nc(e);break;case Ct.POST_EDITED:!function(e){const t=JSON.parse(e.data.post);wc(Zt(t)),Jt([t],wc,xc);const n=St(xc());n===e.broadcast.channel_id&&(wc(Yt(n)),window.isActive&&wc(en(n)))}(e);break;case Ct.POST_DELETED:!function(e){const t=JSON.parse(e.data.post);wc(tn(t)),t.is_pinned&&wc(Yt(t.channel_id))}(e);break;case Ct.POST_UNREAD:!function(e){wc({type:Ee.POST_UNREAD_SUCCESS,data:{lastViewedAt:e.data.last_viewed_at,channelId:e.broadcast.channel_id,msgCount:e.data.msg_count,mentionCount:e.data.mention_count}})}(e);break;case Ct.LEAVE_TEAM:!function(e){const t=xc(),n=[{type:Le.RECEIVED_PROFILE_NOT_IN_TEAM,data:{id:e.data.team_id,user_id:e.data.user_id}},{type:lt.REMOVE_MEMBER_FROM_TEAM,data:{team_id:e.data.team_id,user_id:e.data.user_id}}],s=rn(t),r=s&&s[e.data.team_id]||[];for(const i of r)n.push({type:Wt.REMOVE_MEMBER_FROM_CHANNEL,data:{id:i,user_id:e.data.user_id}});wc(d(n));const o=on(t);if(o.id===e.data.user_id)wc({type:lt.LEAVE_TEAM,data:{id:e.data.team_id}}),ne(t)===e.data.team_id&&(global.location.pathname.startsWith("/admin_console")||Jc()),an(o)&&wc(tc());else{const n=ln(t,e.data.team_id),s=cn(t),r=Object.values(s).some((t=>t[e.data.user_id]));n&&an(o)&&!r&&wc(d([{type:Le.PROFILE_NO_LONGER_VISIBLE,data:{user_id:e.data.user_id}},{type:lt.REMOVE_MEMBER_FROM_TEAM,data:{team_id:n.id,user_id:e.data.user_id}}]))}}(e);break;case Ct.UPDATE_TEAM:!function(e){wc({type:lt.UPDATED_TEAM,data:JSON.parse(e.data.team)})}(e);break;case Ct.UPDATE_TEAM_SCHEME:wc(sn());break;case Ct.DELETE_TEAM:!function(e){const t=JSON.parse(e.data.team),n=xt.getState(),{teams:s}=n.entities.teams;if(t&&s&&s[t.id]&&0===s[t.id].delete_at){const{currentUserId:e}=n.entities.users,{currentTeamId:s,myMembers:r}=n.entities.teams,o=Object.values(r),i=o.find((t=>t.user_id===e&&t.team_id===s));let a="";if(t&&i&&t.id===i.team_id){const e={};un(n).forEach((t=>{e[t.id]=t}));for(let n=0;n<o.length;n++){const s=o[n].team_id;if(e&&e[s]&&0===e[s].delete_at&&t.id!==s){a=s;break}}}if(wc(d([{type:lt.RECEIVED_TEAM_DELETED,data:{id:t.id}},{type:lt.UPDATED_TEAM,data:t}])),a){wc({type:lt.SELECT_TEAM,data:a});const e=xc(),t=Xe(e,a);et.push(`${dn(e)}/group/${t}`)}else et.push("/")}}(e);break;case Ct.ADDED_TO_TEAM:!async function(e){await wc(nn(e.data.team_id)),await wc(sn()),await wc(Tt())}(e);break;case Ct.USER_ADDED:wc(function(e){return async(t,n)=>{const s=n(),r=Ie(s),o=Dt(s);r.ExperimentalTimezone;const i=St(s);i===e.broadcast.channel_id&&(t(Yt(i)),t({type:Le.RECEIVED_PROFILE_IN_CHANNEL,data:{id:e.broadcast.channel_id,user_id:e.data.user_id}}));const a=ne(n()),l=ce(n());a===e.data.team_id&&l===e.data.user_id&&t(kc(e.broadcast.channel_id)),"true"===o.Cloud&&jt(n())&&t(nc())}}(e));break;case Ct.USER_REMOVED:!async function(e){const t=xc(),n=Ye(t)||{},s=on(t),r=Ie(t);if(Dt(t),r.ExperimentalTimezone,e.broadcast.user_id===s.id){wc((async(e,t)=>{const n=t(),s=se(n);await e(le(ne(n)));for(const r of s){const t=ee(n,r);t&&t.type===re.DM_CHANNEL?e(oe(t.id)):t&&t.type===re.GM_CHANNEL&&e(ie(t.id))}ae()}));const r=pn(t);if(e.data.channel_id===r&&wc(hn()),e.data.channel_id===n.id)if(e.data.remover_id===e.broadcast.user_id)et.push(Qe(t)),await wc({type:Wt.LEAVE_CHANNEL,data:{id:e.data.channel_id,user_id:e.broadcast.user_id}});else{fn(t,e.data.remover_id)||wc(mn(e.data.remover_id)),console.info("handleUserRemovedEvent"),await wc({type:Wt.LEAVE_CHANNEL,data:{id:e.data.channel_id,user_id:e.broadcast.user_id}}),Jc()}an(s)&&wc(tc())}else e.broadcast.channel_id===n.id&&(wc(Yt(n.id)),wc({type:Le.RECEIVED_PROFILE_NOT_IN_CHANNEL,data:{id:e.broadcast.channel_id,user_id:e.data.user_id}}));if(e.broadcast.user_id!==s.id){const n=ee(t,e.broadcast.channel_id),r=cn(t),o=Object.values(r).some((t=>t[e.data.user_id]));if(n&&an(s)&&!o){const t=[{type:Le.PROFILE_NO_LONGER_VISIBLE,data:{user_id:e.data.user_id}},{type:lt.REMOVE_MEMBER_FROM_TEAM,data:{team_id:n.team_id,user_id:e.data.user_id}}];wc(d(t))}}const o=e.broadcast.channel_id||e.data.channel_id,i=e.broadcast.user_id||e.data.user_id,a=ee(t,o);!a||gn(t,{permission:vn.VIEW_MEMBERS})||yn(t,{permission:vn.VIEW_MEMBERS,team:a.team_id})||wc(d([{type:Le.RECEIVED_PROFILE_NOT_IN_TEAM,data:{id:a.team_id,user_id:i}},{type:lt.REMOVE_MEMBER_FROM_TEAM,data:{team_id:a.team_id,user_id:i}}]))}(e);break;case Ct.USER_UPDATED:!async function(e){const t=xc(),n=on(t),s=e.data.user,r=Ie(t),o=Dt(t),i=an(s),a="true"===r.ExperimentalTimezone,l="true"===(null==o?void 0:o.IsLicensed)&&"true"===(null==o?void 0:o.LDAPGroups);if(console.info("userIsGuest",i),i||a&&l){let e=bn(t);const n=St(t);let r=e&&e[s.id];if(!n)return;r||(await wc(_n(n,s.id)),e=bn(xc()),r=e&&e[s.id]),r&&an(s)&&wc(Yt(n))}n.id===s.id?s.update_at>n.update_at&&wn(s.id)(wc,xc):wc({type:Le.RECEIVED_PROFILE,data:s})}(e);break;case Ct.ROLE_ADDED:!function(e){const t=JSON.parse(e.data.role);wc({type:xn.RECEIVED_ROLE,data:t})}(e);break;case Ct.ROLE_REMOVED:!function(e){const t=JSON.parse(e.data.role);wc({type:xn.ROLE_DELETED,data:t})}(e);break;case Ct.CHANNEL_SCHEME_UPDATED:!function(e){wc(Cn(e.broadcast.channel_id))}(e);break;case Ct.MEMBERROLE_UPDATED:!function(e){const t=JSON.parse(e.data.member),n=t.roles.split(" ");wc(Kt(n)),wc({type:lt.RECEIVED_MY_TEAM_MEMBER,data:t})}(e);break;case Ct.ROLE_UPDATED:!function(e){const t=JSON.parse(e.data.role);wc({type:xn.RECEIVED_ROLE,data:t})}(e);break;case Ct.CHANNEL_CREATED:wc(function(e){return async(t,n)=>{const s=e.data.channel_id,r=e.data.team_id,o=n();if(ne(o)===r){let e=ee(o,s);e||(await t(zt(s)),e=ee(n(),s)),t(Vt(e,!1))}}}(e));break;case Ct.CHANNEL_DELETED:!function(e){const t=xc(),n="true"===Ie(t).ExperimentalViewArchivedChannels;if(St(t)===e.data.channel_id&&!n){const e=Qe(t),n=ne(t),s=Xe(t,n);et.push(e+"/group/"+s)}wc({type:Wt.RECEIVED_CHANNEL_DELETED,data:{id:e.data.channel_id,team_id:e.broadcast.team_id,deleteAt:e.data.delete_at,viewArchivedChannels:n}})}(e);break;case Ct.CHANNEL_UNARCHIVED:!function(e){const t=xc(),n="true"===Ie(t).ExperimentalViewArchivedChannels;wc({type:Wt.RECEIVED_CHANNEL_UNARCHIVED,data:{id:e.data.channel_id,team_id:e.broadcast.team_id,viewArchivedChannels:n}})}(e);break;case Ct.CHANNEL_CONVERTED:!function(e){const t=e.data.channel_id;if(t){const e=ee(xc(),t);e&&wc({type:Wt.RECEIVED_CHANNEL,data:l(a({},e),{type:qe.PRIVATE_CHANNEL})})}}(e);break;case Ct.CHANNEL_UPDATED:wc(function(e){return(t,n)=>{const s=JSON.parse(e.data.channel);t({type:Wt.RECEIVED_CHANNEL,data:s});const r=n();s.id===St(r)&&et.replace(`${Qe(r)}/group/${s.name}`)}}(e));break;case Ct.CHANNEL_MEMBER_UPDATED:!function(e){const t=JSON.parse(e.data.channelMember),n=t.roles.split(" ");wc(Kt(n)),wc({type:Wt.RECEIVED_MY_CHANNEL_MEMBER,data:t})}(e);break;case Ct.DIRECT_ADDED:case Ct.GROUP_ADDED:wc(function(e){return kc(e.broadcast.channel_id)}(e));break;case Ct.PREFERENCE_CHANGED:!function(e){const t=JSON.parse(e.data.preference);wc({type:fe.RECEIVED_PREFERENCES,data:[t]}),Rc(t)&&ae()}(e);break;case Ct.PREFERENCES_CHANGED:!function(e){const t=JSON.parse(e.data.preferences);wc({type:fe.RECEIVED_PREFERENCES,data:t}),-1!==t.findIndex(Rc)&&ae()}(e);break;case Ct.PREFERENCES_DELETED:!function(e){const t=JSON.parse(e.data.preferences);wc({type:fe.DELETED_PREFERENCES,data:t})}(e);break;case Ct.TYPING:wc(function(e){return async(t,n)=>{const s=n(),r=Ie(s),o=ce(s),i=e.data.user_id,a={id:e.broadcast.channel_id+e.data.parent_id,userId:i,now:Date.now()};if(t({type:Ht.TYPING,data:a}),setTimeout((()=>{t({type:Ht.STOP_TYPING,data:a})}),parseInt(r.TimeBetweenUserTypingUpdatesMilliseconds,10)),i!==o){const e=await t(Bt([i]));if(e.data&&e.data.length>0)return}qt(s,i)!==qe.ONLINE&&t(Gt([i]))}}(e));break;case Ct.STATUS_CHANGED:!function(e){wc({type:Le.RECEIVED_STATUSES,data:[{user_id:e.data.user_id,status:e.data.status}]})}(e);break;case Ct.HELLO:!function(e){En(e.data.server_version)(wc,xc)}(e);break;case Ct.REACTION_ADDED:!function(e){const t=JSON.parse(e.data.reaction);wc(Sn(t.emoji_name)),wc({type:Tn.RECEIVED_REACTION,data:t})}(e);break;case Ct.REACTION_REMOVED:!function(e){const t=JSON.parse(e.data.reaction);wc({type:Tn.REACTION_DELETED,data:t})}(e);break;case Ct.EMOJI_ADDED:!function(e){const t=JSON.parse(e.data.emoji);wc({type:An.RECEIVED_CUSTOM_EMOJI,data:t})}(e);break;case Ct.CHANNEL_VIEWED:!function(e){window.isActive&&St(xc())===e.data.channel_id||ce(xc())!==e.broadcast.user_id||wc(Pn(e.data.channel_id,"",!1))}(e);break;case Ct.PLUGIN_ENABLED:case Ct.PLUGIN_DISABLED:!function(e){e.data.manifest}(e);break;case Ct.USER_ROLE_UPDATED:!function(e){const t=xt.getState().entities.users.profiles[e.data.user_id];if(t){const n=e.data.roles,s=n.split(" "),r=t.roles.includes(re.PERMISSIONS_SYSTEM_ADMIN)&&!n.includes(re.PERMISSIONS_SYSTEM_ADMIN);xt.dispatch({type:Le.RECEIVED_PROFILE,data:l(a({},t),{roles:n})}),wc(Kt(s)),r&&global.location.pathname.startsWith("/admin_console")&&Jc()}}(e);break;case Ct.CONFIG_CHANGED:!function(e){xt.dispatch({type:Et.CLIENT_CONFIG_RECEIVED,data:e.data.config})}(e);break;case Ct.LICENSE_CHANGED:!function(e){xt.dispatch({type:Et.CLIENT_LICENSE_RECEIVED,data:e.data.license})}(e);break;case Ct.PLUGIN_STATUSES_CHANGED:!function(e){xt.dispatch({type:je.RECEIVED_PLUGIN_STATUSES,data:e.data.plugin_statuses})}(e);break;case Ct.OPEN_DIALOG:!function(e){const t=e.data&&e.data.dialog||{},n=JSON.parse(t);xt.dispatch({type:In.RECEIVED_DIALOG,data:n});const s=xc().entities.integrations.dialogTriggerId;if(n.trigger_id!==s)return;console.info("handleOpenDialogEvent",e)}(e);break;case Ct.RECEIVED_GROUP:!function(e){const t=JSON.parse(e.data.group);wc(d([{type:Nn.RECEIVED_GROUP,data:t},{type:Nn.RECEIVED_MY_GROUPS,data:[t]}]))}(e);break;case Ct.RECEIVED_GROUP_ASSOCIATED_TO_TEAM:!function(e){xt.dispatch({type:Nn.RECEIVED_GROUP_ASSOCIATED_TO_TEAM,data:{teamID:e.broadcast.team_id,groups:[{id:e.data.group_id}]}})}(e);break;case Ct.RECEIVED_GROUP_NOT_ASSOCIATED_TO_TEAM:!function(e){xt.dispatch({type:Nn.RECEIVED_GROUP_NOT_ASSOCIATED_TO_TEAM,data:{teamID:e.broadcast.team_id,groups:[{id:e.data.group_id}]}})}(e);break;case Ct.RECEIVED_GROUP_ASSOCIATED_TO_CHANNEL:!function(e){xt.dispatch({type:Nn.RECEIVED_GROUP_ASSOCIATED_TO_CHANNEL,data:{channelID:e.broadcast.channel_id,groups:[{id:e.data.group_id}]}})}(e);break;case Ct.RECEIVED_GROUP_NOT_ASSOCIATED_TO_CHANNEL:!function(e){xt.dispatch({type:Nn.RECEIVED_GROUP_NOT_ASSOCIATED_TO_CHANNEL,data:{channelID:e.broadcast.channel_id,groups:[{id:e.data.group_id}]}})}(e);break;case Ct.WARN_METRIC_STATUS_RECEIVED:!function(e){var t=JSON.parse(e.data.warnMetricStatus);let n;t.id===kn.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?n=It.WARN_METRIC_STATUS_NUMBER_OF_USERS:t.id===kn.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(n=It.WARN_METRIC_STATUS_NUMBER_OF_POSTS);xt.dispatch(d([{type:Et.WARN_METRIC_STATUS_RECEIVED,data:t},{type:Ee.SHOW_NOTICE,data:[n]}]))}(e);break;case Ct.WARN_METRIC_STATUS_REMOVED:!function(e){xt.dispatch({type:Et.WARN_METRIC_STATUS_REMOVED,data:{id:e.data.warnMetricId}})}(e);break;case Ct.SIDEBAR_CATEGORY_CREATED:wc(function(e){return(t,n)=>{const s=n();e.broadcast.team_id===ne(s)&&t(Ut(e.broadcast.team_id))}}(e));break;case Ct.SIDEBAR_CATEGORY_UPDATED:wc(function(e){return(t,n)=>{const s=n();e.broadcast.team_id===ne(s)&&t(Ut(e.broadcast.team_id))}}(e));break;case Ct.SIDEBAR_CATEGORY_DELETED:wc(function(e){return(t,n)=>{const s=n();e.broadcast.team_id===ne(s)&&t(Ut(e.broadcast.team_id))}}(e));break;case Ct.SIDEBAR_CATEGORY_ORDER_UPDATED:wc(function(e){return Ft(e.broadcast.team_id,e.data.order)}(e));break;case Ct.USER_ACTIVATION_STATUS_CHANGED:wc(((e,t)=>{const n=t();"true"===Dt(n).Cloud&&(jt(n)&&e(nc()),e(Ne({clientFunc:Ce.getSubscriptionStats,onSuccess:Re.RECEIVED_CLOUD_SUBSCRIPTION_STATS})))}));break;case Ct.CLOUD_PAYMENT_STATUS_UPDATED:wc((e=>e(Ne({clientFunc:Ce.getSubscription,onSuccess:[Re.RECEIVED_CLOUD_SUBSCRIPTION]}))));break;case Ct.FIRST_ADMIN_VISIT_MARKETPLACE_STATUS_RECEIVED:!function(e){const t=JSON.parse(e.data.firstAdminVisitMarketplaceStatus);xt.dispatch({type:Et.FIRST_ADMIN_VISIT_MARKETPLACE_STATUS_RECEIVED,data:t})}(e);break;case Ct.THREAD_FOLLOW_CHANGED:wc(function(e){return async(t,n)=>{const s=n();!Mt(s,e.data.thread_id)&&e.data.state&&await t(Ot(ce(s),ne(s),e.data.thread_id,!0)),Lt(t,e.data.thread_id,e.broadcast.team_id,e.data.state)}}(e));break;case Ct.THREAD_READ_CHANGED:wc(function(e){return(t,n)=>{var s;if(e.data.thread_id){const r=null==(s=n().entities.threads.threads)?void 0:s[e.data.thread_id];r&&kt(t,e.data.thread_id,e.broadcast.team_id,e.data.channel_id,{lastViewedAt:e.data.timestamp,prevUnreadMentions:r.unread_mentions,newUnreadMentions:e.data.unread_mentions,prevUnreadReplies:r.unread_replies,newUnreadReplies:e.data.unread_replies})}else Rt(t,e.broadcast.team_id)}}(e));break;case Ct.THREAD_UPDATED:wc(function(e){return(t,n)=>{try{const s=JSON.parse(e.data.thread);Nt(t,n,s,e.broadcast.team_id)}catch{}}}(e));break;case Ct.CONTACT_CHANGED:!function(e){const t=e.data.contact;"created"===e.data.event?wc({type:Rn.NEW_CONTACT,data:t}):wc({type:Rn.RECEIVED_PROFILE,data:t})}(e);break;case Ct.APPS_FRAMEWORK_REFRESH_BINDINGS:wc(Mc())}Object.values(Cc).forEach((t=>{t&&t.hasOwnProperty(e.event)&&"function"==typeof t[e.event]&&t[e.event](e)}))}const Nc=function(e){let t,n=[],s=0;const r=()=>{t=null,n.length>0&&wc(function(e){return(t,n)=>{const s=e.map((e=>JSON.parse(e.data.post))),r=Mn(n()),o=s.map((e=>On(e,r)));t(d(o)),t(Ln(s)),Jt(s,t,n)}}(n)),n=[],s=0};return function(o){t&&s>4?(n.push(o)>200&&(n=[],console.log("channel broken because of too many incoming messages")),clearTimeout(t),t=setTimeout(r,e)):(s+=1,wc(function(e){return(t,n)=>{const s=JSON.parse(e.data.post);t($t(s,e)),Jt([s],t,n),s.user_id!==ce(n())&&!Xt(n(),s.user_id)&&e.data.set_online&&t({type:Le.RECEIVED_STATUSES,data:[{user_id:s.user_id,status:Qt.ONLINE}]})}}(o)),clearTimeout(t),t=setTimeout(r,e))}}(100);function kc(e){return async t=>{const{data:n,error:s}=await t(zt(e));s||t(Vt(n.channel))}}function Rc(e){return e.category===re.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW&&"true"===e.value}function Mc(){return(e,t)=>{const n=t();return Zl(n)&&e(ec(ce(n),St(n))),{data:!0}}}function Oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lc=function(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;(o=new Error(t.replace(/%s/g,(function(){return String(s[i++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}},Dc=function(){function e(){Oc(this,"_callbacks",void 0),Oc(this,"_isDispatching",void 0),Oc(this,"_isHandled",void 0),Oc(this,"_isPending",void 0),Oc(this,"_lastID",void 0),Oc(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var t=e.prototype;return t.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},t.unregister=function(e){this._callbacks[e]||Lc(!1),delete this._callbacks[e]},t.waitFor=function(e){this._isDispatching||Lc(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||Lc(!1):(this._callbacks[n]||Lc(!1),this._invokeCallback(n))}},t.dispatch=function(e){this._isDispatching&&Lc(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},t.isDispatching=function(){return this._isDispatching},t._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},t._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},t._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}(),jc=Dc;const Fc=re.PayloadSources,Uc=Object.assign(new jc,{handleServerAction:function(e){e.type||console.warn("handleServerAction called with undefined action type");var t={source:Fc.SERVER_ACTION,action:e};this.dispatch(t)},handleViewAction:function(e){e.type||console.warn("handleViewAction called with undefined action type");var t={source:Fc.VIEW_ACTION,action:e};this.dispatch(t)}}),Hc=xt.dispatch,Bc=xt.getState;const qc=new class{constructor(){u(this,"hasCheckedLocalStorage"),u(this,"localStorageSupported")}setItem(e,t){Hc(Dn(e,t))}getItem(e,t){return jn(e,t)(Bc())}removeItem(e){Hc(Fn(e))}setGlobalItem(e,t){Hc(Un(e,t))}getGlobalItem(e,t=null){return Hn(e,t)(Bc())}removeGlobalItem(e){Hc(Bn(e))}signalLogout(){if(this.isLocalStorageSupported()){const e=qn();Gn(zn.ANNOUNCEMENT),sessionStorage.setItem(zn.LOGOUT,e),localStorage.setItem(zn.LOGOUT,e),localStorage.removeItem(zn.LOGOUT)}}isSignallingLogout(e){return e===sessionStorage.getItem(zn.LOGOUT)}signalLogin(){if(this.isLocalStorageSupported()){const e=qn();sessionStorage.setItem(zn.LOGIN,e),localStorage.setItem(zn.LOGIN,e),localStorage.removeItem(zn.LOGIN)}}isSignallingLogin(e){return e===sessionStorage.getItem(zn.LOGIN)}clear(e){Hc(Vn(e))}isLocalStorageSupported(){if(this.hasCheckedLocalStorage)return this.localStorageSupported;this.localStorageSupported=!1;try{localStorage.setItem("__testLocal__","1"),"1"===localStorage.getItem("__testLocal__")&&(this.localStorageSupported=!0),localStorage.removeItem("__testLocal__")}catch(e){this.localStorageSupported=!1}try{sessionStorage.setItem("__testSession__","1"),sessionStorage.removeItem("__testSession__")}catch(e){et.push("/error?type="+Wn.LOCAL_STORAGE)}return this.hasCheckedLocalStorage=!0,this.localStorageSupported}hasSeenLandingPage(){return localStorage.getItem(zn.LANDING_PAGE_SEEN)}setLandingPageSeen(e){localStorage.setItem(zn.LANDING_PAGE_SEEN,String(e))}getLandingPreference(e){return localStorage.getItem(zn.LANDING_PREFERENCE+String(e))}setLandingPreferenceToMattermostApp(e){localStorage.setItem(zn.LANDING_PREFERENCE+String(e),Yn.MATTERMOSTAPP)}setLandingPreferenceToBrowser(e){localStorage.setItem(zn.LANDING_PREFERENCE+String(e),Yn.BROWSER)}clearLandingPreference(e){localStorage.removeItem(zn.LANDING_PREFERENCE+String(e))}};const Gc=xt.dispatch,zc=xt.getState;function Vc(e,t=Date.now()){return{type:Ee.UPDATE_CHANNEL_LAST_VIEWED_AT,channel_id:e,last_viewed_at:t}}let Wc=0;function Yc(e,t){return Gc((async(n,s)=>{const r=s(),o=Ie(r),i=Date.now(),a=Kn(r),l=a?a.member_count:0,c=$n(o.TimeBetweenUserTypingUpdatesMilliseconds),u=$n(o.MaxNotificationsPerChannel);return i-Wc>c&&l<u&&"true"===o.EnableUserTypingMessages&&(_c.userTyping(e,t),Wc=i),{data:!0}}))}function Kc(e="#/",t=!0,n=!0,s){n&&we.setWasLoggedIn(!1),0!==e.indexOf("#")&&(e=`#${e}`),Gc(Jn()).then((()=>{t&&qc.signalLogout(),qc.clear(),Xn(),Sc(),Qn(),(s||et).push(e)})).catch((()=>{(s||et).push(e)}))}function $c(e){Gc({type:Ee.BROWSER_CHANGE_FOCUS,focus:e})}async function Jc(e){let t=zc(),n=on(t);if((Zn(es(t))||!n)&&(await Gc(xe("")),t=zc(),n=on(t)),!n)return;const s=ts(t),r=we.getPreviousTeamId(n.id);let o,i=un(t);if(0!==i.length)if(r&&(o=ln(t,r)),o&&0===o.delete_at)Xc(e||et,`/${o.name}`,!e);else{i=function(e,t,n=""){if(!e)return[];const s=n.split(","),r=e.filter((e=>null!==e&&s.includes(e.id))).sort(((e,t)=>s.indexOf(e.id)-s.indexOf(t.id))),o=e.filter((e=>null!==e&&!s.includes(e.id))).sort(((e,n)=>function(e,t,n){return null!==t.display_name&&t.display_name!==n.display_name?t.display_name.localeCompare(n.display_name,e,{numeric:!0}):t.name.localeCompare(n.name,e,{numeric:!0})}(t,e,n)));return[...r,...o].filter((e=>e&&!e.delete_at>0&&null!=e.display_name))}(i,s);for(const t of i)return void Xc(e||et,`/${t.name}`,!e);Xc(e||et,"/pick-team",!e)}else Xc(e||et,"/join",!e)}function Xc(e,t,n){t=n?`#u3-app${t}`:t,e.replace(t)}const Qc=h.createContext({setTitle:()=>{},selectDot:()=>{}}),Zc=Qc.Provider;var eu=e=>m("svg",{"aria-hidden":"true",focusable:"false",className:e.className,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:m("path",{fill:"currentColor",d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"})});class tu extends h.PureComponent{constructor(){super(...arguments),u(this,"handleLocaleChange",(e=>{Ce.setAcceptLanguage(e),this.loadTranslationsIfNecessary(e)})),u(this,"loadTranslationsIfNecessary",(e=>{const{translations:t,actions:n}=this.props;if(t)return;const s=cs(e);s&&n.loadTranslations(e,s.url)}))}componentDidMount(){ls(),us(ds),this.handleLocaleChange(this.props.locale)}componentDidUpdate(e){e.locale!==this.props.locale&&this.handleLocaleChange(this.props.locale)}render(){const{locale:e,translations:t,children:n}=this.props;return t?m(g,{locale:e,messages:t,textComponent:"span",wrapRichTextChunksInFragment:!1,children:n},e):null}}var nu=v((function(e){const t=ts(e);return{locale:t,translations:ps(e,t)}}),(function(e){return{actions:y({loadTranslations:Yl},e)}}))(tu);function su(e){const{formatMessage:t}=b();return m("span",l(a({},e),{children:m("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.className,x:"0px",y:"0px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",role:"img",fill:"currentColor","aria-label":t({id:"generic_icons.gomlo",defaultMessage:"Gomlo Logo"}),children:_("g",{children:[m("path",{d:"M413.84 122.759C433.616 106.181 433.565 75.576 411.018 63.0267C376.991 44.0888 337.986 31.8955 296.975 27.6627C238.402 21.6172 179.099 32.157 128.492 57.6067C77.8856 83.0564 38.8794 121.956 17.6739 168.121C-3.53157 214.286 -5.7194 265.069 11.4582 312.396C28.6358 359.724 64.193 400.88 112.478 429.323C160.763 457.767 219.005 471.865 277.945 469.377C336.886 466.888 393.143 447.957 437.775 415.591C468.009 393.666 491.732 366.429 507.442 336.051C519.483 312.766 502.332 287.122 476.469 282.846V282.846C452.952 278.959 430.986 294.585 418.424 314.841C408.382 331.033 394.723 345.606 378.035 357.707C348.803 378.905 311.957 391.305 273.353 392.935C234.749 394.564 196.603 385.33 164.978 366.701C133.353 348.072 110.064 321.116 98.8134 290.118C87.5627 259.12 88.9956 225.86 102.884 195.623C116.773 165.386 142.321 139.909 175.467 123.24C208.612 106.572 247.454 99.6683 285.817 103.628C311.85 106.315 336.648 113.899 358.441 125.656C376.142 135.206 398.426 135.679 413.84 122.759V122.759Z",style:ru}),m("path",{style:ru,d:"M64.7395 393.165C64.8585 393.263 64.977 393.363 65.095 393.464C85.9559 411.246 83.1645 450.984 59.9564 486C106.088 475.852 167.616 469.657 235.184 469.657C245.142 469.657 254.969 469.792 264.635 470.054V396.357C257.318 398.835 249.092 400.226 240.398 400.226C226.274 400.226 213.388 396.555 203.621 390.517H114.703V393.165H64.7395Z"}),m("ellipse",{rx:"42.3825",ry:"44.0261",transform:"matrix(0.968445 0.249228 -0.229831 0.97323 468.384 215.272)",style:ru}),m("ellipse",{rx:"34.7662",ry:"36.1144",transform:"matrix(0.968445 0.249228 -0.229831 0.97323 365.788 240.744)",style:ru}),m("ellipse",{rx:"28.255",ry:"29.3508",transform:"matrix(0.968445 0.249228 -0.229831 0.97323 276.722 263.097)",style:ru})]})})}))}const ru={fillRule:"evenodd",clipRule:"evenodd"};var ou,iu,au,lu,cu=e=>m("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.className,viewBox:"0 0 20 20",fill:"currentColor",children:m("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),uu=e=>m("svg",{xmlns:"http://www.w3.org/2000/svg",className:e.className,viewBox:"0 0 20 20",fill:"currentColor",children:m("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})});function du(){return du=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},du.apply(this,arguments)}function pu(e,t){if(null==e)return{};var n,s,r={},o=Object.keys(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}function hu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function fu(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return hu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function mu(e,t){if(e in t){for(var n=t[e],s=arguments.length,r=new Array(s>2?s-2:0),o=2;o<s;o++)r[o-2]=arguments[o];return"function"==typeof n?n.apply(void 0,r):n}var i=new Error('Tried to handle "'+e+'" but there is no handler defined. Only defined handlers are: '+Object.keys(t).map((function(e){return'"'+e+'"'})).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(i,mu),i}function gu(e){var t=e.props,n=e.slot,s=e.defaultTag,r=e.features,o=e.visible,i=void 0===o||o,a=e.name;if(i)return vu(t,n,s,a);var l=null!=r?r:ou.None;if(l&ou.Static){var c=t.static,u=void 0!==c&&c,d=pu(t,["static"]);if(u)return vu(d,n,s,a)}if(l&ou.RenderStrategy){var p,h=t.unmount,f=void 0===h||h,m=pu(t,["unmount"]);return mu(f?au.Unmount:au.Hidden,((p={})[au.Unmount]=function(){return null},p[au.Hidden]=function(){return vu(du({},m,{hidden:!0,style:{display:"none"}}),n,s,a)},p))}return vu(t,n,s,a)}function vu(e,t,n,s){var r;void 0===t&&(t={});var o=bu(e,["unmount","static"]),i=o.as,a=void 0===i?n:i,l=o.children,c=o.refName,u=void 0===c?"ref":c,d=pu(o,["as","children","refName"]),p=void 0!==e.ref?((r={})[u]=e.ref,r):{},h="function"==typeof l?l(t):l;if(d.className&&"function"==typeof d.className&&(d.className=d.className(t)),a===f.exports.Fragment&&Object.keys(d).length>0){if(!f.exports.isValidElement(h)||Array.isArray(h)&&h.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <"+s+' /> is rendering a "Fragment".',"However we need to passthrough the following props:",Object.keys(d).map((function(e){return"  - "+e})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - "+e})).join("\n")].join("\n"));return f.exports.cloneElement(h,Object.assign({},function(e,t,n){for(var s,r=Object.assign({},e),o=function(){var n,o=s.value;void 0!==e[o]&&void 0!==t[o]&&Object.assign(r,((n={})[o]=function(n){n.defaultPrevented||e[o](n),n.defaultPrevented||t[o](n)},n))},i=fu(n);!(s=i()).done;)o();return r}(function(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}(bu(d,["ref"])),h.props,["onClick"]),p))}return f.exports.createElement(a,Object.assign({},bu(d,["ref"]),a!==f.exports.Fragment&&p),h)}function yu(e){var t;return Object.assign(f.exports.forwardRef(e),{displayName:null!=(t=e.displayName)?t:e.name})}function bu(e,t){void 0===t&&(t=[]);for(var n,s=Object.assign({},e),r=fu(t);!(n=r()).done;){var o=n.value;o in s&&delete s[o]}return s}(iu=ou||(ou={}))[iu.None=0]="None",iu[iu.RenderStrategy=1]="RenderStrategy",iu[iu.Static=2]="Static",(lu=au||(au={}))[lu.Unmount=0]="Unmount",lu[lu.Hidden=1]="Hidden";var _u="undefined"!=typeof window?f.exports.useLayoutEffect:f.exports.useEffect,wu={serverHandoffComplete:!1};function xu(){var e=f.exports.useState(wu.serverHandoffComplete),t=e[0],n=e[1];return f.exports.useEffect((function(){!0!==t&&n(!0)}),[t]),f.exports.useEffect((function(){!1===wu.serverHandoffComplete&&(wu.serverHandoffComplete=!0)}),[]),t}var Cu=f.exports.createContext(!1);function Eu(e){return m(Cu.Provider,{value:e.force,children:e.children})}function Su(){var e=f.exports.useContext(Cu),t=f.exports.useContext(ku),n=f.exports.useState((function(){if(!e&&null!==t)return null;if("undefined"==typeof window)return null;var n=document.getElementById("headlessui-portal-root");if(n)return n;var s=document.createElement("div");return s.setAttribute("id","headlessui-portal-root"),document.body.appendChild(s)})),s=n[0],r=n[1];return f.exports.useEffect((function(){e||null!==t&&r(t.current)}),[t,r,e]),s}var Tu=f.exports.Fragment;function Au(e){var t=e,n=Su(),s=f.exports.useState((function(){return"undefined"==typeof window?null:document.createElement("div")}))[0],r=xu();return _u((function(){if(n&&s)return n.appendChild(s),function(){var e;n&&(s&&(n.removeChild(s),n.childNodes.length<=0&&(null==(e=n.parentElement)||e.removeChild(n))))}}),[n,s]),r&&n&&s?w.exports.createPortal(gu({props:t,defaultTag:Tu,name:"Portal"}),s):null}var Pu,Iu,Nu=f.exports.Fragment,ku=f.exports.createContext(null);function Ru(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=f.exports.useRef(t);return f.exports.useEffect((function(){s.current=t}),[t]),f.exports.useCallback((function(e){for(var t,n=fu(s.current);!(t=n()).done;){var r=t.value;null!=r&&("function"==typeof r?r(e):r.current=e)}}),[s])}function Mu(e){for(var t,n,s=e.parentElement,r=null;s&&!(s instanceof HTMLFieldSetElement);)s instanceof HTMLLegendElement&&(r=s),s=s.parentElement;var o=null!=(t=""===(null==(n=s)?void 0:n.getAttribute("disabled")))&&t;return(!o||!function(e){if(!e)return!1;var t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(r))&&o}Au.Group=function(e){var t=e.target,n=pu(e,["target"]);return m(ku.Provider,{value:t,children:gu({props:n,defaultTag:Nu,name:"Popover.Group"})})},(Iu=Pu||(Pu={})).Space=" ",Iu.Enter="Enter",Iu.Escape="Escape",Iu.Backspace="Backspace",Iu.ArrowLeft="ArrowLeft",Iu.ArrowUp="ArrowUp",Iu.ArrowRight="ArrowRight",Iu.ArrowDown="ArrowDown",Iu.Home="Home",Iu.End="End",Iu.PageUp="PageUp",Iu.PageDown="PageDown",Iu.Tab="Tab";var Ou=0;function Lu(){return++Ou}function Du(){var e=xu(),t=f.exports.useState(e?Lu:null),n=t[0],s=t[1];return _u((function(){null===n&&s(Lu())}),[n]),null!=n?""+n:void 0}function ju(e,t,n){var s=f.exports.useRef(t);s.current=t,f.exports.useEffect((function(){function t(e){s.current.call(window,e)}return window.addEventListener(e,t,n),function(){return window.removeEventListener(e,t,n)}}),[e,n])}var Fu,Uu,Hu,Bu,qu,Gu,zu,Vu,Wu,Yu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return e+":not([tabindex='-1'])"})).join(",");function Ku(e){null==e||e.focus({preventScroll:!0})}function $u(e,t){var n=Array.isArray(e)?e:function(e){return void 0===e&&(e=document.body),null==e?[]:Array.from(e.querySelectorAll(Yu))}(e),s=document.activeElement,r=function(){if(t&(Fu.First|Fu.Next))return qu.Next;if(t&(Fu.Previous|Fu.Last))return qu.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),o=function(){if(t&Fu.First)return 0;if(t&Fu.Previous)return Math.max(0,n.indexOf(s))-1;if(t&Fu.Next)return Math.max(0,n.indexOf(s))+1;if(t&Fu.Last)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),i=t&Fu.NoScroll?{preventScroll:!0}:{},a=0,l=n.length,c=void 0;do{var u;if(a>=l||a+l<=0)return Hu.Error;var d=o+a;if(t&Fu.WrapAround)d=(d+l)%l;else{if(d<0)return Hu.Underflow;if(d>=l)return Hu.Overflow}null==(u=c=n[d])||u.focus(i),a+=r}while(c!==document.activeElement);return c.hasAttribute("tabindex")||c.setAttribute("tabindex","0"),Hu.Success}function Ju(){var e=f.exports.useRef(!1);return f.exports.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e}function Xu(e,t,n){void 0===t&&(t=Wu.All);var s=void 0===n?{}:n,r=s.initialFocus,o=s.containers,i=f.exports.useRef("undefined"!=typeof window?document.activeElement:null),a=f.exports.useRef(null),l=Ju(),c=Boolean(t&Wu.RestoreFocus),u=Boolean(t&Wu.InitialFocus);f.exports.useEffect((function(){c&&(i.current=document.activeElement)}),[c]),f.exports.useEffect((function(){if(c)return function(){Ku(i.current),i.current=null}}),[c]),f.exports.useEffect((function(){if(u&&e.current){var t=document.activeElement;if(null==r?void 0:r.current){if((null==r?void 0:r.current)===t)return void(a.current=t)}else if(e.current.contains(t))return void(a.current=t);(null==r?void 0:r.current)?Ku(r.current):$u(e.current,Fu.First)===Hu.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=document.activeElement}}),[e,r,u]),ju("keydown",(function(n){t&Wu.TabLock&&e.current&&n.key===Pu.Tab&&(n.preventDefault(),$u(e.current,(n.shiftKey?Fu.Previous:Fu.Next)|Fu.WrapAround)===Hu.Success&&(a.current=document.activeElement))})),ju("focus",(function(n){if(t&Wu.FocusLock){var s=new Set(null==o?void 0:o.current);if(s.add(e),s.size){var r=a.current;if(r&&l.current){var i=n.target;i&&i instanceof HTMLElement?!function(e,t){for(var n,s=fu(e);!(n=s()).done;){var r;if(null==(r=n.value.current)?void 0:r.contains(t))return!0}return!1}(s,i)?(n.preventDefault(),n.stopPropagation(),Ku(r)):(a.current=i,Ku(i)):Ku(a.current)}}}}),!0)}(Uu=Fu||(Fu={}))[Uu.First=1]="First",Uu[Uu.Previous=2]="Previous",Uu[Uu.Next=4]="Next",Uu[Uu.Last=8]="Last",Uu[Uu.WrapAround=16]="WrapAround",Uu[Uu.NoScroll=32]="NoScroll",(Bu=Hu||(Hu={}))[Bu.Error=0]="Error",Bu[Bu.Overflow=1]="Overflow",Bu[Bu.Success=2]="Success",Bu[Bu.Underflow=3]="Underflow",(Gu=qu||(qu={}))[Gu.Previous=-1]="Previous",Gu[Gu.Next=1]="Next",(Vu=zu||(zu={}))[Vu.Strict=0]="Strict",Vu[Vu.Loose=1]="Loose",function(e){e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All"}(Wu||(Wu={}));var Qu=new Set,Zu=new Map;function ed(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function td(e){var t=Zu.get(e);t&&(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var nd=f.exports.createContext(null);function sd(){var e=f.exports.useContext(nd);if(null===e){var t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,sd),t}return e}var rd,od,id=f.exports.createContext(null);function ad(){return f.exports.useContext(id)}function ld(e){var t=e.value,n=e.children;return m(id.Provider,{value:t,children:n})}id.displayName="OpenClosedContext",(od=rd||(rd={}))[od.Open=0]="Open",od[od.Closed=1]="Closed";var cd,ud,dd,pd,hd,fd,md,gd=f.exports.createContext((function(){}));function vd(e){var t=e.children,n=e.onUpdate,s=e.type,r=e.element,o=f.exports.useContext(gd),i=f.exports.useCallback((function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];null==n||n.apply(void 0,t),o.apply(void 0,t)}),[o,n]);return _u((function(){return i(cd.Add,s,r),function(){return i(cd.Remove,s,r)}}),[i,s,r]),m(gd.Provider,{value:i,children:t})}gd.displayName="StackContext",(ud=cd||(cd={}))[ud.Add=0]="Add",ud[ud.Remove=1]="Remove",(hd=pd||(pd={}))[hd.Open=0]="Open",hd[hd.Closed=1]="Closed",(md=fd||(fd={}))[md.SetTitleId=0]="SetTitleId";var yd=((dd={})[fd.SetTitleId]=function(e,t){return e.titleId===t.id?e:du({},e,{titleId:t.id})},dd),bd=f.exports.createContext(null);function _d(e){var t=f.exports.useContext(bd);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+Nd.displayName+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,_d),n}return t}function wd(e,t){return mu(t.type,yd,e,t)}bd.displayName="DialogContext";var xd=ou.RenderStrategy|ou.Static,Cd=yu((function(e,t){var n,s=e.open,r=e.onClose,o=e.initialFocus,i=pu(e,["open","onClose","initialFocus"]),a=f.exports.useState(0),l=a[0],c=a[1],u=ad();void 0===s&&null!==u&&(s=mu(u,((n={})[rd.Open]=!0,n[rd.Closed]=!1,n)));var d=f.exports.useRef(new Set),p=f.exports.useRef(null),h=Ru(p,t),g=e.hasOwnProperty("open")||null!==u,v=e.hasOwnProperty("onClose");if(!g&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!g)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof s)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: "+s);if("function"!=typeof r)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: "+r);var y=s?pd.Open:pd.Closed,b=null!==u?u===rd.Open:y===pd.Open,_=f.exports.useReducer(wd,{titleId:null,descriptionId:null}),w=_[0],x=_[1],C=f.exports.useCallback((function(){return r(!1)}),[r]),E=f.exports.useCallback((function(e){return x({type:fd.SetTitleId,id:e})}),[x]),S=xu()&&y===pd.Open,T=l>1,A=null!==f.exports.useContext(bd);Xu(p,S?mu(T?"parent":"leaf",{parent:Wu.RestoreFocus,leaf:Wu.All}):Wu.None,{initialFocus:o,containers:d}),function(e,t){void 0===t&&(t=!0),_u((function(){if(t&&e.current){var n=e.current;Qu.add(n);for(var s,r=fu(Zu.keys());!(s=r()).done;){var o=s.value;o.contains(n)&&(td(o),Zu.delete(o))}return document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement){for(var t,n=fu(Qu);!(t=n()).done;){var s=t.value;if(e.contains(s))return}1===Qu.size&&(Zu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),ed(e))}})),function(){if(Qu.delete(n),Qu.size>0)document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement&&!Zu.has(e)){for(var t,n=fu(Qu);!(t=n()).done;){var s=t.value;if(e.contains(s))return}Zu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),ed(e)}}));else for(var e,t=fu(Zu.keys());!(e=t()).done;){var s=e.value;td(s),Zu.delete(s)}}}}),[t])}(p,!!T&&S),ju("mousedown",(function(e){var t,n=e.target;y===pd.Open&&(T||(null==(t=p.current)?void 0:t.contains(n))||C())})),ju("keydown",(function(e){e.key===Pu.Escape&&y===pd.Open&&(T||(e.preventDefault(),e.stopPropagation(),C()))})),f.exports.useEffect((function(){if(y===pd.Open&&!A){var e=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=n+"px",function(){document.documentElement.style.overflow=e,document.documentElement.style.paddingRight=t}}}),[y,A]),f.exports.useEffect((function(){if(y===pd.Open&&p.current){var e=new IntersectionObserver((function(e){for(var t,n=fu(e);!(t=n()).done;){var s=t.value;0===s.boundingClientRect.x&&0===s.boundingClientRect.y&&0===s.boundingClientRect.width&&0===s.boundingClientRect.height&&C()}}));return e.observe(p.current),function(){return e.disconnect()}}}),[y,p,C]);var P=function(){var e=f.exports.useState([]),t=e[0],n=e[1];return[t.length>0?t.join(" "):void 0,f.exports.useMemo((function(){return function(e){var t=f.exports.useCallback((function(e){return n((function(t){return[].concat(t,[e])})),function(){return n((function(t){var n=t.slice(),s=n.indexOf(e);return-1!==s&&n.splice(s,1),n}))}}),[]),s=f.exports.useMemo((function(){return{register:t,slot:e.slot,name:e.name,props:e.props}}),[t,e.slot,e.name,e.props]);return m(nd.Provider,{value:s,children:e.children})}}),[n])]}(),I=P[0],N=P[1],k="headlessui-dialog-"+Du(),R=f.exports.useMemo((function(){return[{dialogState:y,close:C,setTitleId:E},w]}),[y,w,C,E]),M=f.exports.useMemo((function(){return{open:y===pd.Open}}),[y]),O={ref:h,id:k,role:"dialog","aria-modal":y===pd.Open||void 0,"aria-labelledby":w.titleId,"aria-describedby":I,onClick:function(e){e.stopPropagation()}},L=i;return m(vd,{type:"Dialog",element:p,onUpdate:f.exports.useCallback((function(e,t,n){var s;"Dialog"===t&&mu(e,((s={})[cd.Add]=function(){d.current.add(n),c((function(e){return e+1}))},s[cd.Remove]=function(){d.current.add(n),c((function(e){return e-1}))},s))}),[]),children:m(Eu,{force:!0,children:m(Au,{children:m(bd.Provider,{value:R,children:m(Au.Group,{target:p,children:m(Eu,{force:!1,children:m(N,{slot:M,name:"Dialog.Description",children:gu({props:du({},L,O),slot:M,defaultTag:"div",features:xd,visible:b,name:"Dialog"})})})})})})})})})),Ed=yu((function e(t,n){var s=_d([Nd.displayName,e.name].join("."))[0],r=s.dialogState,o=s.close,i=Ru(n),a="headlessui-dialog-overlay-"+Du(),l=f.exports.useCallback((function(e){if(e.target===e.currentTarget){if(Mu(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),o()}}),[o]),c=f.exports.useMemo((function(){return{open:r===pd.Open}}),[r]);return gu({props:du({},t,{ref:i,id:a,"aria-hidden":!0,onClick:l}),slot:c,defaultTag:"div",name:"Dialog.Overlay"})}));var Sd,Td,Ad,Pd,Id,Nd=Object.assign(Cd,{Overlay:Ed,Title:function e(t){var n=_d([Nd.displayName,e.name].join("."))[0],s=n.dialogState,r=n.setTitleId,o="headlessui-dialog-title-"+Du();f.exports.useEffect((function(){return r(o),function(){return r(null)}}),[o,r]);var i=f.exports.useMemo((function(){return{open:s===pd.Open}}),[s]);return gu({props:du({},t,{id:o}),slot:i,defaultTag:"h2",name:"Dialog.Title"})},Description:function(e){var t=sd(),n="headlessui-description-"+Du();_u((function(){return t.register(n)}),[n,t.register]);var s=e,r=du({},t.props,{id:n});return gu({props:du({},s,r),slot:t.slot||{},defaultTag:"p",name:t.name||"Description"})}});function kd(e){var t;if(e.type)return e.type;var n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function Rd(e,t){var n=f.exports.useState((function(){return kd(e)})),s=n[0],r=n[1];return _u((function(){r(kd(e))}),[e.type,e.as]),_u((function(){s||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")}),[s,t]),s}function Md(){var e=[],t={requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);t.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.requestAnimationFrame((function(){t.requestAnimationFrame.apply(t,n)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);t.add((function(){return clearTimeout(e)}))})),add:function(t){e.push(t)},dispose:function(){for(var t,n=fu(e.splice(0));!(t=n()).done;){(0,t.value)()}}};return t}function Od(){var e=f.exports.useState(Md)[0];return f.exports.useEffect((function(){return function(){return e.dispose()}}),[e]),e}function Ld(e,t){var n=t.resolveItems();if(n.length<=0)return null;var s=t.resolveActiveIndex(),r=null!=s?s:-1,o=function(){switch(e.focus){case Sd.First:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case Sd.Previous:var s=n.slice().reverse().findIndex((function(e,n,s){return!(-1!==r&&s.length-n-1>=r)&&!t.resolveDisabled(e)}));return-1===s?s:n.length-1-s;case Sd.Next:return n.findIndex((function(e,n){return!(n<=r)&&!t.resolveDisabled(e)}));case Sd.Last:var o=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===o?o:n.length-1-o;case Sd.Specific:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case Sd.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===o?s:o}!function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(Sd||(Sd={})),(Pd=Ad||(Ad={}))[Pd.Open=0]="Open",Pd[Pd.Closed=1]="Closed",function(e){e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem"}(Id||(Id={}));var Dd=((Td={})[Id.CloseMenu]=function(e){return e.menuState===Ad.Closed?e:du({},e,{activeItemIndex:null,menuState:Ad.Closed})},Td[Id.OpenMenu]=function(e){return e.menuState===Ad.Open?e:du({},e,{menuState:Ad.Open})},Td[Id.GoToItem]=function(e,t){var n=Ld(t,{resolveItems:function(){return e.items},resolveActiveIndex:function(){return e.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeItemIndex===n?e:du({},e,{searchQuery:"",activeItemIndex:n})},Td[Id.Search]=function(e,t){var n=e.searchQuery+t.value.toLowerCase(),s=e.items.findIndex((function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled}));return-1===s||s===e.activeItemIndex?du({},e,{searchQuery:n}):du({},e,{searchQuery:n,activeItemIndex:s})},Td[Id.ClearSearch]=function(e){return""===e.searchQuery?e:du({},e,{searchQuery:""})},Td[Id.RegisterItem]=function(e,t){return du({},e,{items:[].concat(e.items,[{id:t.id,dataRef:t.dataRef}])})},Td[Id.UnregisterItem]=function(e,t){var n=e.items.slice(),s=null!==e.activeItemIndex?n[e.activeItemIndex]:null,r=n.findIndex((function(e){return e.id===t.id}));return-1!==r&&n.splice(r,1),du({},e,{items:n,activeItemIndex:r===e.activeItemIndex||null===s?null:n.indexOf(s)})},Td),jd=f.exports.createContext(null);function Fd(e){var t=f.exports.useContext(jd);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+Bd.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Fd),n}return t}function Ud(e,t){return mu(t.type,Dd,e,t)}jd.displayName="MenuContext";var Hd=f.exports.Fragment;function Bd(e){var t,n=f.exports.useReducer(Ud,{menuState:Ad.Closed,buttonRef:f.exports.createRef(),itemsRef:f.exports.createRef(),items:[],searchQuery:"",activeItemIndex:null}),s=n[0],r=s.menuState,o=s.itemsRef,i=s.buttonRef,a=n[1];ju("mousedown",(function(e){var t,n,s,l=e.target;r===Ad.Open&&((null==(t=i.current)?void 0:t.contains(l))||(null==(n=o.current)?void 0:n.contains(l))||(a({type:Id.CloseMenu}),function(e,t){var n;return void 0===t&&(t=zu.Strict),e!==document.body&&mu(t,((n={})[zu.Strict]=function(){return e.matches(Yu)},n[zu.Loose]=function(){for(var t=e;null!==t;){if(t.matches(Yu))return!0;t=t.parentElement}return!1},n))}(l,zu.Loose)||(e.preventDefault(),null==(s=i.current)||s.focus())))}));var l=f.exports.useMemo((function(){return{open:r===Ad.Open}}),[r]);return m(jd.Provider,{value:n,children:m(ld,{value:mu(r,(t={},t[Ad.Open]=rd.Open,t[Ad.Closed]=rd.Closed,t)),children:gu({props:e,slot:l,defaultTag:Hd,name:"Menu"})})})}var qd,Gd,zd=yu((function e(t,n){var s,r=Fd([Bd.name,e.name].join(".")),o=r[0],i=r[1],a=Ru(o.buttonRef,n),l="headlessui-menu-button-"+Du(),c=Od(),u=f.exports.useCallback((function(e){switch(e.key){case Pu.Space:case Pu.Enter:case Pu.ArrowDown:e.preventDefault(),e.stopPropagation(),i({type:Id.OpenMenu}),c.nextFrame((function(){return i({type:Id.GoToItem,focus:Sd.First})}));break;case Pu.ArrowUp:e.preventDefault(),e.stopPropagation(),i({type:Id.OpenMenu}),c.nextFrame((function(){return i({type:Id.GoToItem,focus:Sd.Last})}))}}),[i,c]),d=f.exports.useCallback((function(e){if(e.key===Pu.Space)e.preventDefault()}),[]),p=f.exports.useCallback((function(e){if(Mu(e.currentTarget))return e.preventDefault();t.disabled||(o.menuState===Ad.Open?(i({type:Id.CloseMenu}),c.nextFrame((function(){var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),e.stopPropagation(),i({type:Id.OpenMenu})))}),[i,c,o,t.disabled]),h=f.exports.useMemo((function(){return{open:o.menuState===Ad.Open}}),[o]);return gu({props:du({},t,{ref:a,id:l,type:Rd(t,o.buttonRef),"aria-haspopup":!0,"aria-controls":null==(s=o.itemsRef.current)?void 0:s.id,"aria-expanded":t.disabled?void 0:o.menuState===Ad.Open,onKeyDown:u,onKeyUp:d,onClick:p}),slot:h,defaultTag:"button",name:"Menu.Button"})})),Vd=ou.RenderStrategy|ou.Static,Wd=yu((function e(t,n){var s,r,o,i,a,l,c,u,d,p,h=Fd([Bd.name,e.name].join(".")),m=h[0],g=h[1],v=Ru(m.itemsRef,n),y="headlessui-menu-items-"+Du(),b=Od(),_=ad(),w=null!==_?_===rd.Open:m.menuState===Ad.Open;f.exports.useEffect((function(){var e=m.itemsRef.current;e&&m.menuState===Ad.Open&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[m.menuState,m.itemsRef]),o={container:m.itemsRef.current,enabled:m.menuState===Ad.Open,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}},i=o.container,a=o.accept,l=o.walk,c=o.enabled,u=void 0===c||c,d=f.exports.useRef(a),p=f.exports.useRef(l),f.exports.useEffect((function(){d.current=a,p.current=l}),[a,l]),_u((function(){if(i&&u)for(var e=d.current,t=p.current,n=Object.assign((function(t){return e(t)}),{acceptNode:e}),s=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,n,!1);s.nextNode();)t(s.currentNode)}),[i,u,d,p]);var x=f.exports.useCallback((function(e){switch(b.dispose(),e.key){case Pu.Space:if(""!==m.searchQuery)return e.preventDefault(),e.stopPropagation(),g({type:Id.Search,value:e.key});case Pu.Enter:if(e.preventDefault(),e.stopPropagation(),g({type:Id.CloseMenu}),null!==m.activeItemIndex){var t,n=m.items[m.activeItemIndex].id;null==(t=document.getElementById(n))||t.click()}Md().nextFrame((function(){var e;return null==(e=m.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case Pu.ArrowDown:return e.preventDefault(),e.stopPropagation(),g({type:Id.GoToItem,focus:Sd.Next});case Pu.ArrowUp:return e.preventDefault(),e.stopPropagation(),g({type:Id.GoToItem,focus:Sd.Previous});case Pu.Home:case Pu.PageUp:return e.preventDefault(),e.stopPropagation(),g({type:Id.GoToItem,focus:Sd.First});case Pu.End:case Pu.PageDown:return e.preventDefault(),e.stopPropagation(),g({type:Id.GoToItem,focus:Sd.Last});case Pu.Escape:e.preventDefault(),e.stopPropagation(),g({type:Id.CloseMenu}),Md().nextFrame((function(){var e;return null==(e=m.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case Pu.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(g({type:Id.Search,value:e.key}),b.setTimeout((function(){return g({type:Id.ClearSearch})}),350))}}),[g,b,m]),C=f.exports.useCallback((function(e){if(e.key===Pu.Space)e.preventDefault()}),[]),E=f.exports.useMemo((function(){return{open:m.menuState===Ad.Open}}),[m]);return gu({props:du({},t,{"aria-activedescendant":null===m.activeItemIndex||null==(s=m.items[m.activeItemIndex])?void 0:s.id,"aria-labelledby":null==(r=m.buttonRef.current)?void 0:r.id,id:y,onKeyDown:x,onKeyUp:C,role:"menu",tabIndex:0,ref:v}),slot:E,defaultTag:"div",features:Vd,visible:w,name:"Menu.Items"})})),Yd=f.exports.Fragment;Bd.Button=zd,Bd.Items=Wd,Bd.Item=function e(t){var n=t.disabled,s=void 0!==n&&n,r=t.onClick,o=pu(t,["disabled","onClick"]),i=Fd([Bd.name,e.name].join(".")),a=i[0],l=i[1],c="headlessui-menu-item-"+Du(),u=null!==a.activeItemIndex&&a.items[a.activeItemIndex].id===c;_u((function(){if(a.menuState===Ad.Open&&u){var e=Md();return e.nextFrame((function(){var e;return null==(e=document.getElementById(c))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})})),e.dispose}}),[c,u,a.menuState]);var d=f.exports.useRef({disabled:s});_u((function(){d.current.disabled=s}),[d,s]),_u((function(){var e,t;d.current.textValue=null==(e=document.getElementById(c))||null==(t=e.textContent)?void 0:t.toLowerCase()}),[d,c]),_u((function(){return l({type:Id.RegisterItem,id:c,dataRef:d}),function(){return l({type:Id.UnregisterItem,id:c})}}),[d,c]);var p=f.exports.useCallback((function(e){return s?e.preventDefault():(l({type:Id.CloseMenu}),Md().nextFrame((function(){var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),r?r(e):void 0)}),[l,a.buttonRef,s,r]),h=f.exports.useCallback((function(){if(s)return l({type:Id.GoToItem,focus:Sd.Nothing});l({type:Id.GoToItem,focus:Sd.Specific,id:c})}),[s,c,l]),m=f.exports.useCallback((function(){s||u||l({type:Id.GoToItem,focus:Sd.Specific,id:c})}),[s,u,c,l]),g=f.exports.useCallback((function(){s||u&&l({type:Id.GoToItem,focus:Sd.Nothing})}),[s,u,l]),v=f.exports.useMemo((function(){return{active:u,disabled:s}}),[u,s]);return gu({props:du({},o,{id:c,role:"menuitem",tabIndex:!0===s?void 0:-1,"aria-disabled":!0===s||void 0,disabled:void 0,onClick:p,onFocus:h,onPointerMove:m,onMouseMove:m,onPointerLeave:g,onMouseLeave:g}),slot:v,defaultTag:Yd,name:"Menu.Item"})},function(e){e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.SetOrientation=1]="SetOrientation",e[e.SetActivation=2]="SetActivation",e[e.RegisterTab=3]="RegisterTab",e[e.UnregisterTab=4]="UnregisterTab",e[e.RegisterPanel=5]="RegisterPanel",e[e.UnregisterPanel=6]="UnregisterPanel",e[e.ForceRerender=7]="ForceRerender"}(Gd||(Gd={}));var Kd=((qd={})[Gd.SetSelectedIndex]=function(e,t){return e.selectedIndex===t.index?e:du({},e,{selectedIndex:t.index})},qd[Gd.SetOrientation]=function(e,t){return e.orientation===t.orientation?e:du({},e,{orientation:t.orientation})},qd[Gd.SetActivation]=function(e,t){return e.activation===t.activation?e:du({},e,{activation:t.activation})},qd[Gd.RegisterTab]=function(e,t){return e.tabs.includes(t.tab)?e:du({},e,{tabs:[].concat(e.tabs,[t.tab])})},qd[Gd.UnregisterTab]=function(e,t){return du({},e,{tabs:e.tabs.filter((function(e){return e!==t.tab}))})},qd[Gd.RegisterPanel]=function(e,t){return e.panels.includes(t.panel)?e:du({},e,{panels:[].concat(e.panels,[t.panel])})},qd[Gd.UnregisterPanel]=function(e,t){return du({},e,{panels:e.panels.filter((function(e){return e!==t.panel}))})},qd[Gd.ForceRerender]=function(e){return du({},e)},qd),$d=f.exports.createContext(null);function Jd(e){var t=f.exports.useContext($d);if(null===t){var n=new Error("<"+e+" /> is missing a parent <Tab.Group /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Jd),n}return t}function Xd(e,t){return mu(t.type,Kd,e,t)}$d.displayName="TabsContext";var Qd=f.exports.Fragment;function Zd(e){var t,n,s="headlessui-tabs-tab-"+Du(),r=Jd(Zd.name),o=r[0],i=o.selectedIndex,a=o.tabs,l=o.panels,c=o.orientation,u=o.activation,d=r[1],p=d.dispatch,h=d.change,m=f.exports.useRef(null),g=Ru(m,(function(e){e&&p({type:Gd.ForceRerender})}));_u((function(){return p({type:Gd.RegisterTab,tab:m}),function(){return p({type:Gd.UnregisterTab,tab:m})}}),[p,m]);var v=a.indexOf(m),y=v===i,b=f.exports.useCallback((function(e){var t=a.map((function(e){return e.current})).filter(Boolean);if(e.key===Pu.Space||e.key===Pu.Enter)return e.preventDefault(),e.stopPropagation(),void h(v);switch(e.key){case Pu.Home:case Pu.PageUp:return e.preventDefault(),e.stopPropagation(),$u(t,Fu.First);case Pu.End:case Pu.PageDown:return e.preventDefault(),e.stopPropagation(),$u(t,Fu.Last)}return mu(c,{vertical:function(){return e.key===Pu.ArrowUp?$u(t,Fu.Previous|Fu.WrapAround):e.key===Pu.ArrowDown?$u(t,Fu.Next|Fu.WrapAround):void 0},horizontal:function(){return e.key===Pu.ArrowLeft?$u(t,Fu.Previous|Fu.WrapAround):e.key===Pu.ArrowRight?$u(t,Fu.Next|Fu.WrapAround):void 0}})}),[a,c,v,h]),_=f.exports.useCallback((function(){var e;null==(e=m.current)||e.focus()}),[m]),w=f.exports.useCallback((function(){var e;null==(e=m.current)||e.focus(),h(v)}),[h,v,m]),x=f.exports.useMemo((function(){return{selected:y}}),[y]);return gu({props:du({},e,{ref:g,onKeyDown:b,onFocus:"manual"===u?_:w,onClick:w,id:s,role:"tab",type:Rd(e,m),"aria-controls":null==(t=l[v])||null==(n=t.current)?void 0:n.id,"aria-selected":y,tabIndex:y?0:-1}),slot:x,defaultTag:"button",name:"Tabs.Tab"})}var ep,tp,np=ou.RenderStrategy|ou.Static;function sp(e){for(var t,n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];e&&s.length>0&&(t=e.classList).add.apply(t,s)}function rp(e){for(var t,n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];e&&s.length>0&&(t=e.classList).remove.apply(t,s)}function op(e,t,n,s,r,o){var i,a,l=Md(),c=void 0!==o?(i=o,a={called:!1},function(){if(!a.called)return a.called=!0,i.apply(void 0,arguments)}):function(){};return rp.apply(void 0,[e].concat(r)),sp.apply(void 0,[e].concat(t,n)),l.nextFrame((function(){rp.apply(void 0,[e].concat(n)),sp.apply(void 0,[e].concat(s)),l.add(function(e,t){var n=Md();if(!e)return n.dispose;var s=getComputedStyle(e),r=[s.transitionDuration,s.transitionDelay].map((function(e){var t=e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e}))[0];return void 0===t?0:t})),o=r[0],i=r[1];return 0!==o?n.setTimeout((function(){t(ep.Finished)}),o+i):t(ep.Finished),n.add((function(){return t(ep.Cancelled)})),n.dispose}(e,(function(n){return rp.apply(void 0,[e].concat(s,t)),sp.apply(void 0,[e].concat(r)),c(n)})))})),l.add((function(){return rp.apply(void 0,[e].concat(t,n,s,r))})),l.add((function(){return c(ep.Cancelled)})),l.dispose}function ip(e){return void 0===e&&(e=""),f.exports.useMemo((function(){return e.split(" ").filter((function(e){return e.trim().length>1}))}),[e])}Zd.Group=function(e){var t=e.defaultIndex,n=void 0===t?0:t,s=e.vertical,r=void 0!==s&&s,o=e.manual,i=void 0!==o&&o,a=e.onChange,l=pu(e,["defaultIndex","vertical","manual","onChange"]),c=r?"vertical":"horizontal",u=i?"manual":"auto",d=f.exports.useReducer(Xd,{selectedIndex:null,tabs:[],panels:[],orientation:c,activation:u}),p=d[0],h=d[1],g=f.exports.useMemo((function(){return{selectedIndex:p.selectedIndex}}),[p.selectedIndex]),v=f.exports.useRef((function(){}));f.exports.useEffect((function(){h({type:Gd.SetOrientation,orientation:c})}),[c]),f.exports.useEffect((function(){h({type:Gd.SetActivation,activation:u})}),[u]),f.exports.useEffect((function(){"function"==typeof a&&(v.current=a)}),[a]),f.exports.useEffect((function(){if(!(p.tabs.length<=0)&&null===p.selectedIndex){var e=p.tabs.map((function(e){return e.current})).filter(Boolean),t=e.filter((function(e){return!e.hasAttribute("disabled")}));if(n<0)h({type:Gd.SetSelectedIndex,index:e.indexOf(t[0])});else if(n>p.tabs.length)h({type:Gd.SetSelectedIndex,index:e.indexOf(t[t.length-1])});else{var s=e.slice(0,n),r=e.slice(n),o=[].concat(r,s).find((function(e){return t.includes(e)}));if(!o)return;h({type:Gd.SetSelectedIndex,index:e.indexOf(o)})}}}),[n,p.tabs,p.selectedIndex]);var y=f.exports.useRef(p.selectedIndex),b=f.exports.useMemo((function(){return[p,{dispatch:h,change:function(e){y.current!==e&&v.current(e),y.current=e,h({type:Gd.SetSelectedIndex,index:e})}}]}),[p,h]);return m($d.Provider,{value:b,children:gu({props:du({},l),slot:g,defaultTag:Qd,name:"Tabs"})})},Zd.List=function e(t){var n=Jd([Zd.name,e.name].join("."))[0],s={selectedIndex:n.selectedIndex};return gu({props:du({},t,{role:"tablist","aria-orientation":n.orientation}),slot:s,defaultTag:"div",name:"Tabs.List"})},Zd.Panels=function e(t){var n=Jd([Zd.name,e.name].join("."))[0].selectedIndex;return gu({props:t,slot:f.exports.useMemo((function(){return{selectedIndex:n}}),[n]),defaultTag:"div",name:"Tabs.Panels"})},Zd.Panel=function e(t){var n,s,r=Jd([Zd.name,e.name].join(".")),o=r[0],i=o.selectedIndex,a=o.tabs,l=o.panels,c=r[1].dispatch,u="headlessui-tabs-panel-"+Du(),d=f.exports.useRef(null),p=Ru(d,(function(e){e&&c({type:Gd.ForceRerender})}));_u((function(){return c({type:Gd.RegisterPanel,panel:d}),function(){return c({type:Gd.UnregisterPanel,panel:d})}}),[c,d]);var h=l.indexOf(d),m=h===i,g=f.exports.useMemo((function(){return{selected:m}}),[m]);return gu({props:du({},t,{ref:p,id:u,role:"tabpanel","aria-labelledby":null==(n=a[h])||null==(s=n.current)?void 0:s.id,tabIndex:m?0:-1}),slot:g,defaultTag:"div",features:np,visible:m,name:"Tabs.Panel"})},(tp=ep||(ep={})).Finished="finished",tp.Cancelled="cancelled";var ap,lp,cp=f.exports.createContext(null);cp.displayName="TransitionContext",(lp=ap||(ap={})).Visible="visible",lp.Hidden="hidden";var up=f.exports.createContext(null);function dp(e){return"children"in e?dp(e.children):e.current.filter((function(e){return e.state===ap.Visible})).length>0}function pp(e){var t=f.exports.useRef(e),n=f.exports.useRef([]),s=Ju();f.exports.useEffect((function(){t.current=e}),[e]);var r=f.exports.useCallback((function(e,r){var o;void 0===r&&(r=au.Hidden);var i=n.current.findIndex((function(t){return t.id===e}));-1!==i&&(mu(r,((o={})[au.Unmount]=function(){n.current.splice(i,1)},o[au.Hidden]=function(){n.current[i].state=ap.Hidden},o)),!dp(n)&&s.current&&(null==t.current||t.current()))}),[t,s,n]),o=f.exports.useCallback((function(e){var t=n.current.find((function(t){return t.id===e}));return t?t.state!==ap.Visible&&(t.state=ap.Visible):n.current.push({id:e,state:ap.Visible}),function(){return r(e,au.Unmount)}}),[n,r]);return f.exports.useMemo((function(){return{children:n,register:o,unregister:r}}),[o,r,n])}function hp(){}up.displayName="NestingContext";var fp=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function mp(e){for(var t,n={},s=fu(fp);!(t=s()).done;){var r,o=t.value;n[o]=null!=(r=e[o])?r:hp}return n}var gp=ou.RenderStrategy;function vp(e){var t,n=e.beforeEnter,s=e.afterEnter,r=e.beforeLeave,o=e.afterLeave,i=e.enter,a=e.enterFrom,l=e.enterTo,c=e.entered,u=e.leave,d=e.leaveFrom,p=e.leaveTo,h=pu(e,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),g=f.exports.useRef(null),v=f.exports.useState(ap.Visible),y=v[0],b=v[1],_=h.unmount?au.Unmount:au.Hidden,w=function(){var e=f.exports.useContext(cp);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),x=w.show,C=w.appear,E=w.initial,S=function(){var e=f.exports.useContext(up);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),T=S.register,A=S.unregister,P=Du(),I=f.exports.useRef(!1),N=pp((function(){I.current||(b(ap.Hidden),A(P),F.current.afterLeave())}));_u((function(){if(P)return T(P)}),[T,P]),_u((function(){var e;_===au.Hidden&&P&&(x&&y!==ap.Visible?b(ap.Visible):mu(y,((e={})[ap.Hidden]=function(){return A(P)},e[ap.Visible]=function(){return T(P)},e)))}),[y,P,T,A,x,_]);var k=ip(i),R=ip(a),M=ip(l),O=ip(c),L=ip(u),D=ip(d),j=ip(p),F=function(e){var t=f.exports.useRef(mp(e));return f.exports.useEffect((function(){t.current=mp(e)}),[e]),t}({beforeEnter:n,afterEnter:s,beforeLeave:r,afterLeave:o}),U=xu();f.exports.useEffect((function(){if(U&&y===ap.Visible&&null===g.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[g,y,U]);var H=E&&!C;_u((function(){var e=g.current;if(e&&!H)return I.current=!0,x&&F.current.beforeEnter(),x||F.current.beforeLeave(),x?op(e,k,R,M,O,(function(e){I.current=!1,e===ep.Finished&&F.current.afterEnter()})):op(e,L,D,j,O,(function(e){I.current=!1,e===ep.Finished&&(dp(N)||(b(ap.Hidden),A(P),F.current.afterLeave()))}))}),[F,P,I,A,N,g,H,x,k,R,M,L,D,j]);var B={ref:g},q=h;return m(up.Provider,{value:N,children:m(ld,{value:mu(y,(t={},t[ap.Visible]=rd.Open,t[ap.Hidden]=rd.Closed,t)),children:gu({props:du({},q,B),defaultTag:"div",features:gp,visible:y===ap.Visible,name:"Transition.Child"})})})}function yp(e){var t,n=e.show,s=e.appear,r=void 0!==s&&s,o=e.unmount,i=pu(e,["show","appear","unmount"]),l=ad();void 0===n&&null!==l&&(n=mu(l,((t={})[rd.Open]=!0,t[rd.Closed]=!1,t)));if(![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var c=f.exports.useState(n?ap.Visible:ap.Hidden),u=c[0],d=c[1],p=pp((function(){d(ap.Hidden)})),h=function(){var e=f.exports.useRef(!0);return f.exports.useEffect((function(){e.current=!1}),[]),e.current}(),g=f.exports.useMemo((function(){return{show:n,appear:r||!h,initial:h}}),[n,r,h]);f.exports.useEffect((function(){n?d(ap.Visible):dp(p)||d(ap.Hidden)}),[n,p]);var v={unmount:o};return m(up.Provider,{value:p,children:m(cp.Provider,{value:g,children:gu({props:du({},v,{as:f.exports.Fragment,children:m(vp,a({},Object.assign({},v,i)))}),defaultTag:f.exports.Fragment,features:gp,visible:u===ap.Visible,name:"Transition"})})})}yp.Child=function(e){var t=null!==f.exports.useContext(cp),n=null!==ad();return m(!t&&n?yp:vp,a({},Object.assign({},e)))},yp.Root=yp;var bp=x(C),_p=bp.jsx;var wp=function(e){return _p("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:_p("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}))},xp=({children:e})=>m(yp,{as:f.exports.Fragment,enter:"u3-transition u3-ease-out u3-duration-100",enterFrom:"u3-transform u3-opacity-0 u3-scale-95",enterTo:"u3-transform u3-opacity-100 u3-scale-100",leave:"u3-transition u3-ease-in u3-duration-75",leaveFrom:"u3-transform u3-opacity-100 u3-scale-100",leaveTo:"u3-transform u3-opacity-0 u3-scale-95",children:e}),Cp=e=>{const t=e.className||"u3-group u3-text-gray-900 u3-flex u3-rounded-md u3-items-center u3-w-full u3-px-2 u3-py-1 u3-text-sm",n=e.classActive||"u3-bg-primary u3-text-white";return m(Bd.Item,{children:({active:s})=>_("button",{onClick:e.onClick,className:E(t,{[n]:s}),children:[e.icon,e.name]})})};var Ep="u3-cxx-c8498f2d",Sp="u3-cxx-1d6f1ee3";var Tp=v()((function({history:e}){return _(Bd,{as:"div",className:"u3-relative u3-inline-block",children:[m(Bd.Button,{className:Ep,children:m(wp,{className:"u3-w-5 u3-h-5 u3-text-violet-200 hover:text-violet-100","aria-hidden":"true"})}),m(xp,{children:m(Bd.Items,{className:Sp,children:m("div",{className:"u3-px-1 u3-py-1",children:m(Cp,{name:"Giới thiệu",onClick:()=>{return t="/about",void e.push(t);var t}})})})})]})}));var Ap,Pp,Ip="u3-cxx-4ce82387",Np="u3-cxx-d7a1c246",kp="u3-cxx-98b944b4",Rp="u3-cxx-8109e520";(Pp=Ap||(Ap={})).Mention="Mention",Pp.Unread="Unread",Pp.None="None";var Mp=S((e=>{const t=f.exports.useContext(Qc),n=function(e){const t=f.exports.useRef();return f.exports.useEffect((()=>{t.current=e})),t.current||{}}(e),s=e=>e.mentionCount>0?Ap.Mention:e.messageCount>0?Ap.Unread:Ap.None;return f.exports.useEffect((()=>{(()=>{const{currentChannel:n,currentTeam:s,currentTeammate:r,unreads:o,inGlobalThreads:i,contactName:a}=e,{formatMessage:l}=e.intl;if(n&&s&&n.id){let o=n.display_name;n.type===re.DM_CHANNEL&&null!=r&&(o=a||r.display_name);let i="";if(e.channelStats){const{member_count:t,online_count:n}=e.channelStats;i=` | ${n}/${t} trực tuyến`}t.setTitle(`${o}${i} - ${s.display_name}`)}else s&&i?t.setTitle(l({id:"globalThreads.title",defaultMessage:"{prefix}Threads - {displayName} {siteName}"},{prefix:"",displayName:s.display_name,siteName:""})):t.setTitle("U3 Chat")})();const r=s(n.unreads||{}),o=s(e.unreads||{});r!==o&&t.selectDot(o)}),[e]),null}));var Op=T(v((function(e,{location:{pathname:t}}){const n=Ie(e),s=Ye(e),r=s&&s.teammate_id?s:null,o=tt(e),i=Kn(e);let a="";if(r){const t=fn(e,r.teammate_id);a=t?hs(e,t.id):""}return{currentChannel:s,currentTeam:o,currentTeammate:r,siteName:n.SiteName,unreads:fs(e),inGlobalThreads:null!=A(t,{path:"/:team/threads/:threadIdentifier?"}),contactName:a,channelStats:i}}),(function(e){return{actions:y({},e)}}))(Mp)),Lp=P,Dp=/\s/;var jp=function(e){for(var t=e.length;t--&&Dp.test(e.charAt(t)););return t},Fp=/^\s+/;var Up=function(e){return e?e.slice(0,jp(e)+1).replace(Fp,""):e},Hp=I,Bp=N,qp=/^[-+]0x[0-9a-f]+$/i,Gp=/^0b[01]+$/i,zp=/^0o[0-7]+$/i,Vp=parseInt;var Wp=I,Yp=function(){return Lp.Date.now()},Kp=function(e){if("number"==typeof e)return e;if(Bp(e))return NaN;if(Hp(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Hp(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Up(e);var n=Gp.test(e);return n||zp.test(e)?Vp(e.slice(2),n?2:8):qp.test(e)?NaN:+e},$p=Math.max,Jp=Math.min;var Xp=function(e,t,n){var s,r,o,i,a,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=s,o=r;return s=r=void 0,c=t,i=e.apply(o,n)}function f(e){return c=e,a=setTimeout(g,t),u?h(e):i}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function g(){var e=Yp();if(m(e))return v(e);a=setTimeout(g,function(e){var n=t-(e-l);return d?Jp(n,o-(e-c)):n}(e))}function v(e){return a=void 0,p&&s?h(e):(s=r=void 0,i)}function y(){var e=Yp(),n=m(e);if(s=arguments,r=this,l=e,n){if(void 0===a)return f(l);if(d)return clearTimeout(a),a=setTimeout(g,t),h(l)}return void 0===a&&(a=setTimeout(g,t)),i}return t=Kp(t)||0,Wp(n)&&(u=!!n.leading,o=(d="maxWait"in n)?$p(Kp(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==a&&clearTimeout(a),c=0,s=l=r=a=void 0},y.flush=function(){return void 0===a?i:v(Yp())},y},Qp=bp.jsx;var Zp=function(e){return Qp("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:Qp("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}))},eh=bp.jsx;var th=function(e){return eh("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e)),{children:eh("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}))},nh=e=>_("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[_("defs",{children:[m("symbol",{id:"chrome-tab-geometry-left",viewBox:"0 0 214 36",children:m("path",{d:"M17 0h197v36H0v-2c4.5 0 9-3.5 9-8V8c0-4.5 3.5-8 8-8z"})}),m("symbol",{id:"chrome-tab-geometry-right",viewBox:"0 0 214 36",children:m("use",{xlinkHref:"#chrome-tab-geometry-left"})}),m("clipPath",{id:"crop",children:m("rect",{className:"mask",width:"100%",height:"100%",x:"0"})})]}),m("svg",{width:"52%",height:"100%",children:m("use",{xlinkHref:"#chrome-tab-geometry-left",width:"214",height:"36",className:e.tabGeometry})}),m("g",{transform:"scale(-1, 1)",children:m("svg",{width:"52%",height:"100%",x:"-100%",y:"0",children:m("use",{xlinkHref:"#chrome-tab-geometry-right",width:"214",height:"36",className:e.tabGeometry})})})]}),sh=bp.jsx;var rh=function(e){return sh("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e)),{children:sh("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}))};var oh={messageSend:"u3-cxx-e70e6c0c",blink:"u3-cxx-b522e565"},ih=e=>_("span",{className:E(oh.loadingSpinner,{[oh.withText]:!!e.text}),children:[m(rh,{className:E("u3-w-6 u3-h-6 u3-animate-spin")}),e.text]}),ah=bp.jsx,lh=bp.jsxs;var ch=function(e){return lh("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:[ah("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),ah("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}))},uh=bp.jsx;var dh=function(e){return uh("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:uh("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}))};const ph="undefined"!=typeof window,hh=ph&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),fh=ph&&"IntersectionObserver"in window,mh=ph&&"classList"in document.createElement("p"),gh=ph&&window.devicePixelRatio>1,vh={elements_selector:".lazy",container:hh||ph?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},yh=e=>Object.assign({},vh,e),bh=function(e,t){let n;const s="LazyLoad::Initialized",r=new e(t);try{n=new CustomEvent(s,{detail:{instance:r}})}catch(o){n=document.createEvent("CustomEvent"),n.initCustomEvent(s,!1,!1,{instance:r})}window.dispatchEvent(n)},_h="src",wh="llOriginalAttrs",xh=(e,t)=>e.getAttribute("data-"+t),Ch=e=>xh(e,"ll-status"),Eh=(e,t)=>((e,t,n)=>{var s="data-"+t;null!==n?e.setAttribute(s,n):e.removeAttribute(s)})(e,"ll-status",t),Sh=e=>Eh(e,null),Th=e=>null===Ch(e),Ah=e=>"native"===Ch(e),Ph=["loading","loaded","applied","error"],Ih=(e,t,n,s)=>{e&&(void 0===s?void 0===n?e(t):e(t,n):e(t,n,s))},Nh=(e,t)=>{mh?e.classList.add(t):e.className+=(e.className?" ":"")+t},kh=(e,t)=>{mh?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},Rh=e=>e.llTempImage,Mh=(e,t)=>{if(!t)return;const n=t._observer;n&&n.unobserve(e)},Oh=(e,t)=>{e&&(e.loadingCount+=t)},Lh=(e,t)=>{e&&(e.toLoadCount=t)},Dh=e=>{let t=[];for(let n,s=0;n=e.children[s];s+=1)"SOURCE"===n.tagName&&t.push(n);return t},jh=(e,t)=>{const n=e.parentNode;if(!n||"PICTURE"!==n.tagName)return;Dh(n).forEach(t)},Fh=(e,t)=>{Dh(e).forEach(t)},Uh=[_h],Hh=[_h,"poster"],Bh=[_h,"srcset","sizes"],qh=e=>!!e[wh],Gh=e=>e[wh],zh=e=>delete e[wh],Vh=(e,t)=>{if(qh(e))return;const n={};t.forEach((t=>{n[t]=e.getAttribute(t)})),e[wh]=n},Wh=(e,t)=>{if(!qh(e))return;const n=Gh(e);t.forEach((t=>{((e,t,n)=>{n?e.setAttribute(t,n):e.removeAttribute(t)})(e,t,n[t])}))},Yh=(e,t,n)=>{Nh(e,t.class_loading),Eh(e,"loading"),n&&(Oh(n,1),Ih(t.callback_loading,e,n))},Kh=(e,t,n)=>{n&&e.setAttribute(t,n)},$h=(e,t)=>{Kh(e,"sizes",xh(e,t.data_sizes)),Kh(e,"srcset",xh(e,t.data_srcset)),Kh(e,_h,xh(e,t.data_src))},Jh=(e,t,n)=>{const s=xh(e,t.data_bg_multi),r=xh(e,t.data_bg_multi_hidpi),o=gh&&r?r:s;o&&(e.style.backgroundImage=o,((e,t,n)=>{Nh(e,t.class_applied),Eh(e,"applied"),n&&(t.unobserve_completed&&Mh(e,t),Ih(t.callback_applied,e,n))})(e,t,n))},Xh={IMG:(e,t)=>{jh(e,(e=>{Vh(e,Bh),$h(e,t)})),Vh(e,Bh),$h(e,t)},IFRAME:(e,t)=>{Vh(e,Uh),Kh(e,_h,xh(e,t.data_src))},VIDEO:(e,t)=>{Fh(e,(e=>{Vh(e,Uh),Kh(e,_h,xh(e,t.data_src))})),Vh(e,Hh),Kh(e,"poster",xh(e,t.data_poster)),Kh(e,_h,xh(e,t.data_src)),e.load()}},Qh=["IMG","IFRAME","VIDEO"],Zh=(e,t)=>{!t||(e=>e.loadingCount>0)(t)||(e=>e.toLoadCount>0)(t)||Ih(e.callback_finish,t)},ef=(e,t,n)=>{e.addEventListener(t,n),e.llEvLisnrs[t]=n},tf=(e,t,n)=>{e.removeEventListener(t,n)},nf=e=>!!e.llEvLisnrs,sf=e=>{if(!nf(e))return;const t=e.llEvLisnrs;for(let n in t){const s=t[n];tf(e,n,s)}delete e.llEvLisnrs},rf=(e,t,n)=>{(e=>{delete e.llTempImage})(e),Oh(n,-1),(e=>{e&&(e.toLoadCount-=1)})(n),kh(e,t.class_loading),t.unobserve_completed&&Mh(e,n)},of=(e,t,n)=>{const s=Rh(e)||e;if(nf(s))return;((e,t,n)=>{nf(e)||(e.llEvLisnrs={});const s="VIDEO"===e.tagName?"loadeddata":"load";ef(e,s,t),ef(e,"error",n)})(s,(r=>{((e,t,n,s)=>{const r=Ah(t);rf(t,n,s),Nh(t,n.class_loaded),Eh(t,"loaded"),Ih(n.callback_loaded,t,s),r||Zh(n,s)})(0,e,t,n),sf(s)}),(r=>{((e,t,n,s)=>{const r=Ah(t);rf(t,n,s),Nh(t,n.class_error),Eh(t,"error"),Ih(n.callback_error,t,s),r||Zh(n,s)})(0,e,t,n),sf(s)}))},af=(e,t,n)=>{(e=>{e.llTempImage=document.createElement("IMG")})(e),of(e,t,n),(e=>{qh(e)||(e[wh]={backgroundImage:e.style.backgroundImage})})(e),((e,t,n)=>{const s=xh(e,t.data_bg),r=xh(e,t.data_bg_hidpi),o=gh&&r?r:s;o&&(e.style.backgroundImage=`url("${o}")`,Rh(e).setAttribute(_h,o),Yh(e,t,n))})(e,t,n),Jh(e,t,n)},lf=(e,t,n)=>{of(e,t,n),((e,t,n)=>{const s=Xh[e.tagName];s&&(s(e,t),Yh(e,t,n))})(e,t,n)},cf=(e,t,n)=>{(e=>Qh.indexOf(e.tagName)>-1)(e)?lf(e,t,n):af(e,t,n)},uf=(e,t,n)=>{e.setAttribute("loading","lazy"),of(e,t,n),((e,t)=>{const n=Xh[e.tagName];n&&n(e,t)})(e,t),Eh(e,"native")},df=e=>{e.removeAttribute(_h),e.removeAttribute("srcset"),e.removeAttribute("sizes")},pf=e=>{jh(e,(e=>{Wh(e,Bh)})),Wh(e,Bh)},hf={IMG:pf,IFRAME:e=>{Wh(e,Uh)},VIDEO:e=>{Fh(e,(e=>{Wh(e,Uh)})),Wh(e,Hh),e.load()}},ff=e=>{const t=hf[e.tagName];t?t(e):(e=>{if(!qh(e))return;const t=Gh(e);e.style.backgroundImage=t.backgroundImage})(e)},mf=(e,t)=>{ff(e),((e,t)=>{Th(e)||Ah(e)||(kh(e,t.class_entered),kh(e,t.class_exited),kh(e,t.class_applied),kh(e,t.class_loading),kh(e,t.class_loaded),kh(e,t.class_error))})(e,t),Sh(e),zh(e)},gf=(e,t,n,s)=>{n.cancel_on_exit&&(e=>"loading"===Ch(e))(e)&&"IMG"===e.tagName&&(sf(e),(e=>{jh(e,(e=>{df(e)})),df(e)})(e),pf(e),kh(e,n.class_loading),Oh(s,-1),Sh(e),Ih(n.callback_cancel,e,t,s))},vf=(e,t,n,s)=>{const r=(e=>Ph.indexOf(Ch(e))>=0)(e);Eh(e,"entered"),Nh(e,n.class_entered),kh(e,n.class_exited),((e,t,n)=>{t.unobserve_entered&&Mh(e,n)})(e,n,s),Ih(n.callback_enter,e,t,s),r||cf(e,n,s)},yf=["IMG","IFRAME","VIDEO"],bf=e=>e.use_native&&"loading"in HTMLImageElement.prototype,_f=(e,t,n)=>{e.forEach((e=>(e=>e.isIntersecting||e.intersectionRatio>0)(e)?vf(e.target,e,t,n):((e,t,n,s)=>{Th(e)||(Nh(e,n.class_exited),gf(e,t,n,s),Ih(n.callback_exit,e,t,s))})(e.target,e,t,n)))},wf=(e,t)=>{fh&&!bf(e)&&(t._observer=new IntersectionObserver((n=>{_f(n,e,t)}),(e=>({root:e.container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}))(e)))},xf=e=>Array.prototype.slice.call(e),Cf=e=>e.container.querySelectorAll(e.elements_selector),Ef=e=>(e=>"error"===Ch(e))(e),Sf=(e,t)=>(e=>xf(e).filter(Th))(e||Cf(t)),Tf=(e,t)=>{var n;(n=Cf(e),xf(n).filter(Ef)).forEach((t=>{kh(t,e.class_error),Sh(t)})),t.update()},Af=function(e,t){const n=yh(e);this._settings=n,this.loadingCount=0,wf(n,this),((e,t)=>{ph&&window.addEventListener("online",(()=>{Tf(e,t)}))})(n,this),this.update(t)};Af.prototype={update:function(e){const t=this._settings,n=Sf(e,t);var s,r;(Lh(this,n.length),!hh&&fh)?bf(t)?((e,t,n)=>{e.forEach((e=>{-1!==yf.indexOf(e.tagName)&&uf(e,t,n)})),Lh(n,0)})(n,t,this):(s=this._observer,r=n,(e=>{e.disconnect()})(s),((e,t)=>{t.forEach((t=>{e.observe(t)}))})(s,r)):this.loadAll(n)},destroy:function(){this._observer&&this._observer.disconnect(),Cf(this._settings).forEach((e=>{zh(e)})),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){const t=this._settings;Sf(e,t).forEach((e=>{Mh(e,this),cf(e,t,this)}))},restoreAll:function(){const e=this._settings;Cf(e).forEach((t=>{mf(t,e)}))}},Af.load=(e,t)=>{const n=yh(t);cf(e,n)},Af.resetStatus=e=>{Sh(e)},ph&&((e,t)=>{if(t)if(t.length)for(let n,s=0;n=t[s];s+=1)bh(e,n);else bh(e,t)})(Af,window.lazyLoadOptions);var Pf="u3-cxx-d2b3f152",If="u3-cxx-4c7a0fb4",Nf="u3-cxx-b0293eb9",kf="u3-cxx-17a28fbb",Rf="u3-cxx-1eb84b3f",Mf="u3-cxx-67c8f30f",Of="u3-cxx-637aa6c8",Lf="u3-cxx-bc9bcd86",Df="u3-cxx-a39999a7",jf="u3-cxx-604f70a1",Ff="u3-cxx-6c1d749c",Uf="u3-cxx-fca676a0",Hf="u3-cxx-4f9ee33b",Bf="u3-cxx-bdbe223d",qf="u3-cxx-98061287",Gf="u3-cxx-ac2a978f",zf="u3-cxx-a83efbc9";window.u3LazyLoadInstance||(window.u3LazyLoadInstance=new Af({elements_selector:".u3-lazy"}));var Vf=f.exports.memo((e=>{var t=e,{url:n,username:s,size:r="md",text:o}=t,i=c(t,["url","username","size","text"]);const u=E(Pf,{[If]:"tab"===r,[Nf]:"xxs"===r,[kf]:"xs"===r,[Rf]:"sm"===r,[Mf]:"md"===r,[Of]:"lg"===r,[Lf]:"xl"===r,[Df]:"2xl"===r,[jf]:"3xl"===r,[Ff]:"4xl"===r,[Uf]:"5xl"===r,[Hf]:"6xl"===r,[Bf]:"7xl"===r,[qf]:"8xl"===r,[Gf]:"9xl"===r},i.className);return f.exports.useEffect((()=>{window.u3LazyLoadInstance&&window.u3LazyLoadInstance.update()})),o?m("div",l(a({},i),{className:E(u,zf),"data-content":o})):m("img",l(a({},i),{className:E(u,"u3-lazy"),alt:`${s||"user"} profile image`,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAu9SURBVHgBvVpJcFbHEe5+ehII+EELGBCGiE3KVkYgsKsgVaC7ObhcRXBygBysnBPiYwriY4pwjYFDkgOhfAlxIIc4IULG5XIBwsLYAQmDfmyQIGySfoFkS7xJ90z3zLwfSYBxPMXv9/Rm6+XrbcYIk7T1HSe3VKDZkYFpQYSaDHBeAlCr/cYYQOqA8ME9+RuigSxD+87fo3Eocw2NQUP/+KmfuV+/0VPmF02CxSSDIn08cWrz5j+V04rxH2tPnlxT+TD7K702WkK4v3xDXjxq/I3GWDKJLdqP6TCh3w5Bod0zbsdgtMZk63sGRRA0pzhusrbutraijkn05cWOzh1EfDcN/Y6VEklRdrQStYTwJtwnxNhuJt5+468ZZlmWFxETZOwMqx/LHI3x2pA1Yk16Abh5Oo4HNVZC0vdiZ+eOnAZaOjqoA/uYV+T1wClU+2MoYJC6n49B2o80dJLLq3pS7ekKAkNlCp1sII8W5mzd6ba2bquBKsAOx61wr5DWsR6lblRQsyPM6Hf/5n4eNzLGER3zGRhD3c9pKPCUWQ2i3zDwesTO23D8+E7E5A/GCQoSxByGc9KQTczUkiobV9ai8WX9zlQAIag97OOE46dENgJtKZG8WaSOlnbBsDesQJsYWrQMYV6pYNoLaWoaZs7ApjkFWDxzZqBN9hwYG0P6Qe9ICUoTDx0z6OZaIxNtZ5Y29PD1nDGuia5EnQDijpReGi32nbUHCaqkmEjeANzTGpVlJrPm0lpTg1sWLIDNC+ZjIPrxrXdkBC+NjMCJW7eg89ZtjHXhPFkW5OTk6Mg0yqBlqoUg9O8++rsxSNKpGgM0HMFOGvZRqKyE7c8/D9uXLWWpw7M21krXvXtwsFg0/aNjInVEyLvjcitmzRRxw7+OR2brfG4cpEyEz0JlSoQv/cYIn6wdvNIHB/uuCIQFWWCCP0H0NNG/e6n37w5lIXA4dsD5boB1dbVm9/e/91Qw+Trt9RXLSRt3oWtwCJzuIeAnOBh1SrWJAMxYd5W5dxeWnKs3mYF2WvStdWv/78Rra62tFSrCfy2dJntkbAr2Y4wZk0tydjU34fZly+BJ2+mbN+HSg1HoGRyEpKoKrg8Pm7kzqsgrVeMi+ru5pgbWz6+fdo3e0gh45AheEkFCuXNOHZkW98HdSuRtX7niiYg/3d8P7xHBx+g5khnn73UZXpPp8REETYGCTduixeZ1Wr9cq+9cvgIn/nszmuDcqMjZlIdCXP+Pd32EdE7ZaaB95UqgDaYlvDQxAXvPn4djN25AUqFGLYEyyjTBG6MzQt2D99xSV4frampMoaoKu27fprVuAlZU+D2MxnBNOzBOXJA1IOxk1lcy0GBxdfVjiT9Dm73xUTeUSH1JRQWKsMAnNiFd1rTCygeyID7+0HnnLnTevoPiFon4xKUE4sotvz7FBlWrZyJ1iRZqlLBW/svvNk9L/DuXL8ObPb12MxS9Kk0hJ9AsM++S9YOJw5TjRSJkHFRljDHxAi5lEWml0UfLeWtdHWx57rkpiR8YHSXie1jNfsN4I6lEIHw1gQZ1iSD+3CVtzssb9JpSelvraqFp7lwYmZjArrv3zMDoA8QMJP1w2kgll/Ri2rqkAaZr7adOW8iI4kyYb8k1RnEkuZJFppcYeEW59F6CpJVC5mAkn9tXrbK/SHC4iyDbOzykHFuYJYJXp316vLxkyZTEH712HQYePECTOXFKqguqXile0KbDIt3EKiHy32GcoseI9RiHPEMIWJgjnhvb5S6GthFrExLSoP4MW+um98+Hr1yGGC5GpRtlIoJNDfUSEiWYRppmgva88AI0UHzoHxuF33z8MXAe5GBcO+n+DG+aZ6Gkwkic5B0BhDczFfGl8XHovX9fJSgyM4H4OMgECcsv83ahoDvw0kuOoFnV9nlo0yaYk1ZwPQLTNaYjdhoJL661aSGtmHJ2z/AwaGD3JqQ1a6Y1sTxF6vylffVq+F1rK9nWEs9sw4yZyBqIG2e4DB1OF07cuDkpDX/r64OR8a9QXbMzYo07BhCmlD94i3VFjngLOxOcC/YeSdnL8CcrVkD7aoflLQsXQoGC3eFiEUpffjnpHgQNK8iuO3dg7yefwGtLl8KSefNs3xkKlpxuiwvVmIWpJ8aob568cSrtKwuVMaj/FWYyyFWF5e64tb7OMfDwIRz67DL8dNVK39dD9cCZO3fFYAyNuwrHrl0zqwsFkvo49o7cB+ejZc/M7ZkqnrlrgJKwqZpVudQKxh9bGK8Cu24cs4jZLiKotb7efz19/bqFCBv5vosX8dL9EaA0AnqHhuHvAwOgEHNhAQ0zepZyrFwgix0GBAjZP3rYx06pgUpYX19PUrrjZhstLvRoRHL1KGd568J/cDbVh82zZ8MZIuQwuWFMEtBa+OgXX/BPJRB7AzZs/HlTE2mt3houaQP2fvqpRkUtokMuxCuyJErjEw4uk7R2WvDMBx9IAAbNz7UeF9eWeRtjYvdduOD4Ze0lGMnOoxC8SiWLaG9usnvFwntt+XLyUinu6e6GENoREk0hjMT6Q5cuwVSNpbG+fr5sH9yiHIYZkytiQz947oRXEwXBzEi24WJE09xCjvi4bSWjnuNKWaPuP1HRGdfgaLEPpmu7W9ZAQ3U1Bnepzt2gpgxGfAWoiWuNxy47iyotEOHJGLazfRs2TLu/Kxkz54mYAbVFzV5uEIQOXfpsygUaZs2CAxs3EhOz3IIibK9JH4JtZi5wsfj2lTmGPEjqgwwX07oHaV1+TtXYZoYnxo0I3KrNBTIPCefj9/dchH5b1k3DxKaNFlIuHVes+DBnNFtx0srUdRmtcFSCrHaG5eOI7y+VYP/Fi36eaj0JmlTMGk5fYffZszBdc0xsgj1r18KiWbOChIVYfqqkpQDwhwa6JxmneeOHP8ADP9o0LfHcfnvuHPTff+BoFcjZtdceORJFL62LXXt58WJ4k3KWJ2lHP/8cTpAv50pthPMVH84AgstlolNspui6hdbeSvU2e5jHNZb8fvZmeoESna/i2r8cMRqW1RKMphb0RumA+dWaNQhP0XqGhjjthn76sQ8vpJUwp6oSmHDW3JMQ/QjxAKG09BYrccC6QVf9hzRDAsufr1zB5tpaQ9J6YiaY0GbJYb5uY8Z//eGH8B5p1DYmPgs5kCYACWgMQJcOoWIY/KmY6ejvfyoNPGtjGG5/95906HvLu1gQ4iUf8wdeqSTGjkmtR1GzTmdwpa/G4dtop8hNMmTOksfxeVcmpxEeKaC2ZcvSlN4H6VuNfAEp66SEcphqrnk2ODyuscR/39UFXaWS4QsWvWA0ao6mbEJU2fGxCqV7xIBUUaqmMBChdf58+CYb+/QzBA/+kecydEDmvIq/SBJEKAoAoqN2FLhbL1PkdHoQHuFOTBzY31dDW0NDbvPr9Oun8pLTXS5O+N0uTSdq/Ls+6JYszJhhtTg8NmYX7ad7AJ6b5L0Q6kVgVG8IaIQPkCxPXajemSFeTen04By9tIjalAs/aRGdXf7i/fcNH9ayW7RH3NH9bXh3W+q5PmC5UFxL0jRy0zJHJY5RUSjfcnfFeoCgd9hZRhpIkj9S5w7dJFYUP89K/m83DbfUfmz0bkKaq51y1Qzxna0jrvy2P3YmueaNOKLO3eTzIidsV8vbb/dRVyNE97aPcB8ZVnyr7rdU9UaaxAAFEzOdv90M11kmKob83TLmbin9O3X3nfvxthWJLPJKLNloMfCJryZRcmsvTyU0SMUeaoVjFePLBPRSxkhIKgQTmHJH6l5Zsqek+zYecBqdVrRxv2Wge9s2/l8MdmrQsPtlIeeOVGv1qdLAQKQyEVQd5so6WVw0mrCX8UyBR5LxP9W+IsEeQmbZzz569dWrXnjaWg4fbqThHaTCxhwa3SJQ1hQyADnTicab/A4RhZOtlx+TW8ePL1KZ+goLHHIbljViZCdN2EyvjfYemZ9lWMUY78qIaiDCePk82x3fR6sLzXFhoThEDmaQnnRXlXRn5GzOb9vWWU7r/wB9YoGc8BnQ5QAAAABJRU5ErkJggg==","data-src":n}))}));class Wf extends h.PureComponent{render(){"string"==typeof this.props.profileSrc&&""!==this.props.profileSrc?this.props.profileSrc:this.props.src;const e="profile-icon "+(this.props.isEmoji?"emoji":"");return m("span",{className:`status-wrapper style--none ${this.props.wrapperClass}`,children:m("span",{className:e,children:m(Vf,{size:this.props.size,url:this.props.src})})})}}u(Wf,"defaultProps",{size:"md",isRHS:!1,isEmoji:!1,hasMention:!1,wrapperClass:""});var Yf={joinMoreTab:"u3-cxx-dae4b4f7",modalJoinMore:"u3-cxx-e7cc1cfa",modalOverlay:"u3-cxx-45ad6769",modalTrickCenter:"u3-cxx-60f86ba9",modalCard:"u3-cxx-23a92c4b",modalHeader:"u3-cxx-3098ec6e",modalCardTitle:"u3-cxx-f1133157",closeBtn:"u3-cxx-60f49347",modalButton:"u3-cxx-d6f875b2",modalButtonIcon:"u3-cxx-f2d0b80a",modalBody:"u3-cxx-5d3b7cb7",loader:"u3-cxx-6a7a6ad6",channelListView:"u3-cxx-d27ade80",itemView:"u3-cxx-87f19033",channelDetail:"u3-cxx-9f64020f",channelName:"u3-cxx-0cd0ef94",channelPurpose:"u3-cxx-6d37de27",channelActions:"u3-cxx-6b4a37fa",channelBtn:"u3-cxx-301942d5",channelJoined:"u3-cxx-f673544b",buttonGroup:"u3-cxx-484447b9",buttonGroupItem:"u3-cxx-190b3c56",buttonView:"u3-cxx-cbe79581",buttonExit:"u3-cxx-003d1b65"},Kf=e=>{const[t,n]=f.exports.useState(e.channelJoinned),[s,r]=f.exports.useState([]);return f.exports.useEffect((()=>{t.length!==e.channelJoinned.length&&n(e.channelJoinned)}),[e.channelJoinned]),_("div",{className:Yf.channelListView,children:[e.channels.length?m(f.exports.Fragment,{}):m("p",{className:Yf.noChannels,children:"Hiện tại không có Nhóm nào để bạn tham gia!"}),e.channels.map(((o,i)=>_("div",{className:Yf.itemView,children:[m("div",{className:Yf.channelAvatar,children:m(Wf,{src:Ce.getChannelPictureUrl(o.id,o.last_picture_update),size:"xl",status:"",wrapperClass:Yf.channelAvatarPicture,newStatusIcon:!1})}),_("div",{className:Yf.channelDetail,children:[m("h3",{className:Yf.channelName,children:o.display_name}),m("p",{className:Yf.channelPurpose,children:o.purpose})]}),m("div",{className:Yf.channelActions,children:t.includes(o.id)?_("div",{className:Yf.buttonGroup,children:[m("button",{className:E(Yf.buttonGroupItem,Yf.buttonView),onClick:()=>e.onView(o.name),children:m(ch,{className:"u3-w-4 u3-h-4"})}),m("button",{className:E(Yf.buttonGroupItem,Yf.buttonExit),onClick:()=>e.onExit(o.id),children:m(dh,{className:"u3-w-4 u3-h-4"})})]}):m("button",{className:Yf.channelBtn,onClick:()=>(async o=>{if(s.includes(o))return;r([...s,o]),await e.onJoin(o),n([...t,o]);let i=s.indexOf(o);s.splice(i,1),r(s)})(o.id),children:s.includes(o.id)?"Đang vào...":"Tham gia"})})]},`${i}-${o.id}`)))]})},$f="top",Jf="bottom",Xf="right",Qf="left",Zf=[$f,Jf,Xf,Qf],em=Zf.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),tm=[].concat(Zf,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),nm=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function sm(e){return e?(e.nodeName||"").toLowerCase():null}function rm(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function om(e){return e instanceof rm(e).Element||e instanceof Element}function im(e){return e instanceof rm(e).HTMLElement||e instanceof HTMLElement}function am(e){return"undefined"!=typeof ShadowRoot&&(e instanceof rm(e).ShadowRoot||e instanceof ShadowRoot)}var lm={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];im(r)&&sm(r)&&(Object.assign(r.style,n),Object.keys(s).forEach((function(e){var t=s[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var s=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});im(s)&&sm(s)&&(Object.assign(s.style,o),Object.keys(r).forEach((function(e){s.removeAttribute(e)})))}))}},requires:["computeStyles"]};function cm(e){return e.split("-")[0]}function um(e,t){var n=e.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}function dm(e){var t=um(e),n=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:s}}function pm(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&am(n)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function hm(e){return rm(e).getComputedStyle(e)}function fm(e){return["table","td","th"].indexOf(sm(e))>=0}function mm(e){return((om(e)?e.ownerDocument:e.document)||window.document).documentElement}function gm(e){return"html"===sm(e)?e:e.assignedSlot||e.parentNode||(am(e)?e.host:null)||mm(e)}function vm(e){return im(e)&&"fixed"!==hm(e).position?e.offsetParent:null}function ym(e){for(var t=rm(e),n=vm(e);n&&fm(n)&&"static"===hm(n).position;)n=vm(n);return n&&("html"===sm(n)||"body"===sm(n)&&"static"===hm(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&im(e)&&"fixed"===hm(e).position)return null;for(var n=gm(e);im(n)&&["html","body"].indexOf(sm(n))<0;){var s=hm(n);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return n;n=n.parentNode}return null}(e)||t}function bm(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var _m=Math.max,wm=Math.min,xm=Math.round;function Cm(e,t,n){return _m(e,wm(t,n))}function Em(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Sm(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Tm(e){return e.split("-")[1]}var Am={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pm(e){var t,n=e.popper,s=e.popperRect,r=e.placement,o=e.variation,i=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=!0===u?function(e){var t=e.x,n=e.y,s=window.devicePixelRatio||1;return{x:xm(xm(t*s)/s)||0,y:xm(xm(n*s)/s)||0}}(i):"function"==typeof u?u(i):i,p=d.x,h=void 0===p?0:p,f=d.y,m=void 0===f?0:f,g=i.hasOwnProperty("x"),v=i.hasOwnProperty("y"),y=Qf,b=$f,_=window;if(c){var w=ym(n),x="clientHeight",C="clientWidth";w===rm(n)&&"static"!==hm(w=mm(n)).position&&"absolute"===a&&(x="scrollHeight",C="scrollWidth"),w=w,r!==$f&&(r!==Qf&&r!==Xf||"end"!==o)||(b=Jf,m-=w[x]-s.height,m*=l?1:-1),r!==Qf&&(r!==$f&&r!==Jf||"end"!==o)||(y=Xf,h-=w[C]-s.width,h*=l?1:-1)}var E,S=Object.assign({position:a},c&&Am);return l?Object.assign({},S,((E={})[b]=v?"0":"",E[y]=g?"0":"",E.transform=(_.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",E)):Object.assign({},S,((t={})[b]=v?m+"px":"",t[y]=g?h+"px":"",t.transform="",t))}var Im={passive:!0};var Nm={left:"right",right:"left",bottom:"top",top:"bottom"};function km(e){return e.replace(/left|right|bottom|top/g,(function(e){return Nm[e]}))}var Rm={start:"end",end:"start"};function Mm(e){return e.replace(/start|end/g,(function(e){return Rm[e]}))}function Om(e){var t=rm(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Lm(e){return um(mm(e)).left+Om(e).scrollLeft}function Dm(e){var t=hm(e),n=t.overflow,s=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function jm(e){return["html","body","#document"].indexOf(sm(e))>=0?e.ownerDocument.body:im(e)&&Dm(e)?e:jm(gm(e))}function Fm(e,t){var n;void 0===t&&(t=[]);var s=jm(e),r=s===(null==(n=e.ownerDocument)?void 0:n.body),o=rm(s),i=r?[o].concat(o.visualViewport||[],Dm(s)?s:[]):s,a=t.concat(i);return r?a:a.concat(Fm(gm(i)))}function Um(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Hm(e,t){return"viewport"===t?Um(function(e){var t=rm(e),n=mm(e),s=t.visualViewport,r=n.clientWidth,o=n.clientHeight,i=0,a=0;return s&&(r=s.width,o=s.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=s.offsetLeft,a=s.offsetTop)),{width:r,height:o,x:i+Lm(e),y:a}}(e)):im(t)?function(e){var t=um(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Um(function(e){var t,n=mm(e),s=Om(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=_m(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),i=_m(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-s.scrollLeft+Lm(e),l=-s.scrollTop;return"rtl"===hm(r||n).direction&&(a+=_m(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:i,x:a,y:l}}(mm(e)))}function Bm(e,t,n){var s="clippingParents"===t?function(e){var t=Fm(gm(e)),n=["absolute","fixed"].indexOf(hm(e).position)>=0&&im(e)?ym(e):e;return om(n)?t.filter((function(e){return om(e)&&pm(e,n)&&"body"!==sm(e)})):[]}(e):[].concat(t),r=[].concat(s,[n]),o=r[0],i=r.reduce((function(t,n){var s=Hm(e,n);return t.top=_m(s.top,t.top),t.right=wm(s.right,t.right),t.bottom=wm(s.bottom,t.bottom),t.left=_m(s.left,t.left),t}),Hm(e,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function qm(e){var t,n=e.reference,s=e.element,r=e.placement,o=r?cm(r):null,i=r?Tm(r):null,a=n.x+n.width/2-s.width/2,l=n.y+n.height/2-s.height/2;switch(o){case $f:t={x:a,y:n.y-s.height};break;case Jf:t={x:a,y:n.y+n.height};break;case Xf:t={x:n.x+n.width,y:l};break;case Qf:t={x:n.x-s.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?bm(o):null;if(null!=c){var u="y"===c?"height":"width";switch(i){case"start":t[c]=t[c]-(n[u]/2-s[u]/2);break;case"end":t[c]=t[c]+(n[u]/2-s[u]/2)}}return t}function Gm(e,t){void 0===t&&(t={});var n=t,s=n.placement,r=void 0===s?e.placement:s,o=n.boundary,i=void 0===o?"clippingParents":o,a=n.rootBoundary,l=void 0===a?"viewport":a,c=n.elementContext,u=void 0===c?"popper":c,d=n.altBoundary,p=void 0!==d&&d,h=n.padding,f=void 0===h?0:h,m=Em("number"!=typeof f?f:Sm(f,Zf)),g="popper"===u?"reference":"popper",v=e.rects.popper,y=e.elements[p?g:u],b=Bm(om(y)?y:y.contextElement||mm(e.elements.popper),i,l),_=um(e.elements.reference),w=qm({reference:_,element:v,strategy:"absolute",placement:r}),x=Um(Object.assign({},v,w)),C="popper"===u?x:_,E={top:b.top-C.top+m.top,bottom:C.bottom-b.bottom+m.bottom,left:b.left-C.left+m.left,right:C.right-b.right+m.right},S=e.modifiersData.offset;if("popper"===u&&S){var T=S[r];Object.keys(E).forEach((function(e){var t=[Xf,Jf].indexOf(e)>=0?1:-1,n=[$f,Jf].indexOf(e)>=0?"y":"x";E[e]+=T[n]*t}))}return E}function zm(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Vm(e){return[$f,Xf,Jf,Qf].some((function(t){return e[t]>=0}))}function Wm(e,t,n){void 0===n&&(n=!1);var s=im(t);im(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,s=t.height/e.offsetHeight||1}(t);var r,o,i=mm(t),a=um(e),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&(("body"!==sm(t)||Dm(i))&&(l=(r=t)!==rm(r)&&im(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:Om(r)),im(t)?((c=um(t)).x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=Lm(i))),{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function Ym(e){var t=new Map,n=new Set,s=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var s=t.get(e);s&&r(s)}})),s.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),s}var Km={placement:"bottom",modifiers:[],strategy:"absolute"};function $m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Jm(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,s=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?Km:r;return function(e,t,n){void 0===n&&(n=o);var r,i,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Km,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(n){var r="function"==typeof n?n(a.options):n;d(),a.options=Object.assign({},o,a.options,r),a.scrollParents={reference:om(e)?Fm(e):e.contextElement?Fm(e.contextElement):[],popper:Fm(t)};var i,c,p=function(e){var t=Ym(e);return nm.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((i=[].concat(s,a.options.modifiers),c=i.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return a.orderedModifiers=p.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,s=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var o=r({state:a,name:t,instance:u,options:s}),i=function(){};l.push(o||i)}})),u.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,n=e.popper;if($m(t,n)){a.rects={reference:Wm(t,ym(n),"fixed"===a.options.strategy),popper:dm(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var s=0;s<a.orderedModifiers.length;s++)if(!0!==a.reset){var r=a.orderedModifiers[s],o=r.fn,i=r.options,l=void 0===i?{}:i,d=r.name;"function"==typeof o&&(a=o({state:a,options:l,name:d,instance:u})||a)}else a.reset=!1,s=-1}}},update:(r=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return i||(i=new Promise((function(e){Promise.resolve().then((function(){i=void 0,e(r())}))}))),i}),destroy:function(){d(),c=!0}};if(!$m(e,t))return u;function d(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Xm=Jm({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,s=e.options,r=s.scroll,o=void 0===r||r,i=s.resize,a=void 0===i||i,l=rm(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Im)})),a&&l.addEventListener("resize",n.update,Im),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Im)})),a&&l.removeEventListener("resize",n.update,Im)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=qm({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,s=n.gpuAcceleration,r=void 0===s||s,o=n.adaptive,i=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:cm(t.placement),variation:Tm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Pm(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Pm(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},lm,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,s=e.name,r=n.offset,o=void 0===r?[0,0]:r,i=tm.reduce((function(e,n){return e[n]=function(e,t,n){var s=cm(e),r=[Qf,$f].indexOf(s)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=o[0],a=o[1];return i=i||0,a=(a||0)*r,[Qf,Xf].indexOf(s)>=0?{x:a,y:i}:{x:i,y:a}}(n,t.rects,o),e}),{}),a=i[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[s]=i}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var r=n.mainAxis,o=void 0===r||r,i=n.altAxis,a=void 0===i||i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,f=void 0===h||h,m=n.allowedAutoPlacements,g=t.options.placement,v=cm(g),y=l||(v===g||!f?[km(g)]:function(e){if("auto"===cm(e))return[];var t=km(e);return[Mm(e),t,Mm(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat("auto"===cm(n)?function(e,t){void 0===t&&(t={});var n=t,s=n.placement,r=n.boundary,o=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?tm:l,u=Tm(s),d=u?a?em:em.filter((function(e){return Tm(e)===u})):Zf,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var h=p.reduce((function(t,n){return t[n]=Gm(e,{placement:n,boundary:r,rootBoundary:o,padding:i})[cm(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),_=t.rects.reference,w=t.rects.popper,x=new Map,C=!0,E=b[0],S=0;S<b.length;S++){var T=b[S],A=cm(T),P="start"===Tm(T),I=[$f,Jf].indexOf(A)>=0,N=I?"width":"height",k=Gm(t,{placement:T,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),R=I?P?Xf:Qf:P?Jf:$f;_[N]>w[N]&&(R=km(R));var M=km(R),O=[];if(o&&O.push(k[A]<=0),a&&O.push(k[R]<=0,k[M]<=0),O.every((function(e){return e}))){E=T,C=!1;break}x.set(T,O)}if(C)for(var L=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},D=f?3:1;D>0;D--){if("break"===L(D))break}t.placement!==E&&(t.modifiersData[s]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,s=e.name,r=n.mainAxis,o=void 0===r||r,i=n.altAxis,a=void 0!==i&&i,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,p=n.tether,h=void 0===p||p,f=n.tetherOffset,m=void 0===f?0:f,g=Gm(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=cm(t.placement),y=Tm(t.placement),b=!y,_=bm(v),w="x"===_?"y":"x",x=t.modifiersData.popperOffsets,C=t.rects.reference,E=t.rects.popper,S="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T={x:0,y:0};if(x){if(o||a){var A="y"===_?$f:Qf,P="y"===_?Jf:Xf,I="y"===_?"height":"width",N=x[_],k=x[_]+g[A],R=x[_]-g[P],M=h?-E[I]/2:0,O="start"===y?C[I]:E[I],L="start"===y?-E[I]:-C[I],D=t.elements.arrow,j=h&&D?dm(D):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=F[A],H=F[P],B=Cm(0,C[I],j[I]),q=b?C[I]/2-M-B-U-S:O-B-U-S,G=b?-C[I]/2+M+B+H+S:L+B+H+S,z=t.elements.arrow&&ym(t.elements.arrow),V=z?"y"===_?z.clientTop||0:z.clientLeft||0:0,W=t.modifiersData.offset?t.modifiersData.offset[t.placement][_]:0,Y=x[_]+q-W-V,K=x[_]+G-W;if(o){var $=Cm(h?wm(k,Y):k,N,h?_m(R,K):R);x[_]=$,T[_]=$-N}if(a){var J="x"===_?$f:Qf,X="x"===_?Jf:Xf,Q=x[w],Z=Q+g[J],ee=Q-g[X],te=Cm(h?wm(Z,Y):Z,Q,h?_m(ee,K):ee);x[w]=te,T[w]=te-Q}}t.modifiersData[s]=T}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,s=e.name,r=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,a=cm(n.placement),l=bm(a),c=[Qf,Xf].indexOf(a)>=0?"height":"width";if(o&&i){var u=function(e,t){return Em("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Sm(e,Zf))}(r.padding,n),d=dm(o),p="y"===l?$f:Qf,h="y"===l?Jf:Xf,f=n.rects.reference[c]+n.rects.reference[l]-i[l]-n.rects.popper[c],m=i[l]-n.rects.reference[l],g=ym(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[p],_=v-d[c]-u[h],w=v/2-d[c]/2+y,x=Cm(b,w,_),C=l;n.modifiersData[s]=((t={})[C]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,s=void 0===n?"[data-popper-arrow]":n;null!=s&&("string"!=typeof s||(s=t.elements.popper.querySelector(s)))&&pm(t.elements.popper,s)&&(t.elements.arrow=s)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,s=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,i=Gm(t,{elementContext:"reference"}),a=Gm(t,{altBoundary:!0}),l=zm(i,s),c=zm(a,r,o),u=Vm(l),d=Vm(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});var Qm={u3Tooltip:"u3-cxx-3372c1d8",hidden:"u3-cxx-125b8928",tooltipArrow:"u3-cxx-e6fbbf20"};const Zm=e=>{const[t,n]=f.exports.useState(!1),[s,r]=f.exports.useState(!1),[o,i]=f.exports.useState("init"),a=f.exports.useRef(null),l=f.exports.useRef(null);let c;return f.exports.useEffect((()=>{"before-enter"===o&&a.current&&l.current&&(c=Xm(a.current,l.current,{placement:e.placement||"right-start",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,6]}}],onFirstUpdate:e=>{r(!0)}})),"after-leave"===o&&(r(!1),i("init"),c&&c.destroy())}),[o]),_(f.exports.Fragment,{children:[h.cloneElement(e.children,{ref:a,onMouseEnter:function(){n(!0)},onMouseLeave:function(){n(!1)}}),m(yp,{as:"div",show:t,appear:!0,enter:"u3-transition-opacity u3-duration-75",enterFrom:"u3-opacity-0",enterTo:"u3-opacity-100",leave:"u3-transition-opacity u3-duration-150",leaveFrom:"u3-opacity-100",leaveTo:"u3-opacity-0",beforeEnter:()=>i("before-enter"),afterEnter:()=>i("after-enter"),beforeLeave:()=>i("before-leave"),afterLeave:()=>i("after-leave"),children:m("div",{ref:l,className:E(Qm.u3Tooltip,{[Qm.ready]:s}),children:e.content})})]})},eg=h.forwardRef(((e,t)=>{const[n,s]=f.exports.useState(!1),[r,o]=f.exports.useState(!1),[i,a]=f.exports.useState([]),l=an(e.currentUser),c=k();function u(){s(!1)}f.exports.useEffect((()=>{!l&&n&&(async(t,n)=>{r&&o(!1),n.length||o(!0);const{data:s}=await e.actions.fetchMyChannelsByIds(t,n);a(s.channels),o(!0)})(e.teamId,e.channelIds)}),[n]);return _(f.exports.Fragment,{children:[_("div",{className:E(e.styles.tab,{[e.styles.active]:!e.currentChannelId}),ref:t,onClick:function(){s(!0)},children:[m("div",{className:e.styles.divider}),m("div",{className:e.styles.background,children:m(nh,{tabGeometry:e.styles.tabGeometry})}),m(Zm,{placement:"top",content:"Tham gia nhóm",offset:4,delayWith:"offsetLeft",children:m("div",{className:e.styles.content,children:m(Zp,{className:E("u3-mx-0",e.styles.plusIcon)})})})]}),m(yp,{appear:!0,show:n,as:f.exports.Fragment,children:m(Nd,{as:"div",className:Yf.modalJoinMore,onClose:u,children:_("div",{className:"u3-min-h-screen u3-px-4 u3-text-center",children:[m(yp.Child,{as:f.exports.Fragment,enter:"u3-ease-out u3-duration-300",enterFrom:"u3-opacity-0",enterTo:"u3-opacity-100",leave:"u3-ease-in u3-duration-200",leaveFrom:"u3-opacity-100",leaveTo:"u3-opacity-0",children:m(Nd.Overlay,{className:Yf.modalOverlay})}),m("span",{className:Yf.modalTrickCenter,"aria-hidden":"true",children:"​"}),m(yp.Child,{as:f.exports.Fragment,enter:"u3-ease-out u3-duration-300",enterFrom:"u3-opacity-0 u3-scale-95",enterTo:"u3-opacity-100 u3-scale-100",leave:"u3-ease-in u3-duration-200",leaveFrom:"u3-opacity-100 u3-scale-100",leaveTo:"u3-opacity-0 u3-scale-95",children:_("div",{className:Yf.modalCard,children:[_("div",{className:Yf.modalHeader,children:[m(Nd.Title,{as:"h3",className:Yf.modalCardTitle,children:"Danh sách nhóm"}),m("div",{className:Yf.closeBtn,children:m("button",{type:"button",className:E(Yf.modalButton),onClick:u,children:m(th,{className:Yf.modalButtonIcon})})})]}),l?_("div",{className:Yf.modalBody,children:[_("p",{children:["Bạn đang là ",m("strong",{children:"Khách"}),"."]}),m("p",{children:"Vui lòng Đăng nhập để sử dụng tính năng này!"})]}):m("div",{className:Yf.modalBody,children:r?m(Kf,{teamName:e.teamName,channels:i,channelJoinned:e.channelJoinned,onJoin:function(t){return e.actions.joinChannelIntegrated(e.currentUser.id,e.teamId,t,"")},onView:function(t){u(),c.push(`/${e.teamName}/group/${t}`)},onExit:async t=>{const{data:{nextPage:n}}=await e.actions.leaveChannel(t);console.info("Next page",n),n&&c.replace(n)}}):m("div",{className:Yf.loader,children:m(ih,{})})})]})})]})})})]})}));var tg=v((function(e){const t=ne(e),n=on(e),s=ms(e),r=Z(e,"all"),o=tt(e),i=St(e);return{currentUser:n,channelJoinned:r,channelIds:s,teamId:t,teamName:o.name,currentChannelId:i}}),(function(e){return{actions:y({fetchMyChannelsByIds:te,joinChannelIntegrated:gs,leaveChannel:cc},e)}}),null,{forwardRef:!0})(eg);const ng=[];function sg(e){return e.entities.groups.groups}function rg(e){return e.entities.groups.myGroups}const og=p(lg,(e=>{const t={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n];t[s.name]=s}return t})),ig=p(lg,(e=>new Map(e.map((e=>[`@${e.name}`,e])))));function ag(e,t,n,s){const r=lg(e,n,s);if(!r)return ng;const o=function(e,t){let n=t.toLowerCase();return n.startsWith("@")&&(n=n.substr(1)),e.filter((e=>{if(!e)return!1;const t=[],s=vs((e.name||"").toLowerCase(),qe.AUTOCOMPLETE_SPLIT_CHARACTERS);t.push(...s);const r=(e.display_name||"").toLowerCase();return t.push(r),t.filter((e=>""!==e)).some((e=>e.startsWith(n)))}))}(r,t);return o}function lg(e,t,n){const s=ln(e,t),r=ee(e,n);let o=[];if(s&&s.group_constrained&&r&&r.group_constrained){const s=hg(e,n),r=pg(e,t);o=s.concat(r.filter((e=>s.indexOf(e)<0)))}else o=s&&s.group_constrained?pg(e,t):r&&r.group_constrained?hg(e,n):fg(e);return o}const cg=p(((e,t)=>{var n;return(null==(n=e.entities.teams.groupsAssociatedToTeam[t])?void 0:n.ids)||[]}),(e=>new Set(e))),ug=p(((e,t)=>{var n;return(null==(n=e.entities.channels.groupsAssociatedToChannel[t])?void 0:n.ids)||[]}),(e=>new Set(e)));p(sg,((e,t)=>cg(e,t)),((e,t)=>Object.entries(e).filter((([e])=>!t.has(e))).map((e=>e[1]))));const dg=p(sg,((e,t)=>cg(e,t)),((e,t)=>Object.entries(e).filter((([e])=>t.has(e))).map((e=>e[1]))));p(sg,((e,t)=>ug(e,t)),((e,t,n)=>ln(e,n)),((e,t,n)=>dg(e,n)),((e,t,n,s)=>{let r=Object.values(e).filter((e=>!t.has(e.id)));if(n.group_constrained){const e=s.map((e=>e.id));r=r.filter((t=>null==e?void 0:e.includes(t.id)))}return r})),p(sg,((e,t)=>ug(e,t)),((e,t)=>Object.entries(e).filter((([e])=>t.has(e))).map((e=>e[1]))));const pg=p(sg,((e,t)=>cg(e,t)),((e,t)=>Object.entries(e).filter((([e])=>t.has(e))).filter((e=>e[1].allow_reference&&0===e[1].delete_at)).map((e=>e[1])))),hg=p(sg,((e,t)=>ug(e,t)),((e,t)=>Object.entries(e).filter((([e])=>t.has(e))).filter((e=>e[1].allow_reference&&0===e[1].delete_at)).map((e=>e[1])))),fg=p(sg,(e=>Object.entries(e).filter((e=>e[1].allow_reference&&0===e[1].delete_at)).map((e=>e[1])))),mg=p(fg,(e=>{const t={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n];t[s.name]=s}return t})),gg=p(rg,(e=>Object.values(e).filter((e=>e.allow_reference&&0===e.delete_at)))),vg=p(rg,og,((e,t)=>Object.values(e).filter((e=>e.allow_reference&&0===e.delete_at&&t[e.name])))),yg=p(gg,(e=>{const t=[];return e.forEach((e=>t.push({key:`@${e.name}`}))),t})),bg=p(vg,(e=>{const t=[];return e.forEach((e=>t.push({key:`@${e.name}`}))),t}));p((e=>e.entities.search.current),ne,((e,t)=>e[t])),p((e=>e.entities.search.currentFlagged),ne,((e,t)=>e[t]));const _g=p(ys,yg,((e,t)=>e.concat(t)));var wg=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)},xg=wg;var Cg=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]},Eg=Cg;var Sg=function(e){return function t(n){return 0===arguments.length||Eg(n)?t:e.apply(this,arguments)}},Tg=Sg,Ag=Cg;var Pg=function(e){return function t(n,s){switch(arguments.length){case 0:return t;case 1:return Ag(n)?t:Tg((function(t){return e(n,t)}));default:return Ag(n)&&Ag(s)?t:Ag(n)?Tg((function(t){return e(t,s)})):Ag(s)?Tg((function(t){return e(n,t)})):e(n,s)}}},Ig=Pg(function(e,t){return function(){var n=arguments.length;if(0===n)return t();var s=arguments[n-1];return xg(s)||"function"!=typeof s[e]?t.apply(this,arguments):s[e].apply(s,Array.prototype.slice.call(arguments,0,n-1))}}("forEach",(function(e,t){for(var n=t.length,s=0;s<n;)e(t[s]),s+=1;return t})));var Ng=wg,kg=function(e){return null!=e&&"function"==typeof e["@@transducer/step"]};var Rg=function(e,t,n){return function(){if(0===arguments.length)return n();var s=Array.prototype.slice.call(arguments,0),r=s.pop();if(!Ng(r)){for(var o=0;o<e.length;){if("function"==typeof r[e[o]])return r[e[o]].apply(r,s);o+=1}if(kg(r)){var i=t.apply(null,s);return i(r)}}return n.apply(this,arguments)}};var Mg={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}},Og=Pg,Lg=function(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}},Dg=Mg,jg=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=Dg.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=Lg(this.xf["@@transducer/step"](e,t))),e},e}(),Fg=Pg(Rg(["find"],Og((function(e,t){return new jg(e,t)})),(function(e,t){for(var n=0,s=t.length;n<s;){if(e(t[n]))return t[n];n+=1}})));var Ug=function(e){return function(){return!e.apply(this,arguments)}};var Hg=function(e,t){for(var n=0,s=t.length,r=[];n<s;)e(t[n])&&(r[r.length]=t[n]),n+=1;return r};var Bg=function(e){return"[object Object]"===Object.prototype.toString.call(e)};var qg=wg,Gg=function(e){return"[object String]"===Object.prototype.toString.call(e)},zg=Sg((function(e){return!!qg(e)||!!e&&("object"==typeof e&&(!Gg(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),Vg=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();var Wg=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,s){return t.apply(this,arguments)};case 4:return function(e,n,s,r){return t.apply(this,arguments)};case 5:return function(e,n,s,r,o){return t.apply(this,arguments)};case 6:return function(e,n,s,r,o,i){return t.apply(this,arguments)};case 7:return function(e,n,s,r,o,i,a){return t.apply(this,arguments)};case 8:return function(e,n,s,r,o,i,a,l){return t.apply(this,arguments)};case 9:return function(e,n,s,r,o,i,a,l,c){return t.apply(this,arguments)};case 10:return function(e,n,s,r,o,i,a,l,c,u){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}},Yg=Wg,Kg=zg,$g=function(e){return new Vg(e)},Jg=Pg((function(e,t){return Yg(e.length,(function(){return e.apply(t,arguments)}))}));function Xg(e,t,n){for(var s=n.next();!s.done;){if((t=e["@@transducer/step"](t,s.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}s=n.next()}return e["@@transducer/result"](t)}function Qg(e,t,n,s){return e["@@transducer/result"](n[s](Jg(e["@@transducer/step"],e),t))}var Zg="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";var ev=function(e,t,n){if("function"==typeof e&&(e=$g(e)),Kg(n))return function(e,t,n){for(var s=0,r=n.length;s<r;){if((t=e["@@transducer/step"](t,n[s]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}s+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return Qg(e,t,n,"fantasy-land/reduce");if(null!=n[Zg])return Xg(e,t,n[Zg]());if("function"==typeof n.next)return Xg(e,t,n);if("function"==typeof n.reduce)return Qg(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")},tv=Pg,nv=Mg,sv=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=nv.init,e.prototype["@@transducer/result"]=nv.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),rv=tv((function(e,t){return new sv(e,t)}));var ov=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)},iv=ov,av=Object.prototype.toString,lv=Sg,cv=ov,uv=function(){return"[object Arguments]"===av.call(arguments)?function(e){return"[object Arguments]"===av.call(e)}:function(e){return iv("callee",e)}}(),dv=!{toString:null}.propertyIsEnumerable("toString"),pv=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],hv=function(){return arguments.propertyIsEnumerable("length")}(),fv=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},mv="function"!=typeof Object.keys||hv?lv((function(e){if(Object(e)!==e)return[];var t,n,s=[],r=hv&&uv(e);for(t in e)!cv(t,e)||r&&"length"===t||(s[s.length]=t);if(dv)for(n=pv.length-1;n>=0;)cv(t=pv[n],e)&&!fv(s,t)&&(s[s.length]=t),n-=1;return s})):lv((function(e){return Object(e)!==e?[]:Object.keys(e)})),gv=Hg,vv=Bg,yv=ev,bv=mv,_v=Ug,wv=Pg(Rg(["filter"],rv,(function(e,t){return vv(t)?yv((function(n,s){return e(t[s])&&(n[s]=t[s]),n}),{},bv(t)):gv(e,t)}))),xv=Pg((function(e,t){return wv(_v(e),t)}));var Cv=function(e,t){var n;t=t||[];var s=(e=e||[]).length,r=t.length,o=[];for(n=0;n<s;)o[o.length]=e[n],n+=1;for(n=0;n<r;)o[o.length]=t[n],n+=1;return o},Ev=Wg,Sv=Cg;var Tv=function e(t,n,s){return function(){for(var r=[],o=0,i=t,a=0;a<n.length||o<arguments.length;){var l;a<n.length&&(!Sv(n[a])||o>=arguments.length)?l=n[a]:(l=arguments[o],o+=1),r[a]=l,Sv(l)||(i-=1),a+=1}return i<=0?s.apply(this,r):Ev(i,e(t,r,s))}},Av=Wg,Pv=Sg,Iv=Tv,Nv=Pg((function(e,t){return 1===e?Pv(t):Av(e,Iv(e,[],t))})),kv=Cv,Rv=Nv,Mv=Sg((function(e){return Rv(e.length,(function(){var t=0,n=arguments[0],s=arguments[arguments.length-1],r=Array.prototype.slice.call(arguments,0);return r[0]=function(){var e=n.apply(this,kv(arguments,[t,s]));return t+=1,e},e.apply(this,r)}))}));var Ov=function(e,t){for(var n=0,s=t.length,r=Array(s);n<s;)r[n]=e(t[n]),n+=1;return r},Lv=Pg,Dv=Mg,jv=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Dv.init,e.prototype["@@transducer/result"]=Dv.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),Fv=Ov,Uv=ev,Hv=Nv,Bv=mv,qv=Pg(Rg(["fantasy-land/map","map"],Lv((function(e,t){return new jv(e,t)})),(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return Hv(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return Uv((function(n,s){return n[s]=e(t[s]),n}),{},Bv(t));default:return Fv(e,t)}}))),Gv={},zv={},Vv={},Wv={},Yv=R&&R.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wv,"__esModule",{value:!0});var Kv=Yv({0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}),$v=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};Wv.default=function(e){return e>=55296&&e<=57343||e>1114111?"�":(e in Kv.default&&(e=Kv.default[e]),$v(e))};var Jv={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"};var Xv={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"};var Qv={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'},Zv=R&&R.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vv,"__esModule",{value:!0});var ey=Zv(Wv),ty=Zv(Jv),ny=Zv(Xv),sy=Zv(Qv);function ry(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function oy(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}function iy(e,t,n){var s=e.toLowerCase();return e===s?function(e,r){r===s?e._state=t:(e._state=n,e._index--)}:function(r,o){o===s||o===e?r._state=t:(r._state=n,r._index--)}}function ay(e,t){var n=e.toLowerCase();return function(s,r){r===n||r===e?s._state=t:(s._state=3,s._index--)}}var ly=iy("C",24,16),cy=iy("D",25,16),uy=iy("A",26,16),dy=iy("T",27,16),py=iy("A",28,16),hy=ay("R",35),fy=ay("I",36),my=ay("P",37),gy=ay("T",38),vy=iy("R",40,1),yy=iy("I",41,1),by=iy("P",42,1),_y=iy("T",43,1),wy=ay("Y",45),xy=ay("L",46),Cy=ay("E",47),Ey=iy("Y",49,1),Sy=iy("L",50,1),Ty=iy("E",51,1),Ay=ay("I",54),Py=ay("T",55),Iy=ay("L",56),Ny=ay("E",57),ky=iy("I",58,1),Ry=iy("T",59,1),My=iy("L",60,1),Oy=iy("E",61,1),Ly=iy("#",63,64),Dy=iy("X",66,65),jy=function(){function e(e,t){var n;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=t,this.xmlMode=!!(null==e?void 0:e.xmlMode),this.decodeEntities=null===(n=null==e?void 0:e.decodeEntities)||void 0===n||n}return e.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},e.prototype.write=function(e){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=e,this.parse()},e.prototype.end=function(e){this.ended&&this.cbs.onerror(Error(".end() after done!")),e&&this.write(e),this.ended=!0,this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},e.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},e.prototype.stateText=function(e){"<"===e?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||"&"!==e||1!==this.special&&4!==this.special||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},e.prototype.stateBeforeTagName=function(e){"/"===e?this._state=5:"<"===e?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):">"===e||1!==this.special||ry(e)?this._state=1:"!"===e?(this._state=15,this.sectionStart=this._index+1):"?"===e?(this._state=17,this.sectionStart=this._index+1):oy(e)?(this._state=this.xmlMode||"s"!==e&&"S"!==e?this.xmlMode||"t"!==e&&"T"!==e?3:52:32,this.sectionStart=this._index):this._state=1},e.prototype.stateInTagName=function(e){("/"===e||">"===e||ry(e))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},e.prototype.stateBeforeClosingTagName=function(e){ry(e)||(">"===e?this._state=1:1!==this.special?"s"===e||"S"===e?this._state=33:"t"===e||"T"===e?this._state=53:(this._state=1,this._index--):oy(e)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},e.prototype.stateInClosingTagName=function(e){(">"===e||ry(e))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},e.prototype.stateAfterClosingTagName=function(e){">"===e&&(this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeAttributeName=function(e){">"===e?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):"/"===e?this._state=4:ry(e)||(this._state=9,this.sectionStart=this._index)},e.prototype.stateInSelfClosingTag=function(e){">"===e?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):ry(e)||(this._state=8,this._index--)},e.prototype.stateInAttributeName=function(e){("="===e||"/"===e||">"===e||ry(e))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},e.prototype.stateAfterAttributeName=function(e){"="===e?this._state=11:"/"===e||">"===e?(this.cbs.onattribend(void 0),this._state=8,this._index--):ry(e)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},e.prototype.stateBeforeAttributeValue=function(e){'"'===e?(this._state=12,this.sectionStart=this._index+1):"'"===e?(this._state=13,this.sectionStart=this._index+1):ry(e)||(this._state=14,this.sectionStart=this._index,this._index--)},e.prototype.handleInAttributeValue=function(e,t){e===t?(this.emitToken("onattribdata"),this.cbs.onattribend(t),this._state=8):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,'"')},e.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,"'")},e.prototype.stateInAttributeValueNoQuotes=function(e){ry(e)||">"===e?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateBeforeDeclaration=function(e){this._state="["===e?23:"-"===e?18:16},e.prototype.stateInDeclaration=function(e){">"===e&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateInProcessingInstruction=function(e){">"===e&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeComment=function(e){"-"===e?(this._state=19,this.sectionStart=this._index+1):this._state=16},e.prototype.stateInComment=function(e){"-"===e&&(this._state=21)},e.prototype.stateInSpecialComment=function(e){">"===e&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateAfterComment1=function(e){this._state="-"===e?22:19},e.prototype.stateAfterComment2=function(e){">"===e?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"-"!==e&&(this._state=19)},e.prototype.stateBeforeCdata6=function(e){"["===e?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype.stateInCdata=function(e){"]"===e&&(this._state=30)},e.prototype.stateAfterCdata1=function(e){this._state="]"===e?31:29},e.prototype.stateAfterCdata2=function(e){">"===e?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"]"!==e&&(this._state=29)},e.prototype.stateBeforeSpecialS=function(e){"c"===e||"C"===e?this._state=34:"t"===e||"T"===e?this._state=44:(this._state=3,this._index--)},e.prototype.stateBeforeSpecialSEnd=function(e){2!==this.special||"c"!==e&&"C"!==e?3!==this.special||"t"!==e&&"T"!==e?this._state=1:this._state=48:this._state=39},e.prototype.stateBeforeSpecialLast=function(e,t){("/"===e||">"===e||ry(e))&&(this.special=t),this._state=3,this._index--},e.prototype.stateAfterSpecialLast=function(e,t){">"===e||ry(e)?(this.special=1,this._state=6,this.sectionStart=this._index-t,this._index--):this._state=1},e.prototype.parseFixedEntity=function(e){if(void 0===e&&(e=this.xmlMode?sy.default:ty.default),this.sectionStart+1<this._index){var t=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(e,t)&&(this.emitPartial(e[t]),this.sectionStart=this._index+1)}},e.prototype.parseLegacyEntity=function(){for(var e=this.sectionStart+1,t=Math.min(this._index-e,6);t>=2;){var n=this.buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(ny.default,n))return this.emitPartial(ny.default[n]),void(this.sectionStart+=t+1);t--}},e.prototype.stateInNamedEntity=function(e){";"===e?(this.parseFixedEntity(),1===this.baseState&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(e<"0"||e>"9")&&!oy(e)&&(this.xmlMode||this.sectionStart+1===this._index||(1!==this.baseState?"="!==e&&this.parseFixedEntity(ny.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},e.prototype.decodeNumericEntity=function(e,t,n){var s=this.sectionStart+e;if(s!==this._index){var r=this.buffer.substring(s,this._index),o=parseInt(r,t);this.emitPartial(ey.default(o)),this.sectionStart=n?this._index+1:this._index}this._state=this.baseState},e.prototype.stateInNumericEntity=function(e){";"===e?this.decodeNumericEntity(2,10,!0):(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},e.prototype.stateInHexEntity=function(e){";"===e?this.decodeNumericEntity(3,16,!0):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},e.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(1===this._state?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},e.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var e=this.buffer.charAt(this._index);1===this._state?this.stateText(e):12===this._state?this.stateInAttributeValueDoubleQuotes(e):9===this._state?this.stateInAttributeName(e):19===this._state?this.stateInComment(e):20===this._state?this.stateInSpecialComment(e):8===this._state?this.stateBeforeAttributeName(e):3===this._state?this.stateInTagName(e):6===this._state?this.stateInClosingTagName(e):2===this._state?this.stateBeforeTagName(e):10===this._state?this.stateAfterAttributeName(e):13===this._state?this.stateInAttributeValueSingleQuotes(e):11===this._state?this.stateBeforeAttributeValue(e):5===this._state?this.stateBeforeClosingTagName(e):7===this._state?this.stateAfterClosingTagName(e):32===this._state?this.stateBeforeSpecialS(e):21===this._state?this.stateAfterComment1(e):14===this._state?this.stateInAttributeValueNoQuotes(e):4===this._state?this.stateInSelfClosingTag(e):16===this._state?this.stateInDeclaration(e):15===this._state?this.stateBeforeDeclaration(e):22===this._state?this.stateAfterComment2(e):18===this._state?this.stateBeforeComment(e):33===this._state?this.stateBeforeSpecialSEnd(e):53===this._state?ky(this,e):39===this._state?vy(this,e):40===this._state?yy(this,e):41===this._state?by(this,e):34===this._state?hy(this,e):35===this._state?fy(this,e):36===this._state?my(this,e):37===this._state?gy(this,e):38===this._state?this.stateBeforeSpecialLast(e,2):42===this._state?_y(this,e):43===this._state?this.stateAfterSpecialLast(e,6):44===this._state?wy(this,e):29===this._state?this.stateInCdata(e):45===this._state?xy(this,e):46===this._state?Cy(this,e):47===this._state?this.stateBeforeSpecialLast(e,3):48===this._state?Ey(this,e):49===this._state?Sy(this,e):50===this._state?Ty(this,e):51===this._state?this.stateAfterSpecialLast(e,5):52===this._state?Ay(this,e):54===this._state?Py(this,e):55===this._state?Iy(this,e):56===this._state?Ny(this,e):57===this._state?this.stateBeforeSpecialLast(e,4):58===this._state?Ry(this,e):59===this._state?My(this,e):60===this._state?Oy(this,e):61===this._state?this.stateAfterSpecialLast(e,5):17===this._state?this.stateInProcessingInstruction(e):64===this._state?this.stateInNamedEntity(e):23===this._state?ly(this,e):62===this._state?Ly(this,e):24===this._state?cy(this,e):25===this._state?uy(this,e):30===this._state?this.stateAfterCdata1(e):31===this._state?this.stateAfterCdata2(e):26===this._state?dy(this,e):27===this._state?py(this,e):28===this._state?this.stateBeforeCdata6(e):66===this._state?this.stateInHexEntity(e):65===this._state?this.stateInNumericEntity(e):63===this._state?Dy(this,e):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},e.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var e=this.buffer.substr(this.sectionStart);29===this._state||30===this._state||31===this._state?this.cbs.oncdata(e):19===this._state||21===this._state||22===this._state?this.cbs.oncomment(e):64!==this._state||this.xmlMode?65!==this._state||this.xmlMode?66!==this._state||this.xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this.cbs.ontext(e):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},e.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},e.prototype.emitToken=function(e){this.cbs[e](this.getSection()),this.sectionStart=-1},e.prototype.emitPartial=function(e){1!==this.baseState?this.cbs.onattribdata(e):this.cbs.ontext(e)},e}();Vv.default=jy;var Fy=R&&R.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zv,"__esModule",{value:!0}),zv.Parser=void 0;var Uy=Fy(Vv),Hy=new Set(["input","option","optgroup","select","button","datalist","textarea"]),By=new Set(["p"]),qy={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:By,h1:By,h2:By,h3:By,h4:By,h5:By,h6:By,select:Hy,input:Hy,output:Hy,button:Hy,datalist:Hy,textarea:Hy,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:By,article:By,aside:By,blockquote:By,details:By,div:By,dl:By,fieldset:By,figcaption:By,figure:By,footer:By,form:By,header:By,hr:By,main:By,nav:By,ol:By,pre:By,section:By,table:By,ul:By,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},Gy=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),zy=new Set(["math","svg"]),Vy=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Wy=/\s|\//,Yy=function(){function e(e,t){var n,s,r,o,i;void 0===t&&(t={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=t,this.cbs=null!=e?e:{},this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:!t.xmlMode,this.lowerCaseAttributeNames=null!==(s=t.lowerCaseAttributeNames)&&void 0!==s?s:!t.xmlMode,this.tokenizer=new(null!==(r=t.Tokenizer)&&void 0!==r?r:Uy.default)(this.options,this),null===(i=(o=this.cbs).onparserinit)||void 0===i||i.call(o,this)}return e.prototype.updatePosition=function(e){null===this.endIndex?this.tokenizer.sectionStart<=e?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},e.prototype.ontext=function(e){var t,n;this.updatePosition(1),this.endIndex--,null===(n=(t=this.cbs).ontext)||void 0===n||n.call(t,e)},e.prototype.onopentagname=function(e){var t,n;if(this.lowerCaseTagNames&&(e=e.toLowerCase()),this.tagname=e,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(qy,e))for(var s=void 0;this.stack.length>0&&qy[e].has(s=this.stack[this.stack.length-1]);)this.onclosetag(s);!this.options.xmlMode&&Gy.has(e)||(this.stack.push(e),zy.has(e)?this.foreignContext.push(!0):Vy.has(e)&&this.foreignContext.push(!1)),null===(n=(t=this.cbs).onopentagname)||void 0===n||n.call(t,e),this.cbs.onopentag&&(this.attribs={})},e.prototype.onopentagend=function(){var e,t;this.updatePosition(1),this.attribs&&(null===(t=(e=this.cbs).onopentag)||void 0===t||t.call(e,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&Gy.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},e.prototype.onclosetag=function(e){if(this.updatePosition(1),this.lowerCaseTagNames&&(e=e.toLowerCase()),(zy.has(e)||Vy.has(e))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&Gy.has(e))this.options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this.closeCurrentTag());else{var t=this.stack.lastIndexOf(e);if(-1!==t)if(this.cbs.onclosetag)for(t=this.stack.length-t;t--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=t;else"p"!==e||this.options.xmlMode||(this.onopentagname(e),this.closeCurrentTag())}},e.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},e.prototype.closeCurrentTag=function(){var e,t,n=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===n&&(null===(t=(e=this.cbs).onclosetag)||void 0===t||t.call(e,n),this.stack.pop())},e.prototype.onattribname=function(e){this.lowerCaseAttributeNames&&(e=e.toLowerCase()),this.attribname=e},e.prototype.onattribdata=function(e){this.attribvalue+=e},e.prototype.onattribend=function(e){var t,n;null===(n=(t=this.cbs).onattribute)||void 0===n||n.call(t,this.attribname,this.attribvalue,e),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},e.prototype.getInstructionName=function(e){var t=e.search(Wy),n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("!"+t,"!"+e)}},e.prototype.onprocessinginstruction=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("?"+t,"?"+e)}},e.prototype.oncomment=function(e){var t,n,s,r;this.updatePosition(4),null===(n=(t=this.cbs).oncomment)||void 0===n||n.call(t,e),null===(r=(s=this.cbs).oncommentend)||void 0===r||r.call(s)},e.prototype.oncdata=function(e){var t,n,s,r,o,i;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?(null===(n=(t=this.cbs).oncdatastart)||void 0===n||n.call(t),null===(r=(s=this.cbs).ontext)||void 0===r||r.call(s,e),null===(i=(o=this.cbs).oncdataend)||void 0===i||i.call(o)):this.oncomment("[CDATA["+e+"]]")},e.prototype.onerror=function(e){var t,n;null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,e)},e.prototype.onend=function(){var e,t;if(this.cbs.onclosetag)for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n]));null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)},e.prototype.reset=function(){var e,t,n,s;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],null===(s=(n=this.cbs).onparserinit)||void 0===s||s.call(n,this)},e.prototype.parseComplete=function(e){this.reset(),this.end(e)},e.prototype.write=function(e){this.tokenizer.write(e)},e.prototype.end=function(e){this.tokenizer.end(e)},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){this.tokenizer.resume()},e.prototype.parseChunk=function(e){this.write(e)},e.prototype.done=function(e){this.end(e)},e}();zv.Parser=Yy;var Ky,$y={},Jy={},Xy=R&&R.__extends||(Ky=function(e,t){return(Ky=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ky(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Qy=R&&R.__assign||function(){return Qy=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Qy.apply(this,arguments)};Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.cloneNode=Jy.Element=Jy.NodeWithChildren=Jy.ProcessingInstruction=Jy.Comment=Jy.Text=Jy.DataNode=Jy.Node=void 0;var Zy=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),eb=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var e;return null!==(e=Zy.get(this.type))&&void 0!==e?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),ab(this,e)},e}();Jy.Node=eb;var tb=function(e){function t(t,n){var s=e.call(this,t)||this;return s.data=n,s}return Xy(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(eb);Jy.DataNode=tb;var nb=function(e){function t(t){return e.call(this,"text",t)||this}return Xy(t,e),t}(tb);Jy.Text=nb;var sb=function(e){function t(t){return e.call(this,"comment",t)||this}return Xy(t,e),t}(tb);Jy.Comment=sb;var rb=function(e){function t(t,n){var s=e.call(this,"directive",n)||this;return s.name=t,s}return Xy(t,e),t}(tb);Jy.ProcessingInstruction=rb;var ob=function(e){function t(t,n){var s=e.call(this,t)||this;return s.children=n,s}return Xy(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(eb);Jy.NodeWithChildren=ob;var ib=function(e){function t(t,n,s){void 0===s&&(s=[]);var r=e.call(this,"script"===t?"script":"style"===t?"style":"tag",s)||this;return r.name=t,r.attribs=n,r.attribs=n,r}return Xy(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){return{name:t,value:e.attribs[t]}}))},enumerable:!1,configurable:!0}),t}(ob);function ab(e,t){switch(void 0===t&&(t=!1),e.type){case"text":return new nb(e.data);case"directive":var n=e;return new rb(n.name,n.data);case"comment":return new sb(e.data);case"tag":case"script":case"style":var s=e,r=t?lb(s.children):[],o=new ib(s.name,Qy({},s.attribs),r);return r.forEach((function(e){return e.parent=o})),o;case"cdata":r=t?lb(e.children):[];var i=new ob("cdata",r);return r.forEach((function(e){return e.parent=i})),i;case"doctype":throw new Error("Not implemented yet: ElementType.Doctype case")}}function lb(e){for(var t=e.map((function(e){return ab(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}Jy.Element=ib,Jy.cloneNode=ab,function(e){var t=R&&R.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),n=R&&R.__exportStar||function(e,n){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(n,s)||t(n,e,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var s=Jy;n(Jy,e);var r=/\s+/g,o={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},i=function(){function e(e,t,n){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,"function"==typeof t&&(n=t,t=o),"object"==typeof e&&(t=e,e=void 0),this._callback=null!=e?e:null,this._options=null!=t?t:o,this._elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this._parser=e},e.prototype.onreset=function(){var e;this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null!==(e=this._parser)&&void 0!==e?e:null},e.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this._lastNode=null;var e=this._tagStack.pop();e&&this._parser&&(this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e))},e.prototype.onopentag=function(e,t){var n=new s.Element(e,t);this.addNode(n),this._tagStack.push(n)},e.prototype.ontext=function(e){var t=this._options.normalizeWhitespace,n=this._lastNode;if(n&&"text"===n.type)t?n.data=(n.data+e).replace(r," "):n.data+=e;else{t&&(e=e.replace(r," "));var o=new s.Text(e);this.addNode(o),this._lastNode=o}},e.prototype.oncomment=function(e){if(this._lastNode&&"comment"===this._lastNode.type)this._lastNode.data+=e;else{var t=new s.Comment(e);this.addNode(t),this._lastNode=t}},e.prototype.oncommentend=function(){this._lastNode=null},e.prototype.oncdatastart=function(){var e=new s.Text(""),t=new s.NodeWithChildren("cdata",[e]);this.addNode(t),e.parent=t,this._lastNode=e},e.prototype.oncdataend=function(){this._lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new s.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,s=n[n.length-1];this._parser&&(this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex)),n.push(e),s&&(e.prev=s,s.next=e),t&&(e.parent=t),this._lastNode=null},e.prototype.addDataNode=function(e){this.addNode(e),this._lastNode=e},e}();e.DomHandler=i,e.default=i}($y);var cb,ub,db,pb={};cb=pb,Object.defineProperty(cb,"__esModule",{value:!0}),cb.Doctype=cb.CDATA=cb.Tag=cb.Style=cb.Script=cb.Comment=cb.Directive=cb.Text=cb.Root=cb.isTag=cb.ElementType=void 0,(db=ub=cb.ElementType||(cb.ElementType={})).Root="root",db.Text="text",db.Directive="directive",db.Comment="comment",db.Script="script",db.Style="style",db.Tag="tag",db.CDATA="cdata",db.Doctype="doctype",cb.isTag=function(e){return e.type===ub.Tag||e.type===ub.Script||e.type===ub.Style},cb.Root=ub.Root,cb.Text=ub.Text,cb.Directive=ub.Directive,cb.Comment=ub.Comment,cb.Script=ub.Script,cb.Style=ub.Style,cb.Tag=ub.Tag,cb.CDATA=ub.CDATA,cb.Doctype=ub.Doctype;var hb={},fb={},mb={},gb={},vb={},yb=R&&R.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),bb=R&&R.__assign||function(){return bb=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},bb.apply(this,arguments)};Object.defineProperty(vb,"__esModule",{value:!0}),vb.cloneNode=vb.hasChildren=vb.isDocument=vb.isDirective=vb.isComment=vb.isText=vb.isCDATA=vb.isTag=vb.Element=vb.Document=vb.NodeWithChildren=vb.ProcessingInstruction=vb.Comment=vb.Text=vb.DataNode=vb.Node=void 0;var _b=pb,wb=new Map([[_b.ElementType.Tag,1],[_b.ElementType.Script,1],[_b.ElementType.Style,1],[_b.ElementType.Directive,1],[_b.ElementType.Text,3],[_b.ElementType.CDATA,4],[_b.ElementType.Comment,8],[_b.ElementType.Root,9]]),xb=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var e;return null!==(e=wb.get(this.type))&&void 0!==e?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),Db(this,e)},e}();vb.Node=xb;var Cb=function(e){function t(t,n){var s=e.call(this,t)||this;return s.data=n,s}return yb(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(xb);vb.DataNode=Cb;var Eb=function(e){function t(t){return e.call(this,_b.ElementType.Text,t)||this}return yb(t,e),t}(Cb);vb.Text=Eb;var Sb=function(e){function t(t){return e.call(this,_b.ElementType.Comment,t)||this}return yb(t,e),t}(Cb);vb.Comment=Sb;var Tb=function(e){function t(t,n){var s=e.call(this,_b.ElementType.Directive,n)||this;return s.name=t,s}return yb(t,e),t}(Cb);vb.ProcessingInstruction=Tb;var Ab=function(e){function t(t,n){var s=e.call(this,t)||this;return s.children=n,s}return yb(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(xb);vb.NodeWithChildren=Ab;var Pb=function(e){function t(t){return e.call(this,_b.ElementType.Root,t)||this}return yb(t,e),t}(Ab);vb.Document=Pb;var Ib=function(e){function t(t,n,s,r){void 0===s&&(s=[]),void 0===r&&(r="script"===t?_b.ElementType.Script:"style"===t?_b.ElementType.Style:_b.ElementType.Tag);var o=e.call(this,r,s)||this;return o.name=t,o.attribs=n,o}return yb(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,s;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(s=e["x-attribsPrefix"])||void 0===s?void 0:s[t]}}))},enumerable:!1,configurable:!0}),t}(Ab);function Nb(e){return(0,_b.isTag)(e)}function kb(e){return e.type===_b.ElementType.CDATA}function Rb(e){return e.type===_b.ElementType.Text}function Mb(e){return e.type===_b.ElementType.Comment}function Ob(e){return e.type===_b.ElementType.Directive}function Lb(e){return e.type===_b.ElementType.Root}function Db(e,t){var n;if(void 0===t&&(t=!1),Rb(e))n=new Eb(e.data);else if(Mb(e))n=new Sb(e.data);else if(Nb(e)){var s=t?jb(e.children):[],r=new Ib(e.name,bb({},e.attribs),s);s.forEach((function(e){return e.parent=r})),e["x-attribsNamespace"]&&(r["x-attribsNamespace"]=bb({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(r["x-attribsPrefix"]=bb({},e["x-attribsPrefix"])),n=r}else if(kb(e)){s=t?jb(e.children):[];var o=new Ab(_b.ElementType.CDATA,s);s.forEach((function(e){return e.parent=o})),n=o}else if(Lb(e)){s=t?jb(e.children):[];var i=new Pb(s);s.forEach((function(e){return e.parent=i})),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),n=i}else{if(!Ob(e))throw new Error("Not implemented yet: "+e.type);var a=new Tb(e.name,e.data);null!=e["x-name"]&&(a["x-name"]=e["x-name"],a["x-publicId"]=e["x-publicId"],a["x-systemId"]=e["x-systemId"]),n=a}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,n}function jb(e){for(var t=e.map((function(e){return Db(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}vb.Element=Ib,vb.isTag=Nb,vb.isCDATA=kb,vb.isText=Rb,vb.isComment=Mb,vb.isDirective=Ob,vb.isDocument=Lb,vb.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},vb.cloneNode=Db,function(e){var t=R&&R.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),n=R&&R.__exportStar||function(e,n){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(n,s)||t(n,e,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var s=pb,r=vb;n(vb,e);var o=/\s+/g,i={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},a=function(){function e(e,t,n){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=i),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:i,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?s.ElementType.Tag:void 0,o=new r.Element(e,t,void 0,n);this.addNode(o),this.tagStack.push(o)},e.prototype.ontext=function(e){var t=this.options.normalizeWhitespace,n=this.lastNode;if(n&&n.type===s.ElementType.Text)t?n.data=(n.data+e).replace(o," "):n.data+=e,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{t&&(e=e.replace(o," "));var i=new r.Text(e);this.addNode(i),this.lastNode=i}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===s.ElementType.Comment)this.lastNode.data+=e;else{var t=new r.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new r.Text(""),t=new r.NodeWithChildren(s.ElementType.CDATA,[e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new r.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();e.DomHandler=a,e.default=a}(gb);var Fb={},Ub={},Hb={},Bb=R&&R.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hb,"__esModule",{value:!0}),Hb.decodeHTML=Hb.decodeHTMLStrict=Hb.decodeXML=void 0;var qb=Bb(Jv),Gb=Bb(Xv),zb=Bb(Qv),Vb=Bb(Wv),Wb=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function Yb(e){var t=$b(e);return function(e){return String(e).replace(Wb,t)}}Hb.decodeXML=Yb(zb.default),Hb.decodeHTMLStrict=Yb(qb.default);var Kb=function(e,t){return e<t?1:-1};function $b(e){return function(t){if("#"===t.charAt(1)){var n=t.charAt(2);return"X"===n||"x"===n?Vb.default(parseInt(t.substr(3),16)):Vb.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}Hb.decodeHTML=function(){for(var e=Object.keys(Gb.default).sort(Kb),t=Object.keys(qb.default).sort(Kb),n=0,s=0;n<t.length;n++)e[s]===t[n]?(t[n]+=";?",s++):t[n]+=";";var r=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=$b(qb.default);function i(e){return";"!==e.substr(-1)&&(e+=";"),o(e)}return function(e){return String(e).replace(r,i)}}();var Jb={},Xb=R&&R.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jb,"__esModule",{value:!0}),Jb.escapeUTF8=Jb.escape=Jb.encodeNonAsciiHTML=Jb.encodeHTML=Jb.encodeXML=void 0;var Qb=r_(Xb(Qv).default),Zb=o_(Qb);Jb.encodeXML=u_(Qb);var e_,t_,n_=r_(Xb(Jv).default),s_=o_(n_);function r_(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function o_(e){for(var t=[],n=[],s=0,r=Object.keys(e);s<r.length;s++){var o=r[s];1===o.length?t.push("\\"+o):n.push(o)}t.sort();for(var i=0;i<t.length-1;i++){for(var a=i;a<t.length-1&&t[a].charCodeAt(1)+1===t[a+1].charCodeAt(1);)a+=1;var l=1+a-i;l<3||t.splice(i,l,t[i]+"-"+t[a])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}Jb.encodeHTML=(e_=n_,t_=s_,function(e){return e.replace(t_,(function(e){return e_[e]})).replace(i_,l_)}),Jb.encodeNonAsciiHTML=u_(n_);var i_=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,a_=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function l_(e){return"&#x"+(e.length>1?a_(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var c_=new RegExp(Zb.source+"|"+i_.source,"g");function u_(e){return function(t){return t.replace(c_,(function(t){return e[t]||l_(t)}))}}Jb.escape=function(e){return e.replace(c_,l_)},Jb.escapeUTF8=function(e){return e.replace(Zb,l_)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0;var t=Hb,n=Jb;e.decode=function(e,n){return(!n||n<=0?t.decodeXML:t.decodeHTML)(e)},e.decodeStrict=function(e,n){return(!n||n<=0?t.decodeXML:t.decodeHTMLStrict)(e)},e.encode=function(e,t){return(!t||t<=0?n.encodeXML:n.encodeHTML)(e)};var s=Jb;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return s.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return s.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return s.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return s.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return s.encodeHTML}});var r=Hb;Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return r.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return r.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return r.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return r.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return r.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return r.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return r.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return r.decodeXML}})}(Ub);var d_={};Object.defineProperty(d_,"__esModule",{value:!0}),d_.attributeNames=d_.elementNames=void 0,d_.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),d_.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]]);var p_=R&&R.__assign||function(){return p_=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},p_.apply(this,arguments)},h_=R&&R.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),f_=R&&R.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),m_=R&&R.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h_(t,e,n);return f_(t,e),t};Object.defineProperty(Fb,"__esModule",{value:!0});var g_=m_(pb),v_=Ub,y_=d_,b_=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);var __=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function w_(e,t){void 0===t&&(t={});for(var n=("length"in e?e:[e]),s="",r=0;r<n.length;r++)s+=x_(n[r],t);return s}function x_(e,t){switch(e.type){case g_.Root:return w_(e.children,t);case g_.Directive:case g_.Doctype:return"<"+e.data+">";case g_.Comment:return function(e){return"\x3c!--"+e.data+"--\x3e"}(e);case g_.CDATA:return function(e){return"<![CDATA["+e.children[0].data+"]]>"}(e);case g_.Script:case g_.Style:case g_.Tag:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=y_.elementNames.get(e.name))&&void 0!==n?n:e.name,e.parent&&C_.has(e.parent.name)&&(t=p_(p_({},t),{xmlMode:!1})));!t.xmlMode&&E_.has(e.name)&&(t=p_(p_({},t),{xmlMode:"foreign"}));var s="<"+e.name,r=function(e,t){if(e)return Object.keys(e).map((function(n){var s,r,o=null!==(s=e[n])&&void 0!==s?s:"";return"foreign"===t.xmlMode&&(n=null!==(r=y_.attributeNames.get(n))&&void 0!==r?r:n),t.emptyAttrs||t.xmlMode||""!==o?n+'="'+(!1!==t.decodeEntities?v_.encodeXML(o):o.replace(/"/g,"&quot;"))+'"':n})).join(" ")}(e.attribs,t);r&&(s+=" "+r);0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&__.has(e.name))?(t.xmlMode||(s+=" "),s+="/>"):(s+=">",e.children.length>0&&(s+=w_(e.children,t)),!t.xmlMode&&__.has(e.name)||(s+="</"+e.name+">"));return s}(e,t);case g_.Text:return function(e,t){var n=e.data||"";!1===t.decodeEntities||!t.xmlMode&&e.parent&&b_.has(e.parent.name)||(n=v_.encodeXML(n));return n}(e,t)}}Fb.default=w_;var C_=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),E_=new Set(["svg","math"]);var S_=R&&R.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mb,"__esModule",{value:!0}),mb.innerText=mb.textContent=mb.getText=mb.getInnerHTML=mb.getOuterHTML=void 0;var T_=gb,A_=S_(Fb),P_=pb;function I_(e,t){return(0,A_.default)(e,t)}mb.getOuterHTML=I_,mb.getInnerHTML=function(e,t){return(0,T_.hasChildren)(e)?e.children.map((function(e){return I_(e,t)})).join(""):""},mb.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,T_.isTag)(t)?"br"===t.name?"\n":e(t.children):(0,T_.isCDATA)(t)?e(t.children):(0,T_.isText)(t)?t.data:""},mb.textContent=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,T_.hasChildren)(t)&&!(0,T_.isComment)(t)?e(t.children):(0,T_.isText)(t)?t.data:""},mb.innerText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,T_.hasChildren)(t)&&(t.type===P_.ElementType.Tag||(0,T_.isCDATA)(t))?e(t.children):(0,T_.isText)(t)?t.data:""};var N_={};Object.defineProperty(N_,"__esModule",{value:!0}),N_.prevElementSibling=N_.nextElementSibling=N_.getName=N_.hasAttrib=N_.getAttributeValue=N_.getSiblings=N_.getParent=N_.getChildren=void 0;var k_=gb,R_=[];function M_(e){var t;return null!==(t=e.children)&&void 0!==t?t:R_}function O_(e){return e.parent||null}N_.getChildren=M_,N_.getParent=O_,N_.getSiblings=function(e){var t=O_(e);if(null!=t)return M_(t);for(var n=[e],s=e.prev,r=e.next;null!=s;)n.unshift(s),s=s.prev;for(;null!=r;)n.push(r),r=r.next;return n},N_.getAttributeValue=function(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]},N_.hasAttrib=function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},N_.getName=function(e){return e.name},N_.nextElementSibling=function(e){for(var t=e.next;null!==t&&!(0,k_.isTag)(t);)t=t.next;return t},N_.prevElementSibling=function(e){for(var t=e.prev;null!==t&&!(0,k_.isTag)(t);)t=t.prev;return t};var L_={};function D_(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}Object.defineProperty(L_,"__esModule",{value:!0}),L_.prepend=L_.prependChild=L_.append=L_.appendChild=L_.replaceElement=L_.removeElement=void 0,L_.removeElement=D_,L_.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var s=t.next=e.next;s&&(s.prev=t);var r=t.parent=e.parent;if(r){var o=r.children;o[o.lastIndexOf(e)]=t}},L_.appendChild=function(e,t){if(D_(t),t.next=null,t.parent=e,e.children.push(t)>1){var n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null},L_.append=function(e,t){D_(t);var n=e.parent,s=e.next;if(t.next=s,t.prev=e,e.next=t,t.parent=n,s){if(s.prev=t,n){var r=n.children;r.splice(r.lastIndexOf(s),0,t)}}else n&&n.children.push(t)},L_.prependChild=function(e,t){if(D_(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){var n=e.children[1];n.prev=t,t.next=n}else t.next=null},L_.prepend=function(e,t){D_(t);var n=e.parent;if(n){var s=n.children;s.splice(s.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t};var j_={};Object.defineProperty(j_,"__esModule",{value:!0}),j_.findAll=j_.existsOne=j_.findOne=j_.findOneChild=j_.find=j_.filter=void 0;var F_=gb;function U_(e,t,n,s){for(var r=[],o=0,i=t;o<i.length;o++){var a=i[o];if(e(a)&&(r.push(a),--s<=0))break;if(n&&(0,F_.hasChildren)(a)&&a.children.length>0){var l=U_(e,a.children,n,s);if(r.push.apply(r,l),(s-=l.length)<=0)break}}return r}j_.filter=function(e,t,n,s){return void 0===n&&(n=!0),void 0===s&&(s=1/0),Array.isArray(t)||(t=[t]),U_(e,t,n,s)},j_.find=U_,j_.findOneChild=function(e,t){return t.find(e)},j_.findOne=function e(t,n,s){void 0===s&&(s=!0);for(var r=null,o=0;o<n.length&&!r;o++){var i=n[o];(0,F_.isTag)(i)&&(t(i)?r=i:s&&i.children.length>0&&(r=e(t,i.children)))}return r},j_.existsOne=function e(t,n){return n.some((function(n){return(0,F_.isTag)(n)&&(t(n)||n.children.length>0&&e(t,n.children))}))},j_.findAll=function(e,t){for(var n,s,r=[],o=t.filter(F_.isTag);s=o.shift();){var i=null===(n=s.children)||void 0===n?void 0:n.filter(F_.isTag);i&&i.length>0&&o.unshift.apply(o,i),e(s)&&r.push(s)}return r};var H_={};Object.defineProperty(H_,"__esModule",{value:!0}),H_.getElementsByTagType=H_.getElementsByTagName=H_.getElementById=H_.getElements=H_.testElement=void 0;var B_=gb,q_=j_,G_={tag_name:function(e){return"function"==typeof e?function(t){return(0,B_.isTag)(t)&&e(t.name)}:"*"===e?B_.isTag:function(t){return(0,B_.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return(0,B_.isText)(t)&&e(t.data)}:function(t){return(0,B_.isText)(t)&&t.data===e}}};function z_(e,t){return"function"==typeof t?function(n){return(0,B_.isTag)(n)&&t(n.attribs[e])}:function(n){return(0,B_.isTag)(n)&&n.attribs[e]===t}}function V_(e,t){return function(n){return e(n)||t(n)}}function W_(e){var t=Object.keys(e).map((function(t){var n=e[t];return Object.prototype.hasOwnProperty.call(G_,t)?G_[t](n):z_(t,n)}));return 0===t.length?null:t.reduce(V_)}H_.testElement=function(e,t){var n=W_(e);return!n||n(t)},H_.getElements=function(e,t,n,s){void 0===s&&(s=1/0);var r=W_(e);return r?(0,q_.filter)(r,t,n,s):[]},H_.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),(0,q_.findOne)(z_("id",e),t,n)},H_.getElementsByTagName=function(e,t,n,s){return void 0===n&&(n=!0),void 0===s&&(s=1/0),(0,q_.filter)(G_.tag_name(e),t,n,s)},H_.getElementsByTagType=function(e,t,n,s){return void 0===n&&(n=!0),void 0===s&&(s=1/0),(0,q_.filter)(G_.tag_type(e),t,n,s)};var Y_={};Object.defineProperty(Y_,"__esModule",{value:!0}),Y_.uniqueSort=Y_.compareDocumentPosition=Y_.removeSubsets=void 0;var K_=gb;function $_(e,t){var n=[],s=[];if(e===t)return 0;for(var r=(0,K_.hasChildren)(e)?e:e.parent;r;)n.unshift(r),r=r.parent;for(r=(0,K_.hasChildren)(t)?t:t.parent;r;)s.unshift(r),r=r.parent;for(var o=Math.min(n.length,s.length),i=0;i<o&&n[i]===s[i];)i++;if(0===i)return 1;var a=n[i-1],l=a.children,c=n[i],u=s[i];return l.indexOf(c)>l.indexOf(u)?a===t?20:4:a===e?10:2}Y_.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var s=n.parent;s;s=s.parent)if(e.includes(s)){e.splice(t,1);break}}return e},Y_.compareDocumentPosition=$_,Y_.uniqueSort=function(e){return(e=e.filter((function(e,t,n){return!n.includes(e,t+1)}))).sort((function(e,t){var n=$_(e,t);return 2&n?-1:4&n?1:0})),e};var J_={};Object.defineProperty(J_,"__esModule",{value:!0}),J_.getFeed=void 0;var X_=mb,Q_=H_;J_.getFeed=function(e){var t=nw(ow,e);return t?"feed"===t.name?function(e){var t,n=e.children,s={type:"atom",items:(0,Q_.getElementsByTagName)("entry",n).map((function(e){var t,n=e.children,s={media:tw(n)};rw(s,"id","id",n),rw(s,"title","title",n);var r=null===(t=nw("link",n))||void 0===t?void 0:t.attribs.href;r&&(s.link=r);var o=sw("summary",n)||sw("content",n);o&&(s.description=o);var i=sw("updated",n);return i&&(s.pubDate=new Date(i)),s}))};rw(s,"id","id",n),rw(s,"title","title",n);var r=null===(t=nw("link",n))||void 0===t?void 0:t.attribs.href;r&&(s.link=r);rw(s,"description","subtitle",n);var o=sw("updated",n);o&&(s.updated=new Date(o));return rw(s,"author","email",n,!0),s}(t):function(e){var t,n,s=null!==(n=null===(t=nw("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],r={type:e.name.substr(0,3),id:"",items:(0,Q_.getElementsByTagName)("item",e.children).map((function(e){var t=e.children,n={media:tw(t)};rw(n,"id","guid",t),rw(n,"title","title",t),rw(n,"link","link",t),rw(n,"description","description",t);var s=sw("pubDate",t);return s&&(n.pubDate=new Date(s)),n}))};rw(r,"title","title",s),rw(r,"link","link",s),rw(r,"description","description",s);var o=sw("lastBuildDate",s);o&&(r.updated=new Date(o));return rw(r,"author","managingEditor",s,!0),r}(t):null};var Z_=["url","type","lang"],ew=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function tw(e){return(0,Q_.getElementsByTagName)("media:content",e).map((function(e){for(var t=e.attribs,n={medium:t.medium,isDefault:!!t.isDefault},s=0,r=Z_;s<r.length;s++){t[a=r[s]]&&(n[a]=t[a])}for(var o=0,i=ew;o<i.length;o++){var a;t[a=i[o]]&&(n[a]=parseInt(t[a],10))}return t.expression&&(n.expression=t.expression),n}))}function nw(e,t){return(0,Q_.getElementsByTagName)(e,t,!0,1)[0]}function sw(e,t,n){return void 0===n&&(n=!1),(0,X_.textContent)((0,Q_.getElementsByTagName)(e,t,n,1)).trim()}function rw(e,t,n,s,r){void 0===r&&(r=!1);var o=sw(n,s,r);o&&(e[t]=o)}function ow(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}!function(e){var t=R&&R.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),n=R&&R.__exportStar||function(e,n){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(n,s)||t(n,e,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,n(mb,e),n(N_,e),n(L_,e),n(j_,e),n(H_,e),n(Y_,e),n(J_,e);var s=gb;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return s.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return s.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return s.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return s.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return s.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return s.hasChildren}})}(fb);var iw=R&&R.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function s(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),aw=R&&R.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),lw=R&&R.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cw=R&&R.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&aw(t,e,n);return lw(t,e),t},uw=R&&R.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hb,"__esModule",{value:!0}),hb.parseFeed=hb.FeedHandler=void 0;var dw,pw,hw,fw,mw=uw($y),gw=cw(fb),vw=zv;(pw=dw||(dw={}))[pw.image=0]="image",pw[pw.audio=1]="audio",pw[pw.video=2]="video",pw[pw.document=3]="document",pw[pw.executable=4]="executable",(fw=hw||(hw={}))[fw.sample=0]="sample",fw[fw.full=1]="full",fw[fw.nonstop=2]="nonstop";var yw=function(e){function t(t,n){return"object"==typeof t&&(n=t=void 0),e.call(this,t,n)||this}return iw(t,e),t.prototype.onend=function(){var e,t,n={},s=ww(Sw,this.dom);if(s)if("feed"===s.name){var r=s.children;n.type="atom",Ew(n,"id","id",r),Ew(n,"title","title",r);var o=Cw("href",ww("link",r));o&&(n.link=o),Ew(n,"description","subtitle",r),(i=xw("updated",r))&&(n.updated=new Date(i)),Ew(n,"author","email",r,!0),n.items=_w("entry",r).map((function(e){var t={},n=e.children;Ew(t,"id","id",n),Ew(t,"title","title",n);var s=Cw("href",ww("link",n));s&&(t.link=s);var r=xw("summary",n)||xw("content",n);r&&(t.description=r);var o=xw("updated",n);return o&&(t.pubDate=new Date(o)),t.media=bw(n),t}))}else{var i;r=null!==(t=null===(e=ww("channel",s.children))||void 0===e?void 0:e.children)&&void 0!==t?t:[];n.type=s.name.substr(0,3),n.id="",Ew(n,"title","title",r),Ew(n,"link","link",r),Ew(n,"description","description",r),(i=xw("lastBuildDate",r))&&(n.updated=new Date(i)),Ew(n,"author","managingEditor",r,!0),n.items=_w("item",s.children).map((function(e){var t={},n=e.children;Ew(t,"id","guid",n),Ew(t,"title","title",n),Ew(t,"link","link",n),Ew(t,"description","description",n);var s=xw("pubDate",n);return s&&(t.pubDate=new Date(s)),t.media=bw(n),t}))}this.feed=n,this.handleCallback(s?null:Error("couldn't find root of feed"))},t}(mw.default);function bw(e){return _w("media:content",e).map((function(e){var t={medium:e.attribs.medium,isDefault:!!e.attribs.isDefault};return e.attribs.url&&(t.url=e.attribs.url),e.attribs.fileSize&&(t.fileSize=parseInt(e.attribs.fileSize,10)),e.attribs.type&&(t.type=e.attribs.type),e.attribs.expression&&(t.expression=e.attribs.expression),e.attribs.bitrate&&(t.bitrate=parseInt(e.attribs.bitrate,10)),e.attribs.framerate&&(t.framerate=parseInt(e.attribs.framerate,10)),e.attribs.samplingrate&&(t.samplingrate=parseInt(e.attribs.samplingrate,10)),e.attribs.channels&&(t.channels=parseInt(e.attribs.channels,10)),e.attribs.duration&&(t.duration=parseInt(e.attribs.duration,10)),e.attribs.height&&(t.height=parseInt(e.attribs.height,10)),e.attribs.width&&(t.width=parseInt(e.attribs.width,10)),e.attribs.lang&&(t.lang=e.attribs.lang),t}))}function _w(e,t){return gw.getElementsByTagName(e,t,!0)}function ww(e,t){return gw.getElementsByTagName(e,t,!0,1)[0]}function xw(e,t,n){return void 0===n&&(n=!1),gw.getText(gw.getElementsByTagName(e,t,n,1)).trim()}function Cw(e,t){return t?t.attribs[e]:null}function Ew(e,t,n,s,r){void 0===r&&(r=!1);var o=xw(n,s,r);o&&(e[t]=o)}function Sw(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}hb.FeedHandler=yw;var Tw={xmlMode:!0};hb.parseFeed=function(e,t){void 0===t&&(t=Tw);var n=new yw(t);return new vw.Parser(n,t).end(e),n.feed},function(e){var t=R&&R.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),n=R&&R.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=R&&R.__importStar||function(e){if(e&&e.__esModule)return e;var s={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&t(s,e,r);return n(s,e),s},r=R&&R.__exportStar||function(e,n){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(n,s)||t(n,e,s)},o=R&&R.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.RssHandler=e.DefaultHandler=e.DomUtils=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.DomHandler=e.Parser=void 0;var i=zv;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return i.Parser}});var a=$y;Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return a.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return a.DomHandler}}),e.parseDOM=function(e,t){var n=new a.DomHandler(void 0,t);return new i.Parser(n,t).end(e),n.dom},e.createDomStream=function(e,t,n){var s=new a.DomHandler(e,t,n);return new i.Parser(s,t)};var l=Vv;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return o(l).default}});var c=s(pb);e.ElementType=c,r(hb,e),e.DomUtils=s(fb);var u=hb;Object.defineProperty(e,"RssHandler",{enumerable:!0,get:function(){return u.FeedHandler}})}(Gv);var Aw={shouldProcessEveryNode:function(e){return!0}},Pw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Iw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Nw="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kw="[\\ud800-\\udfff]",Rw="["+Nw+"]",Mw="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",Ow="\\d+",Lw="[\\u2700-\\u27bf]",Dw="[a-z\\xdf-\\xf6\\xf8-\\xff]",jw="[^\\ud800-\\udfff"+Nw+Ow+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Fw="\\ud83c[\\udffb-\\udfff]",Uw="[^\\ud800-\\udfff]",Hw="(?:\\ud83c[\\udde6-\\uddff]){2}",Bw="[\\ud800-\\udbff][\\udc00-\\udfff]",qw="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Gw="(?:"+Dw+"|"+jw+")",zw="(?:"+qw+"|"+jw+")",Vw="(?:"+Mw+"|"+Fw+")"+"?",Ww="[\\ufe0e\\ufe0f]?"+Vw+("(?:\\u200d(?:"+[Uw,Hw,Bw].join("|")+")[\\ufe0e\\ufe0f]?"+Vw+")*"),Yw="(?:"+[Lw,Hw,Bw].join("|")+")"+Ww,Kw="(?:"+[Uw+Mw+"?",Mw,Hw,Bw,kw].join("|")+")",$w=RegExp("['’]","g"),Jw=RegExp(Mw,"g"),Xw=RegExp(Fw+"(?="+Fw+")|"+Kw+Ww,"g"),Qw=RegExp([qw+"?"+Dw+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Rw,qw,"$"].join("|")+")",zw+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Rw,qw+Gw,"$"].join("|")+")",qw+"?"+Gw+"+(?:['’](?:d|ll|m|re|s|t|ve))?",qw+"+(?:['’](?:D|LL|M|RE|S|T|VE))?",Ow,Yw].join("|"),"g"),Zw=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),ex=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tx="object"==typeof R&&R&&R.Object===Object&&R,nx="object"==typeof self&&self&&self.Object===Object&&self,sx=tx||nx||Function("return this")();var rx,ox=(rx={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},function(e){return null==rx?void 0:rx[e]});function ix(e){return Zw.test(e)}function ax(e){return ix(e)?function(e){return e.match(Xw)||[]}(e):function(e){return e.split("")}(e)}var lx=Object.prototype.toString,cx=sx.Symbol,ux=cx?cx.prototype:void 0,dx=ux?ux.toString:void 0;function px(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==lx.call(e)}(e))return dx?dx.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function hx(e,t,n){var s=e.length;return n=void 0===n?s:n,!t&&n>=s?e:function(e,t,n){var s=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++s<r;)o[s]=e[s+t];return o}(e,t,n)}function fx(e){return null==e?"":px(e)}var mx,gx=(mx=function(e,t,n){return t=t.toLowerCase(),e+(n?yx(fx(t).toLowerCase()):t)},function(e){return function(e,t,n,s){var r=-1,o=e?e.length:0;for(s&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}(function(e,t,n){return e=fx(e),void 0===(t=n?void 0:t)?function(e){return ex.test(e)}(e)?function(e){return e.match(Qw)||[]}(e):function(e){return e.match(Pw)||[]}(e):e.match(t)||[]}(function(e){return(e=fx(e))&&e.replace(Iw,ox).replace(Jw,"")}(e).replace($w,"")),mx,"")});var vx,yx=(vx="toUpperCase",function(e){var t=ix(e=fx(e))?ax(e):void 0,n=t?t[0]:e.charAt(0),s=t?hx(t,1).join(""):e.slice(1);return n[vx]()+s});var bx=gx,_x=ov,wx=Sg((function(e){var t=[];for(var n in e)_x(n,e)&&(t[t.length]=[n,e[n]]);return t})),xx=Sg,Cx=Pg,Ex=Cg;var Sx=function(e){return function t(n,s,r){switch(arguments.length){case 0:return t;case 1:return Ex(n)?t:Cx((function(t,s){return e(n,t,s)}));case 2:return Ex(n)&&Ex(s)?t:Ex(n)?Cx((function(t,n){return e(t,s,n)})):Ex(s)?Cx((function(t,s){return e(n,t,s)})):xx((function(t){return e(n,s,t)}));default:return Ex(n)&&Ex(s)&&Ex(r)?t:Ex(n)&&Ex(s)?Cx((function(t,n){return e(t,n,r)})):Ex(n)&&Ex(r)?Cx((function(t,n){return e(t,s,n)})):Ex(s)&&Ex(r)?Cx((function(t,s){return e(n,t,s)})):Ex(n)?xx((function(t){return e(t,s,r)})):Ex(s)?xx((function(t){return e(n,t,r)})):Ex(r)?xx((function(t){return e(n,s,t)})):e(n,s,r)}}}(ev);var Tx=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n};var Ax=function(e,t,n){for(var s=0,r=n.length;s<r;){if(e(t,n[s]))return!0;s+=1}return!1};var Px=function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]};var Ix="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},Nx=Tx,kx=Ax,Rx=Px,Mx=ov,Ox=Ix,Lx=mv,Dx=Sg((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function jx(e,t,n,s){var r=Nx(e),o=Nx(t);function i(e,t){return Fx(e,t,n.slice(),s.slice())}return!kx((function(e,t){return!kx(i,t,e)}),o,r)}function Fx(e,t,n,s){if(Ox(e,t))return!0;var r=Dx(e);if(r!==Dx(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(r){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===Rx(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!Ox(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Ox(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===e)return s[o]===t;o-=1}switch(r){case"Map":return e.size===t.size&&jx(e.entries(),t.entries(),n.concat([e]),s.concat([t]));case"Set":return e.size===t.size&&jx(e.values(),t.values(),n.concat([e]),s.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var i=Lx(e);if(i.length!==Lx(t).length)return!1;var a=n.concat([e]),l=s.concat([t]);for(o=i.length-1;o>=0;){var c=i[o];if(!Mx(c,t)||!Fx(t[c],e[c],a,l))return!1;o-=1}return!0}var Ux=Fx,Hx=Pg((function(e,t){return Ux(e,t,[],[])}));var Bx=function(e,t,n){var s,r;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(s=1/t;n<e.length;){if(0===(r=e[n])&&1/r===s)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(r=e[n])&&r!=r)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(Hx(e[n],t))return n;n+=1}return-1};var qx=Pg((function(e,t){return Bx(t,e,0)>=0})),Gx=["accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","capture","cellPadding","cellSpacing","challenge","charSet","checked","cite","classID","className","colSpan","cols","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","href","hrefLang","htmlFor","httpEquiv","icon","id","inputMode","integrity","is","keyParams","keyType","kind","label","lang","list","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","nonce","open","optimum","pattern","placeholder","poster","preload","profile","radioGroup","readOnly","rel","required","reversed","role","rowSpan","rows","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","spellCheck","src","srcDoc","srcLang","srcSet","start","step","style","summary","tabIndex","target","title","type","useMap","value","width","wmode","wrap","onClick"].concat(["autoCapitalize","autoCorrect","color","itemProp","itemScope","itemType","itemRef","itemID","security","unselectable","results","autoSave"]).concat(["accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baseProfile","baselineShift","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","ideographic","imageRendering","in","in2","intercept","k","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","scale","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","vHanging","vIdeographic","vMathematical","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","viewBox","viewTarget","visibility","widths","wordSpacing","writingMode","x","x1","x2","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlns","xmlnsXlink","xmlBase","xmlLang","xmlSpace","y","y1","y2","yChannelSelector","z","zoomAndPan"]).reduce((function(e,t){var n=t.toLowerCase();return n!==t&&(e[n]=t),e}),{}),zx=bx,Vx=wx,Wx=Sx,Yx=f.exports,Kx=qx,$x=Gx;var Jx=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","truespeed"];var Xx={createElement:function(e,t,n,s){var r={key:t};e.attribs&&(r=Wx((function(e,t){var n=t[0],s=t[1];return"style"===(n=$x[n.replace(/[-:]/,"")]||n)?s=function(e){for(var t,n,s,r=(e=e||"").split(/;(?!base64)/),o={},i=0;i<r.length;++i)(t=r[i].split(":")).length>2&&(t[1]=t.slice(1).join(":")),n=t[0],"string"==typeof(s=t[1])&&(s=s.trim()),null!=n&&null!=s&&n.length>0&&s.length>0&&(o[zx(n)]=s);return o}(s):"class"===n?n="className":"for"===n&&(n="htmlFor"),Kx(n,Jx)&&""===(s||"")&&(s=n),e[n]=s,e}),r,Vx(e.attribs))),s=s||[];var o=null!=n?[n].concat(s):s;return Yx.createElement.apply(null,[e.name,r].concat(o))}},Qx=Xx,Zx=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","menuitem","textarea"];var eC=function(){return{processDefaultNode:function(e,t,n){return"text"===e.type?e.data:"comment"!==e.type&&(Zx.indexOf(e.name)>-1?Qx.createElement(e,n):Qx.createElement(e,n,e.data,t))}}},tC=Aw,nC=eC;var sC=function(){var e=new nC;return{defaultProcessingInstructions:[{shouldProcessNode:tC.shouldProcessEveryNode,processNode:e.processDefaultNode}]}};var rC={alwaysValid:function(){return!0}},oC=Ig,iC=Fg,aC=xv,lC=Mv,cC=qv,uC=Gv.Parser,dC=$y.DomHandler,pC=sC,hC=rC,fC=Xx;var mC={Parser:function(e){function t(e,n,s,r,o){if(n(e)){oC((function(t){t.shouldPreprocessNode(e)&&t.preprocessNode(e,o)}),r||[]);var i=iC((function(t){return t.shouldProcessNode(e)}),s||[]);if(null!=i){var a=aC((function(e){return null==e||!1===e}),lC(cC)((function(e,o){return t(e,n,s,r,o)}),e.children||[]));return i.replaceChildren?fC.createElement(e,o,e.data,[i.processNode(e,a,o)]):i.processNode(e,a,o)}return!1}return!1}function n(n,s,r,o){var i=function(t){(e=e||{}).decodeEntities=!0;var n=new dC;return new uC(n,e).parseComplete(t),n.dom.filter((function(e){return"directive"!==e.type}))}(n),a=i.map((function(e,n){return t(e,s,r,o,n)}));return a.length<=1?a[0]:a}return{parse:function(e){var t=new pC;return n(e,hC.alwaysValid,t.defaultProcessingInstructions)},parseWithInstructions:n}},ProcessingInstructions:sC,IsValidNodeDefinitions:rC,ProcessNodeDefinitions:eC};class gC extends h.PureComponent{constructor(e){super(e),u(this,"handleClick",(e=>{})),u(this,"hideOverlay",(()=>{this.setState({show:!1})})),this.state={show:!1},this.overlayRef=h.createRef()}getUserFromMentionName(){const{usersByUsername:e,mentionName:t}=this.props;let n=t.toLowerCase();for(;n.length>0;){if(e.hasOwnProperty(n))return e[n];if(!/[._-]$/.test(n))break;n=n.substring(0,n.length-1)}return""}getGroupFromMentionName(){const{groupsByName:e,mentionName:t}=this.props,n=t.toLowerCase().replace(/[._-]*$/,"");return(null==e?void 0:e[n])||{}}render(){const e=this.getUserFromMentionName();if(!this.props.disableGroupHighlight&&!e){const e=this.getGroupFromMentionName();if(e.allow_reference)return m("span",{className:"group-mention-link",children:"@"+e.name})}if(!e)return m(h.Fragment,{children:this.props.children});const t=this.props.mentionName.substring(e.username.length);let n="mention-link";return this.props.disableHighlight||e.id!==this.props.currentUserId||(n+=" mention--highlight"),_("span",{children:[m("a",{className:n,onClick:this.handleClick,ref:this.overlayRef,children:"@"+bs(e,this.props.teammateNameDisplay)}),t]})}}u(gC,"propTypes",{children:M.node,currentUserId:M.string.isRequired,channelId:M.string,hasMention:M.bool,disableHighlight:M.bool,disableGroupHighlight:M.bool,isRHS:M.bool,mentionName:M.string.isRequired,teammateNameDisplay:M.string.isRequired,usersByUsername:M.object.isRequired,groupsByName:M.object.isRequired}),u(gC,"defaultProps",{isRHS:!1,hasMention:!1,disableHighlight:!1,disableGroupHighlight:!1});var vC=v((function(e){return{currentUserId:ce(e),teammateNameDisplay:_s(e),usersByUsername:ws(e),groupsByName:mg(e)}}))(gC);var yC=v(((e,{postId:t,imageKey:n})=>({isExpanded:xs(e,t,n)})),(e=>({actions:y({toggleInlineImageVisibility:Cs},e)})))((({children:e,alt:t,isExpanded:n,postId:s,actions:r,onToggle:o,imageKey:i})=>{const{toggleInlineImageVisibility:a}=r;f.exports.useEffect((()=>{o(n)}),[n]);const l=()=>{a(s,i)};return _("div",{className:"markdown-image-expand "+(n?"markdown-image-expand--expanded":""),children:[n&&_(O,{children:[m("button",{className:"markdown-image-expand__collapse-button",type:"button",onClick:l,children:m("span",{className:"icon icon-menu-down"})}),e]}),!n&&_("button",{className:"markdown-image-expand__expand-button",type:"button",onClick:l,children:[m("span",{className:"icon icon-menu-right markdown-image-expand__expand-icon"}),m("span",{className:"markdown-image-expand__alt-text",children:t})]})]})}));class bC extends h.PureComponent{constructor(){super(...arguments),u(this,"isSVGImage",(()=>this.props.imageMetadata?"svg"===this.props.imageMetadata.format:-1!==this.props.src.indexOf(".svg"))),u(this,"shouldRenderImage",(()=>this.props.enableSVGs||!this.isSVGImage()))}render(){let e=Es(this.props.src,this.props.hasImageProxy);return this.shouldRenderImage()||(e=""),this.props.children(e)}}var _C=v((function(e){const t=Ie(e);return{enableSVGs:"true"===t.EnableSVGs,hasImageProxy:"true"===t.HasImageProxy}}))(bC);function wC(e){return Ce.getFileRoute(e)}function xC(e){return`${Ce.getFileRoute(e)}?download=1`}function CC(e,t){return t&&Ce.getCdnEndpoint()?`${Ce.getCdnEndpoint()}/${t.replace(/ /g,"%20")}`:`${Ce.getFileRoute(e)}/thumbnail`}function EC(e,t){return t&&Ce.getCdnEndpoint()?`${Ce.getCdnEndpoint()}/${t}`:`${Ce.getFileRoute(e)}/preview`}function SC(e=[],t=qe.DEFAULT_LOCALE){return e.sort(((e,n)=>e.create_at!==n.create_at?e.create_at-n.create_at:e.name.localeCompare(n.name,t,{numeric:!0})))}const TC=({loading:e,progress:t,containerClass:n})=>{let s=m("span",{className:"loader-percent"});return t&&(s=m("span",{className:"loader-percent",children:`${e} ${t}%`})),_("div",{className:n,children:[m(ih,{}),s]})};TC.defaultProps={containerClass:"view-image__loading"};class AC extends h.PureComponent{constructor(e){super(e),u(this,"dimensionsAvailable",(e=>e&&e.width&&e.height)),u(this,"isSmallImage",((e,t)=>e<48||t<48)),u(this,"handleLoad",(e=>{if(this.mounted){const t=e.target,n=this.isSmallImage(t.naturalWidth,t.naturalHeight);this.setState({loaded:!0,error:!1,isSmallImage:n,imageWidth:t.naturalWidth},(()=>{this.props.onImageLoaded&&t.naturalHeight&&this.props.onImageLoaded({height:t.naturalHeight,width:t.naturalWidth})}))}})),u(this,"handleError",(()=>{this.mounted&&(this.props.onImageLoadFail&&this.props.onImageLoadFail(),this.setState({error:!0}))})),u(this,"onEnterKeyDown",(e=>{"Enter"===e.key&&this.props.onClick(e)})),u(this,"renderImageLoaderIfNeeded",(()=>this.state.loaded||!this.props.showLoader||this.state.error?null:m("div",{style:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"},children:m(TC,{containerClass:"file__image-loading"})}))),u(this,"renderImageWithContainerIfNeeded",(()=>{const e=this.props,{fileInfo:t,src:n}=e,s=c(e,["fileInfo","src"]);Reflect.deleteProperty(s,"showLoader"),Reflect.deleteProperty(s,"onImageLoaded"),Reflect.deleteProperty(s,"onImageLoadFail"),Reflect.deleteProperty(s,"dimensions"),Reflect.deleteProperty(s,"handleSmallImageContainer");let r=ds("file_attachment.thumbnail","file thumbnail");t&&(r+=` ${t.name}`.toLowerCase());let o="";t&&t.has_preview_image&&n&&(o=EC(t.id,t.preview_path));const i=m("img",l(a({},s),{"aria-label":r,tabIndex:0,onKeyDown:this.onEnterKeyDown,className:this.props.className+(this.props.handleSmallImageContainer&&this.state.isSmallImage?" small-image--inside-container":""),src:o||n,onError:this.handleError,onLoad:this.handleLoad}));if(this.props.handleSmallImageContainer&&this.state.isSmallImage){let e="small-image__container cursor--pointer a11y--active";return this.state.imageWidth<48&&(e+=" small-image__container--min-width"),m("div",{onClick:this.props.onClick,className:e,style:this.state.imageWidth>48?{width:this.state.imageWidth+2}:{},children:i})}return i})),u(this,"renderImageOrPlaceholder",(()=>{const{dimensions:e}=this.props;let t;this.dimensionsAvailable(e)&&!this.state.loaded&&(t=_("div",{className:`image-loading__container ${this.props.className}`,style:{maxWidth:e.width},children:[this.renderImageLoaderIfNeeded(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e.width} ${e.height}`,style:{maxHeight:e.height,maxWidth:e.width,verticalAlign:"middle"}})]}));const n=!this.dimensionsAvailable(e)||this.state.loaded;return _(h.Fragment,{children:[t,m("div",{className:"file-preview__button",style:{display:n?"initial":"none"},children:this.renderImageWithContainerIfNeeded()})]})}));const{dimensions:t}=e;this.state={loaded:!1,isSmallImage:!!this.dimensionsAvailable(t)&&this.isSmallImage(t.width,t.height)},this.heightTimeout=0}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){return this.renderImageOrPlaceholder()}}function PC(e){const t="true"===e.EnableFileAttachments,n="true"===e.EnableMobileFileUpload;return!!t&&(!Ss()||n)}function IC(e){return!Ss()||"true"===e.EnableMobileFileDownload}function NC(e){let t=e;return e.length>re.MAX_FILENAME_LENGTH&&(t=e.substring(0,Math.min(re.MAX_FILENAME_LENGTH,e.length))+"..."),t}u(AC,"propTypes",{src:M.string.isRequired,dimensions:M.object,fileInfo:M.object,showLoader:M.bool,onImageLoaded:M.func,onImageLoadFail:M.func,onClick:M.func,className:M.string,handleSmallImageContainer:M.bool});var kC="u3-cxx-065f0b75",RC="u3-cxx-2e313371",MC="u3-cxx-fb7426dd",OC="u3-cxx-4b8438a1",LC="u3-cxx-a6485c94",DC="u3-cxx-16fcda50",jC="u3-cxx-2598fd91",FC="u3-cxx-68958d19",UC="u3-cxx-37341c94",HC="u3-cxx-3a2274a0",BC="u3-cxx-d8a51845",qC="u3-cxx-e2b9eb07";function GC(e){let[t,n]=f.exports.useState(e.show),[s,r]=f.exports.useState(!1),o=f.exports.useRef();return f.exports.useEffect((()=>(r(!0),()=>{r(!1)})),[]),f.exports.useEffect((()=>{e.show||n(!1),e.show&&!t&&n(!0),!e.show&&s&&"function"==typeof e.onExited&&e.onExited()}),[e.show]),m(yp,{appear:!0,show:t,as:f.exports.Fragment,children:m(Nd,{as:"div",ref:o,className:E(kC,e.dialogClassName),onClose:function(){n(!1),"function"==typeof e.onHide&&e.onHide()},unmount:!0,children:_("div",{className:RC,children:[m(yp.Child,{as:f.exports.Fragment,enter:"u3-ease-out u3-duration-300",enterFrom:"u3-opacity-0",enterTo:"u3-opacity-100",leave:"u3-ease-in u3-duration-200",leaveFrom:"u3-opacity-100",leaveTo:"u3-opacity-0",children:m(Nd.Overlay,{className:MC})}),m("span",{className:OC,"aria-hidden":"true",children:"​"}),m(yp.Child,{as:f.exports.Fragment,enter:"u3-ease-out u3-duration-300",enterFrom:"u3-opacity-0 u3-scale-95",enterTo:"u3-opacity-100 u3-scale-100",leave:"u3-ease-in u3-duration-200",leaveFrom:"u3-opacity-100 u3-scale-100",leaveTo:"u3-opacity-0 u3-scale-95",beforeEnter:function(){"function"==typeof e.onEnter&&e.onEnter()},afterEnter:function(){"function"==typeof e.onEntered&&e.onEntered()},beforeLeave:function(){"function"==typeof e.onExit&&e.onExit()},afterLeave:function(){"function"==typeof e.onExited&&e.onExited()},children:m("div",{className:LC,children:e.children})})]})})})}var zC=e=>{let t=null;return e.closeButton&&(t=m("div",{className:FC,children:m("button",{type:"button",className:E(UC),onClick:e.onClose,children:m(th,{className:HC})})})),_("div",{className:DC,children:[m(Nd.Title,{as:"h3",className:jC,children:e.children}),t]})},VC=e=>m("div",{className:BC,children:e.children}),WC=e=>m("div",{className:qC,children:e.children}),YC=e=>e.children;class KC extends h.PureComponent{render(){const e=this.props.fileInfo,t=this.props.fileUrl,n=[];""!==e.extension&&n.push(ds("file_info_preview.type","File type ")+e.extension.toUpperCase()),e.size&&n.push(ds("file_info_preview.size","Size ")+Ts(e.size));const s=n.join(", ");let r=null;return r=this.props.canDownloadFiles?_("a",{className:"file-details__preview",href:t,target:"_blank",rel:"noopener noreferrer",children:[m("span",{className:"file-details__preview-helper"}),m("img",{alt:"file preview",src:As(e),loading:"lazy"})]}):_("span",{className:"file-details__preview",children:[m("span",{className:"file-details__preview-helper"}),m("img",{alt:"file preview",src:As(e),loading:"lazy"})]}),_("div",{className:"file-details__container",children:[r,_("div",{className:"file-details",children:[m("div",{className:"file-details__name",children:e.name}),m("div",{className:"file-details__info",children:s})]})]})}}var $C,JC,XC=v((function(e){return{canDownloadFiles:IC(Ie(e))}}))(KC),QC={exports:{}};$C="undefined"!=typeof window?window:R,JC=function(e,t){var n=[],s=Object.getPrototypeOf,r=n.slice,o=function(e){return n.concat.apply([],e)},i=n.push,a=n.indexOf,l={},c=l.toString,u=l.hasOwnProperty,d=u.toString,p=d.call(Object),h={},f=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},g=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var s,r,o=(n=n||g).createElement("script");if(o.text=e,t)for(s in v)(r=t[s]||t.getAttribute&&t.getAttribute(s))&&o.setAttribute(s,r);n.head.appendChild(o).parentNode.removeChild(o)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var _="3.6.0",w=function(e,t){return new w.fn.init(e,t)};function x(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!f(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:_,constructor:w,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:i,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,s,r,o,i=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof i&&(c=i,i=arguments[a]||{},a++),"object"==typeof i||f(i)||(i={}),a===l&&(i=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)s=e[t],"__proto__"!==t&&i!==s&&(c&&s&&(w.isPlainObject(s)||(r=Array.isArray(s)))?(n=i[t],o=r&&!Array.isArray(n)?[]:r||w.isPlainObject(n)?n:{},r=!1,i[t]=w.extend(c,o,s)):void 0!==s&&(i[t]=s));return i},w.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=s(e))&&("function"!=typeof(n=u.call(t,"constructor")&&t.constructor)||d.call(n)!==p))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,s=0;if(x(e))for(n=e.length;s<n&&!1!==t.call(e[s],s,e[s]);s++);else for(s in e)if(!1===t.call(e[s],s,e[s]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?w.merge(n,"string"==typeof e?[e]:e):i.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,s=0,r=e.length;s<n;s++)e[r++]=t[s];return e.length=r,e},grep:function(e,t,n){for(var s=[],r=0,o=e.length,i=!n;r<o;r++)!t(e[r],r)!==i&&s.push(e[r]);return s},map:function(e,t,n){var s,r,i=0,a=[];if(x(e))for(s=e.length;i<s;i++)null!=(r=t(e[i],i,n))&&a.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&a.push(r);return o(a)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var C=function(e){var t,n,s,r,o,i,a,l,c,u,d,p,h,f,m,g,v,y,b,_="sizzle"+1*new Date,w=e.document,x=0,C=0,E=le(),S=le(),T=le(),A=le(),P=function(e,t){return e===t&&(d=!0),0},I={}.hasOwnProperty,N=[],k=N.pop,R=N.push,M=N.push,O=N.slice,L=function(e,t){for(var n=0,s=e.length;n<s;n++)if(e[n]===t)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\[[\\x20\\t\\r\\n\\f]*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",H=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",B=new RegExp(j+"+","g"),q=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),G=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),z=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),V=new RegExp(j+"|>"),W=new RegExp(H),Y=new RegExp("^"+F+"$"),K={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},$=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},se=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){p()},ie=_e((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{M.apply(N=O.call(w.childNodes),w.childNodes),N[w.childNodes.length].nodeType}catch(Se){M={apply:N.length?function(e,t){R.apply(e,O.call(t))}:function(e,t){for(var n=e.length,s=0;e[n++]=t[s++];);e.length=n-1}}}function ae(e,t,s,r){var o,a,c,u,d,f,v,y=t&&t.ownerDocument,w=t?t.nodeType:9;if(s=s||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return s;if(!r&&(p(t),t=t||h,m)){if(11!==w&&(d=Z.exec(e)))if(o=d[1]){if(9===w){if(!(c=t.getElementById(o)))return s;if(c.id===o)return s.push(c),s}else if(y&&(c=y.getElementById(o))&&b(t,c)&&c.id===o)return s.push(c),s}else{if(d[2])return M.apply(s,t.getElementsByTagName(e)),s;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return M.apply(s,t.getElementsByClassName(o)),s}if(n.qsa&&!A[e+" "]&&(!g||!g.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===w&&(V.test(e)||z.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(se,re):t.setAttribute("id",u=_)),a=(f=i(e)).length;a--;)f[a]=(u?"#"+u:":scope")+" "+be(f[a]);v=f.join(",")}try{return M.apply(s,y.querySelectorAll(v)),s}catch(x){A(e,!0)}finally{u===_&&t.removeAttribute("id")}}}return l(e.replace(q,"$1"),t,s,r)}function le(){var e=[];return function t(n,r){return e.push(n+" ")>s.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[_]=!0,e}function ue(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(Se){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),r=n.length;r--;)s.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,s=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(s)return s;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,s){for(var r,o=e([],n.length,t),i=o.length;i--;)n[r=o[i]]&&(n[r]=!(s[r]=n[r]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},o=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!$.test(t||n&&n.nodeName||"HTML")},p=ae.setDocument=function(e){var t,r,i=e?e.ownerDocument||e:w;return i!=h&&9===i.nodeType&&i.documentElement?(f=(h=i).documentElement,m=!o(h),w!=h&&(r=h.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",oe,!1):r.attachEvent&&r.attachEvent("onunload",oe)),n.scope=ue((function(e){return f.appendChild(e).appendChild(h.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(h.getElementsByClassName),n.getById=ue((function(e){return f.appendChild(e).id=_,!h.getElementsByName||!h.getElementsByName(_).length})),n.getById?(s.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},s.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(s.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},s.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,s,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),s=0;o=r[s++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),s.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,s=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&s.push(n);return s}return o},s.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Q.test(h.querySelectorAll))&&(ue((function(e){var t;f.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+D+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",H)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(f.compareDocumentPosition),b=t||Q.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!(!s||1!==s.nodeType||!(n.contains?n.contains(s):e.compareDocumentPosition&&16&e.compareDocumentPosition(s)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},P=t?function(e,t){if(e===t)return d=!0,0;var s=!e.compareDocumentPosition-!t.compareDocumentPosition;return s||(1&(s=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===s?e==h||e.ownerDocument==w&&b(w,e)?-1:t==h||t.ownerDocument==w&&b(w,t)?1:u?L(u,e)-L(u,t):0:4&s?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,s=0,r=e.parentNode,o=t.parentNode,i=[e],a=[t];if(!r||!o)return e==h?-1:t==h?1:r?-1:o?1:u?L(u,e)-L(u,t):0;if(r===o)return pe(e,t);for(n=e;n=n.parentNode;)i.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;i[s]===a[s];)s++;return s?pe(i[s],a[s]):i[s]==w?-1:a[s]==w?1:0},h):h},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&m&&!A[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var s=y.call(e,t);if(s||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return s}catch(Se){A(t,!0)}return ae(t,h,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=h&&p(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=h&&p(e);var r=s.attrHandle[t.toLowerCase()],o=r&&I.call(s.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ae.escape=function(e){return(e+"").replace(se,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,s=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(P),d){for(;t=e[o++];)t===e[o]&&(r=s.push(o));for(;r--;)e.splice(s[r],1)}return u=null,e},r=ae.getText=function(e){var t,n="",s=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[s++];)n+=r(t);return n},(s=ae.selectors={cacheLength:50,createPseudo:ce,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=i(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+j+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(s){var r=ae.attr(s,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,s,r){var o="nth"!==e.slice(0,3),i="last"!==e.slice(-4),a="of-type"===t;return 1===s&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,h,f,m=o!==i?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[i?g.firstChild:g.lastChild],i&&y){for(b=(h=(c=(u=(d=(p=g)[_]||(p[_]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],p=h&&g.childNodes[h];p=++h&&p&&p[m]||(b=h=0)||f.pop();)if(1===p.nodeType&&++b&&p===t){u[e]=[x,h,b];break}}else if(y&&(b=h=(c=(u=(d=(p=t)[_]||(p[_]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===b)for(;(p=++h&&p&&p[m]||(b=h=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(y&&((u=(d=p[_]||(p[_]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]=[x,b]),p!==t)););return(b-=r)===s||b%s==0&&b/s>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[_]?r(t):r.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var s,o=r(e,t),i=o.length;i--;)e[s=L(e,o[i])]=!(n[s]=o[i])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ce((function(e){var t=[],n=[],s=a(e.replace(q,"$1"));return s[_]?ce((function(e,t,n,r){for(var o,i=s(e,null,r,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))})):function(e,r,o){return t[0]=e,s(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return ae(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:ce((function(e){return Y.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var s=n<0?n+t:n>t?t:n;--s>=0;)e.push(s);return e})),gt:ge((function(e,t,n){for(var s=n<0?n+t:n;++s<t;)e.push(s);return e}))}}).pseudos.nth=s.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})s.pseudos[t]=fe(t);function ye(){}function be(e){for(var t=0,n=e.length,s="";t<n;t++)s+=e[t].value;return s}function _e(e,t,n){var s=t.dir,r=t.next,o=r||s,i=n&&"parentNode"===o,a=C++;return t.first?function(t,n,r){for(;t=t[s];)if(1===t.nodeType||i)return e(t,n,r);return!1}:function(t,n,l){var c,u,d,p=[x,a];if(l){for(;t=t[s];)if((1===t.nodeType||i)&&e(t,n,l))return!0}else for(;t=t[s];)if(1===t.nodeType||i)if(u=(d=t[_]||(t[_]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[s]||t;else{if((c=u[o])&&c[0]===x&&c[1]===a)return p[2]=c[2];if(u[o]=p,p[2]=e(t,n,l))return!0}return!1}}function we(e){return e.length>1?function(t,n,s){for(var r=e.length;r--;)if(!e[r](t,n,s))return!1;return!0}:e[0]}function xe(e,t,n,s,r){for(var o,i=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,s,r)||(i.push(o),c&&t.push(a)));return i}function Ce(e,t,n,s,r,o){return s&&!s[_]&&(s=Ce(s)),r&&!r[_]&&(r=Ce(r,o)),ce((function(o,i,a,l){var c,u,d,p=[],h=[],f=i.length,m=o||function(e,t,n){for(var s=0,r=t.length;s<r;s++)ae(e,t[s],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!o&&t?m:xe(m,p,e,a,l),v=n?r||(o?e:f||s)?[]:i:g;if(n&&n(g,v,a,l),s)for(c=xe(v,h),s(c,[],a,l),u=c.length;u--;)(d=c[u])&&(v[h[u]]=!(g[h[u]]=d));if(o){if(r||e){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?L(o,d):p[u])>-1&&(o[c]=!(i[c]=d))}}else v=xe(v===i?v.splice(f,v.length):v),r?r(null,i,v,l):M.apply(i,v)}))}function Ee(e){for(var t,n,r,o=e.length,i=s.relative[e[0].type],a=i||s.relative[" "],l=i?1:0,u=_e((function(e){return e===t}),a,!0),d=_e((function(e){return L(t,e)>-1}),a,!0),p=[function(e,n,s){var r=!i&&(s||n!==c)||((t=n).nodeType?u(e,n,s):d(e,n,s));return t=null,r}];l<o;l++)if(n=s.relative[e[l].type])p=[_e(we(p),n)];else{if((n=s.filter[e[l].type].apply(null,e[l].matches))[_]){for(r=++l;r<o&&!s.relative[e[r].type];r++);return Ce(l>1&&we(p),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),n,l<r&&Ee(e.slice(l,r)),r<o&&Ee(e=e.slice(r)),r<o&&be(e))}p.push(n)}return we(p)}return ye.prototype=s.filters=s.pseudos,s.setFilters=new ye,i=ae.tokenize=function(e,t){var n,r,o,i,a,l,c,u=S[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=s.preFilter;a;){for(i in n&&!(r=G.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(q," ")}),a=a.slice(n.length)),s.filter)!(r=K[i].exec(a))||c[i]&&!(r=c[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):S(e,l).slice(0)},a=ae.compile=function(e,t){var n,r=[],o=[],a=T[e+" "];if(!a){for(t||(t=i(e)),n=t.length;n--;)(a=Ee(t[n]))[_]?r.push(a):o.push(a);a=T(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,i,a,l,u){var d,f,g,v=0,y="0",b=o&&[],_=[],w=c,C=o||r&&s.find.TAG("*",u),E=x+=null==w?1:Math.random()||.1,S=C.length;for(u&&(c=i==h||i||u);y!==S&&null!=(d=C[y]);y++){if(r&&d){for(f=0,i||d.ownerDocument==h||(p(d),a=!m);g=e[f++];)if(g(d,i||h,a)){l.push(d);break}u&&(x=E)}n&&((d=!g&&d)&&v--,o&&b.push(d))}if(v+=y,n&&y!==v){for(f=0;g=t[f++];)g(b,_,i,a);if(o){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=k.call(l));_=xe(_)}M.apply(l,_),u&&!o&&_.length>0&&v+t.length>1&&ae.uniqueSort(l)}return u&&(x=E,c=w),b};return n?ce(o):o}(o,r)),a.selector=e}return a},l=ae.select=function(e,t,n,r){var o,l,c,u,d,p="function"==typeof e&&e,h=!r&&i(e=p.selector||e);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&s.relative[l[1].type]){if(!(t=(s.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=K.needsContext.test(e)?0:l.length;o--&&(c=l[o],!s.relative[u=c.type]);)if((d=s.find[u])&&(r=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&be(l)))return M.apply(n,r),n;break}}return(p||a(e,h))(r,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=_.split("").sort(P).join("")===_,n.detectDuplicates=!!d,p(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||de(D,(function(e,t,n){var s;if(!n)return!0===e[t]?t.toLowerCase():(s=e.getAttributeNode(t))&&s.specified?s.value:null})),ae}(e);w.find=C,w.expr=C.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=C.uniqueSort,w.text=C.getText,w.isXMLDoc=C.isXML,w.contains=C.contains,w.escapeSelector=C.escape;var E=function(e,t,n){for(var s=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&w(e).is(n))break;s.push(e)}return s},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=w.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(e,t,n){return f(t)?w.grep(e,(function(e,s){return!!t.call(e,s,e)!==n})):t.nodeType?w.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?w.grep(e,(function(e){return a.call(t,e)>-1!==n})):w.filter(t,e,n)}w.filter=function(e,t,n){var s=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===s.nodeType?w.find.matchesSelector(s,e)?[s]:[]:w.find.matches(e,w.grep(t,(function(e){return 1===e.nodeType})))},w.fn.extend({find:function(e){var t,n,s=this.length,r=this;if("string"!=typeof e)return this.pushStack(w(e).filter((function(){for(t=0;t<s;t++)if(w.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<s;t++)w.find(e,r[t],n);return s>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&T.test(e)?w(e):e||[],!1).length}});var N,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var s,r;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(s="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:k.exec(e))||!s[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(s[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(s[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),P.test(s[1])&&w.isPlainObject(t))for(s in t)f(this[s])?this[s](t[s]):this.attr(s,t[s]);return this}return(r=g.getElementById(s[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,N=w(g);var R=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0}))},closest:function(e,t){var n,s=0,r=this.length,o=[],i="string"!=typeof e&&w(e);if(!T.test(e))for(;s<r;s++)for(n=this[s];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(i?i.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?a.call(w(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},(function(e,t){w.fn[e]=function(n,s){var r=w.map(this,t,n);return"Until"!==e.slice(-5)&&(s=n),s&&"string"==typeof s&&(r=w.filter(s,r)),this.length>1&&(M[e]||w.uniqueSort(r),R.test(e)&&r.reverse()),this.pushStack(r)}}));var L=/[^\x20\t\r\n\f]+/g;function D(e){return e}function j(e){throw e}function F(e,t,n,s){var r;try{e&&f(r=e.promise)?r.call(e).done(t).fail(n):e&&f(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(s))}catch(o){n.apply(void 0,[o])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(L)||[],(function(e,n){t[n]=!0})),t}(e):w.extend({},e);var t,n,s,r,o=[],i=[],a=-1,l=function(){for(r=r||e.once,s=t=!0;i.length;a=-1)for(n=i.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,i.push(n)),function t(n){w.each(n,(function(n,s){f(s)?e.unique&&c.has(s)||o.push(s):s&&s.length&&"string"!==b(s)&&t(s)}))}(arguments),n&&!t&&l()),this},remove:function(){return w.each(arguments,(function(e,t){for(var n;(n=w.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=i=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=i=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],i.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!s}};return c},w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],s="pending",r={state:function(){return s},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return w.Deferred((function(t){w.each(n,(function(n,s){var r=f(e[s[4]])&&e[s[4]];o[s[1]]((function(){var e=r&&r.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[s[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(t,s,r){var o=0;function i(t,n,s,r){return function(){var a=this,l=arguments,c=function(){var e,c;if(!(t<o)){if((e=s.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,f(c)?r?c.call(e,i(o,n,D,r),i(o,n,j,r)):(o++,c.call(e,i(o,n,D,r),i(o,n,j,r),i(o,n,D,n.notifyWith))):(s!==D&&(a=void 0,l=[e]),(r||n.resolveWith)(a,l))}},u=r?c:function(){try{c()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,u.stackTrace),t+1>=o&&(s!==j&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?u():(w.Deferred.getStackHook&&(u.stackTrace=w.Deferred.getStackHook()),e.setTimeout(u))}}return w.Deferred((function(e){n[0][3].add(i(0,e,f(r)?r:D,e.notifyWith)),n[1][3].add(i(0,e,f(t)?t:D)),n[2][3].add(i(0,e,f(s)?s:j))})).promise()},promise:function(e){return null!=e?w.extend(e,r):r}},o={};return w.each(n,(function(e,t){var i=t[2],a=t[5];r[t[1]]=i.add,a&&i.add((function(){s=a}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),i.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=i.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,s=Array(n),o=r.call(arguments),i=w.Deferred(),a=function(e){return function(n){s[e]=this,o[e]=arguments.length>1?r.call(arguments):n,--t||i.resolveWith(s,o)}};if(t<=1&&(F(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||f(o[n]&&o[n].then)))return i.then();for(;n--;)F(o[n],a(n),i.reject);return i.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&U.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout((function(){throw t}))};var H=w.Deferred();function B(){g.removeEventListener("DOMContentLoaded",B),e.removeEventListener("load",B),w.ready()}w.fn.ready=function(e){return H.then(e).catch((function(e){w.readyException(e)})),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||H.resolveWith(g,[w]))}}),w.ready.then=H.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(w.ready):(g.addEventListener("DOMContentLoaded",B),e.addEventListener("load",B));var q=function(e,t,n,s,r,o,i){var a=0,l=e.length,c=null==n;if("object"===b(n))for(a in r=!0,n)q(e,t,a,n[a],!0,o,i);else if(void 0!==s&&(r=!0,f(s)||(i=!0),c&&(i?(t.call(e,s),t=null):(c=t,t=function(e,t,n){return c.call(w(e),n)})),t))for(;a<l;a++)t(e[a],n,i?s:s.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o},G=/^-ms-/,z=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function W(e){return e.replace(G,"ms-").replace(z,V)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=w.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var s,r=this.cache(e);if("string"==typeof t)r[W(t)]=n;else for(s in t)r[W(s)]=t[s];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][W(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,s=e[this.expando];if(void 0!==s){if(void 0!==t){n=(t=Array.isArray(t)?t.map(W):(t=W(t))in s?[t]:t.match(L)||[]).length;for(;n--;)delete s[t[n]]}(void 0===t||w.isEmptyObject(s))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var $=new K,J=new K,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function Z(e,t,n){var s;if(void 0===n&&1===e.nodeType)if(s="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(s))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:X.test(e)?JSON.parse(e):e)}(n)}catch(r){}J.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return J.hasData(e)||$.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return $.access(e,t,n)},_removeData:function(e,t){$.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,s,r,o=this[0],i=o&&o.attributes;if(void 0===e){if(this.length&&(r=J.get(o),1===o.nodeType&&!$.get(o,"hasDataAttrs"))){for(n=i.length;n--;)i[n]&&0===(s=i[n].name).indexOf("data-")&&(s=W(s.slice(5)),Z(o,s,r[s]));$.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){J.set(this,e)})):q(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=J.get(o,e))||void 0!==(n=Z(o,e))?n:void 0;this.each((function(){J.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){J.remove(this,e)}))}}),w.extend({queue:function(e,t,n){var s;if(e)return t=(t||"fx")+"queue",s=$.get(e,t),n&&(!s||Array.isArray(n)?s=$.access(e,t,w.makeArray(n)):s.push(n)),s||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),s=n.length,r=n.shift(),o=w._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),s--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){w.dequeue(e,t)}),o)),!s&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return $.get(e,n)||$.access(e,n,{empty:w.Callbacks("once memory").add((function(){$.remove(e,[t+"queue",n])}))})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each((function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){w.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,s=1,r=w.Deferred(),o=this,i=this.length,a=function(){--s||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";i--;)(n=$.get(o[i],e+"queueHooks"))&&n.empty&&(s++,n.empty.add(a));return a(),r.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],se=g.documentElement,re=function(e){return w.contains(e.ownerDocument,e)},oe={composed:!0};se.getRootNode&&(re=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===w.css(e,"display")};function ae(e,t,n,s){var r,o,i=20,a=s?function(){return s.cur()}:function(){return w.css(e,t,"")},l=a(),c=n&&n[3]||(w.cssNumber[t]?"":"px"),u=e.nodeType&&(w.cssNumber[t]||"px"!==c&&+l)&&te.exec(w.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;i--;)w.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(i=0),u/=o;u*=2,w.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],s&&(s.unit=c,s.start=u,s.end=r)),r}var le={};function ce(e){var t,n=e.ownerDocument,s=e.nodeName,r=le[s];return r||(t=n.body.appendChild(n.createElement(s)),r=w.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),le[s]=r,r)}function ue(e,t){for(var n,s,r=[],o=0,i=e.length;o<i;o++)(s=e[o]).style&&(n=s.style.display,t?("none"===n&&(r[o]=$.get(s,"display")||null,r[o]||(s.style.display="")),""===s.style.display&&ie(s)&&(r[o]=ce(s))):"none"!==n&&(r[o]="none",$.set(s,"display",n)));for(o=0;o<i;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}w.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ie(this)?w(this).show():w(this).hide()}))}});var de,pe,he=/^(?:checkbox|radio)$/i,fe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,me=/^$|^module$|\/(?:java|ecma)script/i;de=g.createDocumentFragment().appendChild(g.createElement("div")),(pe=g.createElement("input")).setAttribute("type","radio"),pe.setAttribute("checked","checked"),pe.setAttribute("name","t"),de.appendChild(pe),h.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",h.option=!!de.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?w.merge([e],n):n}function ye(e,t){for(var n=0,s=e.length;n<s;n++)$.set(e[n],"globalEval",!t||$.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,h.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function _e(e,t,n,s,r){for(var o,i,a,l,c,u,d=t.createDocumentFragment(),p=[],h=0,f=e.length;h<f;h++)if((o=e[h])||0===o)if("object"===b(o))w.merge(p,o.nodeType?[o]:o);else if(be.test(o)){for(i=i||d.appendChild(t.createElement("div")),a=(fe.exec(o)||["",""])[1].toLowerCase(),l=ge[a]||ge._default,i.innerHTML=l[1]+w.htmlPrefilter(o)+l[2],u=l[0];u--;)i=i.lastChild;w.merge(p,i.childNodes),(i=d.firstChild).textContent=""}else p.push(t.createTextNode(o));for(d.textContent="",h=0;o=p[h++];)if(s&&w.inArray(o,s)>-1)r&&r.push(o);else if(c=re(o),i=ve(d.appendChild(o),"script"),c&&ye(i),n)for(u=0;o=i[u++];)me.test(o.type||"")&&n.push(o);return d}var we=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function Ce(){return!1}function Ee(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==("focus"===t)}function Se(e,t,n,s,r,o){var i,a;if("object"==typeof t){for(a in"string"!=typeof n&&(s=s||n,n=void 0),t)Se(e,a,n,s,t[a],o);return e}if(null==s&&null==r?(r=n,s=n=void 0):null==r&&("string"==typeof n?(r=s,s=void 0):(r=s,s=n,n=void 0)),!1===r)r=Ce;else if(!r)return e;return 1===o&&(i=r,r=function(e){return w().off(e),i.apply(this,arguments)},r.guid=i.guid||(i.guid=w.guid++)),e.each((function(){w.event.add(this,t,r,s,n)}))}function Te(e,t,n){n?($.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var s,o,i=$.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=r.call(arguments),$.set(this,t,i),s=n(this,t),this[t](),i!==(o=$.get(this,t))||s?$.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else i.length&&($.set(this,t,{value:w.event.trigger(w.extend(i[0],w.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===$.get(e,t)&&w.event.add(e,t,xe)}w.event={global:{},add:function(e,t,n,s,r){var o,i,a,l,c,u,d,p,h,f,m,g=$.get(e);if(Y(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&w.find.matchesSelector(se,r),n.guid||(n.guid=w.guid++),(l=g.events)||(l=g.events=Object.create(null)),(i=g.handle)||(i=g.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(L)||[""]).length;c--;)h=m=(a=we.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),h&&(d=w.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=w.event.special[h]||{},u=w.extend({type:h,origType:m,data:s,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=l[h])||((p=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,s,f,i)||e.addEventListener&&e.addEventListener(h,i)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),w.event.global[h]=!0)},remove:function(e,t,n,s,r){var o,i,a,l,c,u,d,p,h,f,m,g=$.hasData(e)&&$.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(h=m=(a=we.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),h){for(d=w.event.special[h]||{},p=l[h=(s?d.delegateType:d.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=o=p.length;o--;)u=p[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||s&&s!==u.selector&&("**"!==s||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));i&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||w.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)w.event.remove(e,h+t[c],n,s,!0);w.isEmptyObject(l)&&$.remove(e,"handle events")}},dispatch:function(e){var t,n,s,r,o,i,a=new Array(arguments.length),l=w.event.fix(e),c=($.get(this,"events")||Object.create(null))[l.type]||[],u=w.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(i=w.event.handlers.call(this,l,c),t=0;(r=i[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(s=((w.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(l.result=s)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,s,r,o,i,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],i={},n=0;n<l;n++)void 0===i[r=(s=t[n]).selector+" "]&&(i[r]=s.needsContext?w(r,this).index(c)>-1:w.find(r,this,null,[c]).length),i[r]&&o.push(s);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return he.test(t.type)&&t.click&&A(t,"input")&&Te(t,"click",xe),!1},trigger:function(e){var t=this||e;return he.test(t.type)&&t.click&&A(t,"input")&&Te(t,"click"),!0},_default:function(e){var t=e.target;return he.test(t.type)&&t.click&&A(t,"input")&&$.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(e,t){w.event.special[e]={setup:function(){return Te(this,e,Ee),!1},trigger:function(){return Te(this,e),!0},_default:function(){return!0},delegateType:t}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,s=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===s||w.contains(s,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),w.fn.extend({on:function(e,t,n,s){return Se(this,e,t,n,s)},one:function(e,t,n,s){return Se(this,e,t,n,s,1)},off:function(e,t,n){var s,r;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,w(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ce),this.each((function(){w.event.remove(this,e,n,t)}))}});var Ae=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function ke(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,s,r,o,i,a;if(1===t.nodeType){if($.hasData(e)&&(a=$.get(e).events))for(r in $.remove(t,"handle events"),a)for(n=0,s=a[r].length;n<s;n++)w.event.add(t,r,a[r][n]);J.hasData(e)&&(o=J.access(e),i=w.extend({},o),J.set(t,i))}}function Oe(e,t,n,s){t=o(t);var r,i,a,l,c,u,d=0,p=e.length,m=p-1,g=t[0],v=f(g);if(v||p>1&&"string"==typeof g&&!h.checkClone&&Pe.test(g))return e.each((function(r){var o=e.eq(r);v&&(t[0]=g.call(this,r,o.html())),Oe(o,t,n,s)}));if(p&&(i=(r=_e(t,e[0].ownerDocument,!1,e,s)).firstChild,1===r.childNodes.length&&(r=i),i||s)){for(l=(a=w.map(ve(r,"script"),ke)).length;d<p;d++)c=r,d!==m&&(c=w.clone(c,!0,!0),l&&w.merge(a,ve(c,"script"))),n.call(e[d],c,d);if(l)for(u=a[a.length-1].ownerDocument,w.map(a,Re),d=0;d<l;d++)c=a[d],me.test(c.type||"")&&!$.access(c,"globalEval")&&w.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?w._evalUrl&&!c.noModule&&w._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):y(c.textContent.replace(Ie,""),c,u))}return e}function Le(e,t,n){for(var s,r=t?w.filter(t,e):e,o=0;null!=(s=r[o]);o++)n||1!==s.nodeType||w.cleanData(ve(s)),s.parentNode&&(n&&re(s)&&ye(ve(s,"script")),s.parentNode.removeChild(s));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var s,r,o,i,a,l,c,u=e.cloneNode(!0),d=re(e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(i=ve(u),s=0,r=(o=ve(e)).length;s<r;s++)a=o[s],l=i[s],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&he.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||ve(e),i=i||ve(u),s=0,r=o.length;s<r;s++)Me(o[s],i[s]);else Me(e,u);return(i=ve(u,"script")).length>0&&ye(i,!d&&ve(e,"script")),u},cleanData:function(e){for(var t,n,s,r=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[$.expando]){if(t.events)for(s in t.events)r[s]?w.event.remove(n,s):w.removeEvent(n,s,t.handle);n[$.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Le(this,e,!0)},remove:function(e){return Le(this,e)},text:function(e){return q(this,(function(e){return void 0===e?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Oe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)}))},prepend:function(){return Oe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return w.clone(this,e,t)}))},html:function(e){return q(this,(function(e){var t=this[0]||{},n=0,s=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ge[(fe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<s;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Oe(this,arguments,(function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ve(this)),n&&n.replaceChild(t,this))}),e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){w.fn[e]=function(e){for(var n,s=[],r=w(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(r[a])[t](n),i.apply(s,n.get());return this.pushStack(s)}}));var De=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),je=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Fe=function(e,t,n){var s,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in s=n.call(e),t)e.style[r]=o[r];return s},Ue=new RegExp(ne.join("|"),"i");function He(e,t,n){var s,r,o,i,a=e.style;return(n=n||je(e))&&(""!==(i=n.getPropertyValue(t)||n[t])||re(e)||(i=w.style(e,t)),!h.pixelBoxStyles()&&De.test(i)&&Ue.test(t)&&(s=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=i,i=n.width,a.width=s,a.minWidth=r,a.maxWidth=o)),void 0!==i?i+"":i}function Be(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);s="1%"!==t.top,l=12===n(t.marginLeft),u.style.right="60%",i=36===n(t.right),r=36===n(t.width),u.style.position="absolute",o=12===n(u.offsetWidth/3),se.removeChild(c),u=null}}function n(e){return Math.round(parseFloat(e))}var s,r,o,i,a,l,c=g.createElement("div"),u=g.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===u.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),i},pixelPosition:function(){return t(),s},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,s,r;return null==a&&(t=g.createElement("table"),n=g.createElement("tr"),s=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",s.style.height="9px",s.style.display="block",se.appendChild(t).appendChild(n).appendChild(s),r=e.getComputedStyle(n),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===n.offsetHeight,se.removeChild(t)),a}}))}();var qe=["Webkit","Moz","ms"],Ge=g.createElement("div").style,ze={};function Ve(e){var t=w.cssProps[e]||ze[e];return t||(e in Ge?e:ze[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=qe.length;n--;)if((e=qe[n]+t)in Ge)return e}(e)||e)}var We=/^(none|table(?!-c[ea]).+)/,Ye=/^--/,Ke={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var s=te.exec(t);return s?Math.max(0,s[2]-(n||0))+(s[3]||"px"):t}function Xe(e,t,n,s,r,o){var i="width"===t?1:0,a=0,l=0;if(n===(s?"border":"content"))return 0;for(;i<4;i+=2)"margin"===n&&(l+=w.css(e,n+ne[i],!0,r)),s?("content"===n&&(l-=w.css(e,"padding"+ne[i],!0,r)),"margin"!==n&&(l-=w.css(e,"border"+ne[i]+"Width",!0,r))):(l+=w.css(e,"padding"+ne[i],!0,r),"padding"!==n?l+=w.css(e,"border"+ne[i]+"Width",!0,r):a+=w.css(e,"border"+ne[i]+"Width",!0,r));return!s&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function Qe(e,t,n){var s=je(e),r=(!h.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,s),o=r,i=He(e,t,s),a="offset"+t[0].toUpperCase()+t.slice(1);if(De.test(i)){if(!n)return i;i="auto"}return(!h.boxSizingReliable()&&r||!h.reliableTrDimensions()&&A(e,"tr")||"auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,s))&&e.getClientRects().length&&(r="border-box"===w.css(e,"boxSizing",!1,s),(o=a in e)&&(i=e[a])),(i=parseFloat(i)||0)+Xe(e,t,n||(r?"border":"content"),o,s,i)+"px"}function Ze(e,t,n,s,r){return new Ze.prototype.init(e,t,n,s,r)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=He(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,i,a=W(t),l=Ye.test(t),c=e.style;if(l||(t=Ve(a)),i=w.cssHooks[t]||w.cssHooks[a],void 0===n)return i&&"get"in i&&void 0!==(r=i.get(e,!1,s))?r:c[t];"string"==(o=typeof n)&&(r=te.exec(n))&&r[1]&&(n=ae(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(w.cssNumber[a]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),i&&"set"in i&&void 0===(n=i.set(e,n,s))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,s){var r,o,i,a=W(t);return Ye.test(t)||(t=Ve(a)),(i=w.cssHooks[t]||w.cssHooks[a])&&"get"in i&&(r=i.get(e,!0,n)),void 0===r&&(r=He(e,t,s)),"normal"===r&&t in $e&&(r=$e[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),w.each(["height","width"],(function(e,t){w.cssHooks[t]={get:function(e,n,s){if(n)return!We.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Qe(e,t,s):Fe(e,Ke,(function(){return Qe(e,t,s)}))},set:function(e,n,s){var r,o=je(e),i=!h.scrollboxSize()&&"absolute"===o.position,a=(i||s)&&"border-box"===w.css(e,"boxSizing",!1,o),l=s?Xe(e,t,s,a,o):0;return a&&i&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Xe(e,t,"border",!1,o)-.5)),l&&(r=te.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Je(0,n,l)}}})),w.cssHooks.marginLeft=Be(h.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(e,t){w.cssHooks[e+t]={expand:function(n){for(var s=0,r={},o="string"==typeof n?n.split(" "):[n];s<4;s++)r[e+ne[s]+t]=o[s]||o[s-2]||o[0];return r}},"margin"!==e&&(w.cssHooks[e+t].set=Je)})),w.fn.extend({css:function(e,t){return q(this,(function(e,t,n){var s,r,o={},i=0;if(Array.isArray(t)){for(s=je(e),r=t.length;i<r;i++)o[t[i]]=w.css(e,t[i],!1,s);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)}),e,t,arguments.length>1)}}),w.Tween=Ze,Ze.prototype={constructor:Ze,init:function(e,t,n,s,r,o){this.elem=e,this.prop=n,this.easing=r||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=Ze.propHooks[this.prop];return e&&e.get?e.get(this):Ze.propHooks._default.get(this)},run:function(e){var t,n=Ze.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ze.propHooks._default.set(this),this}},Ze.prototype.init.prototype=Ze.prototype,Ze.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},Ze.propHooks.scrollTop=Ze.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=Ze.prototype.init,w.fx.step={};var et,tt,nt=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function rt(){tt&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(rt):e.setTimeout(rt,w.fx.interval),w.fx.tick())}function ot(){return e.setTimeout((function(){et=void 0})),et=Date.now()}function it(e,t){var n,s=0,r={height:e};for(t=t?1:0;s<4;s+=2-t)r["margin"+(n=ne[s])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function at(e,t,n){for(var s,r=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,i=r.length;o<i;o++)if(s=r[o].call(n,t,e))return s}function lt(e,t,n){var s,r,o=0,i=lt.prefilters.length,a=w.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=et||ot(),n=Math.max(0,c.startTime+c.duration-t),s=1-(n/c.duration||0),o=0,i=c.tweens.length;o<i;o++)c.tweens[o].run(s);return a.notifyWith(e,[c,s,n]),s<1&&i?n:(i||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:et||ot(),duration:n.duration,tweens:[],createTween:function(t,n){var s=w.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(s),s},stop:function(t){var n=0,s=t?c.tweens.length:0;if(r)return this;for(r=!0;n<s;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,s,r,o,i;for(n in e)if(r=t[s=W(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==s&&(e[s]=o,delete e[n]),(i=w.cssHooks[s])&&"expand"in i)for(n in o=i.expand(o),delete e[s],o)n in e||(e[n]=o[n],t[n]=r);else t[s]=r}(u,c.opts.specialEasing);o<i;o++)if(s=lt.prefilters[o].call(c,e,u,c.opts))return f(s.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=s.stop.bind(s)),s;return w.map(u,at,c),f(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ae(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){f(e)?(t=e,e=["*"]):e=e.match(L);for(var n,s=0,r=e.length;s<r;s++)n=e[s],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var s,r,o,i,a,l,c,u,d="width"in t||"height"in t,p=this,h={},f=e.style,m=e.nodeType&&ie(e),g=$.get(e,"fxshow");for(s in n.queue||(null==(i=w._queueHooks(e,"fx")).unqueued&&(i.unqueued=0,a=i.empty.fire,i.empty.fire=function(){i.unqueued||a()}),i.unqueued++,p.always((function(){p.always((function(){i.unqueued--,w.queue(e,"fx").length||i.empty.fire()}))}))),t)if(r=t[s],nt.test(r)){if(delete t[s],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[s])continue;m=!0}h[s]=g&&g[s]||w.style(e,s)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(h))for(s in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=$.get(e,"display")),"none"===(u=w.css(e,"display"))&&(c?u=c:(ue([e],!0),c=e.style.display||c,u=w.css(e,"display"),ue([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===w.css(e,"float")&&(l||(p.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,h)l||(g?"hidden"in g&&(m=g.hidden):g=$.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&ue([e],!0),p.done((function(){for(s in m||ue([e]),$.remove(e,"fxshow"),h)w.style(e,s,h[s])}))),l=at(m?g[s]:0,s,p),s in g||(g[s]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),w.speed=function(e,t,n){var s=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||f(e)&&e,duration:e,easing:n&&t||t&&!f(t)&&t};return w.fx.off?s.duration=0:"number"!=typeof s.duration&&(s.duration in w.fx.speeds?s.duration=w.fx.speeds[s.duration]:s.duration=w.fx.speeds._default),null!=s.queue&&!0!==s.queue||(s.queue="fx"),s.old=s.complete,s.complete=function(){f(s.old)&&s.old.call(this),s.queue&&w.dequeue(this,s.queue)},s},w.fn.extend({fadeTo:function(e,t,n,s){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,n,s)},animate:function(e,t,n,s){var r=w.isEmptyObject(e),o=w.speed(t,n,s),i=function(){var t=lt(this,w.extend({},e),o);(r||$.get(this,"finish"))&&t.stop(!0)};return i.finish=i,r||!1===o.queue?this.each(i):this.queue(o.queue,i)},stop:function(e,t,n){var s=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=w.timers,i=$.get(this);if(r)i[r]&&i[r].stop&&s(i[r]);else for(r in i)i[r]&&i[r].stop&&st.test(r)&&s(i[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||w.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=$.get(this),s=n[e+"queue"],r=n[e+"queueHooks"],o=w.timers,i=s?s.length:0;for(n.finish=!0,w.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<i;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete n.finish}))}}),w.each(["toggle","show","hide"],(function(e,t){var n=w.fn[t];w.fn[t]=function(e,s,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(it(t,!0),e,s,r)}})),w.each({slideDown:it("show"),slideUp:it("hide"),slideToggle:it("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){w.fn[e]=function(e,n,s){return this.animate(t,e,n,s)}})),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(et=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),et=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){tt||(tt=!0,rt())},w.fx.stop=function(){tt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx&&w.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,s){var r=e.setTimeout(n,t);s.stop=function(){e.clearTimeout(r)}}))},function(){var e=g.createElement("input"),t=g.createElement("select").appendChild(g.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=g.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var ct,ut=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return q(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){w.removeAttr(this,e)}))}}),w.extend({attr:function(e,t,n){var s,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(r=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):r&&"set"in r&&void 0!==(s=r.set(e,n,t))?s:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(s=r.get(e,t))?s:null==(s=w.find.attr(e,t))?void 0:s)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,s=0,r=t&&t.match(L);if(r&&1===e.nodeType)for(;n=r[s++];)e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ut[t]||w.find.attr;ut[t]=function(e,t,s){var r,o,i=t.toLowerCase();return s||(o=ut[i],ut[i]=r,r=null!=n(e,t,s)?i:null,ut[i]=o),r}}));var dt=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function ht(e){return(e.match(L)||[]).join(" ")}function ft(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}w.fn.extend({prop:function(e,t){return q(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[w.propFix[e]||e]}))}}),w.extend({prop:function(e,t,n){var s,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,r=w.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(s=r.set(e,n,t))?s:e[t]=n:r&&"get"in r&&null!==(s=r.get(e,t))?s:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(e){var t,n,s,r,o,i,a,l=0;if(f(e))return this.each((function(t){w(this).addClass(e.call(this,t,ft(this)))}));if((t=mt(e)).length)for(;n=this[l++];)if(r=ft(n),s=1===n.nodeType&&" "+ht(r)+" "){for(i=0;o=t[i++];)s.indexOf(" "+o+" ")<0&&(s+=o+" ");r!==(a=ht(s))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,s,r,o,i,a,l=0;if(f(e))return this.each((function(t){w(this).removeClass(e.call(this,t,ft(this)))}));if(!arguments.length)return this.attr("class","");if((t=mt(e)).length)for(;n=this[l++];)if(r=ft(n),s=1===n.nodeType&&" "+ht(r)+" "){for(i=0;o=t[i++];)for(;s.indexOf(" "+o+" ")>-1;)s=s.replace(" "+o+" "," ");r!==(a=ht(s))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,s="string"===n||Array.isArray(e);return"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):f(e)?this.each((function(n){w(this).toggleClass(e.call(this,n,ft(this),t),t)})):this.each((function(){var t,r,o,i;if(s)for(r=0,o=w(this),i=mt(e);t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=ft(this))&&$.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":$.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,s=0;for(t=" "+e+" ";n=this[s++];)if(1===n.nodeType&&(" "+ht(ft(n))+" ").indexOf(t)>-1)return!0;return!1}});var gt=/\r/g;w.fn.extend({val:function(e){var t,n,s,r=this[0];return arguments.length?(s=f(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=s?e.call(this,n,w(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,(function(e){return null==e?"":e+""}))),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(gt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:ht(w.text(e))}},select:{get:function(e){var t,n,s,r=e.options,o=e.selectedIndex,i="select-one"===e.type,a=i?null:[],l=i?o+1:r.length;for(s=o<0?l:i?o:0;s<l;s++)if(((n=r[s]).selected||s===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=w(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,s,r=e.options,o=w.makeArray(t),i=r.length;i--;)((s=r[i]).selected=w.inArray(w.valHooks.option.get(s),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),h.focusin="onfocusin"in e;var vt=/^(?:focusinfocus|focusoutblur)$/,yt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,s,r){var o,i,a,l,c,d,p,h,v=[s||g],y=u.call(t,"type")?t.type:t,b=u.call(t,"namespace")?t.namespace.split("."):[];if(i=h=a=s=s||g,3!==s.nodeType&&8!==s.nodeType&&!vt.test(y+w.event.triggered)&&(y.indexOf(".")>-1&&(b=y.split("."),y=b.shift(),b.sort()),c=y.indexOf(":")<0&&"on"+y,(t=t[w.expando]?t:new w.Event(y,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=s),n=null==n?[t]:w.makeArray(n,[t]),p=w.event.special[y]||{},r||!p.trigger||!1!==p.trigger.apply(s,n))){if(!r&&!p.noBubble&&!m(s)){for(l=p.delegateType||y,vt.test(l+y)||(i=i.parentNode);i;i=i.parentNode)v.push(i),a=i;a===(s.ownerDocument||g)&&v.push(a.defaultView||a.parentWindow||e)}for(o=0;(i=v[o++])&&!t.isPropagationStopped();)h=i,t.type=o>1?l:p.bindType||y,(d=($.get(i,"events")||Object.create(null))[t.type]&&$.get(i,"handle"))&&d.apply(i,n),(d=c&&i[c])&&d.apply&&Y(i)&&(t.result=d.apply(i,n),!1===t.result&&t.preventDefault());return t.type=y,r||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),n)||!Y(s)||c&&f(s[y])&&!m(s)&&((a=s[c])&&(s[c]=null),w.event.triggered=y,t.isPropagationStopped()&&h.addEventListener(y,yt),s[y](),t.isPropagationStopped()&&h.removeEventListener(y,yt),w.event.triggered=void 0,a&&(s[c]=a)),t.result}},simulate:function(e,t,n){var s=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(s,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each((function(){w.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var s=this.ownerDocument||this.document||this,r=$.access(s,t);r||s.addEventListener(e,n,!0),$.access(s,t,(r||0)+1)},teardown:function(){var s=this.ownerDocument||this.document||this,r=$.access(s,t)-1;r?$.access(s,t,r):(s.removeEventListener(e,n,!0),$.remove(s,t))}}}));var bt=e.location,_t={guid:Date.now()},wt=/\?/;w.parseXML=function(t){var n,s;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){}return s=n&&n.getElementsByTagName("parsererror")[0],n&&!s||w.error("Invalid XML: "+(s?w.map(s.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var xt=/\[\]$/,Ct=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Tt(e,t,n,s){var r;if(Array.isArray(t))w.each(t,(function(t,r){n||xt.test(e)?s(e,r):Tt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,s)}));else if(n||"object"!==b(t))s(e,t);else for(r in t)Tt(e+"["+r+"]",t[r],n,s)}w.param=function(e,t){var n,s=[],r=function(e,t){var n=f(t)?t():t;s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,(function(){r(this.name,this.value)}));else for(n in e)Tt(n,e[n],t,r);return s.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&St.test(this.nodeName)&&!Et.test(e)&&(this.checked||!he.test(e))})).map((function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,(function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}})):{name:t.name,value:n.replace(Ct,"\r\n")}})).get()}});var At=/%20/g,Pt=/#.*$/,It=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,kt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Mt={},Ot={},Lt="*/".concat("*"),Dt=g.createElement("a");function jt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var s,r=0,o=t.toLowerCase().match(L)||[];if(f(n))for(;s=o[r++];)"+"===s[0]?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(n)):(e[s]=e[s]||[]).push(n)}}function Ft(e,t,n,s){var r={},o=e===Ot;function i(a){var l;return r[a]=!0,w.each(e[a]||[],(function(e,a){var c=a(t,n,s);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),i(c),!1)})),l}return i(t.dataTypes[0])||!r["*"]&&i("*")}function Ut(e,t){var n,s,r=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:s||(s={}))[n]=t[n]);return s&&w.extend(!0,e,s),e}Dt.href=bt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,w.ajaxSettings),t):Ut(w.ajaxSettings,e)},ajaxPrefilter:jt(Mt),ajaxTransport:jt(Ot),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var s,r,o,i,a,l,c,u,d,p,h=w.ajaxSetup({},n),f=h.context||h,m=h.context&&(f.nodeType||f.jquery)?w(f):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),b=h.statusCode||{},_={},x={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!i)for(i={};t=Nt.exec(o);)i[t[1].toLowerCase()+" "]=(i[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=i[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return s&&s.abort(t),S(0,t),this}};if(v.promise(E),h.url=((t||h.url||bt.href)+"").replace(Rt,bt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(L)||[""],null==h.crossDomain){l=g.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Dt.protocol+"//"+Dt.host!=l.protocol+"//"+l.host}catch(T){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),Ft(Mt,h,n,E),c)return E;for(d in(u=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!kt.test(h.type),r=h.url.replace(Pt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(At,"+")):(p=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(wt.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(It,"$1"),p=(wt.test(r)?"&":"?")+"_="+_t.guid+++p),h.url=r+p),h.ifModified&&(w.lastModified[r]&&E.setRequestHeader("If-Modified-Since",w.lastModified[r]),w.etag[r]&&E.setRequestHeader("If-None-Match",w.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Lt+"; q=0.01":""):h.accepts["*"]),h.headers)E.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(f,E,h)||c))return E.abort();if(C="abort",y.add(h.complete),E.done(h.success),E.fail(h.error),s=Ft(Ot,h,n,E)){if(E.readyState=1,u&&m.trigger("ajaxSend",[E,h]),c)return E;h.async&&h.timeout>0&&(a=e.setTimeout((function(){E.abort("timeout")}),h.timeout));try{c=!1,s.send(_,S)}catch(T){if(c)throw T;S(-1,T)}}else S(-1,"No Transport");function S(t,n,i,l){var d,p,g,_,x,C=n;c||(c=!0,a&&e.clearTimeout(a),s=void 0,o=l||"",E.readyState=t>0?4:0,d=t>=200&&t<300||304===t,i&&(_=function(e,t,n){for(var s,r,o,i,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}i||(i=r)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}(h,E,i)),!d&&w.inArray("script",h.dataTypes)>-1&&w.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),_=function(e,t,n,s){var r,o,i,a,l,c={},u=e.dataTypes.slice();if(u[1])for(i in e.converters)c[i.toLowerCase()]=e.converters[i];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(i=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(i=c[l+" "+a[0]]||c["* "+a[0]])){!0===i?i=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(T){return{state:"parsererror",error:i?T:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(h,_,E,d),d?(h.ifModified&&((x=E.getResponseHeader("Last-Modified"))&&(w.lastModified[r]=x),(x=E.getResponseHeader("etag"))&&(w.etag[r]=x)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=_.state,p=_.data,d=!(g=_.error))):(g=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",d?v.resolveWith(f,[p,C,E]):v.rejectWith(f,[E,C,g]),E.statusCode(b),b=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[E,h,d?p:g]),y.fireWith(f,[E,C]),u&&(m.trigger("ajaxComplete",[E,h]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],(function(e,t){w[t]=function(e,n,s,r){return f(n)&&(r=r||s,s=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:r,data:n,success:s},w.isPlainObject(e)&&e))}})),w.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),w._evalUrl=function(e,t,n){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,n)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return f(e)?this.each((function(t){w(this).wrapInner(e.call(this,t))})):this.each((function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=f(e);return this.each((function(n){w(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Ht={0:200,1223:204},Bt=w.ajaxSettings.xhr();h.cors=!!Bt&&"withCredentials"in Bt,h.ajax=Bt=!!Bt,w.ajaxTransport((function(t){var n,s;if(h.cors||Bt&&!t.crossDomain)return{send:function(r,o){var i,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)a[i]=t.xhrFields[i];for(i in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(i,r[i]);n=function(e){return function(){n&&(n=s=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ht[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),s=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=s:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout((function(){n&&s()}))},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}})),w.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),w.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(s,r){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}}));var qt,Gt=[],zt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||w.expando+"_"+_t.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",(function(t,n,s){var r,o,i,a=!1!==t.jsonp&&(zt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(zt,"$1"+r):!1!==t.jsonp&&(t.url+=(wt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return i||w.error(r+" was not called"),i[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){i=arguments},s.always((function(){void 0===o?w(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Gt.push(r)),i&&f(o)&&o(i[0]),i=o=void 0})),"script"})),h.createHTMLDocument=((qt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(h.createHTMLDocument?((s=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(s)):t=g),o=!n&&[],(r=P.exec(e))?[t.createElement(r[1])]:(r=_e([e],t,o),o&&o.length&&w(o).remove(),w.merge([],r.childNodes)));var s,r,o},w.fn.load=function(e,t,n){var s,r,o,i=this,a=e.indexOf(" ");return a>-1&&(s=ht(e.slice(a)),e=e.slice(0,a)),f(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),i.length>0&&w.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,i.html(s?w("<div>").append(w.parseHTML(e)).find(s):e)})).always(n&&function(e,t){i.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,(function(t){return e===t.elem})).length},w.offset={setOffset:function(e,t,n){var s,r,o,i,a,l,c=w.css(e,"position"),u=w(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=w.css(e,"top"),l=w.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(i=(s=u.position()).top,r=s.left):(i=parseFloat(o)||0,r=parseFloat(l)||0),f(t)&&(t=t.call(e,n,w.extend({},a))),null!=t.top&&(d.top=t.top-a.top+i),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):u.css(d)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){w.offset.setOffset(this,e,t)}));var t,n,s=this[0];return s?s.getClientRects().length?(t=s.getBoundingClientRect(),n=s.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,s=this[0],r={top:0,left:0};if("fixed"===w.css(s,"position"))t=s.getBoundingClientRect();else{for(t=this.offset(),n=s.ownerDocument,e=s.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==s&&1===e.nodeType&&((r=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),r.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-w.css(s,"marginTop",!0),left:t.left-r.left-w.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||se}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;w.fn[e]=function(s){return q(this,(function(e,s,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[s];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[s]=r}),e,s,arguments.length)}})),w.each(["top","left"],(function(e,t){w.cssHooks[t]=Be(h.pixelPosition,(function(e,n){if(n)return n=He(e,t),De.test(n)?w(e).position()[t]+"px":n}))})),w.each({Height:"height",Width:"width"},(function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,s){w.fn[s]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return q(this,(function(t,n,r){var o;return m(t)?0===s.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?w.css(t,n,a):w.style(t,n,r,a)}),t,i?r:void 0,i)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){w.fn[t]=function(e){return this.on(t,e)}})),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,s){return this.on(t,e,n,s)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Vt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var n,s,o;if("string"==typeof t&&(n=e[t],t=e,e=n),f(e))return s=r.call(arguments,2),o=function(){return e.apply(t||this,s.concat(r.call(arguments)))},o.guid=e.guid=e.guid||w.guid++,o},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=A,w.isFunction=f,w.isWindow=m,w.camelCase=W,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(Vt,"")};var Wt=e.jQuery,Yt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Yt),t&&e.jQuery===w&&(e.jQuery=Wt),w},void 0===t&&(e.jQuery=e.$=w),w};var ZC=QC.exports=$C.document?JC($C,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return JC(e)};class eE extends h.PureComponent{constructor(e){super(e),u(this,"videoRef"),u(this,"sourceRef"),u(this,"handleFileInfoChanged",(e=>{let t=this.videoDOM;t||(t=document.createElement("video"));const n=t.canPlayType(e.mime_type);this.setState({canPlay:"probably"===n||"maybe"===n})})),u(this,"handleLoadError",(()=>{this.setState({canPlay:!1})})),u(this,"stop",(()=>{if(this.videoDOM){const e=this.videoDOM;e.pause(),e.currentTime=0}})),this.state={canPlay:!0},this.videoRef=h.createRef(),this.sourceRef=h.createRef()}componentDidMount(){this.handleFileInfoChanged(this.props.fileInfo),this.sourceDOM&&ZC(this.sourceDOM).one("error",this.handleLoadError)}componentDidUpdate(e){this.props.fileUrl!==e.fileUrl&&this.handleFileInfoChanged(this.props.fileInfo),this.sourceDOM&&ZC(this.sourceDOM).one("error",this.handleLoadError)}get sourceDOM(){return L.findDOMNode(this.sourceRef.current)}get videoDOM(){return L.findDOMNode(this.videoRef.current)}render(){if(!this.state.canPlay)return m(XC,{fileInfo:this.props.fileInfo,fileUrl:this.props.fileUrl});let e=re.WEB_VIDEO_WIDTH,t=re.WEB_VIDEO_HEIGHT;return We()&&(e=re.MOBILE_VIDEO_WIDTH,t=re.MOBILE_VIDEO_HEIGHT),m("video",{ref:this.videoRef,"data-setup":"{}",controls:!0,width:e,height:t,children:m("source",{ref:this.sourceRef,src:this.props.fileUrl})},this.props.fileInfo.id)}}function tE({fileInfo:e,canDownloadFiles:t}){const n=!e.id;let s,r;return n?(s=e.link,r=e.link):(s=xC(e.id),r=e.has_preview_image?EC(e.id,e.preview_path):s),t?m("a",{href:s,target:"_blank",rel:"noopener noreferrer",download:!n,children:m("img",{"data-testid":"imagePreview",alt:"preview url image",src:r})}):m("img",{src:r})}u(eE,"propTypes",{fileInfo:M.object.isRequired,fileUrl:M.string.isRequired}),tE.propTypes={fileInfo:M.object.isRequired,canDownloadFiles:M.bool.isRequired};const nE=re.KeyCodes;class sE extends h.PureComponent{constructor(e){super(e),u(this,"handleNext",(e=>{e&&e.stopPropagation();let t=this.state.imageIndex+1;t>this.props.fileInfos.length-1&&(t=0),this.showImage(t)})),u(this,"handlePrev",(e=>{e&&e.stopPropagation();let t=this.state.imageIndex-1;t<0&&(t=this.props.fileInfos.length-1),this.showImage(t)})),u(this,"handleKeyPress",(e=>{Ns(e,nE.RIGHT)?this.handleNext():Ns(e,nE.LEFT)&&this.handlePrev()})),u(this,"onModalShown",(e=>{document.addEventListener("keyup",this.handleKeyPress),this.showImage(e.startIndex)})),u(this,"onModalHidden",(()=>{document.removeEventListener("keyup",this.handleKeyPress),this.videoRef.current&&this.videoRef.current.stop()})),u(this,"showImage",(e=>{this.setState({imageIndex:e});const t=window.innerHeight-100;this.setState({imageHeight:t}),this.state.loaded[e]||this.loadImage(e)})),u(this,"loadImage",(e=>{const t=this.props.fileInfos[e];Rs(t.extension)===ks.IMAGE&&Boolean(t.id),this.handleImageLoaded(e)})),u(this,"handleImageLoaded",(e=>{this.setState((t=>({loaded:l(a({},t.loaded),{[e]:!0})})))})),u(this,"handleImageProgress",((e,t)=>{this.setState((n=>({progress:l(a({},n.progress),{[e]:t})})))})),u(this,"handleGetPublicLink",(()=>{var e;this.handleModalClose(),e=this.props.fileInfos[this.state.imageIndex].id,Uc.handleViewAction({type:Ee.TOGGLE_GET_PUBLIC_LINK_MODAL,value:!0,fileId:e})})),u(this,"onMouseEnterImage",(()=>{this.setState({showCloseBtn:!0})})),u(this,"onMouseLeaveImage",(()=>{this.setState({showCloseBtn:!1})})),u(this,"setScale",((e,t)=>{this.setState((n=>({scale:l(a({},n.scale),{[e]:t})})))})),u(this,"handleZoomIn",(()=>{let e=this.state.scale[this.state.imageIndex];e=Math.min(e+Is.SCALE_DELTA,Is.MAX_SCALE),this.setScale(this.state.imageIndex,e)})),u(this,"handleZoomOut",(()=>{let e=this.state.scale[this.state.imageIndex];e=Math.max(e-Is.SCALE_DELTA,Is.MIN_SCALE),this.setScale(this.state.imageIndex,e)})),u(this,"handleZoomReset",(()=>{this.setScale(this.state.imageIndex,Is.DEFAULT_SCALE)})),u(this,"handleModalClose",(()=>{this.props.onModalDismissed(),this.setState({scale:Ps(Is.DEFAULT_SCALE,this.props.fileInfos.length)})})),this.state={imageIndex:this.props.startIndex,imageHeight:"100%",loaded:Ps(!1,this.props.fileInfos.length),progress:Ps(0,this.props.fileInfos.length),showCloseBtn:!1,showZoomControls:!1,scale:Ps(Is.DEFAULT_SCALE,this.props.fileInfos.length)},this.videoRef=h.createRef()}componentDidUpdate(e){!0===this.props.show&&!1===e.show?this.onModalShown(this.props):!1===this.props.show&&!0===e.show&&this.onModalHidden()}static getDerivedStateFromProps(e,t){const n={};return e.fileInfos[t.imageIndex]&&e.fileInfos[t.imageIndex].extension===ks.PDF?n.showZoomControls=!0:n.showZoomControls=!1,e.fileInfos.length!==t.prevFileInfosCount&&(n.loaded=Ps(!1,e.fileInfos.length),n.progress=Ps(0,e.fileInfos.length),n.prevFileInfosCount=e.fileInfos.length),Object.keys(n).length?n:null}render(){if(this.props.fileInfos.length<1||this.props.fileInfos.length-1<this.state.imageIndex)return null;const e=this.props.fileInfos[this.state.imageIndex];e.link,e.link||e.name;const t=Rs(e.extension),n=e.link||wC(e.id);e.link||xC(e.id),e.id;let s;if(this.state.loaded[this.state.imageIndex])s=t===ks.IMAGE||t===ks.SVG?m(tE,{fileInfo:e,canDownloadFiles:this.props.canDownloadFiles}):t===ks.VIDEO||t===ks.AUDIO?m(eE,{fileInfo:e,fileUrl:n}):m(XC,{fileInfo:e,fileUrl:n});else{const e=ds("view_image.loading","Loading"),t=Math.floor(this.state.progress[this.state.imageIndex]);s=m(TC,{loading:e,progress:t})}for(const i of this.props.pluginFilePreviewComponents)if(i.override(e,this.props.post)){s=m(i.component,{fileInfo:e,post:this.props.post,onModalDismissed:this.props.onModalDismissed});break}let r=null,o=null;return this.props.fileInfos.length>1&&(r=m("a",{id:"previewArrowLeft",ref:this.previewArrowLeft,className:"modal-prev-bar",href:"#",onClick:this.handlePrev,children:m("i",{className:"image-control image-prev"})}),o=m("a",{id:"previewArrowRight",ref:this.previewArrowRight,className:"modal-next-bar",href:"#",onClick:this.handleNext,children:m("i",{className:"image-control image-next"})})),this.state.showCloseBtn&&this.handleModalClose,m(GC,{show:this.props.show,onHide:this.handleModalClose,className:"modal-image",dialogClassName:"a11y__modal modal-image",children:_(VC,{children:[m("div",{className:"modal-image__wrapper",onClick:this.handleModalClose,children:m("div",{onMouseEnter:this.onMouseEnterImage,onMouseLeave:this.onMouseLeaveImage,onClick:e=>e.stopPropagation(),children:m("div",{className:"modal-image__background",children:m("div",{className:"modal-image__content",children:s})})})}),r,o]})})}}u(sE,"propTypes",{postId:M.string,post:M.object,show:M.bool.isRequired,onModalDismissed:M.func.isRequired,fileInfos:M.arrayOf(M.object).isRequired,startIndex:M.number,canDownloadFiles:M.bool,enablePublicLink:M.bool,pluginFilePreviewComponents:M.arrayOf(M.object)}),u(sE,"defaultProps",{show:!1,fileInfos:[],startIndex:0,pluginFilePreviewComponents:[],post:{}});var rE=v((function(e,t){const n=Ie(e);return{canDownloadFiles:IC(n),enablePublicLink:"true"===n.EnablePublicLink,pluginFilePreviewComponents:e.plugins.components.FilePreview,post:t.post||bt(e,t.postId)}}))(sE);class oE extends h.PureComponent{constructor(e){super(e),u(this,"showModal",(e=>{this.props.imageIsLink||(e.preventDefault(),this.setState({showModal:!0}))})),u(this,"hideModal",(()=>{this.setState({showModal:!1})})),u(this,"handleLoadFail",(()=>{this.setState({loadFailed:!0})})),u(this,"isHeaderChangeMessage",(()=>this.props.postType&&this.props.postType===re.PostTypes.HEADER_CHANGE)),u(this,"onUpdated",(e=>{this.props.src&&this.props.src!==e&&this.setState({loadFailed:!1})})),u(this,"handleImageLoaded",(({height:e,width:t})=>{this.setState({loaded:!0},(()=>{this.props.onImageLoaded&&this.props.onImageLoaded({height:e,width:t})}))})),this.state={showModal:!1,loadFailed:!1,loaded:!1}}componentDidUpdate(e){this.onUpdated(e.src)}render(){const{imageMetadata:e,src:t,alt:n,imageIsLink:s}=this.props;if(""===t||this.state.loadFailed){let e="markdown-inline-img broken-image";return this.isHeaderChangeMessage()&&(e+=" broken-image--scaled-down"),m("div",{style:{display:"inline-block"},children:m("img",{className:e,alt:n,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABs0lEQVR4AeRUAasBYRD0//8AekUkIAQApBJRiQKALogKACHNa7ZS6qmOU9X7arv7LmZ2Z2dXZzKZfjweD74RxNbx5Xg8fiWI/U8IkskkHA4HnE7ny8jlcu8RpNNpeL1eVKtVrFarP6PVaiEQCKgj2O/3iEajiEQiqNVq6Pf7eHUmk4k6gs1mA7/fL9nf73fU63VtCfiNf6CuDJINh0PtCPR6PU6n01PwaErw6pzPZ5RKJUr3OcH1emUfHvrvdjuxq8vlQjgcxu12+4wgk8kgHo/DbDaj3W7DarWiUqngcDggm82KfWezGd2mnoCZ2+12bLdbATcajWg0Gk+/KxQKMBgMsNls6ggIRO9Pp1Os12v5Np/P5akoimS+WCx4ZwUcNrrsvUkOBoMol8vy3uv1RK58Pk+5qP17u2g8HjNTAfL5fAJaLBb5lEp42HjeuSYURWFF6npAYOrKhrJ8i8WC5XL5ZFkmwiHksvt4Di6Xi7aDlkqlZE0nEgmxaiwWeyw/zkAoFGJ/BNjtdqsjoC2bzSaDGsu90+lIdLtdNlt6MBgMRL7RaCRu+t3wrDJp2WwBJeNZAIlqEBoS31jNAAAAAElFTkSuQmCC",loading:"lazy"})})}return m(_C,{src:t,imageMetadata:e,children:r=>{if(!r)return m("a",{className:"theme markdown__link",href:t,rel:"noopener noreferrer",target:"_blank",title:this.props.title,children:n});const o=(e=>{const t=e.lastIndexOf(".");return t>0?e.substring(t+1):null})(r);let i="";if(this.state.loaded)i=s||!o?`${this.props.className} markdown-inline-img--hover markdown-inline-img--no-border`:`${this.props.className} markdown-inline-img--hover cursor--pointer a11y--active`,this.isHeaderChangeMessage()&&(i+=" markdown-inline-img--scaled-down");else{const e=this.isHeaderChangeMessage()?"markdown-inline-img--scaled-down-loading":"markdown-inline-img--loading";i=`${this.props.className} ${e}`}const{height:a,width:l,title:c,postId:u,onImageHeightChanged:d}=this.props,p=_(O,{children:[m(AC,{alt:n,className:i,src:r,height:a,width:l,title:c,dimensions:e,showLoader:!1,onClick:this.showModal,onImageLoadFail:this.handleLoadFail,onImageLoaded:this.handleImageLoaded}),!s&&o&&m(rE,{show:this.state.showModal,onModalDismissed:this.hideModal,postId:this.props.postId,startIndex:0,fileInfos:[{has_preview_image:!1,link:r,extension:e.format||o,name:n}]})]});return(null!=a?a:e.height)>=re.EXPANDABLE_INLINE_IMAGE_MIN_HEIGHT?m(yC,{alt:n||r,postId:u,imageKey:r,onToggle:d,children:p}):p}})}}u(oE,"defaultProps",{imageMetadata:{}}),u(oE,"propTypes",{alt:M.string,imageMetadata:M.object,src:M.string.isRequired,height:M.number,width:M.number,title:M.string,className:M.string.isRequired,postId:M.string.isRequired,imageIsLink:M.bool.isRequired,onImageLoaded:M.func,onImageHeightChanged:M.func,postType:M.string});class iE extends h.PureComponent{render(){const e=":"+this.props.name+":";return this.props.imageUrl?m("span",{alt:this.props.name,className:E("emoticon",{"emoticon-big":"custom"===this.props.category}),title:e,style:{backgroundImage:"url("+this.props.imageUrl+")"},children:e}):e}}var aE=v((function(e,t){const n=Ms(e).get(t.name);return{imageUrl:n?Os(n):"",category:n?n.category:""}}))(iE);class lE extends h.PureComponent{render(){if(!this.props.enableFormatting)return m("span",{children:this.props.message});const e=Object.assign({autolinkedUrlSchemes:this.props.autolinkedUrlSchemes,siteURL:this.props.siteURL,mentionKeys:this.props.mentionKeys,atMentions:!0,channelNamesMap:this.props.channelNamesMap,proxyImages:this.props.hasImageProxy&&this.props.proxyImages,team:this.props.team,minimumHashtagLength:this.props.minimumHashtagLength,managedResourcePaths:this.props.managedResourcePaths},this.props.options);return function(e,t,n={}){if(!e)return null;const s=new mC.Parser,r=new mC.ProcessNodeDefinitions(h),o=[{replaceChildren:!1,shouldProcessNode:e=>"tag"===e.type&&"input"===e.name&&"checkbox"===e.attribs.type,processNode:e=>{const t=e.attribs||{};return e.attribs.checked=Boolean(t.checked),h.createElement("input",a({},e.attribs))}}];if(!("mentions"in n)||n.mentions){const e=!("mentionHighlight"in n)||n.mentionHighlight,s="disableGroupHighlight"in n&&!0===n.disableGroupHighlight,r="data-mention";o.push({replaceChildren:!0,shouldProcessNode:e=>e.attribs&&e.attribs[r],processNode:(o,i)=>{const a=o.attribs[r];return m(vC,{mentionName:a,isRHS:t,hasMention:!0,disableHighlight:!e,disableGroupHighlight:s,channelId:n.channelId,children:i})}})}if(!("emoji"in n)||n.emoji){const e="data-emoticon";o.push({replaceChildren:!0,shouldProcessNode:t=>t.attribs&&t.attribs[e],processNode:t=>{const n=t.attribs[e];return m(aE,{name:n})}})}return"images"in n&&!n.images||o.push({shouldProcessNode:e=>"tag"===e.type&&"img"===e.name,processNode:e=>{const t=e.attribs,{class:s}=t,r=c(t,["class"]);return m(oE,l(a(a({className:s,imageMetadata:n.imagesMetadata&&n.imagesMetadata[r.src]},r),n.imageProps),{postId:n.postId,imageIsLink:(o=e.parentNode,!(!o||"tag"!==o.type||"a"!==o.name)),postType:n.postType}));var o}}),o.push({shouldProcessNode:()=>!0,processNode:r.processDefaultNode}),s.parseWithInstructions(e,(function(){return!0}),o)}(Ls(this.props.message,e,this.props.emojiMap),this.props.isRHS,{imageProps:this.props.imageProps,imagesMetadata:this.props.imagesMetadata,hasPluginTooltips:this.props.hasPluginTooltips,postId:this.props.postId,channelId:this.props.channelId,postType:this.props.postType,mentionHighlight:this.props.options.mentionHighlight,disableGroupHighlight:this.props.options.disableGroupHighlight})}}u(lE,"defaultProps",{options:{},isRHS:!1,proxyImages:!0,imagesMetadata:{},postId:""});var cE=v((function(){const e=p(Ke,((e,t)=>t&&t.channelNamesMap),((e,t)=>t?Object.assign({},t,e):e));return function(t,n){var s;const r=Ie(t);let o;return n.postId&&(o=null==(s=bt(t,n.postId))?void 0:s.channel_id),{autolinkedUrlSchemes:Ds(t),channelNamesMap:e(t,n),enableFormatting:js(t,Pe.CATEGORY_ADVANCED_SETTINGS,"formatting",!0),managedResourcePaths:Fs(t),mentionKeys:n.mentionKeys||_g(t),siteURL:Us(),team:tt(t),hasImageProxy:"true"===r.HasImageProxy,minimumHashtagLength:parseInt(r.MinimumHashtagLength||"",10),emojiMap:Ms(t),channelId:o}}}))(lE);bp.jsx,bp.jsx;var uE=bp.jsx,dE=bp.jsxs;var pE=function(e){return dE("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:[uE("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),uE("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]}))};const hE={singleline:!1,mentionHighlight:!1};class fE extends h.PureComponent{constructor(e){super(e),u(this,"onHide",(()=>{this.setState({show:!1})})),u(this,"handleFormattedTextClick",(e=>Hs(e,this.props.currentRelativeTeamUrl))),u(this,"getHeaderMarkdownOptions",Bs((e=>l(a({},hE),{channelNamesMap:e})))),this.state={show:!0}}componentDidUpdate(e){var t,n;const s=!e.isRHSOpen&&this.props.isRHSOpen,r=(null==(t=e.channel)?void 0:t.id)!==(null==(n=this.props.currentChannel)?void 0:n.id);(s||r)&&this.onHide()}render(){let e=this.props.channel;const t=0!==e.delete_at;if(!e){const t=ds("channel_info.notFound","No Channel Found");e={display_name:t,name:t,purpose:t,header:t,id:t,team_id:t,type:t,delete_at:0,create_at:0,update_at:0,last_post_at:0,total_msg_count:0,total_msg_count_root:0,extra_update_at:0,creator_id:t,scheme_id:t,group_constrained:!1,last_picture_update:0,verified:!1}}const n=this.props.channel.props&&this.props.channel.props.channel_mentions;t||"O"===e.type||e.type;const s=Us()+"/"+this.props.currentTeam.name+"/group/"+e.name;let r,o;e.purpose?r=e.purpose:e.name===re.DEFAULT_CHANNEL&&(r=m(D,{id:"default_channel.purpose",defaultMessage:"Post messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team."})),r&&(o=_("div",{className:"form-group",children:[m("div",{className:"info__label",children:m(D,{id:"channel_info.purpose",defaultMessage:"Purpose:"})}),m("div",{className:"info__value",children:r})]}));let i=null;return e.header&&(i=_("div",{className:"form-group",children:[m("div",{className:"info__label",children:m(D,{id:"channel_info.header",defaultMessage:"Header:"})}),m("div",{onClick:this.handleFormattedTextClick,className:"info__value",children:m(cE,{message:e.header,options:this.getHeaderMarkdownOptions(n)})})]})),_(GC,{dialogClassName:"",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,children:[_(zC,{closeButton:!0,onClose:this.onHide,children:[m(D,{id:"channel_info.about",defaultMessage:"About"}),m("span",{dangerouslySetInnerHTML:{__html:"&nbsp;"}}),e.display_name]}),_(VC,{children:[o,i,_("div",{className:"form-group",children:[m("div",{className:"info__label",children:m(D,{id:"channel_info.url",defaultMessage:"URL:"})}),m("div",{className:"info__value",children:s})]}),m("div",{className:"about-modal__hash form-group pt-3",children:_("p",{children:[m(D,{id:"channel_info.id",defaultMessage:"ID: "}),e.id]})})]})]})}}u(fE,"propTypes",{onHide:M.func.isRequired,channel:M.object.isRequired,currentChannel:M.object.isRequired,currentTeam:M.object.isRequired,isRHSOpen:M.bool,currentRelativeTeamUrl:M.string});var mE=v((function(e){return{isRHSOpen:ss(e),currentRelativeTeamUrl:Qe(e),currentChannel:Ye(e),currentTeam:tt(e)}}))(fE);function gE(e){return{type:qs.SET_MODAL_SEARCH,data:e}}var vE=bp.jsx;var yE=function(e){return vE("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:vE("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}))};var bE="u3-cxx-2fd7a5cd",_E="u3-cxx-6686e912",wE="u3-cxx-e6e8c7ab",xE="u3-cxx-cf99b326",CE="u3-cxx-b36a17b5",EE="u3-cxx-932afe5b",SE="u3-cxx-a7c6bb7e";class TE extends h.PureComponent{constructor(e){super(e),u(this,"handleRemoveFromChannel",(async()=>{if(this.state.removing)return;const{actions:e,channel:t,user:n}=this.props;this.setState({removing:!0});const{error:s}=await e.removeChannelMember(t.id,n.id);s?this.setState({serverError:s.message,removing:!1}):(this.setState({removing:!1}),e.getChannelStats(t.id))})),u(this,"handleRevertUser",(async()=>{const{actions:e,channel:t,user:n}=this.props;this.setState({removing:!0});const{error:s}=await e.removeChannelMember(t.id,n.id);if(s)return void this.setState({serverError:s.message,removing:!1});const{error2:r}=await e.addChannelMember(t.id,n.id);r?this.setState({serverError:r.message,removing:!1}):(e.getChannelStats(t.id),e.getChannelMember(t.id,n.id))})),u(this,"handleChangeUserRole",(async(e,t,n)=>{const{channel:{id:s},user:{id:r}}=this.props,{error:o}=await this.props.actions.updateChannelMemberSchemeRoles(s,r,e,t,n);o?this.setState({serverError:o.message}):(this.props.actions.getChannelStats(this.props.channel.id),this.props.actions.getChannelMember(this.props.channel.id,this.props.user.id))})),u(this,"handleUserPref",((e,t)=>{const n={user_id:this.props.user.id,category:t,name:this.props.channel.id,value:this.props.currentUserId};return e(this.props.currentUserId,n)})),u(this,"handleUpdateUserPref",(async e=>{await this.handleUserPref(this.props.actions.updateUserChannelPreferences,e)})),u(this,"handleDeleteUserPref",(async e=>{await this.handleUserPref(this.props.actions.deleteUserChannelPreferences,e)})),u(this,"handleLimitUserPermission",(async e=>{const{channel:{id:t},user:{id:n}}=this.props,{error:s}=await this.props.actions.updateChannelMemberRoles(t,n,e);s?this.setState({serverError:s.message}):(this.props.actions.getChannelStats(t),this.props.actions.getChannelMember(t,n))})),u(this,"handleMakeChannelMember",(async()=>{this.handleChangeUserRole(!0,!1,!1)})),u(this,"handleMakeChannelMod",(async()=>{this.handleChangeUserRole(!0,!0,!1)})),u(this,"handleMakeChannelAdmin",(async()=>{this.handleChangeUserRole(!0,!1,!0)})),u(this,"handleMakeBlockUser",(async e=>{e?(this.handleRevertUser(),this.handleDeleteUserPref(Pe.CATEGORY_CHANNEL_BLOCK)):(this.handleLimitUserPermission(qe.CHANNEL_BLOCK_ROLE),this.handleUpdateUserPref(Pe.CATEGORY_CHANNEL_BLOCK))})),u(this,"handleMakeBanUser",(async e=>{e?(this.handleRevertUser(),this.handleDeleteUserPref(Pe.CATEGORY_CHANNEL_BAN)):(this.handleLimitUserPermission(qe.CHANNEL_BAN_ROLE),this.handleUpdateUserPref(Pe.CATEGORY_CHANNEL_BAN))})),this.state={serverError:null,removing:!1}}renderRole(e,t,n,s,r){return m(D,e?{id:"channel_members_dropdown.channel_admin",defaultMessage:"Group Admin"}:t?{id:"channel_members_dropdown.channel_mod",defaultMessage:"Group Mod"}:n?{id:"channel_members_dropdown.channel_guest",defaultMessage:"Channel Guest"}:s?{id:"channel_members_dropdown.channel_block",defaultMessage:"Chặn chat"}:r?{id:"channel_members_dropdown.channel_ban",defaultMessage:"Ban khỏi nhóm"}:{id:"channel_members_dropdown.channel_member",defaultMessage:"Channel Member"})}render(){const{isLicensed:e,channelMember:t,user:n,channel:s,currentUserId:r,canChangeMemberRoles:o,canRemoveMember:i,myChannelRoles:a,userChannelPrefs:l}=this.props,{serverError:c}=this.state,u=Gs(e,t.roles,t.scheme_admin),d=zs(e,t.roles,t.scheme_mod),p=an(n),h=!u&&!d&&!p,g=l.findIndex((e=>e.category==Pe.CATEGORY_CHANNEL_BLOCK))>-1,v=l.findIndex((e=>e.category==Pe.CATEGORY_CHANNEL_BAN))>-1,y=s.name===re.DEFAULT_CHANNEL,b=this.renderRole(u,d,p,g,v);if(n.id===r)return null;const w=Vs(a,n.roles),x=w&&o&&(u||d),C=w&&o&&e&&(h||u),S=w&&o&&e&&(h||d),T=w&&i&&(!s.group_constrained||n.is_bot)&&(!y||p);if((x||S||C||T)&&!p){const e=[];return T&&(e.push(m(Bd.Item,{children:({active:e})=>m("button",{className:E(CE,{[EE]:e}),onClick:()=>this.handleMakeBlockUser(g),children:g?ds("channel_members_dropdown.make_channel_block_revert","Bỏ chặn chat"):ds("channel_members_dropdown.make_channel_block","Chặn chat")})},"canRemoveUserFromChannelBlock")),e.push(m(Bd.Item,{children:({active:e})=>m("button",{className:E(CE,{[EE]:e}),onClick:()=>this.handleMakeBanUser(v),children:v?ds("channel_members_dropdown.make_channel_ban_revert","Bỏ BAN"):ds("channel_members_dropdown.make_channel_ban","Ban khỏi nhóm")})},"canRemoveUserFromChannelBan"))),S&&e.push(m(Bd.Item,{children:({active:e})=>m("button",{className:E(CE,{[EE]:e}),onClick:this.handleMakeChannelAdmin,children:ds("channel_members_dropdown.make_channel_admin","Make Channel Admin")})},"handleMakeChannelAdmin")),C&&e.push(m(Bd.Item,{children:({active:e})=>m("button",{className:E(CE,{[EE]:e}),onClick:this.handleMakeChannelMod,children:ds("channel_members_dropdown.make_channel_mod","Make Group Mod")})},"handleMakeChannelMod")),x&&e.push(m(Bd.Item,{children:({active:e})=>m("button",{className:E(CE,{[EE]:e}),onClick:this.handleMakeChannelMember,children:ds("channel_members_dropdown.make_channel_member","Make Channel Member")})},"handleMakeChannelMember")),_(Bd,{as:"div",className:bE,children:[_(Bd.Button,{className:_E,children:[m("span",{children:b}),m(yE,{className:wE,"aria-hidden":"true"})]}),m(yp,{as:f.exports.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:m(Bd.Items,{className:xE,children:m("div",{className:"u3-px-1 u3-py-1",children:e})})})]})}return y?m("div",{}):_("div",{className:SE,children:[b,c]})}}var AE=v((function(e,t){const{channel:n,user:s}=t,r=Ws(e,{channel:n.id,team:n.team_id,permission:vn.MANAGE_CHANNEL_ROLES})&&Ys(e,n),o="true"===Dt(e).IsLicensed,i=Ys(e,n),a=Ks(e)[n.id],l=$s(e,s.id).reduce(((e,t)=>(t.name===n.id&&e.push(t),e)),[]);return{currentUserId:ce(e),isLicensed:o,canChangeMemberRoles:r,canRemoveMember:i,myChannelRoles:a,userChannelPrefs:l}}),(function(e){return{actions:y({getChannelMember:_n,getChannelStats:Yt,updateChannelMemberSchemeRoles:Js,updateChannelMemberRoles:Xs,removeChannelMember:Qs,addChannelMember:Zs,updateUserChannelPreferences:er,deleteUserChannelPreferences:tr},e)}}))(TE),PE=bp.jsx;var IE=function(e){return PE("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:PE("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}))};class NE extends h.PureComponent{constructor(e){super(e),u(this,"height"),u(this,"textAreaRef"),u(this,"referenceRef"),u(this,"recalculateSize",(()=>{if(!this.referenceRef.current||!this.textAreaRef.current)return;const e=this.referenceRef.current.scrollHeight,t=this.textAreaRef.current;if(e>0&&e!==this.height){const n=getComputedStyle(t),s=parseInt(n.borderTopWidth||"0",10)+parseInt(n.borderBottomWidth||"0",10);t.style.height=String(e+s)+"px",this.height=e,window.requestAnimationFrame((()=>{var t,s;null==(s=(t=this.props).onHeightChange)||s.call(t,e,parseInt(n.maxHeight||"0",10))}))}})),u(this,"getDOMNode",(()=>this.textAreaRef.current)),u(this,"handleChange",(e=>{this.props.onChange&&this.props.onChange(e)})),this.height=0,this.textAreaRef=h.createRef(),this.referenceRef=h.createRef()}get value(){return this.textAreaRef.current.value}set value(e){this.textAreaRef.current.value=e}get selectionStart(){return this.textAreaRef.current.selectionStart}set selectionStart(e){this.textAreaRef.current.selectionStart=e}get selectionEnd(){return this.textAreaRef.current.selectionEnd}set selectionEnd(e){this.textAreaRef.current.selectionEnd=e}focus(){var e;null==(e=this.textAreaRef.current)||e.focus()}blur(){var e;null==(e=this.textAreaRef.current)||e.blur()}componentDidMount(){this.recalculateSize()}componentDidUpdate(){this.recalculateSize()}render(){const e=a({},this.props);Reflect.deleteProperty(e,"onHeightChange"),Reflect.deleteProperty(e,"providers"),Reflect.deleteProperty(e,"channelId");const t=e,{value:n,defaultValue:s,placeholder:r,disabled:o,onInput:i,id:u}=t,d=c(t,["value","defaultValue","placeholder","disabled","onInput","id"]),p={rows:0,height:0};this.height<=0?p.rows=1:p.height=this.height;let h=null;const g="string"==typeof r?r.toLowerCase():"";return this.props.value||this.props.defaultValue||(h=m("div",l(a({},d),{style:kE.placeholder,children:r}))),_(f.exports.Fragment,{children:[h,m("textarea",l(a(a({ref:this.textAreaRef,"data-testid":u,id:u},p),d),{role:"textbox","aria-label":g,dir:"auto",disabled:o,onChange:this.handleChange,onInput:i,value:n,defaultValue:s})),m("div",{style:kE.container,children:m("textarea",l(a({ref:this.referenceRef,id:u+"-reference",style:kE.reference,dir:"auto",disabled:!0,rows:1},d),{value:n||s,"aria-hidden":!0}))})]})}}const kE={container:{height:0,overflow:"hidden"},reference:{height:"auto",width:"100%"},placeholder:{overflow:"hidden",textOverflow:"ellipsis",opacity:.5,pointerEvents:"none",position:"absolute",whiteSpace:"nowrap",background:"none",borderColor:"transparent"}};var RE="u3-cxx-c3ec87d6";class ME extends h.PureComponent{constructor(){super(...arguments),u(this,"updateInputFromProps",(()=>{this.input&&this.input.value!==this.props.value&&(this.input.value=this.props.value)})),u(this,"getInput",(()=>this.input)),u(this,"setInput",(e=>{this.input=e})),u(this,"onClear",(e=>{e.preventDefault(),e.stopPropagation(),this.props.onClear&&this.props.onClear(),this.focus()}))}componentDidUpdate(e){e.value!==this.props.value&&(this.props.delayInputUpdate?requestAnimationFrame(this.updateInputFromProps):this.updateInputFromProps())}get value(){return this.input.value}set value(e){this.input.value=e}focus(){this.input.focus()}blur(){this.input.blur()}render(){const e=this.props,{value:t,inputComponent:n,clearable:s,clearClassName:r,tooltipPosition:o,clearableWithoutValue:i}=e,u=c(e,["value","inputComponent","clearable","clearClassName","tooltipPosition","clearableWithoutValue"]);Reflect.deleteProperty(u,"delayInputUpdate"),Reflect.deleteProperty(u,"onClear"),Reflect.deleteProperty(u,"clearableTooltipText"),Reflect.deleteProperty(u,"channelId"),Reflect.deleteProperty(u,"clearClassName"),Reflect.deleteProperty(u,"tooltipPosition"),n!==NE&&Reflect.deleteProperty(u,"onHeightChange");const d=h.createElement(n||"input",l(a({},u),{ref:this.setInput,defaultValue:t})),p=this.props.onClear&&(i||s&&t);return _(f.exports.Fragment,{children:[d,p&&m("div",{className:E(RE,r,"input-clear visible"),onMouseDown:this.onClear,onTouchEnd:this.onClear,children:m("span",{className:"input-clear-x","aria-hidden":"true",children:m(IE,{className:"u3-h-6 u3-w-6"})})})]})}}u(ME,"propTypes",{delayInputUpdate:M.bool,inputComponent:M.elementType,value:M.string.isRequired,clearable:M.bool,clearableTooltipText:M.oneOfType([M.string,M.element]),onClear:M.func,clearClassName:M.string,tooltipPosition:M.oneOf(["top","bottom"]),onChange:M.func,clearableWithoutValue:M.bool}),u(ME,"defaultProps",{delayInputUpdate:!1,value:"",clearable:!1,tooltipPosition:"bottom"}),f.exports.forwardRef(((e,t)=>{var n=e,{className:s,defaultValue:r,maxLength:o}=n,i=c(n,["className","defaultValue","maxLength"]);const l=r?r.length-o:0,u=E({MaxLengthInput:!0,[s]:Boolean(s),"has-error":l>0});return _(f.exports.Fragment,{children:[m("input",a({className:u,defaultValue:r,ref:t},i)),l>0&&_("span",{className:"MaxLengthInput__validation",children:["-",l]})]})}));var OE=bp.jsx;var LE=function(e){return OE("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:OE("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}))},DE=bp.jsx;var jE=function(e){return DE("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:DE("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}))};function FE(e,t,n=0){return!(n>10)&&(!!e.isEqualNode(t)||FE(e,t.parentNode,n+1))}var UE="u3-cxx-79d6d85f",HE="u3-cxx-4e7b9d3c",BE="u3-cxx-f55d4295",qE="u3-cxx-b8aee1fd",GE="u3-cxx-cce58c5d";const zE=e=>{const[t,n]=f.exports.useState(!1),[s,r]=f.exports.useState(!1),[o,i]=f.exports.useState("init"),a=f.exports.useRef(null),l=f.exports.useRef(null),c=e.trigger||"hover";let u;function d(e){if(l.current){FE(l.current.parentNode,e.target)||n(!1)}}return f.exports.useEffect((()=>{var e;return null==(e=nr())||e.addEventListener("mouseup",d,!1),()=>{var e;null==(e=nr())||e.removeEventListener("mouseup",d,!1)}}),[]),f.exports.useEffect((()=>{"before-enter"===o&&a.current&&l.current&&(u=Xm(a.current,l.current,{placement:e.placement||"right-start",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,2]}}],onFirstUpdate:e=>{r(!0)}})),"after-enter"===o&&e.toggleFocus&&e.toggleFocus(!0),"before-leave"===o&&(e.onHide&&e.onHide(),e.toggleFocus&&e.toggleFocus(!1)),"after-leave"===o&&(r(!1),i("init"),u&&u.destroy())}),[o]),_(f.exports.Fragment,{children:[h.cloneElement(e.children,{ref:a,onMouseEnter:function(){"hover"===c&&n(!0)},onMouseLeave:function(){"hover"===c&&n(!1)},onClick:function(){"click"===c&&n(!t)}}),m(yp,{as:"div",show:t,appear:!0,enter:"u3-transition-opacity u3-duration-75",enterFrom:"u3-opacity-0",enterTo:"u3-opacity-100",leave:"u3-transition-opacity u3-duration-150",leaveFrom:"u3-opacity-100",leaveTo:"u3-opacity-0",beforeEnter:()=>i("before-enter"),afterEnter:()=>i("after-enter"),beforeLeave:()=>i("before-leave"),afterLeave:()=>i("after-leave"),children:_("div",{ref:l,className:E(UE,{[HE]:s}),children:[e.content,m("div",{className:GE}),m("button",{className:E(BE,"sm:u3-hidden"),onClick:()=>n(!1),children:m(jE,{className:qE})})]})})]})};function VE(e,t,n){return async s=>Promise.all([s(sr(e,t)),n&&s(_n(n,t))])}function WE(e){const t=Ie(e);return t&&"true"===t.EnableCustomUserStatuses}p((e=>rr(e,Pe.CATEGORY_CUSTOM_STATUS,Pe.NAME_RECENT_CUSTOM_STATUSES)),(e=>e?JSON.parse(e):[]));var YE=bp.jsx,KE=bp.jsxs;var $E=function(e){return KE("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:[YE("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),YE("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]}))},JE=j;var XE=function(e,t,n){var s=e.length;return n=void 0===n?s:n,!t&&n>=s?e:JE(e,t,n)},QE=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var ZE=function(e){return QE.test(e)};var eS=function(e){return e.split("")},tS="[\\ud800-\\udfff]",nS="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",sS="\\ud83c[\\udffb-\\udfff]",rS="[^\\ud800-\\udfff]",oS="(?:\\ud83c[\\udde6-\\uddff]){2}",iS="[\\ud800-\\udbff][\\udc00-\\udfff]",aS="(?:"+nS+"|"+sS+")"+"?",lS="[\\ufe0e\\ufe0f]?"+aS+("(?:\\u200d(?:"+[rS,oS,iS].join("|")+")[\\ufe0e\\ufe0f]?"+aS+")*"),cS="(?:"+[rS+nS+"?",nS,oS,iS,tS].join("|")+")",uS=RegExp(sS+"(?="+sS+")|"+cS+lS,"g");var dS=eS,pS=ZE,hS=function(e){return e.match(uS)||[]};var fS=XE,mS=ZE,gS=function(e){return pS(e)?hS(e):dS(e)},vS=F;var yS=function(e){return function(t){t=vS(t);var n=mS(t)?gS(t):void 0,s=n?n[0]:t.charAt(0),r=n?fS(n,1).join(""):t.slice(1);return s[e]()+r}},bS=yS("toUpperCase"),_S=F,wS=bS;var xS=function(e){return wS(_S(e).toLowerCase())};const CS=new Map([["year",!0],["quarter",!0],["month",!0],["week",!0],["day",!0],["hour",!1],["minute",!1],["second",!0]]);function ES(e,t,n=(new Intl.DateTimeFormat).resolvedOptions().timeZone,s,r=1,o=CS.get(s)||!1){const i=SS(e,t,n,s,o);return r>=0?i<=r&&i>=0:i>=r&&i<=0}function SS(e,t,n=(new Intl.DateTimeFormat).resolvedOptions().timeZone,s,r=CS.get(s)||!1){const o=U.utc(e.getTime()),i=U.utc(t.getTime());return n&&(o.tz(n),i.tz(n)),r?o.startOf(s).diff(i.startOf(s),s):o.diff(t,s,!0)}function TS(e,t=new Date){return e.getDate()===t.getDate()&&function(e,t=new Date){return e.getMonth()===t.getMonth()&&AS(e,t)}(e,t)}function AS(e,t=new Date){return e.getFullYear()===t.getFullYear()}function PS(e,t,n){return"function"==typeof e?e(t,n):e}var IS=f.exports.memo((e=>{var t=e,{value:n,children:s,"aria-label":r=n.toLocaleString()}=t,o=c(t,["value","children","aria-label"]);return m("time",l(a({},o),{"aria-label":r,dateTime:n.toISOString(),children:s}))}));const NS={within:["day",-1],display:["day"]},kS={equals:["day",0],display:m(D,{id:"date_separator.today",defaultMessage:"Today"})},RS={equals:["day",-1],display:m(D,{id:"date_separator.yesterday",defaultMessage:"Yesterday"})},MS={now:{within:["second",-45],display:["second",0]},second:{within:["second",-59],display:["second"]},minute:{within:["minute",-59],display:["minute"]},hour:{within:["hour",-23.75],display:["hour"]},"today-yesterday":NS,Today:kS,Yesterday:RS,day:{within:["day",-6],display:["day"]},week:{within:["week",-3],display:["week"]},month:{within:["month",-11],display:["month"]},quarter:{within:["quarter",-3],display:["quarter"]},year:{within:["year",-1e3],display:["year"]}},OS=Boolean(new Intl.DateTimeFormat("en-US",{hour:"numeric"}).resolvedOptions().hourCycle);function LS(e,t){return null!=t?t:!("h23"===e||"h24"===e)}const DS=new Map([["hour",300],["minute",15],["second",1]]);function jS(e){return"string"==typeof e||"number"==typeof e?MS[e]:e}const FS=class extends f.exports.PureComponent{constructor(e){super(e),u(this,"nextUpdate",null),this.state={now:new Date,prevValue:e.value}}formatParts(e,{relative:t,date:n,time:s}){try{let o,i,l;if(null!=(null==(r=t)?void 0:r.message))o=t.message;else if(function(e){return Boolean(null==e?void 0:e.unit)}(t)&&(o=this.formatRelative(e,t),"day"!==t.unit||!s))return{relative:o};if(null==o&&n&&(i=this.formatDateTime(e,n)),s){const{hourCycle:t,hour12:n=(OS?void 0:LS(t))}=this.props;l=this.formatDateTime(e,a({hourCycle:t,hour12:n},s))}return{relative:o,date:i,time:l}}catch{const{timeZone:t,hourCycle:r,hour12:o}=this.props,i=U.utc(e.getTime());return t&&i.tz(t),{date:n&&FS.momentDate(i,a({},n)),time:s&&FS.momentTime(i,a({hourCycle:r,hour12:o},s))}}var r}formatRelative(e,t){var n=t,{unit:s,relNearest:r,truncateEndpoints:o}=n,i=c(n,["unit","relNearest","truncateEndpoints"]);let a;0===r?a=0:(a=SS(e,this.state.now,this.props.timeZone,s,o),null!=r&&(a=Math.round(a/r)*r)),0===a&&(a=e<=this.state.now?-0:0);const l=this.props.intl.formatRelativeTime(a,s,i);return i.capitalize?xS(l):l}formatDateTime(e,t){const{timeZone:n,intl:{locale:s}}=this.props;return new Intl.DateTimeFormat(s,a({timeZone:n},t)).format(e).replace(/-/g,"/")}static momentTime(e,{hour:t,minute:n,hourCycle:s,hour12:r}){if(t&&n)return e.format(LS(s,r)?"h:mm A":"HH:mm")}static momentDate(e,{weekday:t,day:n,month:s,year:r}){return t&&n&&s&&r?e.format("dddd, MMMM DD, YYYY"):n&&s&&r?e.format("MMMM DD, YYYY"):n&&s?e.format("MMMM DD"):t?e.format("dddd"):void 0}autoRange(e,t=this.props.units||this.props.ranges){var n;return null!=(n=null==t?void 0:t.map(jS).find((({equals:t,within:n})=>null!=t?function(e,t,n=(new Intl.DateTimeFormat).resolvedOptions().timeZone,s,r=1,o=CS.get(s)||!1){return r===SS(e,t,n,s,o)}(e,this.state.now,this.props.timeZone,...t):null!=n&&ES(e,this.state.now,this.props.timeZone,...n))))?n:{display:[this.props.unit],updateIntervalInSeconds:this.props.updateIntervalInSeconds}}getFormats(e){const{numeric:t,style:n,useRelative:s=(()=>{const{display:s,updateIntervalInSeconds:r=this.props.updateIntervalInSeconds,capitalize:o=this.props.capitalize}=this.autoRange(e);if(s){if(H.exports.isValidElementType(s)||!Array.isArray(s))return{message:s,updateIntervalInSeconds:r};const[e,i=this.props.relNearest,a=this.props.truncateEndpoints]=s;if(e)return{unit:e,relNearest:i,truncateEndpoints:a,numeric:t,style:n,updateIntervalInSeconds:null!=r?r:DS.get(e),capitalize:o}}return!1}),year:r,month:o,day:i,weekday:a,hour:l,minute:c,timeZone:u,useDate:d=(()=>ES(e,this.state.now,u,"day",-6)?{weekday:a}:AS(e)?{day:i,month:o}:{year:r,month:o,day:i}),useTime:p={hour:l,minute:c}}=this.props,h=PS(s,{value:e},this.props);return{relative:h,date:!h&&PS(d,{value:e},this.props),time:PS(p,{value:e},this.props)}}componentWillUnmount(){this.nextUpdate&&(clearTimeout(this.nextUpdate),this.nextUpdate=null)}static getDerivedStateFromProps(e,t){return e.value!==t.prevValue?{now:new Date,prevValue:e.value}:null}maybeUpdate(e){return e&&e.updateIntervalInSeconds?setTimeout((()=>this.setState({now:new Date})),1e3*e.updateIntervalInSeconds):null}static format({relative:e,date:t,time:n}){return(e||t)&&n?m(D,{id:"timestamp.datetime",defaultMessage:"{relativeOrDate} at {time}",values:{relativeOrDate:e||t,time:n}}):e||t||n}static formatLabel(e,t){const n=U(e);return t&&n.tz(t),n.toString()+(t?` (${n.tz()})`:"")}render(){const{value:e=this.state.now,children:t,useSemanticOutput:n=!0,timeZone:s,label:r,className:o}=this.props,i=e instanceof Date?e:new Date(e),l=this.getFormats(i),c=this.formatParts(i,l);let u=FS.format(c);return n&&(u=m(IS,{value:i,"aria-label":null!=r?r:FS.formatLabel(i,s),className:o,children:u})),this.nextUpdate=this.maybeUpdate(l.relative),t?PS(t,a({value:i,timeZone:s,formatted:u},c),l):u}};let US=FS;u(US,"defaultProps",{numeric:"auto",style:"long",relNearest:1,year:"numeric",month:"2-digit",day:"2-digit",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h12",timeZoneName:"short"});var HS=S(US);var BS=v((function(e,{userTimezone:t}){var n;const s=ce(e);let r,o,i;or(e)&&(r=null!=(n=ir(null!=t?t:ar(e,s)))?n:void 0);const a=js(e,he.CATEGORY_DISPLAY_SETTINGS,he.USE_MILITARY_TIME,!1);return OS?o=a?"h23":"h12":i=!a,{timeZone:r,hourCycle:o,hour12:i}}))(HS);var qS="u3-cxx-7acb6598",GS="u3-cxx-72bef140",zS="u3-cxx-c316b827",VS="u3-cxx-3bfef31c",WS="u3-cxx-5791e335",YS="u3-cxx-f838a026",KS="u3-cxx-42858df1",$S="u3-cxx-8bf23887",JS="u3-cxx-55634d97",XS="u3-cxx-9a72b5b6",QS="u3-cxx-774f7688",ZS="u3-cxx-5c32752b",eT="u3-cxx-6f3b7d8c";function tT(e){const t=vr(e);return t.exists?t.channel_id:St(e)}var nT=v((function(e,{userId:t,channelId:n=tT(e)}){var s,r;const o=tt(e),i=dr(e,o.id,t),a=p(((e,t)=>t?fn(e,t):on(e)),(e=>{const t=(null==e?void 0:e.props)||{};return t.customStatus?JSON.parse(t.customStatus):void 0}));let l=!1;i&&i.scheme_admin&&(l=!0);const c=null==(r=null==(s=cn(e))?void 0:s[n])?void 0:r[t];let u=!1;"search"!==rs(e)&&null!=c&&c.scheme_admin&&(u=!0);let d=!1;return"search"!==rs(e)&&null!=c&&c.scheme_mod&&(d=!0),{currentTeamId:o.id,currentUserId:ce(e),enableTimezone:or(e),isTeamAdmin:l,isChannelAdmin:u,isChannelMod:d,isInCurrentTeam:Boolean(i)&&0===(null==i?void 0:i.delete_at),canManageAnyChannelMembersInCurrentTeam:pr(e),status:qt(e,t),teamUrl:Qe(e),user:fn(e,t),modals:e.views.modals.modalState,customStatus:a(e,t),isCustomStatusEnabled:WE(e),channelId:n,isContacted:hr(e,t),contactName:hs(e,t)}}),(function(e){return{actions:y({closeModal:fr,openDirectChannelToUserId:Bl,openModal:mr,getMembershipForEntities:VE,setBanUser:gr},e)}}))((e=>{var t=[];const n=e.overwriteIcon?e.overwriteIcon:e.src;let s;e.user.is_bot?s=m("span",{className:"user-popover__role",children:ds("bots.is_bot","BOT")}):an(e.user)?s=m("span",{className:"user-popover__role",children:ds("post_info.guest","GUEST")}):lr(e.user.roles)?s=m("span",{className:"user-popover__role",children:ds("admin.permissions.roles.system_admin.name","QT Hệ thống")}):e.isTeamAdmin?s=m("span",{className:"user-popover__role",children:ds("admin.permissions.roles.team_admin.name","Quản trị viên")}):e.isChannelAdmin?s=m("span",{className:"user-popover__role",children:ds("admin.permissions.roles.channel_admin.name","Nhóm trưởng")}):e.isChannelMod&&(s=m("span",{className:"user-popover__role",children:ds("admin.permissions.roles.channel_mod.name","Nhóm phó")})),cr(e.user)&&(s=m("span",{className:"user-popover__role banned",children:ds("user.banned.name","ĐÃ BAN")}));let r=`${e.user.username}`;e.overwriteName?(r=`${e.overwriteName}`,s=""):e.hasMention;let o=null;e.user.props&&e.user.props.view_url&&(o=m("a",{href:e.user.props.view_url,className:$S,target:"_blank",children:m($E,{className:JS})}));let i="0";e.user.props&&e.user.props.user_group_id&&(i=e.user.props.user_group_id),r=_(f.exports.Fragment,{children:[_("div",{className:E(KS,"user-popover__username",`username--style${i}`),children:[r,o]}),m("div",{className:E(XS),children:s})]});const a=e.contactName||ur(e.user),l=e.overwriteIcon||e.overwriteName;a&&!l&&t.push(m("div",{className:E(QS,"overflow--ellipsis text-nowrap"),children:m("span",{className:"user-profile-popover__heading",children:a})},"user-popover-fullname"));const c=e.user.props,u={};return c&&c.register_date?t.push(_("div",{className:E(QS,"overflow--ellipsis text-nowrap"),children:[m("span",{className:ZS,children:"Tham gia"}),m("span",{className:E(eT,"user-profile-text-normal"),children:m(BS,{useTime:!1,useDate:{year:"numeric",month:"long",day:"2-digit"},value:1e3*parseInt(c.register_date,10)})})]},"user-popover-register-date")):t.push(_("div",{className:E(QS,"overflow--ellipsis text-nowrap"),children:[m("span",{className:ZS,children:"Tham gia"}),m("span",{className:E(eT,"user-profile-text-normal"),children:m(BS,{useTime:!1,useDate:{year:"numeric",month:"long",day:"2-digit"},value:e.user.create_at})})]},"user-popover-register-date")),c&&c.message_count&&t.push(_("div",{className:E(QS,"overflow--ellipsis text-nowrap"),children:[m("span",{className:ZS,children:"Bài viết"}),m("span",{className:E(eT,"user-profile-text-normal"),children:c.message_count})]},"user-popover-message_count")),c&&c.reaction_score&&t.push(_("div",{className:E(QS,"overflow--ellipsis text-nowrap"),children:[m("span",{className:ZS,children:"Điểm cảm xúc"}),m("span",{className:E(eT,"user-profile-text-normal"),children:c.reaction_score})]},"user-popover-reaction_score")),c&&c.trophy_points&&t.push(_("div",{className:E(QS,"overflow--ellipsis text-nowrap"),children:[m("span",{className:ZS,children:"Điểm"}),m("span",{className:E(eT,"user-profile-text-normal"),children:c.trophy_points})]},"user-popover-trophy_points")),c&&c.banner_urls_m&&(u["background-image"]=`url(${c.banner_urls_m})`,u["background-size"]="cover",u["background-position"]="center"),_("div",{className:qS,children:[_("div",{className:GS,children:[m("div",{className:zS,style:u}),_("div",{className:VS,children:[m("div",{className:WS,children:m(Vf,{size:"6xl",username:e.user.username,url:n},"user-popover-image")}),m("div",{className:YS,children:r})]})]}),t]})}));var sT="u3-cxx-6ba3457d",rT="u3-cxx-964af547",oT="u3-cxx-abc9ecc8";class iT extends f.exports.PureComponent{constructor(){super(...arguments),u(this,"hideProfilePopover",(()=>{}))}render(){const{disablePopover:e,displayName:t,displayUsername:n,isBusy:s,isRHS:r,isShared:o,hasMention:i,hideStatus:a,overwriteName:l,overwriteIcon:c,user:u,userId:d,channelId:p,clientId:f,isAdmin:g,isVerified:v}=this.props;let y;y=u&&n?`@${u.username.replace(`${f.toLowerCase()}.`,"")}`:l||t||"...";const b="string"==typeof y?y.toLowerCase():"",w=cr(u);if(e)return m("div",{className:E("user-popover",{banned:w}),children:y});let x="top-start";r&&!We()&&(x="top-start");let C="";u&&(C=yr(u.id,u.last_picture_update));let S="";return u&&u.props&&"2"==u.props.user_group_id&&u.props.secondary_group_ids&&""!=u.props.secondary_group_ids&&(S=`username--style${u.props.secondary_group_ids}`),u&&u.props&&"2"!=u.props.user_group_id&&(S=`username--style${u.props.user_group_id}`),g&&(S="username--style3"),m(h.Fragment,{children:m(zE,{placement:x,trigger:"click",content:m(nT,{userId:d,channelId:p,src:C,isBusy:s,hide:this.hideProfilePopover,hideStatus:a,isRHS:r,hasMention:i,overwriteName:l,overwriteIcon:c}),children:_("button",{"aria-label":b,className:E(sT,"user-popover style--none",S,{banned:w}),children:[y,v?m("span",{className:E("user-badge-verify",rT),children:m(LE,{className:E("user-badge-verify-icon",oT)})}):""]})})})}}u(iT,"defaultProps",{disablePopover:!1,displayUsername:!1,hasMention:!1,hideStatus:!1,isRHS:!1,overwriteImage:"",overwriteName:""});var aT=v((function(){const e=br();return(t,n)=>{const s=_r(t),r=fn(t,n.userId),o=!!r&&function(e){return!!(e&&(e.roles&&(wr(e.roles)||xr(e.roles))||e.props&&e.props.user_group_id&&["3","8"].includes(e.props.user_group_id)||e.props&&e.props.secondary_group_ids&&e.props.secondary_group_ids.length>0))}(r);return{clientId:s.clientId,displayName:e(t,n.userId,!0),user:r,isShared:Boolean(r&&r.remote_id),isAdmin:r&&(wr(r.roles)||xr(r.roles)),isVerified:o}}}))(iT);const lT={locale:M.string,timeZone:M.string,formats:M.object,messages:M.object,textComponent:M.any,defaultLocale:M.string,defaultFormats:M.object,wrapRichTextChunksInFragment:M.bool,onError:M.func},cT={formatDate:M.func.isRequired,formatTime:M.func.isRequired,formatRelativeTime:M.func.isRequired,formatNumber:M.func.isRequired,formatPlural:M.func.isRequired,formatMessage:M.func.isRequired},uT=M.shape(l(a(a({},lT),cT),{formatters:M.object}));class dT extends B.Renderer{constructor(e){super(),u(this,"disableLinks"),this.disableLinks=e}link(e,t,n){return this.disableLinks?n:"!"===e[0]?`<a href="${e.substring(1,e.length)}" rel="noopener noreferrer" target="_blank">${n}</a>`:`<a href="${e}">${n}</a>`}paragraph(e){return e}}class pT extends h.PureComponent{static get propTypes(){return{intl:uT.isRequired,id:M.string.isRequired,defaultMessage:M.string.isRequired,values:M.object,disableLinks:M.bool}}render(){const{intl:e,id:t,defaultMessage:n,values:s,disableLinks:r}=this.props,o=e.formatMessage({id:t,defaultMessage:n},s),i=B(o,{breaks:!0,sanitize:!0,renderer:new dT(r)});return m("span",{dangerouslySetInnerHTML:{__html:i}})}}u(pT,"defaultProps",{disableLinks:!1});var hT=S(pT);var fT="u3-cxx-bc08f500",mT="u3-cxx-9b7a4cec",gT="u3-cxx-0908f886",vT="u3-cxx-0ae6118d",yT="u3-cxx-e9995440";class bT extends h.PureComponent{constructor(e){super(e)}render(){let e=null;this.props.actions&&(e=this.props.actions.map(((e,t)=>m(e,a(a({user:this.props.user,index:this.props.index,totalUsers:this.props.totalUsers},this.props.actionProps),this.props.actionUserProps),t.toString()))));let t,n=this.props.user.email,s="more-modal__description";return this.props.extraInfo&&this.props.extraInfo.length>0?(n=m(hT,{id:"admin.user_item.emailTitle",defaultMessage:"**Email:** {email}",values:{email:this.props.user.email}}),s=""):t=this.props.user.status?this.props.user.status:this.props.status,this.props.user.is_bot&&(t=null,n=null),this.props.userCount>=0&&(Cr("userListRowName"+this.props.userCount),Cr("userListRowEmail"+this.props.userCount)),_("div",{className:fT,children:[m(Wf,{src:Ce.getProfilePictureUrl(this.props.user.id,this.props.user.last_picture_update),status:t,size:"lg",userId:this.props.user.id,hasMention:!0,username:this.props.user.username}),_("div",{className:mT,"data-testid":"userListItemDetails",children:[m("div",{className:gT,children:_("div",{className:vT,children:[m(aT,{userId:this.props.user.id,hasMention:!0,displayUsername:!0}),m("span",{dangerouslySetInnerHTML:{__html:"&nbsp;"}}),this.props.user.first_name||this.props.user.last_name||this.props.user.nickname?"-":null,m("span",{dangerouslySetInnerHTML:{__html:"&nbsp;"}}),Er(this.props.user)]})}),m("div",{className:s,children:n}),this.props.extraInfo]}),m("div",{className:yT,children:e})]},this.props.user.id)}}var _T=v((function(e,t){const n=t.user||{};return{status:qt(e,n.id)}}))(bT);const wT=h.forwardRef(((e,t)=>{const n=e.rowComponentType||_T,{users:s,extraInfo:r,actions:o,actionProps:i,actionUserProps:a,isDisabled:l}=e;let c;return null==s?m(ih,{}):(c=s.length>0?s.map(((e,t)=>m(n,{user:e,extraInfo:r[e.id],actions:o,actionProps:i,actionUserProps:a[e.id],index:t,totalUsers:s.length,userCount:t>=0&&t<999?t:-1,isDisabled:l},e.id))):m("div",{className:"more-modal__placeholder-row u3-text-center u3-py-3 u3-text-gray-600",children:m(D,{id:"user_list.notFound",defaultMessage:"No users found"})},"no-users-found"),m("div",{ref:t,className:"u3-py-4 u3-divide-y",children:c}))})),xT=h.forwardRef(((e,t)=>{const n=e,{placeholder:{id:s,defaultMessage:r,values:o}}=n,i=c(n,["placeholder"]),{formatMessage:u}=b();return m("input",l(a({},i),{ref:t,placeholder:u({id:s,defaultMessage:r},o)}))}));xT.displayName="LocalizedInput";var CT="u3-cxx-b1833967",ET="u3-cxx-7ca586ba",ST="u3-cxx-fca92b20",TT="u3-cxx-299786c9",AT="u3-cxx-a5f49b16",PT="u3-cxx-3a0da809",IT="u3-cxx-0ee8bf6e";class NT extends h.PureComponent{constructor(e){super(e),u(this,"nextTimeoutId"),u(this,"filterRef"),u(this,"userListRef"),u(this,"channelListScrollRef"),u(this,"nextPage",(e=>{e.preventDefault(),this.setState({nextDisabled:!0}),this.nextTimeoutId=setTimeout((()=>this.setState({nextDisabled:!1})),500),this.props.nextPage(),this.channelListScrollDOM&&ZC(this.channelListScrollDOM).scrollTop(0)})),u(this,"previousPage",(e=>{e.preventDefault(),this.props.previousPage(),this.channelListScrollDOM&&ZC(this.channelListScrollDOM).scrollTop(0)})),u(this,"focusSearchBar",(()=>{this.props.focusOnMount&&this.filterRef.current.focus()})),u(this,"handleInput",(e=>{this.props.onTermChange(e.target.value),this.props.search(e.target.value)})),u(this,"renderCount",(e=>{if(!e)return null;if(this.props.filter)return null;const t=e.length,n=this.props.total,s=Boolean(this.props.term);let r,o;return s?(r=-1,o=-1):(r=this.props.page*this.props.usersPerPage,o=Math.min(r+this.props.usersPerPage,n),this.props.users.length<o&&(o=this.props.users.length)),this.props.renderCount?this.props.renderCount(t,this.props.total,r,o,s):this.props.total?m(D,s?{id:"filtered_user_list.countTotal",defaultMessage:"{count, number} {count, plural, one {member} other {members}} of {total, number} total",values:{count:t,total:n}}:{id:"filtered_user_list.countTotalPage",defaultMessage:"{startCount, number} - {endCount, number} {count, plural, one {member} other {members}} of {total, number} total",values:{count:t,startCount:r+1,endCount:o,total:n}}):null})),this.filterRef=h.createRef(),this.userListRef=h.createRef(),this.channelListScrollRef=h.createRef(),this.state={nextDisabled:!1}}componentDidMount(){this.focusSearchBar()}componentDidUpdate(e){this.props.page===e.page&&this.props.term===e.term||this.userList&&(this.userList.scrollTop=0)}componentWillUnmount(){this.nextTimeoutId&&clearTimeout(this.nextTimeoutId)}get userList(){return this.userListRef.current}get channelListScroll(){return this.channelListScrollRef.current}get channelListScrollDOM(){return L.findDOMNode(this.channelListScroll)}render(){let e,t,n;const{formatMessage:s}=this.props.intl;if(this.props.term||!this.props.users)n=this.props.users;else if(!this.props.term){const s=this.props.page*this.props.usersPerPage;let r=s+this.props.usersPerPage;this.props.users.length<r&&(r=this.props.users.length),n=this.props.users.slice(s,r),r<this.props.total&&(e=m("button",{id:"searchableUserListNextBtn",className:"btn btn-link filter-control filter-control__next",onClick:this.nextPage,disabled:this.state.nextDisabled,children:m(D,{id:"filtered_user_list.next",defaultMessage:"Next"})})),this.props.page>0&&(t=m("button",{id:"searchableUserListPrevBtn",className:"btn btn-link filter-control filter-control__prev",onClick:this.previousPage,children:m(D,{id:"filtered_user_list.prev",defaultMessage:"Previous"})}))}let r;if(this.props.renderFilterRow)r=this.props.renderFilterRow(this.handleInput);else{const e={id:Sr("filtered_user_list.search"),defaultMessage:"Search users"};r=_("div",{className:TT,children:[m("label",{className:"hidden-label",htmlFor:"searchUsersInput",children:m(D,{id:"filtered_user_list.search",defaultMessage:"Search users"})}),m(ME,{id:"searchUsersInput",ref:this.filterRef,className:E(AT,"form-control filter-textbox"),placeholder:e,inputComponent:xT,value:this.props.term,onInput:this.handleInput,"aria-label":s(e).toLowerCase()})]})}return _("div",{className:CT,children:[_("div",{className:ET,children:[r,m("div",{className:ST,children:this.renderCount(n)})]}),m("div",{className:PT,children:m(wT,{ref:this.userListRef,users:n,extraInfo:this.props.extraInfo,actions:this.props.actions,actionProps:this.props.actionProps,actionUserProps:this.props.actionUserProps,rowComponentType:this.props.rowComponentType,isDisabled:this.props.isDisabled})}),_("div",{className:E(IT,"filter-controls"),children:[t,e]})]})}}u(NT,"propTypes",{users:M.arrayOf(M.object),usersPerPage:M.number,total:M.number,extraInfo:M.object,nextPage:M.func.isRequired,previousPage:M.func.isRequired,search:M.func.isRequired,actions:M.arrayOf(M.any),actionProps:M.object,actionUserProps:M.object,focusOnMount:M.bool,renderCount:M.func,filter:M.string,renderFilterRow:M.func,page:M.number.isRequired,term:M.string.isRequired,onTermChange:M.func.isRequired,intl:M.any,isDisabled:M.bool,rowComponentType:M.func}),u(NT,"defaultProps",{users:[],usersPerPage:50,extraInfo:{},actions:[],actionProps:{},actionUserProps:{},showTeamToggle:!1,focusOnMount:!1});var kT=S(NT);class RT extends h.PureComponent{constructor(e){super(e),u(this,"handleTermChange",(e=>{this.setState({term:e})})),u(this,"nextPage",(()=>{this.setState({page:this.state.page+1}),this.props.nextPage(this.state.page+1)})),u(this,"previousPage",(()=>{this.setState({page:this.state.page-1})})),u(this,"search",(e=>{this.props.search(e),""!==e&&this.setState({page:0})})),this.state={term:"",page:0}}render(){return m(kT,l(a({},this.props),{nextPage:this.nextPage,previousPage:this.previousPage,search:this.search,page:this.state.page,term:this.state.term,onTermChange:this.handleTermChange}))}}u(RT,"propTypes",{users:M.arrayOf(M.object),usersPerPage:M.number,total:M.number,extraInfo:M.object,nextPage:M.func.isRequired,search:M.func.isRequired,actions:M.arrayOf(M.any),actionProps:M.object,actionUserProps:M.object,focusOnMount:M.bool});class MT extends h.PureComponent{constructor(e){super(e),u(this,"searchTimeoutId"),u(this,"loadComplete",(()=>{this.setState({loading:!1})})),u(this,"nextPage",(e=>{const{actions:t,currentChannelId:n,currentTeamId:s}=this.props;t.loadProfilesAndTeamMembersAndChannelMembers(e+1,50,s,n,{active:!0})})),u(this,"handleSearch",(e=>{this.props.actions.setModalSearchTerm(e)})),this.searchTimeoutId=0,this.state={loading:!0}}async componentDidMount(){const{actions:e,currentChannelId:t,currentTeamId:n,missingUserPrefs:s}=this.props;await Promise.all([e.loadProfilesAndTeamMembersAndChannelMembers(0,re.PROFILE_CHUNK_SIZE,n,t,{active:!0}),e.getChannelMembers(t),e.getChannelStats(t),e.fetchChannelUsersPreference(t,s)]),this.loadComplete()}componentWillUnmount(){this.props.actions.setModalSearchTerm("")}componentDidUpdate(e){if(e.searchTerm!==this.props.searchTerm){clearTimeout(this.searchTimeoutId);const t=this.props.searchTerm;if(""===t)return this.loadComplete(),void(this.searchTimeoutId=0);const n=window.setTimeout((async()=>{const{data:s}=await e.actions.searchProfiles(t,{team_id:this.props.currentTeamId,in_channel_id:this.props.currentChannelId});if(n!==this.searchTimeoutId)return;const r=s.reduce(((e,t)=>(e.push(t.id),e)),[]);this.props.actions.loadStatusesForProfilesList(s),this.props.actions.loadTeamMembersAndChannelMembersForProfilesList(s,this.props.currentTeamId,this.props.currentChannelId).then((({data:e})=>{e&&this.loadComplete()})),this.props.actions.fetchChannelUsersPreference(this.props.currentChannelId,r)}),re.SEARCH_TIMEOUT_MILLISECONDS);this.searchTimeoutId=n}}render(){if(this.state.loading)return m(ih,{});const e=0!==this.props.channel.delete_at;return m(RT,{users:this.props.usersToDisplay,usersPerPage:50,total:this.props.totalChannelMembers,nextPage:this.nextPage,search:this.handleSearch,actions:e?[()=>{}]:[AE],actionUserProps:this.props.actionUserProps,focusOnMount:!Tr()})}}const OT=p(((e,t)=>t),Ar,bn,Ye,((e=[],t={},n={},s)=>{const r={},o=[];for(let i=0;i<e.length;i++){const a=e[i];t[a.id]&&n[a.id]&&0===a.delete_at&&(o.push(a),r[a.id]={channel:s,teamMember:t[a.id],channelMember:n[a.id]})}return{usersToDisplay:o.sort(Pr),actionUserProps:r}}));var LT=v((function(e,t){const n=e.views.search.modalSearch,s=Ir(e);let r;r=n?Nr(e,n):kr(e);let o=[];for(let a of r)s[a.id]||o.push(a.id);const i=Kn(e)||{member_count:0};return l(a({},OT(e,r)),{missingUserPrefs:o,currentTeamId:e.entities.teams.currentTeamId,currentChannelId:t.channel.id,searchTerm:n,totalChannelMembers:i.member_count})}),(function(e){return{actions:y({getChannelMembers:Rr,searchProfiles:Mr,getChannelStats:Yt,setModalSearchTerm:gE,loadProfilesAndTeamMembersAndChannelMembers:Or,loadStatusesForProfilesList:Lr,loadTeamMembersAndChannelMembersForProfilesList:Dr,fetchChannelUsersPreference:jr},e)}}))(MT);class DT extends h.PureComponent{constructor(e){super(e),u(this,"handleHide",(()=>{this.setState({show:!1})})),u(this,"handleExit",(()=>{this.props.onHide()})),this.state={show:!0}}render(){return this.props.channel.delete_at,m("div",{children:_(GC,{dialogClassName:"a11y__modal more-modal more-modal--action",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit,"aria-labelledby":"channelMembersModalLabel",children:[_(zC,{closeButton:!0,onClose:this.handleHide,children:[m(D,{id:"channel_members_modal.members",defaultMessage:" Members"}),m("span",{className:"name",children:this.props.channel.display_name})]}),m(VC,{children:m(LT,{channel:this.props.channel})})]})})}}var jT=v((e=>({canManageChannelMembers:Fr(e)})),(e=>({actions:y({openModal:mr},e)})))(DT);class FT extends h.PureComponent{show(e){e&&e.preventDefault();const{modalId:t,dialogProps:n,dialogType:s}=this.props,r={modalId:t,dialogProps:n,dialogType:s};this.props.actions.openModal(r)}render(){const e=this.props,{children:t,onClick:n,intl:{formatMessage:s}}=e,r=c(e,["children","onClick","intl"]);s({id:"accessibility.button.dialog",defaultMessage:"{dialogName} dialog"},{dialogName:r.accessibilityLabel});let o=null;this.props.showUnread&&(o=m("span",{className:"unread-badge"})),Reflect.deleteProperty(r,"modalId"),Reflect.deleteProperty(r,"dialogType"),Reflect.deleteProperty(r,"dialogProps"),Reflect.deleteProperty(r,"accessibilityLabel"),Reflect.deleteProperty(r,"actions"),Reflect.deleteProperty(r,"showUnread");let i=e=>this.show(e);n&&(i=e=>{n(e),this.show(e)});const u=r.className||"u3-group u3-text-gray-900 u3-flex u3-rounded-md u3-items-center u3-w-full u3-px-2 u3-py-1 u3-text-sm",d=r.classActive||"u3-bg-primary u3-text-white";return m(Bd.Item,{children:({active:e})=>_("button",l(a({},r),{onClick:i,className:E(u,{[d]:e}),children:[t,o]}))})}}u(FT,"defaultProps",{dialogProps:{},className:""});var UT=S(FT);var HT=v(null,(function(e){return{actions:y({openModal:mr},e)}}))(UT);function BT(e){class t extends h.PureComponent{render(){const t=this.props,{id:n,show:s,icon:r,text:o}=t,i=c(t,["id","show","icon","text"]);if(!s)return null;let l=o;return r&&(l=_(h.Fragment,{children:[m("span",{className:"icon",children:r}),o]})),m(e,a({text:l},i))}}return u(t,"defaultProps",{show:!0}),u(t,"displayName"),t}const qT=BT((({modalId:e,dialogType:t,dialogProps:n,text:s,accessibilityLabel:r,extraText:o,children:i,className:a,sibling:l,showUnread:c})=>_(O,{children:[_(HT,{accessibilityLabel:r||s,modalId:e,dialogType:t,dialogProps:n,className:E({"MenuItem__with-help":o,[`${a}`]:a}),showUnread:c,children:[s&&m("span",{className:"MenuItem__primary-text",children:s}),o&&m("span",{className:"MenuItem__help-text",children:o}),i]}),l]})));qT.displayName="MenuItemToggleModalRedux";class GT extends h.PureComponent{render(){const{hasPermission:e,children:t,invert:n=!1}=this.props;return e&&!n||!e&&n?t:null}}var zT=v((function(e,t){if(!t.channelId||null===t.teamId||void 0===t.teamId)return{hasPermission:!1};for(const n of t.permissions)if(Ws(e,{channel:t.channelId,team:t.teamId,permission:n}))return{hasPermission:!0};return{hasPermission:!1}}))(GT);var VT="u3-cxx-8e2c1883",WT="u3-cxx-fcacced4",YT=bp.jsx;var KT=function(e){return YT("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:YT("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})}))},$T=e=>_(Bd,{as:"div",className:e.stylex.close,children:[m(Bd.Button,{children:m(KT,{className:e.stylex.closeIcon})}),m(xp,{children:m(Bd.Items,{className:VT,children:m(JT,{stylex:e.stylex,channel:e.channel,isMobile:!1})})})]});const JT=v((e=>({user:on(e),isArchived:Hr(e),isDefault:Br(e)})))((e=>{const{channel:t,isArchived:n,isDefault:s}=e,r=t.type===re.PRIVATE_CHANNEL?vn.MANAGE_PRIVATE_CHANNEL_MEMBERS:vn.MANAGE_PUBLIC_CHANNEL_MEMBERS;return m(f.exports.Fragment,{children:m("div",{className:WT,children:_(zT,{channelId:t.id,teamId:t.team_id,permissions:[r],children:[m(qT,{id:"channelViewInfo",show:t.type!==re.DM_CHANNEL&&t.type!==re.GM_CHANNEL,modalId:Ur.CHANNEL_INFO,dialogType:mE,dialogProps:{channel:t},text:ds("navbar.viewInfo","View Info")}),m(qT,{id:"channelManageMembers",show:t.type!==re.DM_CHANNEL&&t.type!==re.GM_CHANNEL&&!n&&!s,modalId:Ur.CHANNEL_MEMBERS,dialogType:jT,dialogProps:{channel:t},text:ds("channel_header.manageMembers","Manage Members")})]})})})}));var XT=bp.jsx,QT=bp.jsxs;var ZT=function(e){return QT("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:[XT("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),XT("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}))};var eA="u3-cxx-0396e8b9",tA="u3-cxx-6f543d56";function nA(e,t,n){return e&&Boolean(e.message.trim()||e.fileInfos.length||e.uploadsInProgress.length)&&t!==(null==n?void 0:n.id)}var sA=v((function(e,t){var n;const s=St(e);return{hasDraft:nA(!!(null==(n=t.channel)?void 0:n.id)&&qr(e,zn.DRAFT,t.channel.id),s,t.channel)}}),(function(e){return{actions:y({},e)}}))((e=>0!==e.channel.delete_at?m(pE,{className:E(eA,tA)}):e.hasDraft?m(ZT,{className:E(eA,tA)}):e.icon));var rA="u3-cxx-6f1bc96d",oA="u3-cxx-0010bbf9",iA="u3-cxx-9692b72a",aA="u3-cxx-8f268b2d",lA="u3-cxx-134e2413",cA="u3-cxx-5df80c8a";class uA extends h.PureComponent{constructor(e){super(e),u(this,"labelRef"),u(this,"gmItemRef"),u(this,"enableToolTipIfNeeded",(()=>{const e=this.gmItemRef.current||this.labelRef.current,t=e&&e.offsetWidth<e.scrollWidth;this.setState({showTooltip:Boolean(t)})})),u(this,"getAriaLabel",(()=>{const{label:e,ariaLabelPrefix:t,unreadMentions:n}=this.props;let s=e;return t&&(s+=` ${t}`),1===n?s+=` ${n} ${ds("accessibility.sidebar.types.mention","mention")}`:n>1&&(s+=` ${n} ${ds("accessibility.sidebar.types.mentions","mentions")}`),this.showChannelAsUnread()&&0===n&&(s+=` ${ds("accessibility.sidebar.types.unread","unread")}`),s.toLowerCase()})),u(this,"removeTooltipLink",(()=>{var e,t;return null==(t=null==(e=this.gmItemRef.current)?void 0:e.removeAttribute)?void 0:t.call(e,"aria-describedby")})),u(this,"handleMenuToggle",(e=>this.setState({isMenuOpen:e}))),u(this,"showChannelAsUnread",(()=>this.props.unreadMentions>0||this.props.unreadMsgs>0&&this.props.showUnreadForMsgs)),this.labelRef=h.createRef(),this.gmItemRef=h.createRef(),this.state={isMenuOpen:!1,showTooltip:!0}}componentDidMount(){this.enableToolTipIfNeeded()}componentDidUpdate(e){e.label!==this.props.label&&this.enableToolTipIfNeeded()}render(){const{link:e,label:t,channel:n,currentChannelId:s,icon:r,memberCount:o,isMuted:i,canManage:a,styles:l}=this.props;let c=null;return s===n.id&&a&&(c=m($T,{stylex:l,channel:n})),m(f.exports.Fragment,{children:_(q,{className:E(l.content,lA),to:e,"aria-label":this.getAriaLabel(),title:t,children:[m("div",{className:E(l.icon,cA),children:m(sA,{channel:n,icon:r})}),m("div",{className:E(l.title,rA,{[iA]:i,[oA]:this.showChannelAsUnread(),[aA]:0!==n.delete_at}),children:t}),null,c]})})}}var dA=v((function(e,t){const n=He(e)[t.channel.id],s=St(e),r=Gr(e);let o=null;r[t.channel.id]&&(o=r[t.channel.id]);let i=0,a=0,l=!0;const c=Mn(e),u=Fr(e);return n&&(i=c?n.mention_count_root:n.mention_count,t.channel&&(a=zr(c,t.channel,n)),n.notify_props&&(l=n.notify_props.mark_unread!==Vr.MENTION)),{unreadMentions:i,unreadMsgs:a,showUnreadForMsgs:l,isMuted:Wr(n),memberCount:o?o.member_count-o.guest_count:-1,canManage:u,currentChannelId:s}}),(function(e){return{actions:y({getChannelStats:Yt},e)}}))(uA);var pA=v(null,(function(e){return{actions:y({leaveChannel:lc},e)}}))((e=>{const t=()=>{e.actions.leaveChannel(e.channel.id)},n=()=>{!function(e){Uc.handleViewAction({type:Ee.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL,value:e})}({id:e.channel.id,display_name:e.channel.display_name})};let s;e.channel.type===re.OPEN_CHANNEL?s=ds("accessibility.sidebar.types.public","public channel"):e.channel.type===re.PRIVATE_CHANNEL&&(s=ds("accessibility.sidebar.types.private","private channel"));const{channel:r,currentTeamName:o,styles:i}=e;return m(dA,{channel:r,styles:i,link:`/${o}/group/${r.name}`,label:r.display_name,ariaLabelPrefix:s,closeHandler:(()=>{const{channel:s}=e;return s.type===re.OPEN_CHANNEL&&s.name!==re.DEFAULT_CHANNEL?t:s.type===re.PRIVATE_CHANNEL?n:null})(),icon:(()=>{const{channel:t}=e;return m(Wf,{src:Ce.getChannelPictureUrl(t.id,t.last_picture_update),size:"tab",status:"",wrapperClass:"",newStatusIcon:!0})})()})}));var hA=S((e=>{const{channel:t,teammate:n,currentTeamName:s,currentUserId:r,intl:o}=e;if(!n)return null;let i=t.display_name;return r===n.id&&(i=o.formatMessage({id:"sidebar.directchannel.you",defaultMessage:"{displayname} (you)"},{displayname:i})),m(dA,{teammateId:n.id,channel:t,link:`/${s}/messages/@${n.username}`,label:i,closeHandler:t=>{const n=e.channel.teammate_id,s=re.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW,r=e.currentUserId;e.actions.savePreferences(r,[{user_id:r,category:s,name:n,value:"false"}]).then(t),e.actions.leaveDirectChannel(e.channel.name),e.active&&et.push(`#u3-app/${e.currentTeamName}/group/${e.redirectChannel}`)},icon:(()=>{const{channel:t,teammate:n}=e;if(!n)return null;if(n.id&&n.delete_at)return m("i",{className:"icon icon-archive-outline"});let s="";return"online"===t.status?s="status-online":"away"===t.status?s="status-away":"dnd"===t.status&&(s="status-dnd"),m(Wf,{src:Ce.getProfilePictureUrl(n.id,n.last_picture_update),size:"tab",status:n.is_bot?"":t.status,wrapperClass:"DirectChannel__profile-picture",newStatusIcon:!1,statusClass:`DirectChannel__status-icon ${s}`})})(),styles:e.styles})}));var fA=v((function(e,t){const n=fn(e,t.channel.teammate_id),s=on(e),r=tt(e),o=Xe(e,r.id),i=St(e),a=t.channel.id===i;return{teammate:n,currentUserId:s.id,redirectChannel:o,active:a}}),(function(e){return{actions:y({savePreferences:me,leaveDirectChannel:uc},e)}}))(hA);class mA extends h.PureComponent{constructor(){super(...arguments),u(this,"handleLeaveChannel",(e=>{const t=this.props.channel.id,n=re.Preferences.CATEGORY_GROUP_CHANNEL_SHOW,s=this.props.currentUserId;this.props.actions.savePreferences(s,[{user_id:s,category:n,name:t,value:"false"}]).then(e),this.props.active&&et.push(`#u3-app/${this.props.currentTeamName}/group/${this.props.redirectChannel}`)})),u(this,"getIcon",(()=>m("div",{className:"status status--group",children:this.props.membersCount})))}render(){const{channel:e,currentTeamName:t,styles:n}=this.props;return m(dA,{channel:e,link:`/${t}/messages/${e.name}`,label:e.display_name,closeHandler:this.handleLeaveChannel,icon:this.getIcon(),styles:n})}}var gA=v((function(e,t){const n=on(e),s=tt(e),r=Xe(e,s.id),o=St(e),i=t.channel.id===o,a=Yr(e);let l=0;if(a&&a[t.channel.id]){const e=a[t.channel.id];l=e.size,e.has(n.id)&&l--}return{currentUserId:n.id,redirectChannel:r,active:i,membersCount:l}}),(function(e){return{actions:y({savePreferences:me},e)}}))(mA);var vA={itemTabChannel:"u3-cxx-65311be8",tab:"u3-cxx-d14768b8",divider:"u3-cxx-5a5073a3",background:"u3-cxx-b0b7954b",tabGeometry:"u3-cxx-034d8ae7",active:"u3-cxx-86652927",justAdded:"u3-cxx-c2c8b6d1",tabWasJustAdded:"u3-cxx-33c01cff",content:"u3-cxx-6a9f97bb",icon:"u3-cxx-2fd1ca2e",title:"u3-cxx-6d7a054a",badge:"u3-cxx-db0d59be",close:"u3-cxx-5b3908bb",closeIcon:"u3-cxx-0648dbad"};const yA=f.exports.forwardRef(((e,t)=>{if(!e.channel)return null;let n=pA;return e.channel.type===re.DM_CHANNEL?n=fA:e.channel.type===re.GM_CHANNEL&&(n=gA),_("div",{ref:t,className:E(vA.tab,{[vA.active]:e.isCurrentChannel}),children:[m("div",{className:vA.divider}),m("div",{className:vA.background,children:m(nh,{tabGeometry:vA.tabGeometry})}),m(n,{channel:e.channel,currentTeamName:e.currentTeamName,styles:vA})]})}));var bA=v(function(){const e=Kr();return(t,n)=>{const s=e(t,{id:n.channelId}),r=tt(t),o=He(t)[n.channelId],i=St(t);let a=0,l=0,c=!0;return o&&(a=o.mention_count,s&&(l=zr(!1,s,o)),o.notify_props&&(c=o.notify_props.mark_unread!==Vr.MENTION)),{channel:s,currentTeamName:r.name,isCurrentChannel:s.id===i,unreadMentions:a,unreadMsgs:l,showUnreadForMsgs:c}}}(),null,null,{forwardRef:!0})(yA);var _A={items:"u3-cxx-2561465d",listItems:"u3-cxx-104cec4b",chromeTabs:"u3-cxx-e61341ec",chromeContent:"u3-cxx-538c6075",tab:"u3-cxx-e31eafcc",divider:"u3-cxx-8561825f",background:"u3-cxx-e53f7aaf",tabGeometry:"u3-cxx-03dfd5a3",active:"u3-cxx-9517bb4b",justAdded:"u3-cxx-e8a54b1e",tabWasJustAdded:"u3-cxx-20f25b03",content:"u3-cxx-0830b327",icon:"u3-cxx-942e8de8",title:"u3-cxx-9540e776",badge:"u3-cxx-c37436fa",close:"u3-cxx-58de50c3",closeIcon:"u3-cxx-d6153965",plusIcon:"u3-cxx-08bfd8b2",bottomBar:"u3-cxx-656cc6c7"};class wA extends h.PureComponent{constructor(e){super(e),u(this,"chromeTabsRef"),u(this,"tabsContentRef"),u(this,"joinMoreRef"),u(this,"tabItemRefs"),u(this,"layoutTabsDebounce"),u(this,"firstLoad"),u(this,"refKey",(e=>`refKey_${e}`)),u(this,"handleTabItemRef",(e=>t=>{this.tabItemRefs.set(this.refKey(e),t),this.layoutTabsDebounce()})),this.chromeTabsRef=f.exports.createRef(),this.tabsContentRef=f.exports.createRef(),this.joinMoreRef=f.exports.createRef(),this.tabItemRefs=new Map,this.firstLoad=!0,this.layoutTabsDebounce=Xp((()=>{this.layoutTabs(this.props.channelIds),this.firstLoad=!1}),50)}componentDidMount(){var e;null==(e=this.chromeTabsRef.current)||e.style.setProperty("--tab-content-margin","9px")}componentWillUnmount(){var e;null==(e=this.chromeTabsRef.current)||e.style.removeProperty("--tab-content-margin"),this.tabItemRefs.clear()}get tabContentWidths(){var e;const t=this.props.channelIds.length,n=(null==(e=this.tabsContentRef.current)?void 0:e.clientWidth)||0,s=1*(t+1-1),r=(n-18+s-52)/t,o=Math.max(24,Math.min(196,r)),i=Math.floor(o),a=[];let l=n-(i*t+18-s+52);for(let c=0;c<t+1;c+=1){const e=i<196&&l>0?1:0;c<t?a.push(i+e):a.push(52),l>0&&(l-=1)}return a}get tabContentPositions(){const e=[],t=this.tabContentWidths;let n=9;return t.forEach(((t,s)=>{const r=1*s;e.push(n-r),n+=t})),e}get tabPositions(){const e=[];return this.tabContentPositions.forEach((t=>{e.push(t-9)})),e}layoutTabs(e){const t=this.tabContentWidths,n=this.tabPositions;e.forEach(((e,s)=>{const r=t[s],o=r+18,i=this.tabItemRefs.get(this.refKey(e));if(i){i.style.width=o+"px",i.removeAttribute("small"),i.removeAttribute("smaller"),i.removeAttribute("mini"),r<84&&i.setAttribute("small",""),r<60&&i.setAttribute("smaller",""),r<48&&i.setAttribute("mini","");const e=n[s];i.style.left=`${e}px`}})),this.joinMoreRef.current&&(this.joinMoreRef.current.style.width="52px",this.joinMoreRef.current.style.left=`${n[n.length-1]}px`,this.joinMoreRef.current.style.display="block")}render(){const{channelIds:e}=this.props;return _("div",{ref:this.chromeTabsRef,className:_A.chromeTabs,children:[_("div",{ref:this.tabsContentRef,className:_A.chromeContent,children:[e.map(((e,t)=>m(bA,{ref:this.handleTabItemRef(e),channelIndex:t,channelId:e},e))),m(tg,{ref:this.joinMoreRef,styles:_A})]}),m("div",{className:_A.bottomBar})]})}}var xA=v(function(){const e=Qr(),t=Zr(),n=eo();return s=>{const r=ms(s),o=X(s),i=$r(s,o),a=Q(s,o),l=Z(s,o),c=1===Jr(s);if("all"===o||a.type===Xr.DIRECT_MESSAGES){let o=l.filter((e=>r.includes(e))).reduce(((e,t)=>{const n=ee(s,t);return n&&e.push(n),e}),[]);return o=e(s,o),o=t(s,o),o=n(s,o),{channelIds:o.map((e=>e.id)),categoryLoading:c,sidebarIndex:i}}return{channelIds:[],categoryLoading:c,sidebarIndex:i}}}())(wA);var CA="u3-cxx-91579a4c",EA="u3-cxx-fb9c46d5";var SA=v()((()=>(f.exports.useRef(null),m("div",{className:CA,children:m("div",{className:EA,children:m(xA,{})})}))));const TA=new G({concurrency:2});class AA extends h.PureComponent{constructor(){super(...arguments),u(this,"prefetchTimeout"),u(this,"prefetchPosts",(e=>e)),u(this,"prefetchData",(()=>{const{prefetchRequestStatus:e,prefetchQueueObj:t}=this.props;for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n];for(const t of s)e.hasOwnProperty(t)||TA.add((async()=>this.prefetchPosts(t)))}}))}async componentDidUpdate(e){const{currentChannelId:t,prefetchQueueObj:n,sidebarLoaded:s}=this.props;!t||!s||e.currentChannelId&&e.sidebarLoaded?e.prefetchQueueObj!==n&&(clearTimeout(this.prefetchTimeout),await TA.clear(),this.prefetchData()):(TA.add((async()=>this.prefetchPosts(t))),await ae(),this.prefetchData(),this.props.actions.trackDMGMOpenChannels())}render(){return null}}var PA,IA;(IA=PA||(PA={}))[IA.high=1]="high",IA[IA.medium=2]="medium",IA[IA.low=3]="low";const NA=Bs(((e,t)=>e.reduce(((e,n)=>{const s=n.id,r=t[s];if(r&&!Wr(r)){if(r.mention_count>0)return l(a({},e),{1:[...e[1],s]});if(r.notify_props&&"mention"!==r.notify_props.mark_unread&&n.total_msg_count-r.msg_count)return l(a({},e),{2:[...e[2],s]})}return e}),{1:[],2:[],3:[]})));function kA(e){return"true"===Ie(e).EnableLegacySidebar||so(e).length>0}var RA=v((function(e){const t=e.views.channel.lastUnreadChannel,n=He(e),s=to(e,t),r=NA(s,n),o=e.views.channel.channelPrefetchStatus;return{currentChannelId:St(e),prefetchQueueObj:r,prefetchRequestStatus:o,sidebarLoaded:kA(e),unreadChannels:s}}),(function(e){return{actions:y({prefetchChannelPosts:vc,trackDMGMOpenChannels:no},e)}}))(AA);var MA="u3-cxx-3edd41a0";var OA=v((function(e){return{teamId:tt(e).id}}),(function(e){return{actions:y({loadChannelsForCurrentUser2:ql},e)}}))((e=>{const[t,n]=f.exports.useState(!0);f.exports.useEffect((()=>{e.teamId&&(t||n(!0),e.actions.loadChannelsForCurrentUser2().then((()=>{n(!1)})))}),[e.teamId]);return t?m(ro,{}):_("div",{className:MA,children:[m(SA,{onJoinMore:()=>{}}),m(RA,{})]})}));class LA extends h.PureComponent{constructor(e){super(e)}render(){const e=this.props,{modals:t}=e,n=c(e,["modals"]),{modalState:s}=t;if(!t)return m("div",{});const r=[];for(const o in s)if(s.hasOwnProperty(o)){const e=s[o];if(e.open){const t=h.createElement(e.dialogType,Object.assign({},e.dialogProps,{onHide:n.actions.closeModal.bind(this,o),key:`${o}_modal`}));r.push(t)}}return m("div",{children:r})}}var DA=v((function(e){return{modals:e.views.modals}}),(function(e){return{actions:y({closeModal:fr},e)}}))(LA);var jA={fileOverlay:"u3-cxx-9a9c6561",overlayIndent:"u3-cxx-dc097ddb",rightFileOverlay:"u3-cxx-605e0021",overlayFiles:"u3-cxx-b3dc874e",overlayCircle:"u3-cxx-2b870bb7",overlayLogo:"u3-cxx-27883677",fa:"u3-cxx-d86898e2"};const FA=e=>m("div",{className:E(jA.fileOverlay,"u3-hidden",{[jA.rightFileOverlay]:"right"===e.overlayType,[jA.centerFileOverlay]:"center"===e.overlayType}),children:m("div",{className:jA.overlayIndent,children:_("div",{className:jA.overlayCircle,children:[m("img",{className:jA.overlayFiles,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAABrCAMAAAAW2X0YAAAC9FBMVEUAAAAAAAAAAAD////Ozs4AAAABAQHPz8/GxsYAAADMzMwAAADv7+/6+vri4uIAAAAAAAD7+/v////+/v78/Pz29vbNzc0AAAAAAAAAAAD9/f3+/v7+/v77+/v29vafn58AAAAAAABCQkL+/v7+/v7r6+vz8/MAAADJycn6+vr8/Pz9/f38/Pz39/f6+vr8/Pz8/Pzo6OjKysq4uLjd3d3////+/v739/f39/f19fXMzMzLy8umpqb////29vb39/f7+/vR0dHMzMzGxsYAAADd3d3JycmmpqYAAAD39/ft7e3Gxsa9vb2tra34+Pi2trbU1NTi4uLw8PD7+/v29vb29vbm5ub19fX7+/vY2Njx8fHW1tbCwsLm5ubt7e3z8/N9fX35+fnp6enPz8/m5ubg4ODa2trU1NTW1tbk5OSysrLq6urPz8/BwcFjY2P9/f3Kysr19fW/v7/k5OSZmZnMzMwAAAC9vb3Hx8dAQECioqK7u7uvr6/w8PCxsbHc3Ny4uLikpKQLCwuoqKjHx8fOzs7u7u7w8PCsrKzT09OPj4+Tk5OXl5eZmZmenp61tbUAAADR0dG1tbX8/Pze3t6zs7OxsbGbm5ugoKC9vb0AAACBgYHq6uqnp6elpaXExMSrq6sAAAD4+PjZ2dmcnJzk5OTv7++kpKStra3n5+e4uLi/v7+JiYmhoaHIyMjAwMDJycm7u7v19fXg4OC3t7cdHR3S0tLw8PCRkZHb29vZ2dmtra2Tk5Pm5ube3t7CwsLr6+vU1NTf39/4+Pj19fXa2trw8PDr6+vz8/O3t7fS0tLKysrGxsbExMS4uLidnZ1zc3MmJiYAAAAAAAAAAAAAAAACAgK5ubmtra2GhoY/Pz8AAAAAAAAAAAC/v7+cnJxfX18FBQUAAAAAAAAAAAAAAADW1ta5ubmEhIQ1NTUAAAAAAAAAAADl5eWkpKTz8/Pg4OBtbW3f39/Z2dmVlZUICAhFRUUjIyPb29tpaWmMjIxycnKq81rdAAAA/HRSTlMAAQL/gAMF/4MI/wQVPxEHDE2zj2Q0CgkQBn2th1cnBAsSDKuoGyAUnLS0oHBBRnOms48k2rGWOWyzs3AXsCksWrOpWA2ztEUWQ7O1uIyzubOzs7T/tXYlVrO1sz+zt7YOnrizuLOzt7y5LbRJRR6zoZRgaP+vDz57Gf//M4n/XE4wFLO0ZH3///+3tbSzs7MKT////7Wzs7OzDiT//7mzsxOa////tbOzcLP/ublEs/+0jmM4FrmEuLtXuSpqXrV6UrqWsrWPgJI8vb/AwLCQbUk9NTEvLbGWdFI4KiebeFU7JCIgHp96VjUcGhilWqyIOYVrPSAoI24uOTKpTH4gAAALmklEQVR4AdTUg34sMRzF8T3pnSnWqW3bbWrbtq1r883vpEydzczq9wbfT/4nNpMBxPcA2EIjgESo9IaECAGargSIjNJIKAhA9Gg1QEyUnRA4nK7gXhPsbo8iICZK14iX0ti4+ITgIYiemKQIMATJySmUl5qWnpEJICiArGxFABfk5NKb8lK8+QgUAgApiAdgI8meQkUAr6i4hAqVlpX7fxIwclRUVtHqmlpAMwHg1YkCXn2DXycBIKGxqYHymhlradXcZgCiQKgtLb3dD5MAkNnRGdtGb+pirLsnp1cZ8LzA+knAqMCbkkvF+hhj/UUDg+qA5wWWTgKAa6iylD5smANGRscUARICCybBjz4+roE+1fgVYEIRICG4mUSn2iT40bd3prXR55o0D5AR8HJTvAXwBQGjfG9KHn2pKbMAeQGvtHKIT0Ly6J1lpfS1pq0AyAt4DXGNCS8bAJtx9LFUphkTgNkHzc1QydrmCfD80S8spqVS2ZZEgLmW5Z6At7L6lIAfV36FePQSrVkHWN+QfYJiVrRJ8PjoG5u2qK8tWwfY3iimcg0z1mO/LwAyYuupSjuWAXalb2iPse5WOwQBQPKpWvv9OweHlgCO1uckAV2MsRadiABiT96iSo2Pz60fBRYwznjH4hNA06ObqFolAQecMF6NromA5KzTsAH0scvO7AQi4DxcABc77LK3m9o9QPa7MAE0s+ve6wQCIOmDlYCPr6UOWGPXfbr7SkH0xM9fwgSwxG76KjyBPbr3W6qlgO8/nu+7CcAMu+vn3RNobk/2L0sBvyOe77cJwDS7SfxKQYwR/AkLwBQT+msnNwJjBP/CAnDxnzmzfFMbj6Lwuutdd5fMum9YrTAf2D4UWGXYKgt1z7rvOHDHh0AtTA06Rt3d+19thPs0c0NCPqQPvHXvCzm/nDmJhEM+YjodpXoI/nuzvgKzW9vmrAI3CIHENJ9Ou55juhN0eC7Q2fVbt1uBxal0Bnt648vAFcG3knH1KH1Hz7Eegr6f+j0XGJAkqfN6YnDISWBWarg5KyNiLh9tATesEudEb1HfArqG1m/wXKBLFdh4PXHbJieBzalYEwgJpYAqrYo/6E5CvZvRg5aZI1u8FthqzsLGbdJ2B4FUaocRYjGaL6JKqTm8qvZI8ZD2FlCb2Am18Y+GwX2IO7cPagOEfgF1SdKYg8D4hOkUCkwb7UF0EYmdTz+iHkTUJiahJgHEnlWgESvHWpwFiK9+26p+vUuSpG2DDgKzSMBg1RyfEYndsQjYMkkCRpv4BGrRi4hzQOUtVBl+y43AmCRtvX6jpLHVQWCRKsAIJpRWPRJlm0h88us9VwTUNrEHahBGlWZQEXtQQxGcLyH1Jd8uqXR3SRp/OQgstAhQJHK2kdjzDL0DRgj2Qg0KqFICDTG2W0bE7A4ngd8HBgc3SSY6bQUmHO7EgWm9PYhYBs7eh59+hNqEFoJ94EwMNWR6O8UyYqbkIPDVNmlgl2TmNvv7ABNgfDmnF/PA2feTegqZKvV+511OKKKOH4goZtKz7AVukzibbAUOmAQic8DKKEaB8fz+mbca9wFqEwfBCR8aKAAQL5UDABDLpA8dthMY/E2ysN1NmSvLCbCQQxEYBykC1CYePgL2UG4RWwGCiCjHAWA4nTpqJzAkWRlzI1BEq8Fb2AqcIw/3UQQqbeIYOFBGosU4TzEE8FY6dchOYECysm2wtkAEEWU/HzFRAc6x9XQFUQhGbAc6MVlGAmMAsGwUsScITcXUuNcfD4SwikEWE8BYMEIRuBKCb6AaYaWAZnZX/kqMQtNu7wVGUUNOgglBloPA+MYcAb1N9P1UdaDLIyNHL1QzNH1RXaBruz1dzgKrKGtmgzBmgbP8pz69yplDsBKsRNDCMuMMxTYS8HJWmYMVzKlV0AecleYIUJtY40ogrt1aSohJuoQ8E6DTumd0WmBqB3gLGGueueduErjSJo6DlSJyeo1DKSdAU85zgV4563uL9R6RSrCJdQ+bI+A00JWRIwsAsn6RhukY9U5AFMBCEkeB87PWI0jAcaBLooUwwLTWGABk06lhLwVsyGMIGI/9aj5EHQc6ES20UbugKnGVBYoYAcafagTMVxANdCeqtmhOiW45mfRJb8bd2Yvm2QsEsAicvytVmqCB7g+woqCFYOXAywx79HxgPJUZpoPHwjQsA+dfNQLs/2870IXRQrLy88MtngmkM4jFfFSsWqX9wHjzPx4Bh4FOkFFHziFRBg1/VPDqCc3RJctaUadVSQSBoHtzEBinpvQIc6U+DVbiiFhQEoLgo9t88So8YkoUsYKc9Zl30jlYAk7/T1SlCceBLuAXQadlFA0iHguc0U6hQEjfg5Ddi33YDJwN1CMI1wNduBU1QiTg2SXkz6rvMax6S9+DdCgSWQwD4+zITOoRhOuB7kv9OtpNAp6G2GgR+kRKFBR/lR6xk3qECfcD3blRRJ/HAhOH0hm6dkIB/SOoorl7MVaYegQ/SFd+AjWZk/A8xAvPKyUkiuWkCBChSMSB8Qn1CA4NdPV50D31ZS9QJBADwLhAVZpBA129BDQiMTqJKpEQMec4yRFsoKuLAPFWfFgmiZ4C5oHzB01yDBro6ihACOE2ikSVSa5Kj2ADXV0FiKDfiIQIjIvVegQf6BpAwIjE7rjzJEfwga5BBBh8kmPQQPdKYwssoB5hG4JTDS3AJzmCD3SNK8AnOYIPdI0q8B6f5KxtYuRsIwtcsusRfKBrVAE+yVWr1N83ssBlmyrNB7pGFXiOHu1x+EDnTkBo+eHw/4zbtQECMQAAwBVYgXm+psR1CmQorE337hq3PXDXK5Mm7rFsx33l+UEYxUmaZntpmsRRGPi5+4ZjW9v/X6+v67XPLeh2QPd3Bto9MLHsJ0ZRVlEUwTjNED5CWRrDfVBVFob9zJqAXvvfDMy+rCNeD+h+2h8MDcB2cmdFKOMQwnhf+ggLqZTSSkmJ0b4W4n0EZ5SsJve2YNBq/PsBYrEr3gog4waj8EQTIkiAy6+Q2DgxKAww0NCAwVxRc7UqFFSLAKXQATgAN5ABAzAUtllhLQAUANKkbXNpu+7u2raFvT95N+bt/E8t9oGqC9/3v+97iS8St6Y4iBZ0aqzDCLorq2sTHJ+cnh0ewrnDwQP3YlBG7QpROSiyoxRGAbOAH5yeHK/9xupKlz2A54kiAqSgU+B10Fle6kqcz1ycScOkwDyX1KO27/bD0AGEYd/121E0GBQwjjSVpjq7mDnvVlha7gTqT2hoJUdBCzoV1iEGQdC5/LF5lR4dZZK5PPXEBepOr2Xatqhg22av54AMN6mmUeQ52Cq92vx52ekEAe/8sZIjS1RV0CkkzH4fjsZZVsChl/LQ45q5EIal67qGgD8tA4SYLdARu76UATogIaOdrVdwEDy8+Hslxy7oCD583L7OkXsiuXstUwjL0jX66aP8j6ZblhBmy5uoKOUwbhZuN1SfIU2v5JgFHcXct/m7bELej/uSvC0MSp6KMIQtRfRjP8FR5Nfbi4wveb64ygjgI7WioHu6u3MP5Os1I7Pq9ZC8RslTERqK6HmYbhCRF9nD/L5i/b1RPEewCrqXB8OFG5nWQVR7HsibwkDfPGEB3YQi4smKKvIxRII8yJBXewT8gu7tItv0FOpISBEkEuTVHgGzoJvbl6YH9mj6kJheAWUk3KTK9dRIfMVKTh0CUtDNbu2MxtWWR9+g6S216fkiMBL1JPIcI6Gu5JQF3catND3eXXHRM03/6EiUZRWJe4wEebWn8pDj7/5r0z8+EsODOhLvFM8RpKB7tj//QJcl0/QNRGIPX+3xPPT502hc5H8sS5vtmwYiUdztvWc5CBep58oLSzQ93zfNRSJqx57gCtAMM3T9RPGE0CBoJHw/dky4DTMvt4QJ1zls0zcvwnE8U1jsW70mB9i86fmRELYko3GJ1NKbNz0/EjqSYV+E+N/k1XR+AWSp9BXRFCxOAAAAAElFTkSuQmCC",alt:"Files",loading:"lazy"}),_("span",{children:[m(D,{id:"generic_icons.upload",defaultMessage:"Upload Icon",children:e=>m("i",{className:"fa fa-upload",title:e})}),m(D,{id:"upload_overlay.info",defaultMessage:"Drop a file to upload it."})]}),m("img",{className:jA.overlayLogo,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANsAAAAkCAYAAAAAR0+MAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZZSURBVHgB7Z2PWds6EMAv73sD0AlwJyid4JkJXjoBfhMAE2AmgE6QMEHpBA4TJG8CuxOQTnDVoUujKLL+xI5rFP2+74DYiv5Z55PuZDOBEwURz8SvC5ZPQjIWlTXLSsgPIYvJZLKCRCJhhxRMSCGkEvKKh1ELmQnJIZFI7MJKdtdBwWyKV0AikXhTtOsjKJlJ6c4gkbAwgUgRgz8Tv2ZCchiGW7Gee4TEwYhrRuvnvZuW6NcFRMDfECF80SowXLgjkixbd5amg+J6NkLhPsI75y+IDHFhrkBeNN/BvxByK+SLkI8TRvz9QchnIZdC7jmdK5/ewO06s9amrEs+nsHpkEFiXJBFQz9oDVeGrrNogAuZG/IroUfQf515BxFhaygkxgMrQu0xQB+xozODy5qiDCNk0CMorVYI0SicaEvOfboJzyRlGyMoY182yFJMYcTwIDPVm24QZInJqtba+W8QIajNICAConCQoAwwF5YktAvk8h3s/tCt1JOQG1HvtXoQ5bSV0jZC/gMPuI/+Bbn+IctOeX4Xec8d36P0OX9ci/TPWn4XfO67kGdxvnGUu+JyF3AEDPWi8l429U50RJ9yGLiBgWDrNBPygNIr6vu9XKvz0iO9czqMcspbWfqmRktgni2qyjm3zQRZ4Svluw+Wcme2+mOgZUO5Xq/R3s4MEoeDcjDZmMFAoHkq66XouD+oc+gI+q9jW+tpqNc3j7xydE/riZml7t7KhnL97LtxYdRLiVEjOu/G0bkZ9IwpT77gJmgQ+Figufa9znE7NCsahQ6qlrrmhjxKS7va8nptKbNGjzJN/WFpY9sNxVa3DBLhoH2KtIQewd2pCv2eKudKSz1yj7x7dQjgvrOlVuuBcpDqVqoy5GNq145HF9sHPB3LbO2kvKBDf+C+BV2qZXLdlj5lJhygfZrUa6cayvpttdBuYZ1rN9fgwm2owSRTQ3p9gGUt5VZaunPtvK5sbbs8TO3PDOnOtDTPcEB/KOlUK1qjYUbAZarpXiERDtoJdoygvBPOkHdqKMfzljIKPq9f0N8DwLNcl7K5uLCkf7aUq1vAqXa+tJ1X0l0ElFkr6apD+oPTZFqZj5YyH7W05zAw0W3X0lhDOKRgBUjXMQ20go+3hQ0a+sHu+cvNZ2bBx4bAtsaz3cmbgHxM6TfofT1EmCXTPjeWtHp9Bt9rGYOy2RTqECdDrn3+h36wMt1r557UeBHF8XjD7JuIvy/1uFMHDrlxHIMxT8HG0kdGYghqN7ANYOp8gnBeYPeO+bL5QygOWboVl7eyBErXeiC6KyK/D+pntriDhTUS3YnBsv1vOUdOhVDrRuu8r0JIkW71HRakYKR0JkVDua6jNchm7TbD5GZOMDEo28JyjhQtyElCFkkIbZH6EvIwKEpnCilarhwuhPjuXdS3ZLk8mJ3jcBGgzx5sffLH+ysGZSMLY5uyXeORX1nA1qtsOX2Bftu29AX8lSP9teP7ap9k0I5etwbeD/p1ty0b9HNDOHB2ePfKxmujr5YkpGhH2xnPilY5kvkou37ToLjVVUuZZEUz5dDcsEZUB1Nuyovr7lLa0cLOJ7W+henGxu0slENN32vqkwHbY1wqvTsT0Lw7Qccrzsb5laZ681qQyqI1aGVIkxnyMsUF3zZHc16kzLVelkedjPEp3I95lZZ2quV6xdm4HhvJlHR6MJ3GwZvScZ3ucH9sFJA4HHTvkSR2tvJ0LM+1y3xDFpDnGbqVV6e05DcPyKdGs9KORdlUCi1thQHthD9ENEFtdmY8OZK9vQgIO9zZUCrEA8j3nGSO5PchcTae2tC7UHyncpR/aTlPzqFncNOAfN6vgfcJPdPXeKSjfh1qk0HcYJhlqFFO0XycF5tpGU3DfB/lKKEDKKdCdUveFQY8gmPJy/kuFtzdztX6BAPuW7bCkmeltsWjXJ1py3fKQ9s5BNG9N5I7lC6glxIxZFFWLD+V4+ecTwZhrmOXxfEG5c0gg+3T1YtDF/esoBl/bEAG5qNzFJxKO0cB+jlMjsUNJBKnBIY5B/qApq8h1jRxYsS+638IaHpC27o+p38nlbAR5evHmWM/r7QA+UapeVoPJHyI8h9roHSS9P0oyMaJYnxlWyLhIlbLpruG1ywNbOMxP8G+p7JRfjdJuRJdidX1X8DWEq2ToiTGwC8acP0mttuO7QAAAABJRU5ErkJggg==",width:"100",alt:"Logo",loading:"lazy"})]})})});var UA="u3-cxx-0d49b2eb",HA="u3-cxx-8bf0af43",BA="u3-cxx-ef7d81e4",qA="u3-cxx-c44091e9",GA={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
!function(e,t){(function(){var n,s="Expected a function",r="__lodash_hash_undefined__",o="__lodash_placeholder__",i=16,a=32,l=64,c=128,u=256,d=1/0,p=9007199254740991,h=NaN,f=4294967295,m=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",i],["flip",512],["partial",a],["partialRight",l],["rearg",u]],g="[object Arguments]",v="[object Array]",y="[object Boolean]",b="[object Date]",_="[object Error]",w="[object Function]",x="[object GeneratorFunction]",C="[object Map]",E="[object Number]",S="[object Object]",T="[object Promise]",A="[object RegExp]",P="[object Set]",I="[object String]",N="[object Symbol]",k="[object WeakMap]",M="[object ArrayBuffer]",O="[object DataView]",L="[object Float32Array]",D="[object Float64Array]",j="[object Int8Array]",F="[object Int16Array]",U="[object Int32Array]",H="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",G="[object Uint32Array]",z=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,$=RegExp(Y.source),J=RegExp(K.source),X=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,se=/[\\^$.*+?()[\]{}|]/g,re=RegExp(se.source),oe=/^\s+/,ie=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['’]",Ie="[\\ud800-\\udfff]",Ne="["+Ae+"]",ke="["+Ce+"]",Re="\\d+",Me="[\\u2700-\\u27bf]",Oe="["+Se+"]",Le="[^\\ud800-\\udfff"+Ae+Re+Ee+Se+Te+"]",De="\\ud83c[\\udffb-\\udfff]",je="[^\\ud800-\\udfff]",Fe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Te+"]",Be="(?:"+Oe+"|"+Le+")",qe="(?:"+He+"|"+Le+")",Ge="(?:['’](?:d|ll|m|re|s|t|ve))?",ze="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ve="(?:"+ke+"|"+De+")"+"?",We="[\\ufe0e\\ufe0f]?",Ye=We+Ve+("(?:\\u200d(?:"+[je,Fe,Ue].join("|")+")"+We+Ve+")*"),Ke="(?:"+[Me,Fe,Ue].join("|")+")"+Ye,$e="(?:"+[je+ke+"?",ke,Fe,Ue,Ie].join("|")+")",Je=RegExp(Pe,"g"),Xe=RegExp(ke,"g"),Qe=RegExp(De+"(?="+De+")|"+$e+Ye,"g"),Ze=RegExp([He+"?"+Oe+"+"+Ge+"(?="+[Ne,He,"$"].join("|")+")",qe+"+"+ze+"(?="+[Ne,He+Be,"$"].join("|")+")",He+"?"+Be+"+"+Ge,He+"+"+ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Ke].join("|"),"g"),et=RegExp("[\\u200d\\ud800-\\udfff"+Ce+"\\ufe0e\\ufe0f]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,rt={};rt[L]=rt[D]=rt[j]=rt[F]=rt[U]=rt[H]=rt[B]=rt[q]=rt[G]=!0,rt[g]=rt[v]=rt[M]=rt[y]=rt[O]=rt[b]=rt[_]=rt[w]=rt[C]=rt[E]=rt[S]=rt[A]=rt[P]=rt[I]=rt[k]=!1;var ot={};ot[g]=ot[v]=ot[M]=ot[O]=ot[y]=ot[b]=ot[L]=ot[D]=ot[j]=ot[F]=ot[U]=ot[C]=ot[E]=ot[S]=ot[A]=ot[P]=ot[I]=ot[N]=ot[H]=ot[B]=ot[q]=ot[G]=!0,ot[_]=ot[w]=ot[k]=!1;var it={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,lt=parseInt,ct="object"==typeof R&&R&&R.Object===Object&&R,ut="object"==typeof self&&self&&self.Object===Object&&self,dt=ct||ut||Function("return this")(),pt=t&&!t.nodeType&&t,ht=pt&&e&&!e.nodeType&&e,ft=ht&&ht.exports===pt,mt=ft&&ct.process,gt=function(){try{var e=ht&&ht.require&&ht.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),vt=gt&&gt.isArrayBuffer,yt=gt&&gt.isDate,bt=gt&&gt.isMap,_t=gt&&gt.isRegExp,wt=gt&&gt.isSet,xt=gt&&gt.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,s){for(var r=-1,o=null==e?0:e.length;++r<o;){var i=e[r];t(s,i,n(i),e)}return s}function St(e,t){for(var n=-1,s=null==e?0:e.length;++n<s&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,s=null==e?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,s=null==e?0:e.length,r=0,o=[];++n<s;){var i=e[n];t(i,n,e)&&(o[r++]=i)}return o}function It(e,t){return!!(null==e?0:e.length)&&Ut(e,t,0)>-1}function Nt(e,t,n){for(var s=-1,r=null==e?0:e.length;++s<r;)if(n(t,e[s]))return!0;return!1}function kt(e,t){for(var n=-1,s=null==e?0:e.length,r=Array(s);++n<s;)r[n]=t(e[n],n,e);return r}function Rt(e,t){for(var n=-1,s=t.length,r=e.length;++n<s;)e[r+n]=t[n];return e}function Mt(e,t,n,s){var r=-1,o=null==e?0:e.length;for(s&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function Ot(e,t,n,s){var r=null==e?0:e.length;for(s&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Lt(e,t){for(var n=-1,s=null==e?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var Dt=Gt("length");function jt(e,t,n){var s;return n(e,(function(e,n,r){if(t(e,n,r))return s=n,!1})),s}function Ft(e,t,n,s){for(var r=e.length,o=n+(s?1:-1);s?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function Ut(e,t,n){return t==t?function(e,t,n){var s=n-1,r=e.length;for(;++s<r;)if(e[s]===t)return s;return-1}(e,t,n):Ft(e,Bt,n)}function Ht(e,t,n,s){for(var r=n-1,o=e.length;++r<o;)if(s(e[r],t))return r;return-1}function Bt(e){return e!=e}function qt(e,t){var n=null==e?0:e.length;return n?Wt(e,t)/n:h}function Gt(e){return function(t){return null==t?n:t[e]}}function zt(e){return function(t){return null==e?n:e[t]}}function Vt(e,t,n,s,r){return r(e,(function(e,r,o){n=s?(s=!1,e):t(n,e,r,o)})),n}function Wt(e,t){for(var s,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==n&&(s=s===n?i:s+i)}return s}function Yt(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}function Kt(e){return e?e.slice(0,pn(e)+1).replace(oe,""):e}function $t(e){return function(t){return e(t)}}function Jt(e,t){return kt(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Qt(e,t){for(var n=-1,s=e.length;++n<s&&Ut(t,e[n],0)>-1;);return n}function Zt(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length,s=0;n--;)e[n]===t&&++s;return s}var tn=zt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),nn=zt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+it[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,s){n[++t]=[s,e]})),n}function an(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,s=e.length,r=0,i=[];++n<s;){var a=e[n];a!==t&&a!==o||(e[n]=o,i[r++]=n)}return i}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function un(e){return rn(e)?function(e){var t=Qe.lastIndex=0;for(;Qe.test(e);)++t;return t}(e):Dt(e)}function dn(e){return rn(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function pn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var hn=zt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var fn=function e(t){var R,ie=(t=null==t?dt:fn.defaults(dt.Object(),t,fn.pick(dt,nt))).Array,Ce=t.Date,Ee=t.Error,Se=t.Function,Te=t.Math,Ae=t.Object,Pe=t.RegExp,Ie=t.String,Ne=t.TypeError,ke=ie.prototype,Re=Se.prototype,Me=Ae.prototype,Oe=t["__core-js_shared__"],Le=Re.toString,De=Me.hasOwnProperty,je=0,Fe=(R=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",Ue=Me.toString,He=Le.call(Ae),Be=dt._,qe=Pe("^"+Le.call(De).replace(se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=ft?t.Buffer:n,ze=t.Symbol,Ve=t.Uint8Array,We=Ge?Ge.allocUnsafe:n,Ye=an(Ae.getPrototypeOf,Ae),Ke=Ae.create,$e=Me.propertyIsEnumerable,Qe=ke.splice,et=ze?ze.isConcatSpreadable:n,it=ze?ze.iterator:n,ct=ze?ze.toStringTag:n,ut=function(){try{var e=ho(Ae,"defineProperty");return e({},"",{}),e}catch(t){}}(),pt=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ht=Ce&&Ce.now!==dt.Date.now&&Ce.now,mt=t.setTimeout!==dt.setTimeout&&t.setTimeout,gt=Te.ceil,Dt=Te.floor,zt=Ae.getOwnPropertySymbols,mn=Ge?Ge.isBuffer:n,gn=t.isFinite,vn=ke.join,yn=an(Ae.keys,Ae),bn=Te.max,_n=Te.min,wn=Ce.now,xn=t.parseInt,Cn=Te.random,En=ke.reverse,Sn=ho(t,"DataView"),Tn=ho(t,"Map"),An=ho(t,"Promise"),Pn=ho(t,"Set"),In=ho(t,"WeakMap"),Nn=ho(Ae,"create"),kn=In&&new In,Rn={},Mn=Go(Sn),On=Go(Tn),Ln=Go(An),Dn=Go(Pn),jn=Go(In),Fn=ze?ze.prototype:n,Un=Fn?Fn.valueOf:n,Hn=Fn?Fn.toString:n;function Bn(e){if(ia(e)&&!$i(e)&&!(e instanceof Vn)){if(e instanceof zn)return e;if(De.call(e,"__wrapped__"))return zo(e)}return new zn(e)}var qn=function(){function e(){}return function(t){if(!oa(t))return{};if(Ke)return Ke(t);e.prototype=t;var s=new e;return e.prototype=n,s}}();function Gn(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new Yn(e);this.size=t.size}function Xn(e,t){var n=$i(e),s=!n&&Ki(e),r=!n&&!s&&Zi(e),o=!n&&!s&&!r&&fa(e),i=n||s||r||o,a=i?Yt(e.length,Ie):[],l=a.length;for(var c in e)!t&&!De.call(e,c)||i&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_o(c,l))||a.push(c);return a}function Qn(e){var t=e.length;return t?e[$s(0,t-1)]:n}function Zn(e,t){return jo(Nr(e),ls(t,0,e.length))}function es(e){return jo(Nr(e))}function ts(e,t,s){(s!==n&&!Vi(e[t],s)||s===n&&!(t in e))&&is(e,t,s)}function ns(e,t,s){var r=e[t];De.call(e,t)&&Vi(r,s)&&(s!==n||t in e)||is(e,t,s)}function ss(e,t){for(var n=e.length;n--;)if(Vi(e[n][0],t))return n;return-1}function rs(e,t,n,s){return hs(e,(function(e,r,o){t(s,e,n(e),o)})),s}function os(e,t){return e&&kr(t,Da(t),e)}function is(e,t,n){"__proto__"==t&&ut?ut(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function as(e,t){for(var s=-1,r=t.length,o=ie(r),i=null==e;++s<r;)o[s]=i?n:ka(e,t[s]);return o}function ls(e,t,s){return e==e&&(s!==n&&(e=e<=s?e:s),t!==n&&(e=e>=t?e:t)),e}function cs(e,t,s,r,o,i){var a,l=1&t,c=2&t,u=4&t;if(s&&(a=o?s(e,r,o,i):s(e)),a!==n)return a;if(!oa(e))return e;var d=$i(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Nr(e,a)}else{var p=go(e),h=p==w||p==x;if(Zi(e))return Er(e,l);if(p==S||p==g||h&&!o){if(a=c||h?{}:yo(e),!l)return c?function(e,t){return kr(e,mo(e),t)}(e,function(e,t){return e&&kr(t,ja(t),e)}(a,e)):function(e,t){return kr(e,fo(e),t)}(e,os(a,e))}else{if(!ot[p])return o?e:{};a=function(e,t,n){var s=e.constructor;switch(t){case M:return Sr(e);case y:case b:return new s(+e);case O:return function(e,t){var n=t?Sr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case D:case j:case F:case U:case H:case B:case q:case G:return Tr(e,n);case C:case P:return new s;case E:case I:return new s(e);case A:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return r=e,Un?Ae(Un.call(r)):{}}var r}(e,p,l)}}i||(i=new Jn);var f=i.get(e);if(f)return f;i.set(e,a),da(e)?e.forEach((function(n){a.add(cs(n,t,s,n,e,i))})):aa(e)&&e.forEach((function(n,r){a.set(r,cs(n,t,s,r,e,i))}));var m=d?n:(u?c?oo:ro:c?ja:Da)(e);return St(m||e,(function(n,r){m&&(n=e[r=n]),ns(a,r,cs(n,t,s,r,e,i))})),a}function us(e,t,s){var r=s.length;if(null==e)return!r;for(e=Ae(e);r--;){var o=s[r],i=t[o],a=e[o];if(a===n&&!(o in e)||!i(a))return!1}return!0}function ds(e,t,r){if("function"!=typeof e)throw new Ne(s);return Mo((function(){e.apply(n,r)}),t)}function ps(e,t,n,s){var r=-1,o=It,i=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=kt(t,$t(n))),s?(o=Nt,i=!1):t.length>=200&&(o=Xt,i=!1,t=new $n(t));e:for(;++r<a;){var u=e[r],d=null==n?u:n(u);if(u=s||0!==u?u:0,i&&d==d){for(var p=c;p--;)if(t[p]===d)continue e;l.push(u)}else o(t,d,s)||l.push(u)}return l}Bn.templateSettings={escape:X,evaluate:Q,interpolate:Z,variable:"",imports:{_:Bn}},Bn.prototype=Gn.prototype,Bn.prototype.constructor=Bn,zn.prototype=qn(Gn.prototype),zn.prototype.constructor=zn,Vn.prototype=qn(Gn.prototype),Vn.prototype.constructor=Vn,Wn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(Nn){var s=t[e];return s===r?n:s}return De.call(t,e)?t[e]:n},Wn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==n:De.call(t,e)},Wn.prototype.set=function(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Nn&&t===n?r:t,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=ss(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},Yn.prototype.get=function(e){var t=this.__data__,s=ss(t,e);return s<0?n:t[s][1]},Yn.prototype.has=function(e){return ss(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,s=ss(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Tn||Yn),string:new Wn}},Kn.prototype.delete=function(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return uo(this,e).get(e)},Kn.prototype.has=function(e){return uo(this,e).has(e)},Kn.prototype.set=function(e,t){var n=uo(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this},$n.prototype.add=$n.prototype.push=function(e){return this.__data__.set(e,r),this},$n.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new Yn,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var s=n.__data__;if(!Tn||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(s)}return n.set(e,t),this.size=n.size,this};var hs=Or(ws),fs=Or(xs,!0);function ms(e,t){var n=!0;return hs(e,(function(e,s,r){return n=!!t(e,s,r)})),n}function gs(e,t,s){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(l===n?a==a&&!ha(a):s(a,l)))var l=a,c=i}return c}function vs(e,t){var n=[];return hs(e,(function(e,s,r){t(e,s,r)&&n.push(e)})),n}function ys(e,t,n,s,r){var o=-1,i=e.length;for(n||(n=bo),r||(r=[]);++o<i;){var a=e[o];t>0&&n(a)?t>1?ys(a,t-1,n,s,r):Rt(r,a):s||(r[r.length]=a)}return r}var bs=Lr(),_s=Lr(!0);function ws(e,t){return e&&bs(e,t,Da)}function xs(e,t){return e&&_s(e,t,Da)}function Cs(e,t){return Pt(t,(function(t){return na(e[t])}))}function Es(e,t){for(var s=0,r=(t=_r(t,e)).length;null!=e&&s<r;)e=e[qo(t[s++])];return s&&s==r?e:n}function Ss(e,t,n){var s=t(e);return $i(e)?s:Rt(s,n(e))}function Ts(e){return null==e?e===n?"[object Undefined]":"[object Null]":ct&&ct in Ae(e)?function(e){var t=De.call(e,ct),s=e[ct];try{e[ct]=n;var r=!0}catch(i){}var o=Ue.call(e);r&&(t?e[ct]=s:delete e[ct]);return o}(e):function(e){return Ue.call(e)}(e)}function As(e,t){return e>t}function Ps(e,t){return null!=e&&De.call(e,t)}function Is(e,t){return null!=e&&t in Ae(e)}function Ns(e,t,s){for(var r=s?Nt:It,o=e[0].length,i=e.length,a=i,l=ie(i),c=1/0,u=[];a--;){var d=e[a];a&&t&&(d=kt(d,$t(t))),c=_n(d.length,c),l[a]=!s&&(t||o>=120&&d.length>=120)?new $n(a&&d):n}d=e[0];var p=-1,h=l[0];e:for(;++p<o&&u.length<c;){var f=d[p],m=t?t(f):f;if(f=s||0!==f?f:0,!(h?Xt(h,m):r(u,m,s))){for(a=i;--a;){var g=l[a];if(!(g?Xt(g,m):r(e[a],m,s)))continue e}h&&h.push(m),u.push(f)}}return u}function ks(e,t,s){var r=null==(e=Io(e,t=_r(t,e)))?e:e[qo(ti(t))];return null==r?n:Ct(r,e,s)}function Rs(e){return ia(e)&&Ts(e)==g}function Ms(e,t,s,r,o){return e===t||(null==e||null==t||!ia(e)&&!ia(t)?e!=e&&t!=t:function(e,t,s,r,o,i){var a=$i(e),l=$i(t),c=a?v:go(e),u=l?v:go(t),d=(c=c==g?S:c)==S,p=(u=u==g?S:u)==S,h=c==u;if(h&&Zi(e)){if(!Zi(t))return!1;a=!0,d=!1}if(h&&!d)return i||(i=new Jn),a||fa(e)?no(e,t,s,r,o,i):function(e,t,n,s,r,o,i){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case y:case b:case E:return Vi(+e,+t);case _:return e.name==t.name&&e.message==t.message;case A:case I:return e==t+"";case C:var a=on;case P:var l=1&s;if(a||(a=cn),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;s|=2,i.set(e,t);var u=no(a(e),a(t),s,r,o,i);return i.delete(e),u;case N:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,s,r,o,i);if(!(1&s)){var f=d&&De.call(e,"__wrapped__"),m=p&&De.call(t,"__wrapped__");if(f||m){var w=f?e.value():e,x=m?t.value():t;return i||(i=new Jn),o(w,x,s,r,i)}}if(!h)return!1;return i||(i=new Jn),function(e,t,s,r,o,i){var a=1&s,l=ro(e),c=l.length,u=ro(t).length;if(c!=u&&!a)return!1;var d=c;for(;d--;){var p=l[d];if(!(a?p in t:De.call(t,p)))return!1}var h=i.get(e),f=i.get(t);if(h&&f)return h==t&&f==e;var m=!0;i.set(e,t),i.set(t,e);var g=a;for(;++d<c;){var v=e[p=l[d]],y=t[p];if(r)var b=a?r(y,v,p,t,e,i):r(v,y,p,e,t,i);if(!(b===n?v===y||o(v,y,s,r,i):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return i.delete(e),i.delete(t),m}(e,t,s,r,o,i)}(e,t,s,r,Ms,o))}function Os(e,t,s,r){var o=s.length,i=o,a=!r;if(null==e)return!i;for(e=Ae(e);o--;){var l=s[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var c=(l=s[o])[0],u=e[c],d=l[1];if(a&&l[2]){if(u===n&&!(c in e))return!1}else{var p=new Jn;if(r)var h=r(u,d,c,e,t,p);if(!(h===n?Ms(d,u,3,r,p):h))return!1}}return!0}function Ls(e){return!(!oa(e)||(t=e,Fe&&Fe in t))&&(na(e)?qe:ve).test(Go(e));var t}function Ds(e){return"function"==typeof e?e:null==e?ll:"object"==typeof e?$i(e)?qs(e[0],e[1]):Bs(e):vl(e)}function js(e){if(!So(e))return yn(e);var t=[];for(var n in Ae(e))De.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fs(e){if(!oa(e))return function(e){var t=[];if(null!=e)for(var n in Ae(e))t.push(n);return t}(e);var t=So(e),n=[];for(var s in e)("constructor"!=s||!t&&De.call(e,s))&&n.push(s);return n}function Us(e,t){return e<t}function Hs(e,t){var n=-1,s=Xi(e)?ie(e.length):[];return hs(e,(function(e,r,o){s[++n]=t(e,r,o)})),s}function Bs(e){var t=po(e);return 1==t.length&&t[0][2]?Ao(t[0][0],t[0][1]):function(n){return n===e||Os(n,e,t)}}function qs(e,t){return xo(e)&&To(t)?Ao(qo(e),t):function(s){var r=ka(s,e);return r===n&&r===t?Ra(s,e):Ms(t,r,3)}}function Gs(e,t,s,r,o){e!==t&&bs(t,(function(i,a){if(o||(o=new Jn),oa(i))!function(e,t,s,r,o,i,a){var l=ko(e,s),c=ko(t,s),u=a.get(c);if(u)return void ts(e,s,u);var d=i?i(l,c,s+"",e,t,a):n,p=d===n;if(p){var h=$i(c),f=!h&&Zi(c),m=!h&&!f&&fa(c);d=c,h||f||m?$i(l)?d=l:Qi(l)?d=Nr(l):f?(p=!1,d=Er(c,!0)):m?(p=!1,d=Tr(c,!0)):d=[]:ca(c)||Ki(c)?(d=l,Ki(l)?d=xa(l):oa(l)&&!na(l)||(d=yo(c))):p=!1}p&&(a.set(c,d),o(d,c,r,i,a),a.delete(c));ts(e,s,d)}(e,t,a,s,Gs,r,o);else{var l=r?r(ko(e,a),i,a+"",e,t,o):n;l===n&&(l=i),ts(e,a,l)}}),ja)}function zs(e,t){var s=e.length;if(s)return _o(t+=t<0?s:0,s)?e[t]:n}function Vs(e,t,n){t=t.length?kt(t,(function(e){return $i(e)?function(t){return Es(t,1===e.length?e[0]:e)}:e})):[ll];var s=-1;return t=kt(t,$t(co())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Hs(e,(function(e,n,r){return{criteria:kt(t,(function(t){return t(e)})),index:++s,value:e}})),(function(e,t){return function(e,t,n){var s=-1,r=e.criteria,o=t.criteria,i=r.length,a=n.length;for(;++s<i;){var l=Ar(r[s],o[s]);if(l)return s>=a?l:l*("desc"==n[s]?-1:1)}return e.index-t.index}(e,t,n)}))}function Ws(e,t,n){for(var s=-1,r=t.length,o={};++s<r;){var i=t[s],a=Es(e,i);n(a,i)&&er(o,_r(i,e),a)}return o}function Ys(e,t,n,s){var r=s?Ht:Ut,o=-1,i=t.length,a=e;for(e===t&&(t=Nr(t)),n&&(a=kt(e,$t(n)));++o<i;)for(var l=0,c=t[o],u=n?n(c):c;(l=r(a,u,l,s))>-1;)a!==e&&Qe.call(a,l,1),Qe.call(e,l,1);return e}function Ks(e,t){for(var n=e?t.length:0,s=n-1;n--;){var r=t[n];if(n==s||r!==o){var o=r;_o(r)?Qe.call(e,r,1):pr(e,r)}}return e}function $s(e,t){return e+Dt(Cn()*(t-e+1))}function Js(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=Dt(t/2))&&(e+=e)}while(t);return n}function Xs(e,t){return Oo(Po(e,t,ll),e+"")}function Qs(e){return Qn(Va(e))}function Zs(e,t){var n=Va(e);return jo(n,ls(t,0,n.length))}function er(e,t,s,r){if(!oa(e))return e;for(var o=-1,i=(t=_r(t,e)).length,a=i-1,l=e;null!=l&&++o<i;){var c=qo(t[o]),u=s;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var d=l[c];(u=r?r(d,c,l):n)===n&&(u=oa(d)?d:_o(t[o+1])?[]:{})}ns(l,c,u),l=l[c]}return e}var tr=kn?function(e,t){return kn.set(e,t),e}:ll,nr=ut?function(e,t){return ut(e,"toString",{configurable:!0,enumerable:!1,value:ol(t),writable:!0})}:ll;function sr(e){return jo(Va(e))}function rr(e,t,n){var s=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=ie(r);++s<r;)o[s]=e[s+t];return o}function or(e,t){var n;return hs(e,(function(e,s,r){return!(n=t(e,s,r))})),!!n}function ir(e,t,n){var s=0,r=null==e?s:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;s<r;){var o=s+r>>>1,i=e[o];null!==i&&!ha(i)&&(n?i<=t:i<t)?s=o+1:r=o}return r}return ar(e,t,ll,n)}function ar(e,t,s,r){var o=0,i=null==e?0:e.length;if(0===i)return 0;for(var a=(t=s(t))!=t,l=null===t,c=ha(t),u=t===n;o<i;){var d=Dt((o+i)/2),p=s(e[d]),h=p!==n,f=null===p,m=p==p,g=ha(p);if(a)var v=r||m;else v=u?m&&(r||h):l?m&&h&&(r||!f):c?m&&h&&!f&&(r||!g):!f&&!g&&(r?p<=t:p<t);v?o=d+1:i=d}return _n(i,4294967294)}function lr(e,t){for(var n=-1,s=e.length,r=0,o=[];++n<s;){var i=e[n],a=t?t(i):i;if(!n||!Vi(a,l)){var l=a;o[r++]=0===i?0:i}}return o}function cr(e){return"number"==typeof e?e:ha(e)?h:+e}function ur(e){if("string"==typeof e)return e;if($i(e))return kt(e,ur)+"";if(ha(e))return Hn?Hn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function dr(e,t,n){var s=-1,r=It,o=e.length,i=!0,a=[],l=a;if(n)i=!1,r=Nt;else if(o>=200){var c=t?null:Jr(e);if(c)return cn(c);i=!1,r=Xt,l=new $n}else l=t?[]:a;e:for(;++s<o;){var u=e[s],d=t?t(u):u;if(u=n||0!==u?u:0,i&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),a.push(u)}else r(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function pr(e,t){return null==(e=Io(e,t=_r(t,e)))||delete e[qo(ti(t))]}function hr(e,t,n,s){return er(e,t,n(Es(e,t)),s)}function fr(e,t,n,s){for(var r=e.length,o=s?r:-1;(s?o--:++o<r)&&t(e[o],o,e););return n?rr(e,s?0:o,s?o+1:r):rr(e,s?o+1:0,s?r:o)}function mr(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),n)}function gr(e,t,n){var s=e.length;if(s<2)return s?dr(e[0]):[];for(var r=-1,o=ie(s);++r<s;)for(var i=e[r],a=-1;++a<s;)a!=r&&(o[r]=ps(o[r]||i,e[a],t,n));return dr(ys(o,1),t,n)}function vr(e,t,s){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var l=r<i?t[r]:n;s(a,e[r],l)}return a}function yr(e){return Qi(e)?e:[]}function br(e){return"function"==typeof e?e:ll}function _r(e,t){return $i(e)?e:xo(e,t)?[e]:Bo(Ca(e))}var wr=Xs;function xr(e,t,s){var r=e.length;return s=s===n?r:s,!t&&s>=r?e:rr(e,t,s)}var Cr=pt||function(e){return dt.clearTimeout(e)};function Er(e,t){if(t)return e.slice();var n=e.length,s=We?We(n):new e.constructor(n);return e.copy(s),s}function Sr(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Tr(e,t){var n=t?Sr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ar(e,t){if(e!==t){var s=e!==n,r=null===e,o=e==e,i=ha(e),a=t!==n,l=null===t,c=t==t,u=ha(t);if(!l&&!u&&!i&&e>t||i&&a&&c&&!l&&!u||r&&a&&c||!s&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&s&&o&&!r&&!i||l&&s&&o||!a&&o||!c)return-1}return 0}function Pr(e,t,n,s){for(var r=-1,o=e.length,i=n.length,a=-1,l=t.length,c=bn(o-i,0),u=ie(l+c),d=!s;++a<l;)u[a]=t[a];for(;++r<i;)(d||r<o)&&(u[n[r]]=e[r]);for(;c--;)u[a++]=e[r++];return u}function Ir(e,t,n,s){for(var r=-1,o=e.length,i=-1,a=n.length,l=-1,c=t.length,u=bn(o-a,0),d=ie(u+c),p=!s;++r<u;)d[r]=e[r];for(var h=r;++l<c;)d[h+l]=t[l];for(;++i<a;)(p||r<o)&&(d[h+n[i]]=e[r++]);return d}function Nr(e,t){var n=-1,s=e.length;for(t||(t=ie(s));++n<s;)t[n]=e[n];return t}function kr(e,t,s,r){var o=!s;s||(s={});for(var i=-1,a=t.length;++i<a;){var l=t[i],c=r?r(s[l],e[l],l,s,e):n;c===n&&(c=e[l]),o?is(s,l,c):ns(s,l,c)}return s}function Rr(e,t){return function(n,s){var r=$i(n)?Et:rs,o=t?t():{};return r(n,e,co(s,2),o)}}function Mr(e){return Xs((function(t,s){var r=-1,o=s.length,i=o>1?s[o-1]:n,a=o>2?s[2]:n;for(i=e.length>3&&"function"==typeof i?(o--,i):n,a&&wo(s[0],s[1],a)&&(i=o<3?n:i,o=1),t=Ae(t);++r<o;){var l=s[r];l&&e(t,l,r,i)}return t}))}function Or(e,t){return function(n,s){if(null==n)return n;if(!Xi(n))return e(n,s);for(var r=n.length,o=t?r:-1,i=Ae(n);(t?o--:++o<r)&&!1!==s(i[o],o,i););return n}}function Lr(e){return function(t,n,s){for(var r=-1,o=Ae(t),i=s(t),a=i.length;a--;){var l=i[e?a:++r];if(!1===n(o[l],l,o))break}return t}}function Dr(e){return function(t){var s=rn(t=Ca(t))?dn(t):n,r=s?s[0]:t.charAt(0),o=s?xr(s,1).join(""):t.slice(1);return r[e]()+o}}function jr(e){return function(t){return Mt(nl(Ka(t).replace(Je,"")),e,"")}}function Fr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=qn(e.prototype),s=e.apply(n,t);return oa(s)?s:n}}function Ur(e){return function(t,s,r){var o=Ae(t);if(!Xi(t)){var i=co(s,3);t=Da(t),s=function(e){return i(o[e],e,o)}}var a=e(t,s,r);return a>-1?o[i?t[a]:a]:n}}function Hr(e){return so((function(t){var r=t.length,o=r,i=zn.prototype.thru;for(e&&t.reverse();o--;){var a=t[o];if("function"!=typeof a)throw new Ne(s);if(i&&!l&&"wrapper"==ao(a))var l=new zn([],!0)}for(o=l?o:r;++o<r;){var c=ao(a=t[o]),u="wrapper"==c?io(a):n;l=u&&Co(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[ao(u[0])].apply(l,u[3]):1==a.length&&Co(a)?l[c]():l.thru(a)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&$i(n))return l.plant(n).value();for(var s=0,o=r?t[s].apply(this,e):n;++s<r;)o=t[s].call(this,o);return o}}))}function Br(e,t,s,r,o,i,a,l,u,d){var p=t&c,h=1&t,f=2&t,m=24&t,g=512&t,v=f?n:Fr(e);return function n(){for(var c=arguments.length,y=ie(c),b=c;b--;)y[b]=arguments[b];if(m)var _=lo(n),w=en(y,_);if(r&&(y=Pr(y,r,o,m)),i&&(y=Ir(y,i,a,m)),c-=w,m&&c<d){var x=ln(y,_);return Kr(e,t,Br,n.placeholder,s,y,x,l,u,d-c)}var C=h?s:this,E=f?C[e]:e;return c=y.length,l?y=No(y,l):g&&c>1&&y.reverse(),p&&u<c&&(y.length=u),this&&this!==dt&&this instanceof n&&(E=v||Fr(E)),E.apply(C,y)}}function qr(e,t){return function(n,s){return function(e,t,n,s){return ws(e,(function(e,r,o){t(s,n(e),r,o)})),s}(n,e,t(s),{})}}function Gr(e,t){return function(s,r){var o;if(s===n&&r===n)return t;if(s!==n&&(o=s),r!==n){if(o===n)return r;"string"==typeof s||"string"==typeof r?(s=ur(s),r=ur(r)):(s=cr(s),r=cr(r)),o=e(s,r)}return o}}function zr(e){return so((function(t){return t=kt(t,$t(co())),Xs((function(n){var s=this;return e(t,(function(e){return Ct(e,s,n)}))}))}))}function Vr(e,t){var s=(t=t===n?" ":ur(t)).length;if(s<2)return s?Js(t,e):t;var r=Js(t,gt(e/un(t)));return rn(t)?xr(dn(r),0,e).join(""):r.slice(0,e)}function Wr(e){return function(t,s,r){return r&&"number"!=typeof r&&wo(t,s,r)&&(s=r=n),t=ya(t),s===n?(s=t,t=0):s=ya(s),function(e,t,n,s){for(var r=-1,o=bn(gt((t-e)/(n||1)),0),i=ie(o);o--;)i[s?o:++r]=e,e+=n;return i}(t,s,r=r===n?t<s?1:-1:ya(r),e)}}function Yr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=wa(t),n=wa(n)),e(t,n)}}function Kr(e,t,s,r,o,i,c,u,d,p){var h=8&t;t|=h?a:l,4&(t&=~(h?l:a))||(t&=-4);var f=[e,t,o,h?i:n,h?c:n,h?n:i,h?n:c,u,d,p],m=s.apply(n,f);return Co(e)&&Ro(m,f),m.placeholder=r,Lo(m,e,t)}function $r(e){var t=Te[e];return function(e,n){if(e=wa(e),(n=null==n?0:_n(ba(n),292))&&gn(e)){var s=(Ca(e)+"e").split("e");return+((s=(Ca(t(s[0]+"e"+(+s[1]+n)))+"e").split("e"))[0]+"e"+(+s[1]-n))}return t(e)}}var Jr=Pn&&1/cn(new Pn([,-0]))[1]==d?function(e){return new Pn(e)}:hl;function Xr(e){return function(t){var n=go(t);return n==C?on(t):n==P?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return kt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qr(e,t,r,d,p,h,f,m){var g=2&t;if(!g&&"function"!=typeof e)throw new Ne(s);var v=d?d.length:0;if(v||(t&=-97,d=p=n),f=f===n?f:bn(ba(f),0),m=m===n?m:ba(m),v-=p?p.length:0,t&l){var y=d,b=p;d=p=n}var _=g?n:io(e),w=[e,t,r,d,p,y,b,h,f,m];if(_&&function(e,t){var n=e[1],s=t[1],r=n|s,i=r<131,a=s==c&&8==n||s==c&&n==u&&e[7].length<=t[8]||384==s&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&s&&(e[2]=t[2],r|=1&n?0:4);var l=t[3];if(l){var d=e[3];e[3]=d?Pr(d,l,t[4]):l,e[4]=d?ln(e[3],o):t[4]}(l=t[5])&&(d=e[5],e[5]=d?Ir(d,l,t[6]):l,e[6]=d?ln(e[5],o):t[6]);(l=t[7])&&(e[7]=l);s&c&&(e[8]=null==e[8]?t[8]:_n(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(w,_),e=w[0],t=w[1],r=w[2],d=w[3],p=w[4],!(m=w[9]=w[9]===n?g?0:e.length:bn(w[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==i?function(e,t,s){var r=Fr(e);return function o(){for(var i=arguments.length,a=ie(i),l=i,c=lo(o);l--;)a[l]=arguments[l];var u=i<3&&a[0]!==c&&a[i-1]!==c?[]:ln(a,c);return(i-=u.length)<s?Kr(e,t,Br,o.placeholder,n,a,u,n,n,s-i):Ct(this&&this!==dt&&this instanceof o?r:e,this,a)}}(e,t,m):t!=a&&33!=t||p.length?Br.apply(n,w):function(e,t,n,s){var r=1&t,o=Fr(e);return function t(){for(var i=-1,a=arguments.length,l=-1,c=s.length,u=ie(c+a),d=this&&this!==dt&&this instanceof t?o:e;++l<c;)u[l]=s[l];for(;a--;)u[l++]=arguments[++i];return Ct(d,r?n:this,u)}}(e,t,r,d);else var x=function(e,t,n){var s=1&t,r=Fr(e);return function t(){return(this&&this!==dt&&this instanceof t?r:e).apply(s?n:this,arguments)}}(e,t,r);return Lo((_?tr:Ro)(x,w),e,t)}function Zr(e,t,s,r){return e===n||Vi(e,Me[s])&&!De.call(r,s)?t:e}function eo(e,t,s,r,o,i){return oa(e)&&oa(t)&&(i.set(t,e),Gs(e,t,n,eo,i),i.delete(t)),e}function to(e){return ca(e)?n:e}function no(e,t,s,r,o,i){var a=1&s,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var p=-1,h=!0,f=2&s?new $n:n;for(i.set(e,t),i.set(t,e);++p<l;){var m=e[p],g=t[p];if(r)var v=a?r(g,m,p,t,e,i):r(m,g,p,e,t,i);if(v!==n){if(v)continue;h=!1;break}if(f){if(!Lt(t,(function(e,t){if(!Xt(f,t)&&(m===e||o(m,e,s,r,i)))return f.push(t)}))){h=!1;break}}else if(m!==g&&!o(m,g,s,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function so(e){return Oo(Po(e,n,Jo),e+"")}function ro(e){return Ss(e,Da,fo)}function oo(e){return Ss(e,ja,mo)}var io=kn?function(e){return kn.get(e)}:hl;function ao(e){for(var t=e.name+"",n=Rn[t],s=De.call(Rn,t)?n.length:0;s--;){var r=n[s],o=r.func;if(null==o||o==e)return r.name}return t}function lo(e){return(De.call(Bn,"placeholder")?Bn:e).placeholder}function co(){var e=Bn.iteratee||cl;return e=e===cl?Ds:e,arguments.length?e(arguments[0],arguments[1]):e}function uo(e,t){var n,s,r=e.__data__;return("string"==(s=typeof(n=t))||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function po(e){for(var t=Da(e),n=t.length;n--;){var s=t[n],r=e[s];t[n]=[s,r,To(r)]}return t}function ho(e,t){var s=function(e,t){return null==e?n:e[t]}(e,t);return Ls(s)?s:n}var fo=zt?function(e){return null==e?[]:(e=Ae(e),Pt(zt(e),(function(t){return $e.call(e,t)})))}:_l,mo=zt?function(e){for(var t=[];e;)Rt(t,fo(e)),e=Ye(e);return t}:_l,go=Ts;function vo(e,t,n){for(var s=-1,r=(t=_r(t,e)).length,o=!1;++s<r;){var i=qo(t[s]);if(!(o=null!=e&&n(e,i)))break;e=e[i]}return o||++s!=r?o:!!(r=null==e?0:e.length)&&ra(r)&&_o(i,r)&&($i(e)||Ki(e))}function yo(e){return"function"!=typeof e.constructor||So(e)?{}:qn(Ye(e))}function bo(e){return $i(e)||Ki(e)||!!(et&&e&&e[et])}function _o(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!oa(n))return!1;var s=typeof t;return!!("number"==s?Xi(n)&&_o(t,n.length):"string"==s&&t in n)&&Vi(n[t],e)}function xo(e,t){if($i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ha(e))||(te.test(e)||!ee.test(e)||null!=t&&e in Ae(t))}function Co(e){var t=ao(e),n=Bn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var s=io(n);return!!s&&e===s[0]}(Sn&&go(new Sn(new ArrayBuffer(1)))!=O||Tn&&go(new Tn)!=C||An&&go(An.resolve())!=T||Pn&&go(new Pn)!=P||In&&go(new In)!=k)&&(go=function(e){var t=Ts(e),s=t==S?e.constructor:n,r=s?Go(s):"";if(r)switch(r){case Mn:return O;case On:return C;case Ln:return T;case Dn:return P;case jn:return k}return t});var Eo=Oe?na:wl;function So(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function To(e){return e==e&&!oa(e)}function Ao(e,t){return function(s){return null!=s&&(s[e]===t&&(t!==n||e in Ae(s)))}}function Po(e,t,s){return t=bn(t===n?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=bn(n.length-t,0),i=ie(o);++r<o;)i[r]=n[t+r];r=-1;for(var a=ie(t+1);++r<t;)a[r]=n[r];return a[t]=s(i),Ct(e,this,a)}}function Io(e,t){return t.length<2?e:Es(e,rr(t,0,-1))}function No(e,t){for(var s=e.length,r=_n(t.length,s),o=Nr(e);r--;){var i=t[r];e[r]=_o(i,s)?o[i]:n}return e}function ko(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ro=Do(tr),Mo=mt||function(e,t){return dt.setTimeout(e,t)},Oo=Do(nr);function Lo(e,t,n){var s=t+"";return Oo(e,function(e,t){var n=t.length;if(!n)return e;var s=n-1;return t[s]=(n>1?"& ":"")+t[s],t=t.join(n>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(s,function(e,t){return St(m,(function(n){var s="_."+n[0];t&n[1]&&!It(e,s)&&e.push(s)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(s),n)))}function Do(e){var t=0,s=0;return function(){var r=wn(),o=16-(r-s);if(s=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function jo(e,t){var s=-1,r=e.length,o=r-1;for(t=t===n?r:t;++s<t;){var i=$s(s,o),a=e[i];e[i]=e[s],e[s]=a}return e.length=t,e}var Fo,Uo,Ho,Bo=(Fo=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,n,s,r){t.push(s?r.replace(pe,"$1"):n||e)})),t},Uo=Ui(Fo,(function(e){return 500===Ho.size&&Ho.clear(),e})),Ho=Uo.cache,Uo);function qo(e){if("string"==typeof e||ha(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Go(e){if(null!=e){try{return Le.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function zo(e){if(e instanceof Vn)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=Nr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vo=Xs((function(e,t){return Qi(e)?ps(e,ys(t,1,Qi,!0)):[]})),Wo=Xs((function(e,t){var s=ti(t);return Qi(s)&&(s=n),Qi(e)?ps(e,ys(t,1,Qi,!0),co(s,2)):[]})),Yo=Xs((function(e,t){var s=ti(t);return Qi(s)&&(s=n),Qi(e)?ps(e,ys(t,1,Qi,!0),n,s):[]}));function Ko(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var r=null==n?0:ba(n);return r<0&&(r=bn(s+r,0)),Ft(e,co(t,3),r)}function $o(e,t,s){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return s!==n&&(o=ba(s),o=s<0?bn(r+o,0):_n(o,r-1)),Ft(e,co(t,3),o,!0)}function Jo(e){return(null==e?0:e.length)?ys(e,1):[]}function Xo(e){return e&&e.length?e[0]:n}var Qo=Xs((function(e){var t=kt(e,yr);return t.length&&t[0]===e[0]?Ns(t):[]})),Zo=Xs((function(e){var t=ti(e),s=kt(e,yr);return t===ti(s)?t=n:s.pop(),s.length&&s[0]===e[0]?Ns(s,co(t,2)):[]})),ei=Xs((function(e){var t=ti(e),s=kt(e,yr);return(t="function"==typeof t?t:n)&&s.pop(),s.length&&s[0]===e[0]?Ns(s,n,t):[]}));function ti(e){var t=null==e?0:e.length;return t?e[t-1]:n}var ni=Xs(si);function si(e,t){return e&&e.length&&t&&t.length?Ys(e,t):e}var ri=so((function(e,t){var n=null==e?0:e.length,s=as(e,t);return Ks(e,kt(t,(function(e){return _o(e,n)?+e:e})).sort(Ar)),s}));function oi(e){return null==e?e:En.call(e)}var ii=Xs((function(e){return dr(ys(e,1,Qi,!0))})),ai=Xs((function(e){var t=ti(e);return Qi(t)&&(t=n),dr(ys(e,1,Qi,!0),co(t,2))})),li=Xs((function(e){var t=ti(e);return t="function"==typeof t?t:n,dr(ys(e,1,Qi,!0),n,t)}));function ci(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Qi(e))return t=bn(e.length,t),!0})),Yt(t,(function(t){return kt(e,Gt(t))}))}function ui(e,t){if(!e||!e.length)return[];var s=ci(e);return null==t?s:kt(s,(function(e){return Ct(t,n,e)}))}var di=Xs((function(e,t){return Qi(e)?ps(e,t):[]})),pi=Xs((function(e){return gr(Pt(e,Qi))})),hi=Xs((function(e){var t=ti(e);return Qi(t)&&(t=n),gr(Pt(e,Qi),co(t,2))})),fi=Xs((function(e){var t=ti(e);return t="function"==typeof t?t:n,gr(Pt(e,Qi),n,t)})),mi=Xs(ci);var gi=Xs((function(e){var t=e.length,s=t>1?e[t-1]:n;return s="function"==typeof s?(e.pop(),s):n,ui(e,s)}));function vi(e){var t=Bn(e);return t.__chain__=!0,t}function yi(e,t){return t(e)}var bi=so((function(e){var t=e.length,s=t?e[0]:0,r=this.__wrapped__,o=function(t){return as(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&_o(s)?((r=r.slice(s,+s+(t?1:0))).__actions__.push({func:yi,args:[o],thisArg:n}),new zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(o)}));var _i=Rr((function(e,t,n){De.call(e,n)?++e[n]:is(e,n,1)}));var wi=Ur(Ko),xi=Ur($o);function Ci(e,t){return($i(e)?St:hs)(e,co(t,3))}function Ei(e,t){return($i(e)?Tt:fs)(e,co(t,3))}var Si=Rr((function(e,t,n){De.call(e,n)?e[n].push(t):is(e,n,[t])}));var Ti=Xs((function(e,t,n){var s=-1,r="function"==typeof t,o=Xi(e)?ie(e.length):[];return hs(e,(function(e){o[++s]=r?Ct(t,e,n):ks(e,t,n)})),o})),Ai=Rr((function(e,t,n){is(e,n,t)}));function Pi(e,t){return($i(e)?kt:Hs)(e,co(t,3))}var Ii=Rr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ni=Xs((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Vs(e,ys(t,1),[])})),ki=ht||function(){return dt.Date.now()};function Ri(e,t,s){return t=s?n:t,t=e&&null==t?e.length:t,Qr(e,c,n,n,n,n,t)}function Mi(e,t){var r;if("function"!=typeof t)throw new Ne(s);return e=ba(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=n),r}}var Oi=Xs((function(e,t,n){var s=1;if(n.length){var r=ln(n,lo(Oi));s|=a}return Qr(e,s,t,n,r)})),Li=Xs((function(e,t,n){var s=3;if(n.length){var r=ln(n,lo(Li));s|=a}return Qr(t,s,e,n,r)}));function Di(e,t,r){var o,i,a,l,c,u,d=0,p=!1,h=!1,f=!0;if("function"!=typeof e)throw new Ne(s);function m(t){var s=o,r=i;return o=i=n,d=t,l=e.apply(r,s)}function g(e){return d=e,c=Mo(y,t),p?m(e):l}function v(e){var s=e-u;return u===n||s>=t||s<0||h&&e-d>=a}function y(){var e=ki();if(v(e))return b(e);c=Mo(y,function(e){var n=t-(e-u);return h?_n(n,a-(e-d)):n}(e))}function b(e){return c=n,f&&o?m(e):(o=i=n,l)}function _(){var e=ki(),s=v(e);if(o=arguments,i=this,u=e,s){if(c===n)return g(u);if(h)return Cr(c),c=Mo(y,t),m(u)}return c===n&&(c=Mo(y,t)),l}return t=wa(t)||0,oa(r)&&(p=!!r.leading,a=(h="maxWait"in r)?bn(wa(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),_.cancel=function(){c!==n&&Cr(c),d=0,o=u=i=c=n},_.flush=function(){return c===n?l:b(ki())},_}var ji=Xs((function(e,t){return ds(e,1,t)})),Fi=Xs((function(e,t,n){return ds(e,wa(t)||0,n)}));function Ui(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ne(s);var n=function(){var s=arguments,r=t?t.apply(this,s):s[0],o=n.cache;if(o.has(r))return o.get(r);var i=e.apply(this,s);return n.cache=o.set(r,i)||o,i};return n.cache=new(Ui.Cache||Kn),n}function Hi(e){if("function"!=typeof e)throw new Ne(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ui.Cache=Kn;var Bi=wr((function(e,t){var n=(t=1==t.length&&$i(t[0])?kt(t[0],$t(co())):kt(ys(t,1),$t(co()))).length;return Xs((function(s){for(var r=-1,o=_n(s.length,n);++r<o;)s[r]=t[r].call(this,s[r]);return Ct(e,this,s)}))})),qi=Xs((function(e,t){var s=ln(t,lo(qi));return Qr(e,a,n,t,s)})),Gi=Xs((function(e,t){var s=ln(t,lo(Gi));return Qr(e,l,n,t,s)})),zi=so((function(e,t){return Qr(e,u,n,n,n,t)}));function Vi(e,t){return e===t||e!=e&&t!=t}var Wi=Yr(As),Yi=Yr((function(e,t){return e>=t})),Ki=Rs(function(){return arguments}())?Rs:function(e){return ia(e)&&De.call(e,"callee")&&!$e.call(e,"callee")},$i=ie.isArray,Ji=vt?$t(vt):function(e){return ia(e)&&Ts(e)==M};function Xi(e){return null!=e&&ra(e.length)&&!na(e)}function Qi(e){return ia(e)&&Xi(e)}var Zi=mn||wl,ea=yt?$t(yt):function(e){return ia(e)&&Ts(e)==b};function ta(e){if(!ia(e))return!1;var t=Ts(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ca(e)}function na(e){if(!oa(e))return!1;var t=Ts(e);return t==w||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function sa(e){return"number"==typeof e&&e==ba(e)}function ra(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function oa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ia(e){return null!=e&&"object"==typeof e}var aa=bt?$t(bt):function(e){return ia(e)&&go(e)==C};function la(e){return"number"==typeof e||ia(e)&&Ts(e)==E}function ca(e){if(!ia(e)||Ts(e)!=S)return!1;var t=Ye(e);if(null===t)return!0;var n=De.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Le.call(n)==He}var ua=_t?$t(_t):function(e){return ia(e)&&Ts(e)==A};var da=wt?$t(wt):function(e){return ia(e)&&go(e)==P};function pa(e){return"string"==typeof e||!$i(e)&&ia(e)&&Ts(e)==I}function ha(e){return"symbol"==typeof e||ia(e)&&Ts(e)==N}var fa=xt?$t(xt):function(e){return ia(e)&&ra(e.length)&&!!rt[Ts(e)]};var ma=Yr(Us),ga=Yr((function(e,t){return e<=t}));function va(e){if(!e)return[];if(Xi(e))return pa(e)?dn(e):Nr(e);if(it&&e[it])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[it]());var t=go(e);return(t==C?on:t==P?cn:Va)(e)}function ya(e){return e?(e=wa(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ba(e){var t=ya(e),n=t%1;return t==t?n?t-n:t:0}function _a(e){return e?ls(ba(e),0,f):0}function wa(e){if("number"==typeof e)return e;if(ha(e))return h;if(oa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=oa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=ge.test(e);return n||ye.test(e)?lt(e.slice(2),n?2:8):me.test(e)?h:+e}function xa(e){return kr(e,ja(e))}function Ca(e){return null==e?"":ur(e)}var Ea=Mr((function(e,t){if(So(t)||Xi(t))kr(t,Da(t),e);else for(var n in t)De.call(t,n)&&ns(e,n,t[n])})),Sa=Mr((function(e,t){kr(t,ja(t),e)})),Ta=Mr((function(e,t,n,s){kr(t,ja(t),e,s)})),Aa=Mr((function(e,t,n,s){kr(t,Da(t),e,s)})),Pa=so(as);var Ia=Xs((function(e,t){e=Ae(e);var s=-1,r=t.length,o=r>2?t[2]:n;for(o&&wo(t[0],t[1],o)&&(r=1);++s<r;)for(var i=t[s],a=ja(i),l=-1,c=a.length;++l<c;){var u=a[l],d=e[u];(d===n||Vi(d,Me[u])&&!De.call(e,u))&&(e[u]=i[u])}return e})),Na=Xs((function(e){return e.push(n,eo),Ct(Ua,n,e)}));function ka(e,t,s){var r=null==e?n:Es(e,t);return r===n?s:r}function Ra(e,t){return null!=e&&vo(e,t,Is)}var Ma=qr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),ol(ll)),Oa=qr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),De.call(e,t)?e[t].push(n):e[t]=[n]}),co),La=Xs(ks);function Da(e){return Xi(e)?Xn(e):js(e)}function ja(e){return Xi(e)?Xn(e,!0):Fs(e)}var Fa=Mr((function(e,t,n){Gs(e,t,n)})),Ua=Mr((function(e,t,n,s){Gs(e,t,n,s)})),Ha=so((function(e,t){var n={};if(null==e)return n;var s=!1;t=kt(t,(function(t){return t=_r(t,e),s||(s=t.length>1),t})),kr(e,oo(e),n),s&&(n=cs(n,7,to));for(var r=t.length;r--;)pr(n,t[r]);return n}));var Ba=so((function(e,t){return null==e?{}:function(e,t){return Ws(e,t,(function(t,n){return Ra(e,n)}))}(e,t)}));function qa(e,t){if(null==e)return{};var n=kt(oo(e),(function(e){return[e]}));return t=co(t),Ws(e,n,(function(e,n){return t(e,n[0])}))}var Ga=Xr(Da),za=Xr(ja);function Va(e){return null==e?[]:Jt(e,Da(e))}var Wa=jr((function(e,t,n){return t=t.toLowerCase(),e+(n?Ya(t):t)}));function Ya(e){return tl(Ca(e).toLowerCase())}function Ka(e){return(e=Ca(e))&&e.replace(_e,tn).replace(Xe,"")}var $a=jr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ja=jr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xa=Dr("toLowerCase");var Qa=jr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Za=jr((function(e,t,n){return e+(n?" ":"")+tl(t)}));var el=jr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),tl=Dr("toUpperCase");function nl(e,t,s){return e=Ca(e),(t=s?n:t)===n?function(e){return tt.test(e)}(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var sl=Xs((function(e,t){try{return Ct(e,n,t)}catch(s){return ta(s)?s:new Ee(s)}})),rl=so((function(e,t){return St(t,(function(t){t=qo(t),is(e,t,Oi(e[t],e))})),e}));function ol(e){return function(){return e}}var il=Hr(),al=Hr(!0);function ll(e){return e}function cl(e){return Ds("function"==typeof e?e:cs(e,1))}var ul=Xs((function(e,t){return function(n){return ks(n,e,t)}})),dl=Xs((function(e,t){return function(n){return ks(e,n,t)}}));function pl(e,t,n){var s=Da(t),r=Cs(t,s);null!=n||oa(t)&&(r.length||!s.length)||(n=t,t=e,e=this,r=Cs(t,Da(t)));var o=!(oa(n)&&"chain"in n&&!n.chain),i=na(e);return St(r,(function(n){var s=t[n];e[n]=s,i&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),r=n.__actions__=Nr(this.__actions__);return r.push({func:s,args:arguments,thisArg:e}),n.__chain__=t,n}return s.apply(e,Rt([this.value()],arguments))})})),e}function hl(){}var fl=zr(kt),ml=zr(At),gl=zr(Lt);function vl(e){return xo(e)?Gt(qo(e)):function(e){return function(t){return Es(t,e)}}(e)}var yl=Wr(),bl=Wr(!0);function _l(){return[]}function wl(){return!1}var xl=Gr((function(e,t){return e+t}),0),Cl=$r("ceil"),El=Gr((function(e,t){return e/t}),1),Sl=$r("floor");var Tl,Al=Gr((function(e,t){return e*t}),1),Pl=$r("round"),Il=Gr((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Ne(s);return e=ba(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Ri,Bn.assign=Ea,Bn.assignIn=Sa,Bn.assignInWith=Ta,Bn.assignWith=Aa,Bn.at=Pa,Bn.before=Mi,Bn.bind=Oi,Bn.bindAll=rl,Bn.bindKey=Li,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return $i(e)?e:[e]},Bn.chain=vi,Bn.chunk=function(e,t,s){t=(s?wo(e,t,s):t===n)?1:bn(ba(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=ie(gt(r/t));o<r;)a[i++]=rr(e,o,o+=t);return a},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,s=0,r=[];++t<n;){var o=e[t];o&&(r[s++]=o)}return r},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ie(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return Rt($i(n)?Nr(n):[n],ys(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=co();return e=t?kt(e,(function(e){if("function"!=typeof e[1])throw new Ne(s);return[n(e[0]),e[1]]})):[],Xs((function(n){for(var s=-1;++s<t;){var r=e[s];if(Ct(r[0],this,n))return Ct(r[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Da(e);return function(n){return us(n,e,t)}}(cs(e,1))},Bn.constant=ol,Bn.countBy=_i,Bn.create=function(e,t){var n=qn(e);return null==t?n:os(n,t)},Bn.curry=function e(t,s,r){var o=Qr(t,8,n,n,n,n,n,s=r?n:s);return o.placeholder=e.placeholder,o},Bn.curryRight=function e(t,s,r){var o=Qr(t,i,n,n,n,n,n,s=r?n:s);return o.placeholder=e.placeholder,o},Bn.debounce=Di,Bn.defaults=Ia,Bn.defaultsDeep=Na,Bn.defer=ji,Bn.delay=Fi,Bn.difference=Vo,Bn.differenceBy=Wo,Bn.differenceWith=Yo,Bn.drop=function(e,t,s){var r=null==e?0:e.length;return r?rr(e,(t=s||t===n?1:ba(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,s){var r=null==e?0:e.length;return r?rr(e,0,(t=r-(t=s||t===n?1:ba(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?fr(e,co(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?fr(e,co(t,3),!0):[]},Bn.fill=function(e,t,s,r){var o=null==e?0:e.length;return o?(s&&"number"!=typeof s&&wo(e,t,s)&&(s=0,r=o),function(e,t,s,r){var o=e.length;for((s=ba(s))<0&&(s=-s>o?0:o+s),(r=r===n||r>o?o:ba(r))<0&&(r+=o),r=s>r?0:_a(r);s<r;)e[s++]=t;return e}(e,t,s,r)):[]},Bn.filter=function(e,t){return($i(e)?Pt:vs)(e,co(t,3))},Bn.flatMap=function(e,t){return ys(Pi(e,t),1)},Bn.flatMapDeep=function(e,t){return ys(Pi(e,t),d)},Bn.flatMapDepth=function(e,t,s){return s=s===n?1:ba(s),ys(Pi(e,t),s)},Bn.flatten=Jo,Bn.flattenDeep=function(e){return(null==e?0:e.length)?ys(e,d):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?ys(e,t=t===n?1:ba(t)):[]},Bn.flip=function(e){return Qr(e,512)},Bn.flow=il,Bn.flowRight=al,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,s={};++t<n;){var r=e[t];s[r[0]]=r[1]}return s},Bn.functions=function(e){return null==e?[]:Cs(e,Da(e))},Bn.functionsIn=function(e){return null==e?[]:Cs(e,ja(e))},Bn.groupBy=Si,Bn.initial=function(e){return(null==e?0:e.length)?rr(e,0,-1):[]},Bn.intersection=Qo,Bn.intersectionBy=Zo,Bn.intersectionWith=ei,Bn.invert=Ma,Bn.invertBy=Oa,Bn.invokeMap=Ti,Bn.iteratee=cl,Bn.keyBy=Ai,Bn.keys=Da,Bn.keysIn=ja,Bn.map=Pi,Bn.mapKeys=function(e,t){var n={};return t=co(t,3),ws(e,(function(e,s,r){is(n,t(e,s,r),e)})),n},Bn.mapValues=function(e,t){var n={};return t=co(t,3),ws(e,(function(e,s,r){is(n,s,t(e,s,r))})),n},Bn.matches=function(e){return Bs(cs(e,1))},Bn.matchesProperty=function(e,t){return qs(e,cs(t,1))},Bn.memoize=Ui,Bn.merge=Fa,Bn.mergeWith=Ua,Bn.method=ul,Bn.methodOf=dl,Bn.mixin=pl,Bn.negate=Hi,Bn.nthArg=function(e){return e=ba(e),Xs((function(t){return zs(t,e)}))},Bn.omit=Ha,Bn.omitBy=function(e,t){return qa(e,Hi(co(t)))},Bn.once=function(e){return Mi(2,e)},Bn.orderBy=function(e,t,s,r){return null==e?[]:($i(t)||(t=null==t?[]:[t]),$i(s=r?n:s)||(s=null==s?[]:[s]),Vs(e,t,s))},Bn.over=fl,Bn.overArgs=Bi,Bn.overEvery=ml,Bn.overSome=gl,Bn.partial=qi,Bn.partialRight=Gi,Bn.partition=Ii,Bn.pick=Ba,Bn.pickBy=qa,Bn.property=vl,Bn.propertyOf=function(e){return function(t){return null==e?n:Es(e,t)}},Bn.pull=ni,Bn.pullAll=si,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ys(e,t,co(n,2)):e},Bn.pullAllWith=function(e,t,s){return e&&e.length&&t&&t.length?Ys(e,t,n,s):e},Bn.pullAt=ri,Bn.range=yl,Bn.rangeRight=bl,Bn.rearg=zi,Bn.reject=function(e,t){return($i(e)?Pt:vs)(e,Hi(co(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var s=-1,r=[],o=e.length;for(t=co(t,3);++s<o;){var i=e[s];t(i,s,e)&&(n.push(i),r.push(s))}return Ks(e,r),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Ne(s);return Xs(e,t=t===n?t:ba(t))},Bn.reverse=oi,Bn.sampleSize=function(e,t,s){return t=(s?wo(e,t,s):t===n)?1:ba(t),($i(e)?Zn:Zs)(e,t)},Bn.set=function(e,t,n){return null==e?e:er(e,t,n)},Bn.setWith=function(e,t,s,r){return r="function"==typeof r?r:n,null==e?e:er(e,t,s,r)},Bn.shuffle=function(e){return($i(e)?es:sr)(e)},Bn.slice=function(e,t,s){var r=null==e?0:e.length;return r?(s&&"number"!=typeof s&&wo(e,t,s)?(t=0,s=r):(t=null==t?0:ba(t),s=s===n?r:ba(s)),rr(e,t,s)):[]},Bn.sortBy=Ni,Bn.sortedUniq=function(e){return e&&e.length?lr(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?lr(e,co(t,2)):[]},Bn.split=function(e,t,s){return s&&"number"!=typeof s&&wo(e,t,s)&&(t=s=n),(s=s===n?f:s>>>0)?(e=Ca(e))&&("string"==typeof t||null!=t&&!ua(t))&&!(t=ur(t))&&rn(e)?xr(dn(e),0,s):e.split(t,s):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Ne(s);return t=null==t?0:bn(ba(t),0),Xs((function(n){var s=n[t],r=xr(n,0,t);return s&&Rt(r,s),Ct(e,this,r)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?rr(e,1,t):[]},Bn.take=function(e,t,s){return e&&e.length?rr(e,0,(t=s||t===n?1:ba(t))<0?0:t):[]},Bn.takeRight=function(e,t,s){var r=null==e?0:e.length;return r?rr(e,(t=r-(t=s||t===n?1:ba(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?fr(e,co(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?fr(e,co(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Ne(s);return oa(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Di(e,t,{leading:r,maxWait:t,trailing:o})},Bn.thru=yi,Bn.toArray=va,Bn.toPairs=Ga,Bn.toPairsIn=za,Bn.toPath=function(e){return $i(e)?kt(e,qo):ha(e)?[e]:Nr(Bo(Ca(e)))},Bn.toPlainObject=xa,Bn.transform=function(e,t,n){var s=$i(e),r=s||Zi(e)||fa(e);if(t=co(t,4),null==n){var o=e&&e.constructor;n=r?s?new o:[]:oa(e)&&na(o)?qn(Ye(e)):{}}return(r?St:ws)(e,(function(e,s,r){return t(n,e,s,r)})),n},Bn.unary=function(e){return Ri(e,1)},Bn.union=ii,Bn.unionBy=ai,Bn.unionWith=li,Bn.uniq=function(e){return e&&e.length?dr(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?dr(e,co(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?dr(e,n,t):[]},Bn.unset=function(e,t){return null==e||pr(e,t)},Bn.unzip=ci,Bn.unzipWith=ui,Bn.update=function(e,t,n){return null==e?e:hr(e,t,br(n))},Bn.updateWith=function(e,t,s,r){return r="function"==typeof r?r:n,null==e?e:hr(e,t,br(s),r)},Bn.values=Va,Bn.valuesIn=function(e){return null==e?[]:Jt(e,ja(e))},Bn.without=di,Bn.words=nl,Bn.wrap=function(e,t){return qi(br(t),e)},Bn.xor=pi,Bn.xorBy=hi,Bn.xorWith=fi,Bn.zip=mi,Bn.zipObject=function(e,t){return vr(e||[],t||[],ns)},Bn.zipObjectDeep=function(e,t){return vr(e||[],t||[],er)},Bn.zipWith=gi,Bn.entries=Ga,Bn.entriesIn=za,Bn.extend=Sa,Bn.extendWith=Ta,pl(Bn,Bn),Bn.add=xl,Bn.attempt=sl,Bn.camelCase=Wa,Bn.capitalize=Ya,Bn.ceil=Cl,Bn.clamp=function(e,t,s){return s===n&&(s=t,t=n),s!==n&&(s=(s=wa(s))==s?s:0),t!==n&&(t=(t=wa(t))==t?t:0),ls(wa(e),t,s)},Bn.clone=function(e){return cs(e,4)},Bn.cloneDeep=function(e){return cs(e,5)},Bn.cloneDeepWith=function(e,t){return cs(e,5,t="function"==typeof t?t:n)},Bn.cloneWith=function(e,t){return cs(e,4,t="function"==typeof t?t:n)},Bn.conformsTo=function(e,t){return null==t||us(e,t,Da(t))},Bn.deburr=Ka,Bn.defaultTo=function(e,t){return null==e||e!=e?t:e},Bn.divide=El,Bn.endsWith=function(e,t,s){e=Ca(e),t=ur(t);var r=e.length,o=s=s===n?r:ls(ba(s),0,r);return(s-=t.length)>=0&&e.slice(s,o)==t},Bn.eq=Vi,Bn.escape=function(e){return(e=Ca(e))&&J.test(e)?e.replace(K,nn):e},Bn.escapeRegExp=function(e){return(e=Ca(e))&&re.test(e)?e.replace(se,"\\$&"):e},Bn.every=function(e,t,s){var r=$i(e)?At:ms;return s&&wo(e,t,s)&&(t=n),r(e,co(t,3))},Bn.find=wi,Bn.findIndex=Ko,Bn.findKey=function(e,t){return jt(e,co(t,3),ws)},Bn.findLast=xi,Bn.findLastIndex=$o,Bn.findLastKey=function(e,t){return jt(e,co(t,3),xs)},Bn.floor=Sl,Bn.forEach=Ci,Bn.forEachRight=Ei,Bn.forIn=function(e,t){return null==e?e:bs(e,co(t,3),ja)},Bn.forInRight=function(e,t){return null==e?e:_s(e,co(t,3),ja)},Bn.forOwn=function(e,t){return e&&ws(e,co(t,3))},Bn.forOwnRight=function(e,t){return e&&xs(e,co(t,3))},Bn.get=ka,Bn.gt=Wi,Bn.gte=Yi,Bn.has=function(e,t){return null!=e&&vo(e,t,Ps)},Bn.hasIn=Ra,Bn.head=Xo,Bn.identity=ll,Bn.includes=function(e,t,n,s){e=Xi(e)?e:Va(e),n=n&&!s?ba(n):0;var r=e.length;return n<0&&(n=bn(r+n,0)),pa(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Ut(e,t,n)>-1},Bn.indexOf=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var r=null==n?0:ba(n);return r<0&&(r=bn(s+r,0)),Ut(e,t,r)},Bn.inRange=function(e,t,s){return t=ya(t),s===n?(s=t,t=0):s=ya(s),function(e,t,n){return e>=_n(t,n)&&e<bn(t,n)}(e=wa(e),t,s)},Bn.invoke=La,Bn.isArguments=Ki,Bn.isArray=$i,Bn.isArrayBuffer=Ji,Bn.isArrayLike=Xi,Bn.isArrayLikeObject=Qi,Bn.isBoolean=function(e){return!0===e||!1===e||ia(e)&&Ts(e)==y},Bn.isBuffer=Zi,Bn.isDate=ea,Bn.isElement=function(e){return ia(e)&&1===e.nodeType&&!ca(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Xi(e)&&($i(e)||"string"==typeof e||"function"==typeof e.splice||Zi(e)||fa(e)||Ki(e)))return!e.length;var t=go(e);if(t==C||t==P)return!e.size;if(So(e))return!js(e).length;for(var n in e)if(De.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Ms(e,t)},Bn.isEqualWith=function(e,t,s){var r=(s="function"==typeof s?s:n)?s(e,t):n;return r===n?Ms(e,t,n,s):!!r},Bn.isError=ta,Bn.isFinite=function(e){return"number"==typeof e&&gn(e)},Bn.isFunction=na,Bn.isInteger=sa,Bn.isLength=ra,Bn.isMap=aa,Bn.isMatch=function(e,t){return e===t||Os(e,t,po(t))},Bn.isMatchWith=function(e,t,s){return s="function"==typeof s?s:n,Os(e,t,po(t),s)},Bn.isNaN=function(e){return la(e)&&e!=+e},Bn.isNative=function(e){if(Eo(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ls(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=la,Bn.isObject=oa,Bn.isObjectLike=ia,Bn.isPlainObject=ca,Bn.isRegExp=ua,Bn.isSafeInteger=function(e){return sa(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=da,Bn.isString=pa,Bn.isSymbol=ha,Bn.isTypedArray=fa,Bn.isUndefined=function(e){return e===n},Bn.isWeakMap=function(e){return ia(e)&&go(e)==k},Bn.isWeakSet=function(e){return ia(e)&&"[object WeakSet]"==Ts(e)},Bn.join=function(e,t){return null==e?"":vn.call(e,t)},Bn.kebabCase=$a,Bn.last=ti,Bn.lastIndexOf=function(e,t,s){var r=null==e?0:e.length;if(!r)return-1;var o=r;return s!==n&&(o=(o=ba(s))<0?bn(r+o,0):_n(o,r-1)),t==t?function(e,t,n){for(var s=n+1;s--;)if(e[s]===t)return s;return s}(e,t,o):Ft(e,Bt,o,!0)},Bn.lowerCase=Ja,Bn.lowerFirst=Xa,Bn.lt=ma,Bn.lte=ga,Bn.max=function(e){return e&&e.length?gs(e,ll,As):n},Bn.maxBy=function(e,t){return e&&e.length?gs(e,co(t,2),As):n},Bn.mean=function(e){return qt(e,ll)},Bn.meanBy=function(e,t){return qt(e,co(t,2))},Bn.min=function(e){return e&&e.length?gs(e,ll,Us):n},Bn.minBy=function(e,t){return e&&e.length?gs(e,co(t,2),Us):n},Bn.stubArray=_l,Bn.stubFalse=wl,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=Al,Bn.nth=function(e,t){return e&&e.length?zs(e,ba(t)):n},Bn.noConflict=function(){return dt._===this&&(dt._=Be),this},Bn.noop=hl,Bn.now=ki,Bn.pad=function(e,t,n){e=Ca(e);var s=(t=ba(t))?un(e):0;if(!t||s>=t)return e;var r=(t-s)/2;return Vr(Dt(r),n)+e+Vr(gt(r),n)},Bn.padEnd=function(e,t,n){e=Ca(e);var s=(t=ba(t))?un(e):0;return t&&s<t?e+Vr(t-s,n):e},Bn.padStart=function(e,t,n){e=Ca(e);var s=(t=ba(t))?un(e):0;return t&&s<t?Vr(t-s,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(Ca(e).replace(oe,""),t||0)},Bn.random=function(e,t,s){if(s&&"boolean"!=typeof s&&wo(e,t,s)&&(t=s=n),s===n&&("boolean"==typeof t?(s=t,t=n):"boolean"==typeof e&&(s=e,e=n)),e===n&&t===n?(e=0,t=1):(e=ya(e),t===n?(t=e,e=0):t=ya(t)),e>t){var r=e;e=t,t=r}if(s||e%1||t%1){var o=Cn();return _n(e+o*(t-e+at("1e-"+((o+"").length-1))),t)}return $s(e,t)},Bn.reduce=function(e,t,n){var s=$i(e)?Mt:Vt,r=arguments.length<3;return s(e,co(t,4),n,r,hs)},Bn.reduceRight=function(e,t,n){var s=$i(e)?Ot:Vt,r=arguments.length<3;return s(e,co(t,4),n,r,fs)},Bn.repeat=function(e,t,s){return t=(s?wo(e,t,s):t===n)?1:ba(t),Js(Ca(e),t)},Bn.replace=function(){var e=arguments,t=Ca(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,s){var r=-1,o=(t=_r(t,e)).length;for(o||(o=1,e=n);++r<o;){var i=null==e?n:e[qo(t[r])];i===n&&(r=o,i=s),e=na(i)?i.call(e):i}return e},Bn.round=Pl,Bn.runInContext=e,Bn.sample=function(e){return($i(e)?Qn:Qs)(e)},Bn.size=function(e){if(null==e)return 0;if(Xi(e))return pa(e)?un(e):e.length;var t=go(e);return t==C||t==P?e.size:js(e).length},Bn.snakeCase=Qa,Bn.some=function(e,t,s){var r=$i(e)?Lt:or;return s&&wo(e,t,s)&&(t=n),r(e,co(t,3))},Bn.sortedIndex=function(e,t){return ir(e,t)},Bn.sortedIndexBy=function(e,t,n){return ar(e,t,co(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var s=ir(e,t);if(s<n&&Vi(e[s],t))return s}return-1},Bn.sortedLastIndex=function(e,t){return ir(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return ar(e,t,co(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ir(e,t,!0)-1;if(Vi(e[n],t))return n}return-1},Bn.startCase=Za,Bn.startsWith=function(e,t,n){return e=Ca(e),n=null==n?0:ls(ba(n),0,e.length),t=ur(t),e.slice(n,n+t.length)==t},Bn.subtract=Il,Bn.sum=function(e){return e&&e.length?Wt(e,ll):0},Bn.sumBy=function(e,t){return e&&e.length?Wt(e,co(t,2)):0},Bn.template=function(e,t,s){var r=Bn.templateSettings;s&&wo(e,t,s)&&(t=n),e=Ca(e),t=Ta({},t,r,Zr);var o,i,a=Ta({},t.imports,r.imports,Zr),l=Da(a),c=Jt(a,l),u=0,d=t.interpolate||we,p="__p += '",h=Pe((t.escape||we).source+"|"+d.source+"|"+(d===Z?he:we).source+"|"+(t.evaluate||we).source+"|$","g"),f="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,n,s,r,a,l){return s||(s=r),p+=e.slice(u,l).replace(xe,sn),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(i=!0,p+="';\n"+a+";\n__p += '"),s&&(p+="' +\n((__t = ("+s+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),p+="';\n";var m=De.call(t,"variable")&&t.variable;if(m){if(de.test(m))throw new Ee("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(i?p.replace(z,""):p).replace(V,"$1").replace(W,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=sl((function(){return Se(l,f+"return "+p).apply(n,c)}));if(g.source=p,ta(g))throw g;return g},Bn.times=function(e,t){if((e=ba(e))<1||e>p)return[];var n=f,s=_n(e,f);t=co(t),e-=f;for(var r=Yt(s,t);++n<e;)t(n);return r},Bn.toFinite=ya,Bn.toInteger=ba,Bn.toLength=_a,Bn.toLower=function(e){return Ca(e).toLowerCase()},Bn.toNumber=wa,Bn.toSafeInteger=function(e){return e?ls(ba(e),-9007199254740991,p):0===e?e:0},Bn.toString=Ca,Bn.toUpper=function(e){return Ca(e).toUpperCase()},Bn.trim=function(e,t,s){if((e=Ca(e))&&(s||t===n))return Kt(e);if(!e||!(t=ur(t)))return e;var r=dn(e),o=dn(t);return xr(r,Qt(r,o),Zt(r,o)+1).join("")},Bn.trimEnd=function(e,t,s){if((e=Ca(e))&&(s||t===n))return e.slice(0,pn(e)+1);if(!e||!(t=ur(t)))return e;var r=dn(e);return xr(r,0,Zt(r,dn(t))+1).join("")},Bn.trimStart=function(e,t,s){if((e=Ca(e))&&(s||t===n))return e.replace(oe,"");if(!e||!(t=ur(t)))return e;var r=dn(e);return xr(r,Qt(r,dn(t))).join("")},Bn.truncate=function(e,t){var s=30,r="...";if(oa(t)){var o="separator"in t?t.separator:o;s="length"in t?ba(t.length):s,r="omission"in t?ur(t.omission):r}var i=(e=Ca(e)).length;if(rn(e)){var a=dn(e);i=a.length}if(s>=i)return e;var l=s-un(r);if(l<1)return r;var c=a?xr(a,0,l).join(""):e.slice(0,l);if(o===n)return c+r;if(a&&(l+=c.length-l),ua(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=Pe(o.source,Ca(fe.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var p=u.index;c=c.slice(0,p===n?l:p)}}else if(e.indexOf(ur(o),l)!=l){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+r},Bn.unescape=function(e){return(e=Ca(e))&&$.test(e)?e.replace(Y,hn):e},Bn.uniqueId=function(e){var t=++je;return Ca(e)+t},Bn.upperCase=el,Bn.upperFirst=tl,Bn.each=Ci,Bn.eachRight=Ei,Bn.first=Xo,pl(Bn,(Tl={},ws(Bn,(function(e,t){De.call(Bn.prototype,t)||(Tl[t]=e)})),Tl),{chain:!1}),Bn.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),St(["drop","take"],(function(e,t){Vn.prototype[e]=function(s){s=s===n?1:bn(ba(s),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=_n(s,r.__takeCount__):r.__views__.push({size:_n(s,f),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),St(["filter","map","takeWhile"],(function(e,t){var n=t+1,s=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:n}),t.__filtered__=t.__filtered__||s,t}})),St(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),St(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(ll)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Xs((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return ks(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Hi(co(e)))},Vn.prototype.slice=function(e,t){e=ba(e);var s=this;return s.__filtered__&&(e>0||t<0)?new Vn(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),t!==n&&(s=(t=ba(t))<0?s.dropRight(-t):s.take(t-e)),s)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(f)},ws(Vn.prototype,(function(e,t){var s=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Bn[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(Bn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Vn,c=a[0],u=l||$i(t),d=function(e){var t=o.apply(Bn,Rt([e],a));return r&&p?t[0]:t};u&&s&&"function"==typeof c&&1!=c.length&&(l=u=!1);var p=this.__chain__,h=!!this.__actions__.length,f=i&&!p,m=l&&!h;if(!i&&u){t=m?t:new Vn(this);var g=e.apply(t,a);return g.__actions__.push({func:yi,args:[d],thisArg:n}),new zn(g,p)}return f&&m?e.apply(this,a):(g=this.thru(d),f?r?g.value()[0]:g.value():g)})})),St(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ke[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(s&&!this.__chain__){var r=this.value();return t.apply($i(r)?r:[],e)}return this[n]((function(n){return t.apply($i(n)?n:[],e)}))}})),ws(Vn.prototype,(function(e,t){var n=Bn[t];if(n){var s=n.name+"";De.call(Rn,s)||(Rn[s]=[]),Rn[s].push({name:t,func:n})}})),Rn[Br(n,2).name]=[{name:"wrapper",func:n}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Nr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Nr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Nr(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=$i(e),s=t<0,r=n?e.length:0,o=function(e,t,n){var s=-1,r=n.length;for(;++s<r;){var o=n[s],i=o.size;switch(o.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=_n(t,e+i);break;case"takeRight":e=bn(e,t-i)}}return{start:e,end:t}}(0,r,this.__views__),i=o.start,a=o.end,l=a-i,c=s?a:i-1,u=this.__iteratees__,d=u.length,p=0,h=_n(l,this.__takeCount__);if(!n||!s&&r==l&&h==l)return mr(e,this.__actions__);var f=[];e:for(;l--&&p<h;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}f[p++]=g}return f},Bn.prototype.at=bi,Bn.prototype.chain=function(){return vi(this)},Bn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===n&&(this.__values__=va(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,s=this;s instanceof Gn;){var r=zo(s);r.__index__=0,r.__values__=n,t?o.__wrapped__=r:t=r;var o=r;s=s.__wrapped__}return o.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:yi,args:[oi],thisArg:n}),new zn(t,this.__chain__)}return this.thru(oi)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return mr(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,it&&(Bn.prototype[it]=function(){return this}),Bn}();ht?((ht.exports=fn)._=fn,pt._=fn):dt._=fn}).call(R)}(GA,GA.exports);const zA=e=>{const t=f.exports.useRef(null),n=f.exports.useRef(null),[s,r]=f.exports.useState(!1),[o,i]=f.exports.useState(!1),a=e.delay&&e.delay<50?100:e.delay||100;let l;const c=GA.exports.debounce((()=>{i(!0)}),a);f.exports.useEffect((()=>{s?(i(!1),c.cancel(),l?l.update():t.current&&n.current&&(l=Xm(t.current,n.current,{placement:e.placement,strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,e.offset||8]}},{name:"delay",enabled:!0,phase:"afterWrite",fn({state:e}){c()}}]}))):!s&&l&&l.destroy()}),[s]);const u=_("div",{role:"tooltip",ref:n,className:E(UA,{[HA]:s,[BA]:o}),children:[e.content,m("div",{className:E(qA,{[HA]:s,[BA]:o}),"data-popper-arrow":!0})]});return _(f.exports.Fragment,{children:[h.cloneElement(e.children,{ref:t,onMouseEnter:function(){r(!0)},onMouseLeave:function(){r(!1)}}),s?u:null]})};var VA="u3-cxx-d702528a",WA="u3-cxx-7539051e",YA="u3-cxx-7082de44",KA="u3-cxx-14631545";var $A=v((function(e){return{isExpanded:oo(e),relativeTeamUrl:Qe(e)}}),(function(e){return{actions:y({setRhsExpanded:io,showSearchResults:ao,showMentions:lo,showFlaggedPosts:co,showPinnedPosts:uo,showChannelFiles:po,closeRightHandSide:hn,toggleRhsExpanded:ho},e)}}))((e=>{const t=k(),n=t=>{switch(t.preventDefault(),e.previousRhsState){case os.SEARCH:e.actions.showSearchResults();break;case os.MENTION:e.actions.showMentions();break;case os.FLAG:e.actions.showFlaggedPosts();break;case os.PIN:e.actions.showPinnedPosts()}};let s;const r=m(D,{id:"rhs_header.closeSidebarTooltip",defaultMessage:"Close"});let o;switch(e.previousRhsState){case os.SEARCH:case os.MENTION:o=m(D,{id:"rhs_header.backToResultsTooltip",defaultMessage:"Back to search results"});break;case os.FLAG:o=m(D,{id:"rhs_header.backToFlaggedTooltip",defaultMessage:"Back to saved posts"});break;case os.PIN:o=m(D,{id:"rhs_header.backToPinnedTooltip",defaultMessage:"Back to pinned posts"})}const i=e.channel.display_name;return o&&(s=m(zA,{placement:"top",content:o,children:m("a",{href:"#",onClick:n,className:"sidebar--right__back",children:m(D,{id:"generic_icons.back",defaultMessage:"Back Icon",children:e=>m("i",{className:"icon icon-arrow-back-ios","aria-label":e})})})})),_("div",{className:VA,children:[_("span",{className:WA,children:[s,m(D,{id:"rhs_header.details",defaultMessage:"Thread"}),i&&m("button",{onClick:()=>{We()&&e.actions.closeRightHandSide(),e.actions.setRhsExpanded(!1);const n=e.relativeTeamUrl;t.push(`${n}/pl/${e.rootPostId}`)},className:E(YA,"style--none sidebar--right__title__channel"),children:i})]}),m("div",{className:"pull-right",children:m(zA,{placement:"top",content:r,children:m("button",{type:"button",className:KA,"aria-label":"Close",onClick:e.actions.closeRightHandSide,children:m(D,{id:"rhs_header.closeTooltip.icon",defaultMessage:"Close Sidebar Icon",children:e=>m(jE,{className:"u3-w-4 u3-h-4 u3-text-gray-600","aria-label":e})})})})})]})}));class JA{constructor(e){u(this,"action"),u(this,"timer"),this.action=e,this.timer=-1,this.fire=this.fire.bind(this)}fire(){this.action(),this.timer=-1}fireAfter(e){this.timer>=0&&window.clearTimeout(this.timer),this.timer=window.setTimeout(this.fire,e)}cancel(){window.clearTimeout(this.timer)}}function XA(e){return e.views.system.websocketConnectionErrorCount}function QA(e){return async(t,n)=>{const s=n().plugins.components.MessageWillBePosted;if(!s||0===s.length)return{data:e};let r=e;for(const e of s){const t=await e.hook(r);if(t){if(t.error)return{error:t.error};r=t.post}}return{data:r}}}function ZA(e,t){return async(n,s)=>{const r=s().plugins.components.SlashCommandWillBePosted;if(!r||0===r.length)return{data:{message:e,args:t}};let o=e,i=t;for(const e of r){const t=await e.hook(o,i);if(t){if(t.error)return{error:t.error};if(o=t.message,i=t.args,0===Object.keys(t).length)break}}return{data:{message:o,args:i}}}}function eP(){return Eo(zn.COMMENT_DRAFT,((e,t)=>t?l(a({},t),{uploadsInProgress:[]}):t))}function tP(e,t){return Un(`${zn.COMMENT_DRAFT}${e}`,t)}function nP(e,t){const n=So(ft.MESSAGE_TYPES.COMMENT);return()=>(s,r)=>{const o=qr(r(),zn.COMMENT_DRAFT,e);if(""!==o.message&&o.message!==n(r()))return;-1===t?s(fo(ft.MESSAGE_TYPES.COMMENT)):1===t&&s(mo(ft.MESSAGE_TYPES.COMMENT));const i=n(r());s(tP(e,l(a({},o),{message:i})))}}function sP(e,t,n){return(s={})=>async(r,o)=>{const i=qr(o(),zn.COMMENT_DRAFT,t),{message:l}=i;r(vo(l)),r(tP(t,null));const c=yo.exec(l),u=bo(o()),d=new _o(u);var p,h,f;c&&d.has(c[2])?r((p=n,h=c[1],f=c[2],e=>{"+"===h?e(wo(p,f)):"-"===h&&e(xo(p,f))})):0!==l.indexOf("/")||s.ignoreSlash?r(function(e,t,n){return async(s,r)=>{const o=r(),i=ce(o),l=To();let c={file_ids:[],message:n.message,channel_id:e,root_id:t,parent_id:t,pending_post_id:`${i}:${l}`,user_id:i,create_at:l,metadata:{},props:a({},n.props)};const u=await s(QA(c));return u.error?{error:u.error}:(c=u.data,s(Co(c,n.fileInfos)))}}(e,t,i)):await r(function(e,t,n){return async(s,r)=>{const o=r(),i=ne(o);let a={channel_id:e,team_id:i,root_id:t,parent_id:t},{message:l}=n;const c=await s(ZA(l,a));return c.error?{error:c.error}:c.data.message||c.data.args?(l=c.data.message,a=c.data.args,{}):{}}}(e,t,i))}}function rP(e,t){const n=function(e,t){return p(ce,(t=>Ao(t,e)),(e=>t=>bt(e,t)),((e,n,s)=>{let r=null;if(!n)return r;for(const o of n){const n=s(o)||{};if(!(n.user_id!==e||n.props&&n.props.from_webhook||n.state===re.POST_DELETED||n.type&&n.type.startsWith(re.SYSTEM_MESSAGE_PREFIX)||Po(n))){if(!t){r=n;break}if(n.root_id===t||n.id===t){r=n;break}}}return r}))}(e,t),s=Io();return()=>(e,t)=>{const r=t(),o=n(r);return o?e(go(o.id,s(r,{post:o}),"reply_textbox",ds("create_comment.commentTitle","Comment"),!0)):{data:!1}}}function oP(e){return e.views.textbox.shouldShowPreviewOnCreateComment}function iP(e){return e.views.textbox.shouldShowPreviewOnCreatePost}function aP(e){return e.views.textbox.shouldShowPreviewOnEditPostModal}function lP(e){return{type:Ee.SET_SHOW_PREVIEW_ON_CREATE_COMMENT,showPreview:e}}function cP(e){return{type:Ee.SET_SHOW_PREVIEW_ON_CREATE_POST,showPreview:e}}function uP(e){return{type:Ee.SET_SHOW_PREVIEW_ON_EDIT_POST_MODAL,showPreview:e}}function dP(e){if(-1===Array.from(e.types).indexOf("text/html"))return!1;const t=e.getData("text/html");if(!/<table/i.test(t))return!1;const n=function(e){const t=document.createElement("div");return t.innerHTML=e,t.querySelector("table")}(t);return n||!1}function pP(e){return/\b(js|blob|diff)-./.test(e)}function hP(e){return null==e.textContent?" ":e.textContent.trim().replace(/\|/g,"\\|").replace(/\n/g," ")}function fP(e,t,n){const s=Array.from(e.querySelectorAll("tr")),r=s.shift(),o=r?(i=r,Array.from(i.querySelectorAll("td, th")).map(hP)):[];var i;const a=o.map((()=>"---")),l=`|${o.join(" | ")}|\n|${a.join(" | ")}|\n`,c=s.map((e=>`|${Array.from(e.querySelectorAll("td")).map(hP).join(" | ")}|`)).join("\n"),u=`${l}${c}\n`;if(!t)return u;if(void 0===n)return`${t}\n\n${u}`;return[t.slice(0,n),u,t.slice(n)].join("\n")}function mP(e,t,n){const{firstPiece:s,lastPiece:r}=No(e,t),o=""===r?"":"\n",i=(""===s?"":"\n")+"```\n"+function(e){return-1!==Array.from(e.types).indexOf("text/plain")&&e.getData("text/plain")}(n)+"\n```"+o;return{formattedMessage:`${s}${i}${r}`,formattedCodeBlock:i}}var gP="u3-cxx-a708c930",vP="u3-cxx-0aa30738",yP="u3-cxx-bc74870c",bP="u3-cxx-7a2655de",_P="u3-cxx-994f4523",wP="u3-cxx-b5f0e61d",xP="u3-cxx-39cb35de",CP="u3-cxx-03bd6a19";class EP extends h.Component{constructor(e){super(e),u(this,"handleKeypress",(e=>{if("Enter"===e.key&&this.props.show){const e=document.getElementById("cancelModalButton");e&&e===document.activeElement?this.handleCancel():this.handleConfirm()}})),u(this,"handleCheckboxChange",(e=>{this.setState({checked:e.target.checked})})),u(this,"handleConfirm",(()=>{this.props.onConfirm(this.state.checked)})),u(this,"handleCancel",(()=>{this.props.onCancel(this.state.checked)})),this.state={checked:!1}}componentDidMount(){this.props.show&&document.addEventListener("keydown",this.handleKeypress)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeypress)}shouldComponentUpdate(e,t){return e.show!==this.props.show||t.checked!==this.state.checked}componentDidUpdate(e){e.show&&!this.props.show?document.removeEventListener("keydown",this.handleKeypress):!e.show&&this.props.show&&document.addEventListener("keydown",this.handleKeypress)}render(){let e,t,n;return this.props.showCheckbox&&(e=m("div",{className:"checkbox text-right mb-0",children:_("label",{children:[m("input",{type:"checkbox",onChange:this.handleCheckboxChange,checked:this.state.checked}),this.props.checkboxText]})})),t=this.props.cancelButtonText?this.props.cancelButtonText:m(D,{id:"confirm_modal.cancel",defaultMessage:"Cancel"}),this.props.hideCancel||(n=m("button",{type:"button",className:E("btn btn-link btn-cancel",CP),onClick:this.handleCancel,id:"cancelModalButton",children:t})),m(yp,{appear:!0,show:this.props.show,as:f.exports.Fragment,children:_(Nd,{as:"div",className:gP,onClose:()=>this.props.onExited?this.props.onExited():{},children:[_("div",{className:vP,children:[m(yp.Child,{as:f.exports.Fragment,enter:"u3-ease-out u3-duration-300",enterFrom:"u3-opacity-0",enterTo:"u3-opacity-100",leave:"u3-ease-in u3-duration-200",leaveFrom:"u3-opacity-100",leaveTo:"u3-opacity-0",children:m(Nd.Overlay,{className:yP})}),m("span",{className:"u3-inline-block u3-h-screen u3-align-middle","aria-hidden":"true",children:"​"})]}),m(yp.Child,{as:f.exports.Fragment,enter:"u3-ease-out duration-300",enterFrom:"u3-opacity-0 u3-scale-95",enterTo:"u3-opacity-100 u3-scale-100",leave:"u3-ease-in u3-duration-200",leaveFrom:"u3-opacity-100 u3-scale-100",leaveTo:"u3-opacity-0 u3-scale-95",children:_("div",{className:bP,children:[m(Nd.Title,{as:"h3",className:_P,children:this.props.title}),_("div",{className:wP,children:[this.props.message,e]}),_("div",{className:xP,children:[n,m("button",{autoFocus:!0,type:"button",className:E(this.props.confirmButtonClass),onClick:this.handleConfirm,id:"confirmModalButton",children:this.props.confirmButtonText})]})]})})]})})}}u(EP,"defaultProps",{title:"",message:"",confirmButtonClass:"btn btn-primary",confirmButtonText:"",modalClass:""});var SP=bp.jsx;var TP=function(e){return SP("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:SP("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}))},AP=bp.jsx;var PP=function(e){return AP("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e)),{children:AP("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}))};class IP extends h.PureComponent{render(){const{canDownload:e,children:t,compactDisplay:n,fileInfo:s,handleImageClick:r,iconClass:o}=this.props,i=s.name,a=NC(i);let l;return l=n?_("a",{id:"file-attachment-link",href:"#",onClick:r,className:"post-image__name",rel:"noopener noreferrer",children:[m(PP,{className:"icon"}),a]}):e?m("div",{className:o||"post-image__name",children:m("a",{href:xC(s.id),"aria-label":ds("view_image_popover.download","Download").toLowerCase(),download:i,target:"_blank",rel:"noopener noreferrer",children:t||a})}):m("span",{className:"post-image__name u3-block u3-whitespace-nowrap u3-overflow-ellipsis u3-text-sm u3-mr-3 u3-overflow-hidden",children:a}),l}}var NP="u3-cxx-baa8c7f6",kP="u3-cxx-d496b177",RP="u3-cxx-bbd8f61d",MP="u3-cxx-b2efdc7b",OP="u3-cxx-a002418e",LP="u3-cxx-d93d583e",DP="u3-cxx-728da8cf",jP="u3-cxx-bdb1eef2",FP="u3-cxx-c2f05cdb";class UP extends h.PureComponent{constructor(){super(...arguments),u(this,"handleRemove",(()=>{this.props.handleRemove(this.props.clientId)}))}render(){let e,t,n=0;const{fileInfo:s,clientId:r}=this.props;let o="0%";if(s){n=s.percent?s.percent:0,o=`${n.toFixed(0)}%`;const r=function(e){const t=e.split("/"),n=t[0],s=t[1];if("video"===n)return"video";if("audio"===n)return"audio";if("image"===n)return"image";if(s){if("pdf"===s)return"pdf";if(s.includes("vnd.ms-excel")||s.includes("spreadsheetml")||s.includes("vnd.sun.xml.calc")||s.includes("opendocument.spreadsheet"))return"spreadsheet";if(s.includes("vnd.ms-powerpoint")||s.includes("presentationml")||s.includes("vnd.sun.xml.impress")||s.includes("opendocument.presentation"))return"presentation";if("msword"===s||s.includes("vnd.ms-word")||s.includes("officedocument.wordprocessingml")||s.includes("application/x-mswrite"))return"word"}return"other"}(s.type);ko(r),e=_("div",{className:"u3-text-xs",children:[m(IP,{fileInfo:s,compactDisplay:!1,canDownload:!1}),m("span",{className:"post-image__uploadingTxt",children:100===n?m(D,{id:"create_post.fileProcessing",defaultMessage:"Processing..."}):m(h.Fragment,{children:m(D,{id:"admin.plugin.uploading",defaultMessage:"Uploading..."})})})]}),n&&(t=m("div",{className:"u3-absolute u3-bottom-0 u3-left-0 u3-w-full",children:m("div",{className:"u3-overflow-hidden u3-h-0.5 u3-text-xs u3-flex u3-rounded u3-bg-blue-200",children:m("div",{style:{width:`${n}%`},className:"u3-shadow-none u3-flex u3-flex-col u3-text-center u3-whitespace-nowrap u3-text-white u3-justify-center u3-bg-blue-500"})})}))}return _("div",{ref:r,className:E(kP,"file-preview post-image__column"),"data-client-id":r,children:[m("div",{className:RP,children:m("span",{className:"u3-block u3-text-center u3-py-2",children:o})}),_("div",{className:OP,children:[m("div",{className:LP,children:m("div",{className:"post-image__detail u3-text-sm",children:e})}),m("a",{className:FP,onClick:this.handleRemove,children:m(jE,{className:"u3-w-3 u3-h-3"})})]}),t]},r)}}class HP extends h.PureComponent{constructor(){super(...arguments),u(this,"handleRemove",(e=>{this.props.onRemove(e)}))}render(){const e=[];if(this.props.fileInfos.forEach((t=>{var n;const s=Rs(t.extension);let r,o="file-preview post-image__column";if(s===ks.SVG&&this.props.enableSVGs)r=m("img",{alt:"file preview",className:"post-image normal",src:wC(t.id),loading:"lazy"});else if(s===ks.IMAGE){let e="post-image";t.width&&t.width<re.THUMBNAIL_WIDTH&&t.height&&t.height<re.THUMBNAIL_HEIGHT?e+=" small":e+=" normal";let s=CC(t.id,null==(n=t.preview_path)?void 0:n.replace("_preview.jpg","_thumb.jpg"));Ro(t.extension)&&!t.has_preview_image&&(s=wC(t.id)),r=m("div",{className:E(MP,e),style:{backgroundImage:`url(${s})`,backgroundSize:"cover"}})}else o+=" custom-file",r=m("div",{className:"file-icon "+ko(s),children:m(TP,{className:"u3-w-8 u3-h-8 u3-text-blue-500 u3-m-1"})});e.push(_("div",{className:E(kP,o),children:[m("div",{className:RP,children:r}),_("div",{className:OP,children:[m("div",{className:LP,children:_("div",{className:"post-image__detail u3-px-0.5",children:[m(IP,{fileInfo:t,compactDisplay:!1,canDownload:!1}),t.extension&&m("span",{className:DP,children:t.extension.toUpperCase()}),m("span",{className:jP,children:Ts(t.size)})]})}),m("a",{className:FP,onClick:this.handleRemove.bind(this,t.id),children:m(jE,{className:"u3-w-3 u3-h-3"})})]})]},t.id))})),this.props.uploadsInProgress&&this.props.uploadsProgressPercent){const t=this.props.uploadsProgressPercent;this.props.uploadsInProgress.forEach((n=>{const s=t[n];s&&e.push(m(UP,{clientId:n,fileInfo:s,handleRemove:this.handleRemove},n))}))}return m("div",{className:E(NP,"file-preview__container"),ref:"container",children:e})}}u(HP,"defaultProps",{fileInfos:[],uploadsInProgress:[],uploadsProgressPercent:{}});var BP=v((function(e){return{enableSVGs:"true"===Ie(e).EnableSVGs}}))(HP),qP={exports:{}},GP={exports:{}};!function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}GP.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<s.length;r++)if((n=s[r])===t||n.fn===t){s.splice(r,1);break}return 0===s.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){s=0;for(var r=(n=n.slice(0)).length;s<r;++s)n[s].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}();var zP=KP;KP.default=KP,KP.stable=QP,KP.stableStringify=QP;var VP=[],WP=[];function YP(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function KP(e,t,n,s){var r;void 0===s&&(s=YP()),JP(e,"",0,[],void 0,0,s);try{r=0===WP.length?JSON.stringify(e,t,n):JSON.stringify(e,eI(t),n)}catch(i){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==VP.length;){var o=VP.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return r}function $P(e,t,n,s){var r=Object.getOwnPropertyDescriptor(s,n);void 0!==r.get?r.configurable?(Object.defineProperty(s,n,{value:e}),VP.push([s,n,t,r])):WP.push([t,n,e]):(s[n]=e,VP.push([s,n,t]))}function JP(e,t,n,s,r,o,i){var a;if(o+=1,"object"==typeof e&&null!==e){for(a=0;a<s.length;a++)if(s[a]===e)return void $P("[Circular]",e,t,r);if(void 0!==i.depthLimit&&o>i.depthLimit)return void $P("[...]",e,t,r);if(void 0!==i.edgesLimit&&n+1>i.edgesLimit)return void $P("[...]",e,t,r);if(s.push(e),Array.isArray(e))for(a=0;a<e.length;a++)JP(e[a],a,a,s,e,o,i);else{var l=Object.keys(e);for(a=0;a<l.length;a++){var c=l[a];JP(e[c],c,a,s,e,o,i)}}s.pop()}}function XP(e,t){return e<t?-1:e>t?1:0}function QP(e,t,n,s){void 0===s&&(s=YP());var r,o=ZP(e,"",0,[],void 0,0,s)||e;try{r=0===WP.length?JSON.stringify(o,t,n):JSON.stringify(o,eI(t),n)}catch(a){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==VP.length;){var i=VP.pop();4===i.length?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return r}function ZP(e,t,n,s,r,o,i){var a;if(o+=1,"object"==typeof e&&null!==e){for(a=0;a<s.length;a++)if(s[a]===e)return void $P("[Circular]",e,t,r);try{if("function"==typeof e.toJSON)return}catch(d){return}if(void 0!==i.depthLimit&&o>i.depthLimit)return void $P("[...]",e,t,r);if(void 0!==i.edgesLimit&&n+1>i.edgesLimit)return void $P("[...]",e,t,r);if(s.push(e),Array.isArray(e))for(a=0;a<e.length;a++)ZP(e[a],a,a,s,e,o,i);else{var l={},c=Object.keys(e).sort(XP);for(a=0;a<c.length;a++){var u=c[a];ZP(e[u],u,a,s,e,o,i),l[u]=e[u]}if(void 0===r)return l;VP.push([r,t,e]),r[t]=l}s.pop()}}function eI(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(WP.length>0)for(var s=0;s<WP.length;s++){var r=WP[s];if(r[1]===t&&r[0]===n){n=r[2],WP.splice(s,1);break}}return e.call(this,t,n)}}var tI="undefined"!=typeof Symbol&&Symbol,nI=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var s=Object.getOwnPropertySymbols(e);if(1!==s.length||s[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0},sI="Function.prototype.bind called on incompatible ",rI=Array.prototype.slice,oI=Object.prototype.toString,iI=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==oI.call(t))throw new TypeError(sI+t);for(var n,s=rI.call(arguments,1),r=function(){if(this instanceof n){var r=t.apply(this,s.concat(rI.call(arguments)));return Object(r)===r?r:this}return t.apply(e,s.concat(rI.call(arguments)))},o=Math.max(0,t.length-s.length),i=[],a=0;a<o;a++)i.push("$"+a);if(n=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(r),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n},aI=Function.prototype.bind||iI,lI=aI.call(Function.call,Object.prototype.hasOwnProperty),cI=SyntaxError,uI=Function,dI=TypeError,pI=function(e){try{return uI('"use strict"; return ('+e+").constructor;")()}catch(t){}},hI=Object.getOwnPropertyDescriptor;if(hI)try{hI({},"")}catch(bU){hI=null}var fI=function(){throw new dI},mI=hI?function(){try{return fI}catch(e){try{return hI(arguments,"callee").get}catch(t){return fI}}}():fI,gI="function"==typeof tI&&"function"==typeof Symbol&&"symbol"==typeof tI("foo")&&"symbol"==typeof Symbol("bar")&&nI(),vI=Object.getPrototypeOf||function(e){return e.__proto__},yI={},bI="undefined"==typeof Uint8Array?undefined:vI(Uint8Array),_I={"%AggregateError%":"undefined"==typeof AggregateError?undefined:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined:ArrayBuffer,"%ArrayIteratorPrototype%":gI?vI([][Symbol.iterator]()):undefined,"%AsyncFromSyncIteratorPrototype%":undefined,"%AsyncFunction%":yI,"%AsyncGenerator%":yI,"%AsyncGeneratorFunction%":yI,"%AsyncIteratorPrototype%":yI,"%Atomics%":"undefined"==typeof Atomics?undefined:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined:FinalizationRegistry,"%Function%":uI,"%GeneratorFunction%":yI,"%Int8Array%":"undefined"==typeof Int8Array?undefined:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":gI?vI(vI([][Symbol.iterator]())):undefined,"%JSON%":"object"==typeof JSON?JSON:undefined,"%Map%":"undefined"==typeof Map?undefined:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&gI?vI((new Map)[Symbol.iterator]()):undefined,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&gI?vI((new Set)[Symbol.iterator]()):undefined,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":gI?vI(""[Symbol.iterator]()):undefined,"%Symbol%":gI?Symbol:undefined,"%SyntaxError%":cI,"%ThrowTypeError%":mI,"%TypedArray%":bI,"%TypeError%":dI,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined:WeakSet},wI=function e(t){var n;if("%AsyncFunction%"===t)n=pI("async function () {}");else if("%GeneratorFunction%"===t)n=pI("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=pI("async function* () {}");else if("%AsyncGenerator%"===t){var s=e("%AsyncGeneratorFunction%");s&&(n=s.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=vI(r.prototype))}return _I[t]=n,n},xI={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},CI=aI,EI=lI,SI=CI.call(Function.call,Array.prototype.concat),TI=CI.call(Function.apply,Array.prototype.splice),AI=CI.call(Function.call,String.prototype.replace),PI=CI.call(Function.call,String.prototype.slice),II=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,NI=/\\(\\)?/g,kI=function(e){var t=PI(e,0,1),n=PI(e,-1);if("%"===t&&"%"!==n)throw new cI("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new cI("invalid intrinsic syntax, expected opening `%`");var s=[];return AI(e,II,(function(e,t,n,r){s[s.length]=n?AI(r,NI,"$1"):t||e})),s},RI=function(e,t){var n,s=e;if(EI(xI,s)&&(s="%"+(n=xI[s])[0]+"%"),EI(_I,s)){var r=_I[s];if(r===yI&&(r=wI(s)),void 0===r&&!t)throw new dI("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:s,value:r}}throw new cI("intrinsic "+e+" does not exist!")},MI=function(e,t){if("string"!=typeof e||0===e.length)throw new dI("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new dI('"allowMissing" argument must be a boolean');var n=kI(e),s=n.length>0?n[0]:"",r=RI("%"+s+"%",t),o=r.name,i=r.value,a=!1,l=r.alias;l&&(s=l[0],TI(n,SI([0,1],l)));for(var c=1,u=!0;c<n.length;c+=1){var d=n[c],p=PI(d,0,1),h=PI(d,-1);if(('"'===p||"'"===p||"`"===p||'"'===h||"'"===h||"`"===h)&&p!==h)throw new cI("property names with quotes must have matching quotes");if("constructor"!==d&&u||(a=!0),EI(_I,o="%"+(s+="."+d)+"%"))i=_I[o];else if(null!=i){if(!(d in i)){if(!t)throw new dI("base intrinsic for "+e+" exists, but the property is not available.");return}if(hI&&c+1>=n.length){var f=hI(i,d);i=(u=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:i[d]}else u=EI(i,d),i=i[d];u&&!a&&(_I[o]=i)}}return i},OI={exports:{}};!function(e){var t=aI,n=MI,s=n("%Function.prototype.apply%"),r=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(r,s),i=n("%Object.getOwnPropertyDescriptor%",!0),a=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(a)try{a({},"a",{value:1})}catch(bU){a=null}e.exports=function(e){var n=o(t,r,arguments);if(i&&a){var s=i(n,"length");s.configurable&&a(n,"length",{value:1+l(0,e.length-(arguments.length-1))})}return n};var c=function(){return o(t,s,arguments)};a?a(e.exports,"apply",{value:c}):e.exports.apply=c}(OI);var LI=MI,DI=OI.exports,jI=DI(LI("String.prototype.indexOf")),FI=x(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{}})),UI="function"==typeof Map&&Map.prototype,HI=Object.getOwnPropertyDescriptor&&UI?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,BI=UI&&HI&&"function"==typeof HI.get?HI.get:null,qI=UI&&Map.prototype.forEach,GI="function"==typeof Set&&Set.prototype,zI=Object.getOwnPropertyDescriptor&&GI?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,VI=GI&&zI&&"function"==typeof zI.get?zI.get:null,WI=GI&&Set.prototype.forEach,YI="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,KI="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,$I="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,JI=Boolean.prototype.valueOf,XI=Object.prototype.toString,QI=Function.prototype.toString,ZI=String.prototype.match,eN="function"==typeof BigInt?BigInt.prototype.valueOf:null,tN=Object.getOwnPropertySymbols,nN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,sN="function"==typeof Symbol&&"object"==typeof Symbol.iterator,rN=Object.prototype.propertyIsEnumerable,oN=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),iN=FI.custom,aN=iN&&pN(iN)?iN:null,lN="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function cN(e,t,n){var s="double"===(n.quoteStyle||t)?'"':"'";return s+e+s}function uN(e){return String(e).replace(/"/g,"&quot;")}function dN(e){return!("[object Array]"!==mN(e)||lN&&"object"==typeof e&&lN in e)}function pN(e){if(sN)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!nN)return!1;try{return nN.call(e),!0}catch(bU){}return!1}var hN=Object.prototype.hasOwnProperty||function(e){return e in this};function fN(e,t){return hN.call(e,t)}function mN(e){return XI.call(e)}function gN(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,s=e.length;n<s;n++)if(e[n]===t)return n;return-1}function vN(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,s="... "+n+" more character"+(n>1?"s":"");return vN(e.slice(0,t.maxStringLength),t)+s}return cN(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,yN),"single",t)}function yN(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function bN(e){return"Object("+e+")"}function _N(e){return e+" { ? }"}function wN(e,t,n,s){return e+" ("+t+") {"+(s?xN(n,s):n.join(", "))+"}"}function xN(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+e.join(","+n)+"\n"+t.prev}function CN(e,t){var n=dN(e),s=[];if(n){s.length=e.length;for(var r=0;r<e.length;r++)s[r]=fN(e,r)?t(e[r],e):""}var o,i="function"==typeof tN?tN(e):[];if(sN){o={};for(var a=0;a<i.length;a++)o["$"+i[a]]=i[a]}for(var l in e)fN(e,l)&&(n&&String(Number(l))===l&&l<e.length||sN&&o["$"+l]instanceof Symbol||(/[^\w$]/.test(l)?s.push(t(l,e)+": "+t(e[l],e)):s.push(l+": "+t(e[l],e))));if("function"==typeof tN)for(var c=0;c<i.length;c++)rN.call(e,i[c])&&s.push("["+t(i[c])+"]: "+t(e[i[c]],e));return s}var EN=MI,SN=function(e,t){var n=LI(e,!!t);return"function"==typeof n&&jI(e,".prototype.")>-1?DI(n):n},TN=function e(t,n,s,r){var o=n||{};if(fN(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(fN(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var i=!fN(o,"customInspect")||o.customInspect;if("boolean"!=typeof i&&"symbol"!==i)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(fN(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return vN(t,o);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var a=void 0===o.depth?5:o.depth;if(void 0===s&&(s=0),s>=a&&a>0&&"object"==typeof t)return dN(t)?"[Array]":"[Object]";var l=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=Array(e.indent+1).join(" ")}return{base:n,prev:Array(t+1).join(n)}}(o,s);if(void 0===r)r=[];else if(gN(r,t)>=0)return"[Circular]";function c(t,n,i){if(n&&(r=r.slice()).push(n),i){var a={depth:o.depth};return fN(o,"quoteStyle")&&(a.quoteStyle=o.quoteStyle),e(t,a,s+1,r)}return e(t,o,s+1,r)}if("function"==typeof t){var u=function(e){if(e.name)return e.name;var t=ZI.call(QI.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),d=CN(t,c);return"[Function"+(u?": "+u:" (anonymous)")+"]"+(d.length>0?" { "+d.join(", ")+" }":"")}if(pN(t)){var p=sN?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):nN.call(t);return"object"!=typeof t||sN?p:bN(p)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var h="<"+String(t.nodeName).toLowerCase(),f=t.attributes||[],m=0;m<f.length;m++)h+=" "+f[m].name+"="+cN(uN(f[m].value),"double",o);return h+=">",t.childNodes&&t.childNodes.length&&(h+="..."),h+="</"+String(t.nodeName).toLowerCase()+">"}if(dN(t)){if(0===t.length)return"[]";var g=CN(t,c);return l&&!function(e){for(var t=0;t<e.length;t++)if(gN(e[t],"\n")>=0)return!1;return!0}(g)?"["+xN(g,l)+"]":"[ "+g.join(", ")+" ]"}if(function(e){return!("[object Error]"!==mN(e)||lN&&"object"==typeof e&&lN in e)}(t)){var v=CN(t,c);return 0===v.length?"["+String(t)+"]":"{ ["+String(t)+"] "+v.join(", ")+" }"}if("object"==typeof t&&i){if(aN&&"function"==typeof t[aN])return t[aN]();if("symbol"!==i&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!BI||!e||"object"!=typeof e)return!1;try{BI.call(e);try{VI.call(e)}catch(h){return!0}return e instanceof Map}catch(bU){}return!1}(t)){var y=[];return qI.call(t,(function(e,n){y.push(c(n,t,!0)+" => "+c(e,t))})),wN("Map",BI.call(t),y,l)}if(function(e){if(!VI||!e||"object"!=typeof e)return!1;try{VI.call(e);try{BI.call(e)}catch(t){return!0}return e instanceof Set}catch(bU){}return!1}(t)){var b=[];return WI.call(t,(function(e){b.push(c(e,t))})),wN("Set",VI.call(t),b,l)}if(function(e){if(!YI||!e||"object"!=typeof e)return!1;try{YI.call(e,YI);try{KI.call(e,KI)}catch(h){return!0}return e instanceof WeakMap}catch(bU){}return!1}(t))return _N("WeakMap");if(function(e){if(!KI||!e||"object"!=typeof e)return!1;try{KI.call(e,KI);try{YI.call(e,YI)}catch(h){return!0}return e instanceof WeakSet}catch(bU){}return!1}(t))return _N("WeakSet");if(function(e){if(!$I||!e||"object"!=typeof e)return!1;try{return $I.call(e),!0}catch(bU){}return!1}(t))return _N("WeakRef");if(function(e){return!("[object Number]"!==mN(e)||lN&&"object"==typeof e&&lN in e)}(t))return bN(c(Number(t)));if(function(e){if(!e||"object"!=typeof e||!eN)return!1;try{return eN.call(e),!0}catch(bU){}return!1}(t))return bN(c(eN.call(t)));if(function(e){return!("[object Boolean]"!==mN(e)||lN&&"object"==typeof e&&lN in e)}(t))return bN(JI.call(t));if(function(e){return!("[object String]"!==mN(e)||lN&&"object"==typeof e&&lN in e)}(t))return bN(c(String(t)));if(!function(e){return!("[object Date]"!==mN(e)||lN&&"object"==typeof e&&lN in e)}(t)&&!function(e){return!("[object RegExp]"!==mN(e)||lN&&"object"==typeof e&&lN in e)}(t)){var _=CN(t,c),w=oN?oN(t)===Object.prototype:t instanceof Object||t.constructor===Object,x=t instanceof Object?"":"null prototype",C=!w&&lN&&Object(t)===t&&lN in t?mN(t).slice(8,-1):x?"Object":"",E=(w||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(C||x?"["+[].concat(C||[],x||[]).join(": ")+"] ":"");return 0===_.length?E+"{}":l?E+"{"+xN(_,l)+"}":E+"{ "+_.join(", ")+" }"}return String(t)},AN=EN("%TypeError%"),PN=EN("%WeakMap%",!0),IN=EN("%Map%",!0),NN=SN("WeakMap.prototype.get",!0),kN=SN("WeakMap.prototype.set",!0),RN=SN("WeakMap.prototype.has",!0),MN=SN("Map.prototype.get",!0),ON=SN("Map.prototype.set",!0),LN=SN("Map.prototype.has",!0),DN=function(e,t){for(var n,s=e;null!==(n=s.next);s=n)if(n.key===t)return s.next=n.next,n.next=e.next,e.next=n,n},jN=String.prototype.replace,FN=/%20/g,UN="RFC3986",HN={default:UN,formatters:{RFC1738:function(e){return jN.call(e,FN,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:UN},BN=HN,qN=Object.prototype.hasOwnProperty,GN=Array.isArray,zN=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),VN=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},s=0;s<e.length;++s)void 0!==e[s]&&(n[s]=e[s]);return n},WN={arrayToObject:VN,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],s=0;s<t.length;++s)for(var r=t[s],o=r.obj[r.prop],i=Object.keys(o),a=0;a<i.length;++a){var l=i[a],c=o[l];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:o,prop:l}),n.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(GN(n)){for(var s=[],r=0;r<n.length;++r)void 0!==n[r]&&s.push(n[r]);t.obj[t.prop]=s}}}(t),e},decode:function(e,t,n){var s=e.replace(/\+/g," ");if("iso-8859-1"===n)return s.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(s)}catch(bU){return s}},encode:function(e,t,n,s,r){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",a=0;a<o.length;++a){var l=o.charCodeAt(a);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||r===BN.RFC1738&&(40===l||41===l)?i+=o.charAt(a):l<128?i+=zN[l]:l<2048?i+=zN[192|l>>6]+zN[128|63&l]:l<55296||l>=57344?i+=zN[224|l>>12]+zN[128|l>>6&63]+zN[128|63&l]:(a+=1,l=65536+((1023&l)<<10|1023&o.charCodeAt(a)),i+=zN[240|l>>18]+zN[128|l>>12&63]+zN[128|l>>6&63]+zN[128|63&l])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(GN(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(t(e[s]));return n}return t(e)},merge:function e(t,n,s){if(!n)return t;if("object"!=typeof n){if(GN(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(s&&(s.plainObjects||s.allowPrototypes)||!qN.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var r=t;return GN(t)&&!GN(n)&&(r=VN(t,s)),GN(t)&&GN(n)?(n.forEach((function(n,r){if(qN.call(t,r)){var o=t[r];o&&"object"==typeof o&&n&&"object"==typeof n?t[r]=e(o,n,s):t.push(n)}else t[r]=n})),t):Object.keys(n).reduce((function(t,r){var o=n[r];return qN.call(t,r)?t[r]=e(t[r],o,s):t[r]=o,t}),r)}},YN=function(){var e,t,n,s={assert:function(e){if(!s.has(e))throw new AN("Side channel does not contain "+TN(e))},get:function(s){if(PN&&s&&("object"==typeof s||"function"==typeof s)){if(e)return NN(e,s)}else if(IN){if(t)return MN(t,s)}else if(n)return function(e,t){var n=DN(e,t);return n&&n.value}(n,s)},has:function(s){if(PN&&s&&("object"==typeof s||"function"==typeof s)){if(e)return RN(e,s)}else if(IN){if(t)return LN(t,s)}else if(n)return function(e,t){return!!DN(e,t)}(n,s);return!1},set:function(s,r){PN&&s&&("object"==typeof s||"function"==typeof s)?(e||(e=new PN),kN(e,s,r)):IN?(t||(t=new IN),ON(t,s,r)):(n||(n={key:{},next:null}),function(e,t,n){var s=DN(e,t);s?s.value=n:e.next={key:t,next:e.next,value:n}}(n,s,r))}};return s},KN=WN,$N=HN,JN=Object.prototype.hasOwnProperty,XN={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},QN=Array.isArray,ZN=Array.prototype.push,ek=function(e,t){ZN.apply(e,QN(t)?t:[t])},tk=Date.prototype.toISOString,nk=$N.default,sk={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:KN.encode,encodeValuesOnly:!1,format:nk,formatter:$N.formatters[nk],indices:!1,serializeDate:function(e){return tk.call(e)},skipNulls:!1,strictNullHandling:!1},rk=function e(t,n,s,r,o,i,a,l,c,u,d,p,h,f,m){var g,v=t;if(m.has(t))throw new RangeError("Cyclic object value");if("function"==typeof a?v=a(n,v):v instanceof Date?v=u(v):"comma"===s&&QN(v)&&(v=KN.maybeMap(v,(function(e){return e instanceof Date?u(e):e}))),null===v){if(r)return i&&!h?i(n,sk.encoder,f,"key",d):n;v=""}if("string"==typeof(g=v)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||KN.isBuffer(v))return i?[p(h?n:i(n,sk.encoder,f,"key",d))+"="+p(i(v,sk.encoder,f,"value",d))]:[p(n)+"="+p(String(v))];var y,b=[];if(void 0===v)return b;if("comma"===s&&QN(v))y=[{value:v.length>0?v.join(",")||null:void 0}];else if(QN(a))y=a;else{var _=Object.keys(v);y=l?_.sort(l):_}for(var w=0;w<y.length;++w){var x=y[w],C="object"==typeof x&&void 0!==x.value?x.value:v[x];if(!o||null!==C){var E=QN(v)?"function"==typeof s?s(n,x):n:n+(c?"."+x:"["+x+"]");m.set(t,!0);var S=YN();ek(b,e(C,E,s,r,o,i,a,l,c,u,d,p,h,f,S))}}return b},ok=WN,ik=Object.prototype.hasOwnProperty,ak=Array.isArray,lk={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ok.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ck=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},uk=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},dk=function(e,t,n,s){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,i=n.depth>0&&/(\[[^[\]]*])/.exec(r),a=i?r.slice(0,i.index):r,l=[];if(a){if(!n.plainObjects&&ik.call(Object.prototype,a)&&!n.allowPrototypes)return;l.push(a)}for(var c=0;n.depth>0&&null!==(i=o.exec(r))&&c<n.depth;){if(c+=1,!n.plainObjects&&ik.call(Object.prototype,i[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(i[1])}return i&&l.push("["+r.slice(i.index)+"]"),function(e,t,n,s){for(var r=s?t:uk(t,n),o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a&&n.parseArrays)i=[].concat(r);else{i=n.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(l,10);n.parseArrays||""!==l?!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(i=[])[c]=r:i[l]=r:i={0:r}}r=i}return r}(l,t,n,s)}},pk=function(e,t){var n,s=e,r=function(e){if(!e)return sk;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||sk.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=$N.default;if(void 0!==e.format){if(!JN.call($N.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=$N.formatters[n],r=sk.filter;return("function"==typeof e.filter||QN(e.filter))&&(r=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:sk.addQueryPrefix,allowDots:void 0===e.allowDots?sk.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:sk.charsetSentinel,delimiter:void 0===e.delimiter?sk.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:sk.encode,encoder:"function"==typeof e.encoder?e.encoder:sk.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:sk.encodeValuesOnly,filter:r,format:n,formatter:s,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:sk.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:sk.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:sk.strictNullHandling}}(t);"function"==typeof r.filter?s=(0,r.filter)("",s):QN(r.filter)&&(n=r.filter);var o,i=[];if("object"!=typeof s||null===s)return"";o=t&&t.arrayFormat in XN?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var a=XN[o];n||(n=Object.keys(s)),r.sort&&n.sort(r.sort);for(var l=YN(),c=0;c<n.length;++c){var u=n[c];r.skipNulls&&null===s[u]||ek(i,rk(s[u],u,a,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}var d=i.join(r.delimiter),p=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},hk={formats:HN,parse:function(e,t){var n=function(e){if(!e)return lk;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?lk.charset:e.charset;return{allowDots:void 0===e.allowDots?lk.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:lk.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:lk.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:lk.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:lk.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:lk.comma,decoder:"function"==typeof e.decoder?e.decoder:lk.decoder,delimiter:"string"==typeof e.delimiter||ok.isRegExp(e.delimiter)?e.delimiter:lk.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:lk.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:lk.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:lk.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:lk.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:lk.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var s="string"==typeof e?function(e,t){var n,s={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,i=r.split(t.delimiter,o),a=-1,l=t.charset;if(t.charsetSentinel)for(n=0;n<i.length;++n)0===i[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===i[n]?l="utf-8":"utf8=%26%2310003%3B"===i[n]&&(l="iso-8859-1"),a=n,n=i.length);for(n=0;n<i.length;++n)if(n!==a){var c,u,d=i[n],p=d.indexOf("]="),h=-1===p?d.indexOf("="):p+1;-1===h?(c=t.decoder(d,lk.decoder,l,"key"),u=t.strictNullHandling?null:""):(c=t.decoder(d.slice(0,h),lk.decoder,l,"key"),u=ok.maybeMap(uk(d.slice(h+1),t),(function(e){return t.decoder(e,lk.decoder,l,"value")}))),u&&t.interpretNumericEntities&&"iso-8859-1"===l&&(u=ck(u)),d.indexOf("[]=")>-1&&(u=ak(u)?[u]:u),ik.call(s,c)?s[c]=ok.combine(s[c],u):s[c]=u}return s}(e,n):e,r=n.plainObjects?Object.create(null):{},o=Object.keys(s),i=0;i<o.length;++i){var a=o[i],l=dk(a,s[a],n,"string"==typeof e);r=ok.merge(r,l,n)}return!0===n.allowSparse?r:ok.compact(r)},stringify:pk};function fk(e){return(fk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var mk=function(e){return null!==e&&"object"===fk(e)};function gk(e){return(gk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vk=mk,yk=bk;function bk(e){if(e)return function(e){for(var t in bk.prototype)Object.prototype.hasOwnProperty.call(bk.prototype,t)&&(e[t]=bk.prototype[t]);return e}(e)}bk.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},bk.prototype.parse=function(e){return this._parser=e,this},bk.prototype.responseType=function(e){return this._responseType=e,this},bk.prototype.serialize=function(e){return this._serializer=e,this},bk.prototype.timeout=function(e){if(!e||"object"!==gk(e))return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},bk.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var _k=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),wk=new Set([408,413,429,500,502,503,504,521,522,524]);bk.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(s){console.error(s)}if(t&&t.status&&wk.has(t.status))return!0;if(e){if(e.code&&_k.has(e.code))return!0;if(e.timeout&&"ECONNABORTED"===e.code)return!0;if(e.crossDomain)return!0}return!1},bk.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},bk.prototype.then=function(e,t){var n=this;if(!this._fullfilledPromise){var s=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,t){s.on("abort",(function(){if(!(n._maxRetries&&n._maxRetries>n._retries))if(n.timedout&&n.timedoutError)t(n.timedoutError);else{var e=new Error("Aborted");e.code="ABORTED",e.status=n.status,e.method=n.method,e.url=n.url,t(e)}})),s.end((function(n,s){n?t(n):e(s)}))}))}return this._fullfilledPromise.then(e,t)},bk.prototype.catch=function(e){return this.then(void 0,e)},bk.prototype.use=function(e){return e(this),this},bk.prototype.ok=function(e){if("function"!=typeof e)throw new Error("Callback required");return this._okCallback=e,this},bk.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},bk.prototype.get=function(e){return this._header[e.toLowerCase()]},bk.prototype.getHeader=bk.prototype.get,bk.prototype.set=function(e,t){if(vk(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},bk.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},bk.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(vk(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.field(n,e[n]);return this}if(Array.isArray(t)){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&this.field(e,t[s]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=String(t)),this._getFormData().append(e,t),this},bk.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},bk.prototype._auth=function(e,t,n,s){switch(n.type){case"basic":this.set("Authorization","Basic ".concat(s("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e))}return this},bk.prototype.withCredentials=function(e){return void 0===e&&(e=!0),this._withCredentials=e,this},bk.prototype.redirects=function(e){return this._maxRedirects=e,this},bk.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},bk.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},bk.prototype.send=function(e){var t=vk(e),n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&vk(this._data))for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this._data[s]=e[s]);else"string"==typeof e?(n||this.type("form"),(n=this._header["content-type"])&&(n=n.toLowerCase().trim()),this._data="application/x-www-form-urlencoded"===n?this._data?"".concat(this._data,"&").concat(e):e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},bk.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},bk.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.slice(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.slice(0,t)+"?"+n.join("&")}}},bk.prototype._appendQueryString=function(){console.warn("Unsupported")},bk.prototype._timeoutError=function(e,t,n){if(!this._aborted){var s=new Error("".concat(e+t,"ms exceeded"));s.timeout=t,s.code="ECONNABORTED",s.errno=n,this.timedout=!0,this.timedoutError=s,this.abort(),this.callback(s)}},bk.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))};var xk={};function Ck(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ek(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ek(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,r=function(){};return{s:r,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function Ek(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}xk.type=function(e){return e.split(/ *; */).shift()},xk.params=function(e){var t,n={},s=Ck(e.split(/ *; */));try{for(s.s();!(t=s.n()).done;){var r=t.value.split(/ *= */),o=r.shift(),i=r.shift();o&&i&&(n[o]=i)}}catch(a){s.e(a)}finally{s.f()}return n},xk.parseLinks=function(e){var t,n={},s=Ck(e.split(/ *, */));try{for(s.s();!(t=s.n()).done;){var r=t.value.split(/ *; */),o=r[0].slice(1,-1);n[r[1].split(/ *= */)[1].slice(1,-1)]=o}}catch(i){s.e(i)}finally{s.f()}return n},xk.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e};var Sk=xk,Tk=Ak;function Ak(e){if(e)return function(e){for(var t in Ak.prototype)Object.prototype.hasOwnProperty.call(Ak.prototype,t)&&(e[t]=Ak.prototype[t]);return e}(e)}function Pk(e){return function(e){if(Array.isArray(e))return Ik(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ik(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ik(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ik(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Nk(){this._defaults=[]}Ak.prototype.get=function(e){return this.header[e.toLowerCase()]},Ak.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=Sk.type(t);var n=Sk.params(t);for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(this[s]=n[s]);this.links={};try{e.link&&(this.links=Sk.parseLinks(e.link))}catch(r){}},Ak.prototype._setStatusProperties=function(e){var t=e/100|0;this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=1===t,this.ok=2===t,this.redirect=3===t,this.clientError=4===t,this.serverError=5===t,this.error=(4===t||5===t)&&this.toError(),this.created=201===e,this.accepted=202===e,this.noContent=204===e,this.badRequest=400===e,this.unauthorized=401===e,this.notAcceptable=406===e,this.forbidden=403===e,this.notFound=404===e,this.unprocessableEntity=422===e},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(e){Nk.prototype[e]=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return this._defaults.push({fn:e,args:n}),this}})),Nk.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,Pk(t.args))}))};var kk=Nk;!function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s;"undefined"!=typeof window?s=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),s=void 0):s=self;var r=GP.exports,o=zP,i=hk,a=yk,l=mk,c=Tk,u=kk;function d(){}e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1===arguments.length?new t.Request("GET",e):new t.Request(e,n)};var p=t=e.exports;t.Request=b,p.getXHR=function(){if(s.XMLHttpRequest&&(!s.location||"file:"!==s.location.protocol||!s.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(n){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(r){}throw new Error("Browser-only version of superagent could not find XHR")};var h="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function f(e){if(!l(e))return e;var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&m(t,n,e[n]);return t.join("&")}function m(e,t,n){if(void 0!==n)if(null!==n)if(Array.isArray(n))n.forEach((function(n){m(e,t,n)}));else if(l(n))for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&m(e,"".concat(t,"[").concat(s,"]"),n[s]);else e.push(encodeURI(t)+"="+encodeURIComponent(n));else e.push(encodeURI(t))}function g(e){for(var t,n,s={},r=e.split("&"),o=0,i=r.length;o<i;++o)-1===(n=(t=r[o]).indexOf("="))?s[decodeURIComponent(t)]="":s[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return s}function v(e){return/[/+]json($|[^-\w])/i.test(e)}function y(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.headers=function(e){for(var t,n,s,r,o=e.split(/\r?\n/),i={},a=0,l=o.length;a<l;++a)-1!==(t=(n=o[a]).indexOf(":"))&&(s=n.slice(0,t).toLowerCase(),r=h(n.slice(t+1)),i[s]=r);return i}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function b(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,s=null;try{s=new y(n)}catch(r){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=r,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",s);try{n._isResponseOK(s)||(e=new Error(s.statusText||s.text||"Unsuccessful HTTP response"))}catch(r){e=r}e?(e.original=t,e.response=s,e.status=s.status,n.callback(e,s)):n.callback(null,s)}))}function _(e,t,n){var s=p("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&s.send(t),n&&s.end(n),s}p.serializeObject=f,p.parseString=g,p.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},p.serialize={"application/x-www-form-urlencoded":i.stringify,"application/json":o},p.parse={"application/x-www-form-urlencoded":g,"application/json":JSON.parse},c(y.prototype),y.prototype._parseBody=function(e){var t=p.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&v(this.type)&&(t=p.parse["application/json"]),t&&e&&(e.length>0||e instanceof Object)?t(e):null)},y.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,s="cannot ".concat(t," ").concat(n," (").concat(this.status,")"),r=new Error(s);return r.status=this.status,r.method=t,r.url=n,r},p.Response=y,r(b.prototype),a(b.prototype),b.prototype.type=function(e){return this.set("Content-Type",p.types[e]||e),this},b.prototype.accept=function(e){return this.set("Accept",p.types[e]||e),this},b.prototype.auth=function(e,t,s){1===arguments.length&&(t=""),"object"===n(t)&&null!==t&&(s=t,t=""),s||(s={type:"function"==typeof btoa?"basic":"auto"});var r=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,s,r)},b.prototype.query=function(e){return"string"!=typeof e&&(e=f(e)),e&&this._query.push(e),this},b.prototype.attach=function(e,t,n){if(t){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},b.prototype._getFormData=function(){return this._formData||(this._formData=new s.FormData),this._formData},b.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},b.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},b.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},b.prototype.ca=b.prototype.agent,b.prototype.buffer=b.prototype.ca,b.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},b.prototype.pipe=b.prototype.write,b.prototype._isHost=function(e){return e&&"object"===n(e)&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},b.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||d,this._finalizeQueryString(),this._end()},b.prototype._setUploadTimeout=function(){var e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},b.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var e=this;this.xhr=p.getXHR();var t=this.xhr,n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4===n){var s;try{s=t.status}catch(r){s=0}if(!s){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var s=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(e._uploadTimeoutTimer)),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.addEventListener("progress",s.bind(null,"download")),t.upload&&t.upload.addEventListener("progress",s.bind(null,"upload"))}catch(a){}t.upload&&this._setUploadTimeout();try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(l){return this.callback(l)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof n&&!this._isHost(n)){var r=this._header["content-type"],o=this._serializer||p.serialize[r?r.split(";")[0]:""];!o&&v(r)&&(o=p.serialize["application/json"]),o&&(n=o(n))}for(var i in this.header)null!==this.header[i]&&Object.prototype.hasOwnProperty.call(this.header,i)&&t.setRequestHeader(i,this.header[i]);this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0===n?null:n)},p.agent=function(){return new u},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){u.prototype[e.toLowerCase()]=function(t,n){var s=new p.Request(e,t);return this._setDefaults(s),n&&s.end(n),s}})),u.prototype.del=u.prototype.delete,p.get=function(e,t,n){var s=p("GET",e);return"function"==typeof t&&(n=t,t=null),t&&s.query(t),n&&s.end(n),s},p.head=function(e,t,n){var s=p("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&s.query(t),n&&s.end(n),s},p.options=function(e,t,n){var s=p("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&s.send(t),n&&s.end(n),s},p.del=_,p.delete=_,p.patch=function(e,t,n){var s=p("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&s.send(t),n&&s.end(n),s},p.post=function(e,t,n){var s=p("POST",e);return"function"==typeof t&&(n=t,t=null),t&&s.send(t),n&&s.end(n),s},p.put=function(e,t,n){var s=p("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&s.send(t),n&&s.end(n),s}}(qP,qP.exports);var Rk=qP.exports;function Mk(e,t,n,s,r){return s=>(s({type:Mo.UPLOAD_FILES_REQUEST}),Rk.post(Ce.getFilesRoute()).set(Ce.getOptions({method:"post"}).headers).field("channel_id",n).field("client_ids",r).attach("files",e,t).accept("application/json"))}function Ok(e,t,n,s,r,{err:o,res:i}){return(e,t)=>{if(o){let a;a=i&&i.body&&i.body.id?i.body:0!==o.status&&o.status?{message:ds("channel_loader.unknown_error","We received an unexpected status code from the server.")+" ("+o.status+")"}:{message:ds("file_upload.generic_error","There was a problem uploading your files.")},Fe(o,e,t);const l={type:Mo.UPLOAD_FILES_FAILURE,clientIds:[r],channelId:n,rootId:s,error:o};return e(d([l,Oo(o)])),{error:a}}const c=i.body.file_infos.map(((e,t)=>l(a({},e),{clientId:i.body.client_ids[t]})));return e(d([{type:Mo.RECEIVED_UPLOAD_FILES,data:c,channelId:n,rootId:s},{type:Mo.UPLOAD_FILES_SUCCESS}])),{data:i.body}}}var Lk="u3-cxx-5c04a325",Dk="u3-cxx-299f03b2";const jk=z({limited:{id:Sr("file_upload.limited"),defaultMessage:"Uploads limited to {count, number} files maximum. Please use additional posts for more files."},filesAbove:{id:Sr("file_upload.filesAbove"),defaultMessage:"Files above {max}MB could not be uploaded: {filenames}"},fileAbove:{id:Sr("file_upload.fileAbove"),defaultMessage:"File above {max}MB could not be uploaded: {filename}"},zeroBytesFiles:{id:Sr("file_upload.zeroBytesFiles"),defaultMessage:"You are uploading empty files: {filenames}"},zeroBytesFile:{id:Sr("file_upload.zeroBytesFile"),defaultMessage:"You are uploading an empty file: {filename}"},pasted:{id:Sr("file_upload.pasted"),defaultMessage:"Image Pasted at "},uploadFile:{id:Sr("file_upload.upload_files"),defaultMessage:"Upload files"}});class Fk extends f.exports.PureComponent{constructor(e){super(e),u(this,"fileUploadSuccess",((e,t,n)=>{if(e){this.props.onFileUpload(e.file_infos,e.client_ids,t,n);const r=Object.assign({},this.state.requests);for(var s=0;s<e.client_ids.length;s++)Reflect.deleteProperty(r,e.client_ids[s]);this.setState({requests:r})}})),u(this,"fileUploadFail",((e,t,n,s)=>{this.props.onUploadError(e,t,n,s)})),u(this,"pluginUploadFiles",(e=>{this.props.onUploadError(null),this.uploadFiles(e)})),u(this,"checkPluginHooksAndUploadFiles",(e=>{this.props.onUploadError(null);let t=Array.from(e).sort(((e,t)=>e.name.localeCompare(t.name,this.props.locale,{numeric:!0})));const n=this.props.pluginFilesWillUploadHooks;for(const s of n){const e=s.hook(t,this.pluginUploadFiles);e.message&&this.props.onUploadError(e.message),t=e.files}t&&this.uploadFiles(t)})),u(this,"uploadFiles",(e=>{const{channelId:t,rootId:n}=this.props,s=re.MAX_UPLOAD_FILES-this.props.fileCount;let r=0;const o=[],i=[],c=[];for(let f=0;f<e.length&&r<s;f++){if(e[f].size>this.props.maxFileSize){o.push(e[f]);continue}0===e[f].size&&i.push(e[f]);const s=qn(),u=this.props.actions.uploadFile(e[f],e[f].name,t,n,s);u.on("progress",(t=>{this.props.onUploadProgress({clientId:s,name:e[f].name,percent:t.percent,type:e[f].type})})),u.end(((r,o)=>{const{error:i,data:a}=this.props.actions.handleFileUploadEnd(e[f],e[f].name,t,n,s,{err:r,res:o});i?this.fileUploadFail(i,s,t,n):a&&this.fileUploadSuccess(a,t,n)})),this.setState({requests:l(a({},this.state.requests),{[s]:u})}),c.push(s),r+=1}this.props.onUploadStart(c,t);const{formatMessage:u}=this.props.intl,d=[];if(e.length>s&&d.push(u(jk.limited,{count:re.MAX_UPLOAD_FILES})),o.length>1){var p=o.map((e=>e.name)).join(", ");d.push(u(jk.filesAbove,{max:this.props.maxFileSize/1048576,filenames:p}))}else o.length>0&&d.push(u(jk.fileAbove,{max:this.props.maxFileSize/1048576,filename:o[0].name}));if(i.length>1){var h=i.map((e=>e.name)).join(", ");d.push(u(jk.zeroBytesFiles,{filenames:h}))}else i.length>0&&d.push(u(jk.zeroBytesFile,{filename:i[0].name}));d.length>0&&this.props.onUploadError(d.join(", "))})),u(this,"handleChange",(e=>{e.target.files.length>0&&(this.checkPluginHooksAndUploadFiles(e.target.files),Lo(e.target)),this.props.onFileUploadChange()})),u(this,"handleDrop",(e=>{if(!this.props.canUploadFiles)return void this.props.onUploadError(ds("file_upload.disabled","File attachments are disabled."));this.props.onUploadError(null);const t=e.dataTransfer.items||[],n=e.dataTransfer.files,s=[];Array.from(n).forEach(((e,n)=>{const r=t[n];r&&r.webkitGetAsEntry&&(null===r.webkitGetAsEntry()||r.webkitGetAsEntry().isDirectory)||s.push(e)}));const r=e.dataTransfer.types;if(r){if(Do(e.dataTransfer))return;if(r.includes&&!r.includes("Files"))return;if(r.contains&&!r.contains("Files"))return}0!==s.length?(s.length&&this.checkPluginHooksAndUploadFiles(s),this.props.onFileUploadChange()):this.props.onUploadError(ds("file_upload.drag_folder","Folders cannot be uploaded. Please drag all files separately."))})),u(this,"registerDragEvents",((e,t)=>{const n=this,s=document.querySelector(t),r=new JA((()=>{s.classList.add("hidden")}));let o={};o=this.props.canUploadFiles?{enter(e){var t=e.detail.dataTransfer;!Do(t)&&Uo(t)&&s.classList.remove("hidden")},leave(e){var t=e.detail.dataTransfer;!Do(t)&&Uo(t)&&s.classList.add("hidden"),r.cancel()},over(){r.fireAfter(500)},drop(e){s.classList.add("hidden"),r.cancel(),n.handleDrop(e.detail)}}:{drop(e){n.handleDrop(e.detail)}},this.unbindDragsterEvents=function(e,t){const n=()=>{},s={enter:n,leave:n,over:n,drop:n},r=Object.assign(s,t),o=document.querySelector(e);if(!o)return n;let i=!1,a=!1;const l=e=>{if(i)return void(a=!0);i=!0;const t=new CustomEvent("dragster:enter",{detail:e});o.dispatchEvent(t),e.preventDefault()},c=e=>{if(a?a=!1:i&&(i=!1),!i&&!a){const t=new CustomEvent("dragster:leave",{detail:e});o.dispatchEvent(t)}e.preventDefault()},u=e=>{const t=new CustomEvent("dragster:over",{detail:e});o.dispatchEvent(t),e.preventDefault()},d=e=>{if(a?a=!1:i&&(i=!1),!i&&!a){const t=new CustomEvent("dragster:drop",{detail:e});o.dispatchEvent(t)}e.preventDefault()};return o.addEventListener("dragenter",l),o.addEventListener("dragleave",c),o.addEventListener("dragover",u),o.addEventListener("drop",d),o.addEventListener("dragster:enter",r.enter),o.addEventListener("dragster:leave",r.leave),o.addEventListener("dragster:over",r.over),o.addEventListener("dragster:drop",r.drop),()=>{o.removeEventListener("dragenter",l),o.removeEventListener("dragleave",c),o.removeEventListener("dragover",u),o.removeEventListener("drop",d),o.removeEventListener("dragster:enter",r.enter),o.removeEventListener("dragster:leave",r.leave),o.removeEventListener("dragster:over",r.over),o.removeEventListener("dragster:drop",r.drop)}}(e,o)})),u(this,"containsEventTarget",((e,t)=>e&&e.contains(t))),u(this,"pasteUpload",(e=>{const{formatMessage:t}=this.props.intl;if(!e.clipboardData||!e.clipboardData.items||dP(e.clipboardData))return;const n=this.props.getTarget(),s=L.findDOMNode(n);if(!this.containsEventTarget(s,e.target))return;this.props.onUploadError(null);const r=[];for(let a=0;a<e.clipboardData.items.length;a++){const t=e.clipboardData.items[a];"file"===t.kind&&r.push(t)}if(r&&r.length>0){if(!this.props.canUploadFiles)return void this.props.onUploadError(ds("file_upload.disabled","File attachments are disabled."));e.preventDefault();const n=[];for(let e=0;e<r.length;e++){const s=r[e].getAsFile();if(!s)continue;var o=new Date;let a=o.getHours();a=a<10?`0${a}`:`${a}`;let l=o.getMinutes();l=l<10?`0${l}`:`${l}`;var i="";s.name?s.name.includes(".")&&(i=s.name.substr(s.name.lastIndexOf("."))):r[e].type.includes("/")&&(i="."+r[e].type.split("/")[1].toLowerCase());const c=t(jk.pasted)+o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()+" "+a+"-"+l+i,u=new Blob([s],{type:s.type});u.name=c,n.push(u)}n.length>0&&(this.checkPluginHooksAndUploadFiles(n),this.props.onFileUploadChange())}})),u(this,"keyUpload",(e=>{if(jo(e)&&Ns(e,re.KeyCodes.U)){if(e.preventDefault(),!this.props.canUploadFiles)return void this.props.onUploadError(ds("file_upload.disabled","File attachments are disabled."));const t="post"===this.props.postType&&"post_textbox"===document.activeElement.id,n="comment"===this.props.postType&&"reply_textbox"===document.activeElement.id;(t||n)&&(this.fileInput.current.focus(),this.fileInput.current.click())}})),u(this,"cancelUpload",(e=>{const t=Object.assign({},this.state.requests),n=t[e];n&&(n.abort(),Reflect.deleteProperty(t,e),this.setState({requests:t}))})),u(this,"handleMaxUploadReached",(e=>{e&&e.preventDefault();const{onUploadError:t}=this.props,{formatMessage:n}=this.props.intl;t(n(jk.limited,{count:re.MAX_UPLOAD_FILES}))})),u(this,"toggleMenu",(e=>{this.setState({menuOpen:e})})),u(this,"handleLocalFileUploaded",(e=>{re.MAX_UPLOAD_FILES-this.props.fileCount>0?this.props.onClick&&this.props.onClick():this.handleMaxUploadReached(e),this.setState({menuOpen:!1})})),u(this,"simulateInputClick",(e=>{e.preventDefault(),e.stopPropagation(),this.fileInput.current.click()})),this.state={requests:{},menuOpen:!1},this.fileInput=h.createRef()}componentDidMount(){"post"===this.props.postType?this.registerDragEvents(".row.main",".center-file-overlay"):"comment"===this.props.postType&&this.registerDragEvents(".post-right__container",".right-file-overlay"),document.addEventListener("paste",this.pasteUpload),document.addEventListener("keydown",this.keyUpload)}componentWillUnmount(){document.removeEventListener("paste",this.pasteUpload),document.removeEventListener("keydown",this.keyUpload),this.unbindDragsterEvents&&this.unbindDragsterEvents()}render(){const{formatMessage:e}=this.props.intl;let t=!0;Ss()&&(t=!1);let n="";Fo()&&(n="image/*");const s=re.MAX_UPLOAD_FILES-this.props.fileCount;let r;const o=e({id:"accessibility.button.attachment",defaultMessage:"attachment"});return r=0===this.props.pluginFileUploadMethods.length?_(f.exports.Fragment,{children:[m("button",{type:"button",id:"fileUploadButton","aria-label":o,className:E(Dk,"style--none post-action icon icon--attachment"),onClick:this.simulateInputClick,onTouchEnd:this.simulateInputClick,children:m(PP,{className:"u3-w-6 u3-h-6 u3-text-gray-700 hover:u3-text-primary"})}),m("input",{id:"fileUploadInput",tabIndex:-1,"aria-label":e(jk.uploadFile),ref:this.fileInput,type:"file",onChange:this.handleChange,onClick:this.handleLocalFileUploaded,multiple:t,accept:n})]}):m("div",{children:m("input",{tabIndex:-1,"aria-label":e(jk.uploadFile),ref:this.fileInput,type:"file",className:"file-attachment-menu-item-input",onChange:this.handleChange,onClick:this.handleLocalFileUploaded,multiple:t,accept:n})}),this.props.canUploadFiles||(r=null),m("div",{className:E(Lk,"file-upload-container","style--none",{"btn-file__disabled":s<=0}),children:r})}}u(Fk,"propTypes",{channelId:M.string.isRequired,rootId:M.string,fileCount:M.number.isRequired,getTarget:M.func.isRequired,intl:uT.isRequired,locale:M.string.isRequired,onClick:M.func,onFileUpload:M.func,onFileUploadChange:M.func,onUploadError:M.func,onUploadStart:M.func,postType:M.string,maxFileSize:M.number,canUploadFiles:M.bool.isRequired,pluginFileUploadMethods:M.arrayOf(M.object),pluginFilesWillUploadHooks:M.arrayOf(M.object),onUploadProgress:M.func.isRequired,actions:M.shape({uploadFile:M.func.isRequired,handleFileUploadEnd:M.func.isRequired}).isRequired}),u(Fk,"defaultProps",{pluginFileUploadMethods:[],pluginFilesWillUploadHooks:[]});const Uk=S(Fk,{forwardRef:!0});Uk.displayName="injectIntl(FileUpload)";var Hk=v((function(e){const t=Ie(e);return{maxFileSize:parseInt(t.MaxFileSize,10),canUploadFiles:PC(t),locale:ts(e),pluginFileUploadMethods:e.plugins.components.FileUploadMethod,pluginFilesWillUploadHooks:e.plugins.components.FilesWillUploadHook}}),(function(e){return{actions:y({uploadFile:Mk,handleFileUploadEnd:Ok},e)}}),null,{forwardRef:!0})(Uk);class Bk extends h.Component{shouldComponentUpdate(e){return e.show!==this.props.show}render(){return m(yp,{appear:!0,show:this.props.show,as:f.exports.Fragment,children:m(Nd,{as:"div",className:"u3-fixed u3-inset-0 u3-z-80 u3-overflow-y-auto",onClose:()=>this.props.onHide({}),children:_("div",{className:"u3-min-h-screen u3-px-4 u3-text-center",children:[m(yp.Child,{as:f.exports.Fragment,enter:"u3-ease-out u3-duration-300",enterFrom:"u3-opacity-0",enterTo:"u3-opacity-100",leave:"u3-ease-in u3-duration-200",leaveFrom:"u3-opacity-100",leaveTo:"u3-opacity-0",children:m(Nd.Overlay,{className:"u3-fixed u3-inset-0"})}),m("span",{className:"u3-inline-block u3-h-screen u3-align-middle","aria-hidden":"true",children:"​"}),m(yp.Child,{as:f.exports.Fragment,enter:"u3-ease-out u3-duration-300",enterFrom:"u3-opacity-0 u3-scale-95",enterTo:"u3-opacity-100 u3-scale-100",leave:"u3-ease-in u3-duration-200",leaveFrom:"u3-opacity-100 u3-scale-100",leaveTo:"u3-opacity-0 u3-scale-95",children:_("div",{className:"u3-inline-block u3-w-full u3-p-6 u3-my-8 u3-overflow-hidden u3-text-left u3-align-middle u3-transition-all u3-transform u3-bg-white u3-shadow-xl u3-rounded-2xl",children:[m(Nd.Title,{as:"h3",className:"u3-text-lg u3-font-medium u3-leading-6 u3-text-gray-900",children:m(D,{id:"post_delete.notPosted",defaultMessage:"Comment could not be posted"})}),m("div",{className:"u3-mt-2",children:m("p",{className:"u3-text-sm u3-text-gray-500",children:m(D,{id:"post_delete.someone",defaultMessage:"Someone deleted the message on which you tried to post a comment."})})}),m("div",{className:"u3-mt-4",children:m("button",{type:"button",className:"u3-inline-flex u3-justify-center u3-px-4 u3-py-2 u3-text-sm u3-font-medium u3-text-blue-900 u3-bg-blue-100 u3-border u3-border-transparent u3-rounded-md hover:u3-bg-blue-200 focus:u3-outline-none",autoFocus:!0,onClick:this.props.onHide,"data-testid":"postDeletedModalOkButton",children:m(D,{id:"post_delete.okay",defaultMessage:"Okay"})})})]})})]})})})}}function qk(e,t,n){return async(s,r)=>{const o=r();return Ws(o,{permission:vn.USE_GROUP_MENTIONS,channel:n,team:t})?{data:ag(o,e,t,n)}:{data:[]}}}var Gk=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function zk(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(s=e[n],r=t[n],!(s===r||Gk(s)&&Gk(r)))return!1;var s,r;return!0}function Vk(e){return Wk("@"===e[0]?e:`@${e}`,{markdown:!1})}function Wk(e,t,n){return m(cE,{message:e,options:t,postId:n&&n.id,postType:n&&n.type})}function Yk(e){const t=Vk(e.props.username),n=Vk(e.props.addedUsername);return m(D,{id:"api.channel.add_member.added",defaultMessage:"{addedUsername} added to the channel by {username}.",values:{username:t,addedUsername:n}})}const Kk={[ft.POST_TYPES.JOIN_CHANNEL]:function(e){const t=Vk(e.props.username);return m(D,{id:"api.channel.join_channel.post_and_forget",defaultMessage:"{username} joined the channel.",values:{username:t}})},[ft.POST_TYPES.GUEST_JOIN_CHANNEL]:function(e){const t=Vk(e.props.username);return m(D,{id:"api.channel.guest_join_channel.post_and_forget",defaultMessage:"{username} joined the channel as a guest.",values:{username:t}})},[ft.POST_TYPES.LEAVE_CHANNEL]:function(e){const t=Vk(e.props.username);return m(D,{id:"api.channel.leave.left",defaultMessage:"{username} has left the channel.",values:{username:t}})},[ft.POST_TYPES.ADD_TO_CHANNEL]:Yk,[ft.POST_TYPES.ADD_GUEST_TO_CHANNEL]:function(e){const t=Vk(e.props.username),n=Vk(e.props.addedUsername);return m(D,{id:"api.channel.add_guest.added",defaultMessage:"{addedUsername} added to the channel as a guest by {username}.",values:{username:t,addedUsername:n}})},[ft.POST_TYPES.REMOVE_FROM_CHANNEL]:function(e){const t=Vk(e.props.removedUsername);return m(D,{id:"api.channel.remove_member.removed",defaultMessage:"{removedUsername} was removed from the channel",values:{removedUsername:t}})},[ft.POST_TYPES.JOIN_TEAM]:function(e){const t=Vk(e.props.username);return m(D,{id:"api.team.join_team.post_and_forget",defaultMessage:"{username} joined the team.",values:{username:t}})},[ft.POST_TYPES.LEAVE_TEAM]:function(e){const t=Vk(e.props.username);return m(D,{id:"api.team.leave.left",defaultMessage:"{username} left the team.",values:{username:t}})},[ft.POST_TYPES.ADD_TO_TEAM]:function(e){const t=Vk(e.props.username),n=Vk(e.props.addedUsername);return m(D,{id:"api.team.add_member.added",defaultMessage:"{addedUsername} added to the team by {username}.",values:{username:t,addedUsername:n}})},[ft.POST_TYPES.REMOVE_FROM_TEAM]:function(e){const t=Vk(e.props.username);return m(D,{id:"api.team.remove_user_from_team.removed",defaultMessage:"{removedUsername} was removed from the team.",values:{removedUsername:t}})},[ft.POST_TYPES.HEADER_CHANGE]:function(e){if(!e.props.username)return null;const t={singleline:!0,channelNamesMap:e.props&&e.props.channel_mentions,mentionHighlight:!0},n=Vk(e.props.username),s=e.props.old_header?Wk(e.props.old_header,t,e):null,r=e.props.new_header?Wk(e.props.new_header,t,e):null;return e.props.new_header?e.props.old_header?m(D,{id:"api.channel.post_update_channel_header_message_and_forget.updated_from",defaultMessage:"{username} updated the channel header <br></br><strong>From:</strong> {old} <br></br><strong>To:</strong> {new}",values:{username:n,old:s,new:r,strong:e=>m("strong",{children:e}),br:e=>_(O,{children:[m("br",{}),e]})}}):m(D,{id:"api.channel.post_update_channel_header_message_and_forget.updated_to",defaultMessage:"{username} updated the channel header to: {new}",values:{username:n,new:r}}):e.props.old_header?m(D,{id:"api.channel.post_update_channel_header_message_and_forget.removed",defaultMessage:"{username} removed the channel header (was: {old})",values:{username:n,old:s}}):null},[ft.POST_TYPES.DISPLAYNAME_CHANGE]:function(e){if(!(e.props.username&&e.props.old_displayname&&e.props.new_displayname))return null;const t=Vk(e.props.username),n=e.props.old_displayname,s=e.props.new_displayname;return m(D,{id:"api.channel.post_update_channel_displayname_message_and_forget.updated_from",defaultMessage:"{username} updated the channel display name from: {old} to: {new}",values:{username:t,old:n,new:s}})},[ft.POST_TYPES.CONVERT_CHANNEL]:function(e){if(!e.props.username)return null;const t=Vk(e.props.username);return m(D,{id:"api.channel.post_convert_channel_to_private.updated_from",defaultMessage:"{username} converted the channel from public to private",values:{username:t}})},[ft.POST_TYPES.PURPOSE_CHANGE]:function(e){if(!e.props.username)return null;const t=Vk(e.props.username),n=e.props.old_purpose,s=e.props.new_purpose;return e.props.new_purpose?e.props.old_purpose?m(D,{id:"app.channel.post_update_channel_purpose_message.updated_from",defaultMessage:"{username} updated the channel purpose from: {old} to: {new}",values:{username:t,old:n,new:s}}):m(D,{id:"app.channel.post_update_channel_purpose_message.updated_to",defaultMessage:"{username} updated the channel purpose to: {new}",values:{username:t,new:s}}):e.props.old_purpose?m(D,{id:"app.channel.post_update_channel_purpose_message.removed",defaultMessage:"{username} removed the channel purpose (was: {old})",values:{username:t,old:n}}):null},[ft.POST_TYPES.CHANNEL_DELETED]:function(e){if(!e.props.username)return null;const t=Vk(e.props.username);return m(D,{id:"api.channel.delete_channel.archived",defaultMessage:"{username} has archived the channel.",values:{username:t}})},[ft.POST_TYPES.CHANNEL_UNARCHIVED]:function(e){if(!e.props.username)return null;const t=Vk(e.props.username);return m(D,{id:"api.channel.restore_channel.unarchived",defaultMessage:"{username} has unarchived the channel.",values:{username:t}})},[ft.POST_TYPES.ME]:function(e){return Wk(e.message.replace(/^\*|\*$/g,""))}};class $k extends h.PureComponent{constructor(){super(...arguments),u(this,"getOptions",function(e,t){var n;void 0===t&&(t=zk);var s,r=[],o=!1;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return o&&n===this&&t(i,r)||(s=e.apply(this,i),o=!0,n=this,r=i),s}}(((e,t,n)=>l(a({},e),{disableGroupHighlight:t,mentionHighlight:n}))))}render(){var e,t,n;let{message:s}=this.props;const{post:r,mentionKeys:o}=this.props;if(r){const e=function(e,t,n){return e.props&&e.props.add_channel_member?(Ho(e),null):Kk[e.type]?Kk[e.type](e):e.type===ft.POST_TYPES.EPHEMERAL_ADD_TO_CHANNEL?Yk(e):e.type===ft.POST_TYPES.COMBINED_USER_ACTIVITY?(e.props.user_activity,null):null}(r,this.props.channel,this.props.isUserCanManageMembers);if(e)return m("div",{children:e})}const i=!r||!r.message_source||r.message===r.message_source,a=r&&r.props&&r.props.channel_mentions;null==(e=this.props.pluginHooks)||e.forEach((e=>{e&&e.hook&&r&&(s=e.hook(r,s))}));let l=null==(t=this.props.options)?void 0:t.mentionHighlight;r&&r.props&&(l=!r.props.mentionHighlightDisabled);const c=this.getOptions(this.props.options,!0===(null==(n=null==r?void 0:r.props)?void 0:n.disable_group_highlight),l);return m(cE,{imageProps:this.props.imageProps,isRHS:this.props.isRHS,message:s,proxyImages:i,mentionKeys:o,options:c,channelNamesMap:a,hasPluginTooltips:this.props.hasPluginTooltips,imagesMetadata:this.props.post&&this.props.post.metadata&&this.props.post.metadata.images,postId:this.props.post&&this.props.post.id})}}u($k,"defaultProps",{isRHS:!1,pluginHooks:[],options:{}});var Jk=v((function(){const e=p(ys,((e,t)=>t),((e,t,n)=>n?bg(e,n.team_id,n.id):yg(e)),((e,t,n)=>{var s,r;let o=e;return(null==(s=null==t?void 0:t.props)?void 0:s.disable_group_highlight)||(o=o.concat(n)),(null==(r=null==t?void 0:t.props)?void 0:r.mentionHighlightDisabled)&&(o=o.filter((e=>!["@all","@group","@here"].includes(e.key)))),o}));return(t,n)=>{const s=ee(t,n.channelId);return{channel:s,pluginHooks:t.plugins.components.MessageWillFormat,hasPluginTooltips:Boolean(t.plugins.components.LinkTooltip),isUserCanManageMembers:s&&Ys(t,s),mentionKeys:e(t,n.post,s)}}}))($k);const Xk=re.Integrations.EXECUTE_CURRENT_COMMAND_ITEM_ID,Qk=re.KeyCodes,Zk=class extends h.PureComponent{constructor(e){super(e),u(this,"handleMentionKeyClick",((e,t)=>{if(this.props.isRHS!==t)return;let n="@"+e;this.props.value&&/[^\s]$/.test(this.props.value)&&(n=" "+n),this.addTextAtCaret(n,"")})),u(this,"getTextbox",(()=>{if(!this.inputRef.current)return null;const e=this.inputRef.current.getInput();return e.getDOMNode?e.getDOMNode():e})),u(this,"recalculateSize",(()=>{const e=this.inputRef.current.getInput();e.recalculateSize&&e.recalculateSize()})),u(this,"handleEmitClearSuggestions",((e=0)=>{setTimeout((()=>{this.clear()}),e)})),u(this,"preventSuggestionListClose",(()=>{this.preventSuggestionListCloseFlag=!0})),u(this,"handleFocusOut",(e=>{this.preventSuggestionListCloseFlag?this.preventSuggestionListCloseFlag=!1:this.container.contains(e.relatedTarget)||Bo()&&!e.relatedTarget||(this.props.forceSuggestionsWhenBlur||this.handleEmitClearSuggestions(),this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur())})),u(this,"handleFocusIn",(e=>{this.container.contains(e.relatedTarget)||this.preventSuggestionListCloseFlag||(this.setState({focused:!0}),(this.props.openOnFocus||this.props.openWhenEmpty)&&setTimeout((()=>{const e=this.getTextbox();if(e){const t=e.value.substring(0,e.selectionEnd);(this.props.openWhenEmpty||t.length>=this.props.requiredCharacters)&&this.pretext!==t&&this.handlePretextChanged(t)}})),this.props.onFocus&&this.props.onFocus())})),u(this,"handleChange",(e=>{const t=this.getTextbox(),n=t.value.substring(0,t.selectionEnd);this.composing||this.pretext===n||this.handlePretextChanged(n),this.props.onChange&&this.props.onChange(e)})),u(this,"handleCompositionStart",(()=>{this.composing=!0,this.props.onComposition&&this.props.onComposition()})),u(this,"handleCompositionUpdate",(e=>{if(!e.data)return;const t=this.getTextbox(),n=t.value.substring(0,t.selectionStart)+e.data;this.handlePretextChanged(n),this.props.onComposition&&this.props.onComposition()})),u(this,"handleCompositionEnd",(()=>{this.composing=!1,this.props.onComposition&&this.props.onComposition()})),u(this,"addTextAtCaret",((e,t)=>{const n=this.getTextbox(),s=n.selectionEnd,r=this.props.value,o=n.value.substring(0,n.selectionEnd);let i,a=!1;if(o.toLowerCase().endsWith(t.toLowerCase()))i=o.substring(0,o.length-t.length);else{const n=e.substring(t.length),s=Zk.findOverlap(o,n);a=0===s.length,i=o.substring(0,o.length-s.length-t.length)}const l=r.substring(s);let c;if(c=a?o:i+e+" "+l,n.value=c,this.props.onChange){const e={target:n};this.props.onChange(e)}window.requestAnimationFrame((()=>{n.value===c&&qo(n,i.length+e.length+1)}))})),u(this,"replaceText",(e=>{const t=this.getTextbox();if(t.value=e,this.props.onChange){const e={target:t};this.props.onChange(e)}})),u(this,"handleCompleteWord",((e,t,n)=>{let s=e,r=!1;if(e.endsWith(Xk)&&(s=e.substring(0,e.length-Xk.length),r=!0),this.props.replaceAllInputOnSelect?this.replaceText(s):this.addTextAtCaret(s,t),this.props.onItemSelected){const e=this.state.items,t=this.state.terms;for(let n=0;n<t.length;n++)if(t[n]===s){this.props.onItemSelected(e[n]);break}}if(this.clear(),this.inputRef.current.focus(),r&&this.props.onKeyPress){let e=n;return n&&!Ns(n,re.KeyCodes.TAB)||(e=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:13}),n&&n.preventDefault()),this.props.onKeyPress(e),!0}if(!r)for(const o of this.props.providers)o.handleCompleteWord&&o.handleCompleteWord(s,t,this.handlePretextChanged);return!1})),u(this,"selectNext",(()=>{this.setSelectionByDelta(1)})),u(this,"selectPrevious",(()=>{this.setSelectionByDelta(-1)})),u(this,"setSelectionByDelta",(e=>{let t=this.state.terms.indexOf(this.state.selection);-1!==t?(t+=e,t<0?t=0:t>this.state.terms.length-1&&(t=this.state.terms.length-1),this.setState({selection:this.state.terms[t]})):this.setState({selection:""})})),u(this,"setSelection",(e=>{this.setState({selection:e})})),u(this,"clear",(()=>{this.state.cleared||(this.setState({cleared:!0,matchedPretext:[],terms:[],items:[],components:[],selection:"",suggestionBoxAlgn:{}}),this.handlePretextChanged(""))})),u(this,"hasSuggestions",(()=>this.state.items.some((e=>!e.loading)))),u(this,"handleKeyDown",(e=>{if((this.props.openWhenEmpty||this.props.value)&&this.hasSuggestions())if(Ns(e,Qk.UP))this.selectPrevious(),e.preventDefault();else if(Ns(e,Qk.DOWN))this.selectNext(),e.preventDefault();else if(Ns(e,Qk.ENTER)||this.props.completeOnTab&&Ns(e,Qk.TAB)){let t="";for(let e=0;e<this.state.terms.length;e++)this.state.terms[e]===this.state.selection&&(t=this.state.matchedPretext[e]);if(this.pretext.toLowerCase().endsWith(t.toLowerCase())){if(this.handleCompleteWord(this.state.selection,t,e))return}else clearTimeout(this.timeoutId),this.nonDebouncedPretextChanged(this.pretext,!0);this.props.onKeyDown&&this.props.onKeyDown(e),e.preventDefault()}else Ns(e,Qk.ESCAPE)?(this.clear(),this.setState({presentationType:"text"}),e.preventDefault(),e.stopPropagation()):this.props.onKeyDown&&this.props.onKeyDown(e);else this.props.onKeyDown&&this.props.onKeyDown(e)})),u(this,"handleSelect",(e=>{this.props.onSelect&&this.props.onSelect(e)})),u(this,"handleReceivedSuggestions",(e=>{const t=[],n=[];this.props.onSuggestionsReceived&&this.props.onSuggestionsReceived(e);for(let i=0;i<e.terms.length;i++)t.push(e.component),n.push(e.matchedPretext);const s=e.terms,r=e.items;let o=this.state.selection;return s.length>0?o=s[0]:this.state.selection&&(o=""),this.setState({cleared:!1,selection:o,terms:s,items:r,components:t,matchedPretext:n}),{selection:o,matchedPretext:e.matchedPretext}})),u(this,"handleReceivedSuggestionsAndComplete",(e=>{const{selection:t,matchedPretext:n}=this.handleReceivedSuggestions(e);t&&this.handleCompleteWord(t,n)})),u(this,"nonDebouncedPretextChanged",((e,t=!1)=>{this.pretext=e;let n=!1,s=this.handleReceivedSuggestions;t&&(s=this.handleReceivedSuggestionsAndComplete);for(const r of this.props.providers)if(n=r.handlePretextChanged(e,s)||n,n){if(void 0===this.state.suggestionBoxAlgn.pixelsToMoveX&&void 0===this.state.suggestionBoxAlgn.pixelsToMoveY&&["@",":","~","/"].includes(r.triggerCharacter)){const e=r.triggerCharacter,t=Go(e),n=zo(this.getTextbox(),t,this.props.listStyle);this.setState({suggestionBoxAlgn:n})}this.setState({presentationType:r.presentationType(),allowDividers:r.allowDividers()});break}n||this.clear()})),u(this,"debouncedPretextChanged",(e=>{clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>this.nonDebouncedPretextChanged(e)),re.SEARCH_TIMEOUT_MILLISECONDS)})),u(this,"handlePretextChanged",(e=>{this.pretext=e,this.debouncedPretextChanged(e)})),u(this,"blur",(()=>{this.inputRef.current.blur()})),u(this,"focus",(()=>{const e=this.inputRef.current.input;'""'===e.value||e.value.endsWith('""')?(e.selectionStart=e.value.length-1,e.selectionEnd=e.value.length-1):e.selectionStart=e.value.length,e.focus(),this.handleChange({target:this.inputRef.current})})),u(this,"setContainerRef",(e=>{this.container&&(this.container.removeEventListener("focusin",this.handleFocusIn),this.container.removeEventListener("focusout",this.handleFocusOut)),e&&(e.addEventListener("focusin",this.handleFocusIn),e.addEventListener("focusout",this.handleFocusOut)),this.container=e})),this.suggestionReadOut=h.createRef(),this.composing=!1,this.pretext="",this.timeoutId="",this.preventSuggestionListCloseFlag=!1,this.state={focused:!1,cleared:!0,matchedPretext:[],items:[],terms:[],components:[],selection:"",allowDividers:!0,presentationType:"text",suggestionBoxAlgn:{}},this.inputRef=h.createRef()}componentDidMount(){this.props.listenForMentionKeyClick&&_t.addListener("mention_key_click",this.handleMentionKeyClick),this.handlePretextChanged(this.pretext)}componentWillUnmount(){_t.removeListener("mention_key_click",this.handleMentionKeyClick)}componentDidUpdate(e){const{value:t}=this.props;if(""!==t||this.pretext===t){if(e.contextId!==this.props.contextId){const e=this.getTextbox(),t=e.value.substring(0,e.selectionEnd).toLowerCase();this.handlePretextChanged(t)}}else this.handlePretextChanged(t)}render(){const e=this.props,{listComponent:t,dateComponent:n,listStyle:s,renderNoResults:r}=e,o=c(e,["listComponent","dateComponent","listStyle","renderNoResults"]);return this.props.renderDividers&&this.state.allowDividers,Reflect.deleteProperty(o,"providers"),Reflect.deleteProperty(o,"onChange"),Reflect.deleteProperty(o,"onComposition"),Reflect.deleteProperty(o,"onItemSelected"),Reflect.deleteProperty(o,"completeOnTab"),Reflect.deleteProperty(o,"isRHS"),Reflect.deleteProperty(o,"requiredCharacters"),Reflect.deleteProperty(o,"openOnFocus"),Reflect.deleteProperty(o,"openWhenEmpty"),Reflect.deleteProperty(o,"onFocus"),Reflect.deleteProperty(o,"onBlur"),Reflect.deleteProperty(o,"containerClass"),Reflect.deleteProperty(o,"replaceAllInputOnSelect"),Reflect.deleteProperty(o,"renderDividers"),Reflect.deleteProperty(o,"contextId"),Reflect.deleteProperty(o,"listenForMentionKeyClick"),Reflect.deleteProperty(o,"wrapperHeight"),Reflect.deleteProperty(o,"forceSuggestionsWhenBlur"),Reflect.deleteProperty(o,"onSuggestionsReceived"),_("div",{ref:this.setContainerRef,className:this.props.containerClass,children:[m("div",{ref:this.suggestionReadOut,"aria-live":"polite",role:"alert",className:"sr-only"}),m(ME,l(a({ref:this.inputRef,autoComplete:"off"},o),{onInput:this.handleChange,onCompositionStart:this.handleCompositionStart,onCompositionUpdate:this.handleCompositionUpdate,onCompositionEnd:this.handleCompositionEnd,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect}))]})}static findOverlap(e,t){const n=e.toLowerCase(),s=t.toLowerCase();for(let r=s.length;r>0;r--){const e=s.substring(0,r);if(n.endsWith(e))return e}return""}};let eR=Zk;u(eR,"propTypes",{listComponent:M.func.isRequired,inputComponent:M.elementType,dateComponent:M.func,value:M.string.isRequired,providers:M.arrayOf(M.object).isRequired,listStyle:M.string,containerClass:M.string,renderDividers:M.bool,renderNoResults:M.bool,completeOnTab:M.bool,onFocus:M.func,onBlur:M.func,onChange:M.func,onKeyDown:M.func,onKeyPress:M.func,onComposition:M.func,onSelect:M.func,onSearchTypeSelected:M.func,onItemSelected:M.func,isRHS:M.bool,requiredCharacters:M.number,openOnFocus:M.bool,disabled:M.bool,openWhenEmpty:M.bool,replaceAllInputOnSelect:M.bool,contextId:M.string,listenForMentionKeyClick:M.bool,wrapperHeight:M.number,onSuggestionsReceived:M.func,forceSuggestionsWhenBlur:M.bool}),u(eR,"defaultProps",{listStyle:"top",containerClass:"",renderDividers:!1,renderNoResults:!1,completeOnTab:!0,isRHS:!1,requiredCharacters:1,openOnFocus:!1,openWhenEmpty:!1,replaceAllInputOnSelect:!1,listenForMentionKeyClick:!1,forceSuggestionsWhenBlur:!1});class tR extends h.PureComponent{constructor(e){super(e),u(this,"getContent",(()=>ZC(this.contentRef.current))),u(this,"scrollToItem",(e=>{const t=this.getContent();if(!t||0===t.length)return;const n=t[0].clientHeight;if(n<t[0].scrollHeight){const s=t.scrollTop(),r=parseInt(t.css("padding-top"),10),o=parseInt(t.css("padding-top"),10),i=ZC(L.findDOMNode(this.itemRefs.get(e)));if(0===i.length)return;const a=i[0].offsetTop-parseInt(i.css("margin-top"),10),l=parseInt(i.css("margin-bottom"),10)+parseInt(i.css("padding-bottom"),10),c=i[0].offsetTop+i.height()+l;a-r<s?t.scrollTop(a-r):c+r+o>s+n&&t.scrollTop(c-n+r+o)}})),this.contentRef=h.createRef(),this.itemRefs=new Map,this.suggestionReadOut=h.createRef(),this.currentLabel="",this.currentItem={}}componentDidUpdate(e){this.props.selection!==e.selection&&this.props.selection&&this.scrollToItem(this.props.selection),Zn(this.currentItem)||this.generateLabel(this.currentItem)}componentWillUnmount(){this.removeLabel()}announceLabel(){const e=this.props.ariaLiveRef.current;e&&(e.innerHTML=this.currentLabel)}removeLabel(){const e=this.props.ariaLiveRef.current;e&&(e.innerHTML="")}generateLabel(e){e.username?(this.currentLabel=e.username,(e.first_name||e.last_name)&&e.nickname?this.currentLabel+=` ${e.first_name} ${e.last_name} ${e.nickname}`:e.nickname?this.currentLabel+=` ${e.nickname}`:(e.first_name||e.last_name)&&(this.currentLabel+=` ${e.first_name} ${e.last_name}`)):"mention.channels"===e.type&&(this.currentLabel=e.channel.display_name),this.currentLabel&&(this.currentLabel=this.currentLabel.toLowerCase()),this.announceLabel()}renderDivider(e){return m("div",{className:"suggestion-list__divider",children:m("span",{children:m(D,{id:"suggestion."+e})})},e+"-divider")}renderNoResults(){return m("div",{className:"suggestion-list__no-results",ref:this.contentRef,children:m(hT,{id:"suggestion_list.no_matches",defaultMessage:"No items match __{value}__",values:{value:this.props.pretext||'""'}})},"list-no-results")}render(){if(!this.props.open||this.props.cleared)return null;const e=[];if(0===this.props.items.length){if(!this.props.renderNoResults)return null;e.push(this.renderNoResults())}let t;for(let a=0;a<this.props.items.length;a++){const n=this.props.items[a],s=this.props.terms[a],r=s===this.props.selection,o=this.props.components[a];this.props.renderDividers&&n.type!==t&&(e.push(this.renderDivider(n.type)),t=n.type),n.loading?e.push(m(ih,{},n.type)):(r&&(this.currentItem=n),e.push(m(o,{ref:e=>this.itemRefs.set(s,e),item:this.props.items[a],term:s,matchedPretext:this.props.matchedPretext[a],isSelection:r,onClick:this.props.onCompleteWord,onMouseMove:this.props.onItemHover},s)))}const n="suggestion-list suggestion-list--"+this.props.location,s="suggestion-list__content suggestion-list__content--"+this.props.location;let r=re.SUGGESTION_LIST_MAXHEIGHT;this.props.wrapperHeight&&(r=Math.min(Vo()-(this.props.wrapperHeight+re.POST_MODAL_PADDING),re.SUGGESTION_LIST_MAXHEIGHT));const o={maxHeight:r},{pixelsToMoveX:i,pixelsToMoveY:l}=this.props.suggestionBoxAlgn,c=void 0!==i&&void 0!==l?{transform:`translate(${i}px, ${l}px)`}:{};return m("div",{className:n,children:m("div",{id:"suggestionList",role:"list",ref:this.contentRef,style:a(a({},o),c),className:s,onMouseDown:this.props.preventClose,children:e})})}}u(tR,"propTypes",{ariaLiveRef:M.object,open:M.bool.isRequired,location:M.string,renderDividers:M.bool,renderNoResults:M.bool,onCompleteWord:M.func.isRequired,preventClose:M.func,onItemHover:M.func.isRequired,pretext:M.string.isRequired,cleared:M.bool.isRequired,matchedPretext:M.array.isRequired,items:M.array.isRequired,terms:M.array.isRequired,selection:M.string.isRequired,components:M.array.isRequired,wrapperHeight:M.number,suggestionBoxAlgn:M.object}),u(tR,"defaultProps",{renderDividers:!1,renderNoResults:!1});var nR={textareaWrapper:"u3-cxx-98f3f404",textboxContainer:"u3-cxx-96fb67de",formInput:"u3-cxx-74ae0d47",formTextarea:"u3-cxx-f21923b1",formSelect:"u3-cxx-9e299f3e",formMultiselect:"u3-cxx-2abb8205",customTextarea:"u3-cxx-87ed3537",textboxInput:"u3-cxx-9813b98a",textareaEmojiPicker:"u3-cxx-af2dbbda",textareaCustomPlaceholder:"u3-cxx-602cec63",badConnection:"u3-cxx-fb9ab11b",customTextareaPreview:"u3-cxx-36608bc3"};class sR extends h.PureComponent{constructor(e){super(e),u(this,"suggestionProviders"),u(this,"wrapper"),u(this,"message"),u(this,"preview"),u(this,"handleChange",(e=>{this.props.onChange(e)})),u(this,"checkMessageLength",(e=>{if(this.props.handlePostError)if(e.length>this.props.characterLimit){const t=m(D,{id:"create_post.error_message",defaultMessage:"Your message is too long. Character count: {length}/{limit}",values:{length:e.length,limit:this.props.characterLimit}});this.props.handlePostError(t)}else this.props.handlePostError(null)})),u(this,"handleKeyDown",(e=>{var t,n;null==(n=(t=this.props).onKeyDown)||n.call(t,e)})),u(this,"handleSelect",(e=>{var t,n;null==(n=(t=this.props).onSelect)||n.call(t,e)})),u(this,"handleMouseUp",(e=>{var t,n;null==(n=(t=this.props).onMouseUp)||n.call(t,e)})),u(this,"handleKeyUp",(e=>{var t,n;null==(n=(t=this.props).onKeyUp)||n.call(t,e)})),u(this,"handleBlur",(e=>{var t,n;null==(n=(t=this.props).onBlur)||n.call(t,e)})),u(this,"handleFocus",(e=>{var t,n;null==(n=(t=this.props).onFocus)||n.call(t,e)})),u(this,"handleHeightChange",((e,t)=>{var n,s;null==(s=(n=this.props).onHeightChange)||s.call(n,e,t)})),u(this,"getInputBox",(()=>{var e;return null==(e=this.message.current)?void 0:e.getTextbox()})),u(this,"focus",(()=>{const e=this.getInputBox();e&&(e.focus(),Wo(e),this.checkMessageLength(e.value))})),u(this,"blur",(()=>{var e;null==(e=this.getInputBox())||e.blur()})),u(this,"recalculateSize",(()=>{var e;null==(e=this.message.current)||e.recalculateSize()})),u(this,"focusTextbox",(()=>{})),this.suggestionProviders=[],this.checkMessageLength(e.value),this.wrapper=h.createRef(),this.message=h.createRef(),this.preview=h.createRef()}updateSuggestions(e){if(this.props.channelId!==e.channelId||this.props.currentUserId!==e.currentUserId||this.props.profilesInChannel!==e.profilesInChannel||this.props.autocompleteGroups!==e.autocompleteGroups){const e=this.suggestionProviders;for(let t=0;t<e.length;t++);}e.value!==this.props.value&&this.checkMessageLength(this.props.value)}componentDidUpdate(e){var t;!e.preview&&this.props.preview&&(null==(t=this.preview.current)||t.focus()),this.updateSuggestions(e)}render(){var e;let t,n=null;const s={[nR.textareaWrapper]:!0},r={[nR.customTextarea]:!0};this.props.emojiEnabled&&(r[nR.textareaEmojiPicker]=!0),this.props.badConnection&&(r[nR.badConnection]=!0),"string"!=typeof this.props.createMessage&&(r[nR.textareaCustomPlaceholder]=!0),this.wrapper.current&&(t=null==(e=this.getInputBox())?void 0:e.clientHeight),this.props.preview&&(r[nR.customTextareaPreview]=!0,s[nR.textareaWrapperPreview]=!0,n=m("div",{tabIndex:0,ref:this.preview,className:"form-control custom-textarea textbox-preview-area",onKeyPress:this.props.onKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onBlur:this.handleBlur,onFocus:this.handleFocus,children:m(Jk,{isRHS:this.props.isRHS,message:this.props.value,mentionKeys:[],channelId:this.props.channelId})}));const o=this.props.styles||{};return _("div",{ref:this.wrapper,className:E(s,o.textboxWrapper),onClick:this.focusTextbox,children:[m(eR,{id:this.props.id,ref:this.message,className:E(nR.textboxInput,o.textboxInput,r),containerClass:E(nR.textboxContainer),spellCheck:"true",placeholder:this.props.createMessage,onChange:this.handleChange,onKeyPress:this.props.onKeyPress,onSelect:this.handleSelect,onKeyDown:this.handleKeyDown,onMouseUp:this.handleMouseUp,onKeyUp:this.handleKeyUp,onComposition:this.props.onComposition,onBlur:this.handleBlur,onFocus:this.handleFocus,onHeightChange:this.handleHeightChange,style:{visibility:this.props.preview?"hidden":"visible"},inputComponent:this.props.inputComponent,listComponent:tR,listStyle:this.props.suggestionListStyle,providers:this.suggestionProviders,channelId:this.props.channelId,value:this.props.value,renderDividers:!0,isRHS:this.props.isRHS,disabled:this.props.disabled,contextId:this.props.channelId,listenForMentionKeyClick:this.props.listenForMentionKeyClick,wrapperHeight:t,openWhenEmpty:this.props.openWhenEmpty}),n]})}}u(sR,"defaultProps",{supportsCommands:!0,isRHS:!1,listenForMentionKeyClick:!1,inputComponent:NE});const rR={active:!0};var oR=v((()=>{const e=Yo(),t=sc(),n=Ko();return(s,r)=>{const o=ne(s),i=Dt(s),a="true"===(null==i?void 0:i.IsLicensed)&&"true"===(null==i?void 0:i.LDAPGroups)&&Ws(s,{channel:r.channelId,team:o,permission:vn.USE_GROUP_MENTIONS})?lg(s,o,r.channelId):null,l=e(s,r.channelId,rR),c=t(s,l);return{currentUserId:ce(s),currentTeamId:o,profilesInChannel:c,autocompleteGroups:a,priorityProfiles:n(s,r)}}}),(e=>({actions:y({autocompleteUsersInChannel:dc,autocompleteChannels:Gl,searchAssociatedGroupsForReference:qk},e)})),null,{forwardRef:!0})(sR);class iR extends h.PureComponent{constructor(){super(...arguments),u(this,"renderSlashCommandError",(()=>{if(!this.props.submittedMessage)return this.props.error.message;const e=this.props.submittedMessage.split(" ")[0];return _(h.Fragment,{children:[m(D,{id:"message_submit_error.invalidCommand",defaultMessage:"Command with a trigger of ''{command}'' not found. ",values:{command:e}}),m("a",{href:"#",onClick:this.props.handleSubmit,children:m(D,{id:"message_submit_error.sendAsMessageLink",defaultMessage:"Click here to send as a message."})})]})}))}render(){const e=this.props.error;if(!e)return null;let t=e.message;return $o(e)&&(t=this.renderSlashCommandError()),m("div",{className:"has-error",children:m("label",{className:"control-label",children:t})})}}var aR={createCommentContainer:"u3-cxx-826e7ab3",postCreate:"u3-cxx-f55d317f",postCreateBody:"u3-cxx-d4727814",postBodyFileUpload:"u3-cxx-eae76c3f",textboxWrapper:"u3-cxx-40c2ed00",textboxInput:"u3-cxx-ff6d3fb1",postBodyActions:"u3-cxx-5ae1f95f",postCreateFooter:"u3-cxx-e3199bfd",postCreateFooterError:"u3-cxx-f4846215",postCreateExtras:"u3-cxx-c32323c1"};const lR=re.KeyCodes;class cR extends h.PureComponent{constructor(e){super(e),u(this,"setShowPreview",(e=>{this.props.setShowPreview(e)})),u(this,"focusTextboxIfNecessary",(e=>{this.props.rhsExpanded&&(document.getElementsByClassName("channel-switch-modal").length||Jo(e,document.activeElement)&&this.focusTextbox())})),u(this,"setCaretPosition",(e=>{const t=this.textboxRef.current&&this.textboxRef.current.getInputBox();this.setState({caretPosition:e},(()=>{qo(t,e)}))})),u(this,"pasteHandler",(e=>{if(!e.clipboardData||!e.clipboardData.items||"reply_textbox"!==e.target.id)return;const{clipboardData:t}=e,n=dP(t);if(!n)return;e.preventDefault();const{draft:s}=this.state;let r=s.message;if(pP(n.className)){const{formattedMessage:e,formattedCodeBlock:n}=mP(this.state.caretPosition,r,t),s=this.state.caretPosition+n.length;r=e,this.setCaretPosition(s)}else{const e=s.message.length;r=fP(n,s.message.trim(),this.state.caretPosition);const t=r.length-(e-this.state.caretPosition);this.setCaretPosition(t)}const o=l(a({},s),{message:r});this.props.onUpdateCommentDraft(o),this.setState({draft:o})})),u(this,"handleNotifyAllConfirmation",(e=>{this.hideNotifyAllModal(),this.doSubmit(e)})),u(this,"hideNotifyAllModal",(()=>{this.setState({showConfirmModal:!1})})),u(this,"showNotifyAllModal",(()=>{this.setState({showConfirmModal:!0})})),u(this,"toggleEmojiPicker",(()=>{this.setState({showEmojiPicker:!this.state.showEmojiPicker})})),u(this,"hideEmojiPicker",(()=>{this.setState({showEmojiPicker:!1})})),u(this,"handleEmojiClick",(e=>{const t=e.name||e.aliases[0];if(!t)return;const{draft:n}=this.state;let s="";if(""===n.message)s=`:${t}: `;else{const{draft:{message:e}}=this.state,{firstPiece:n,lastPiece:r}=No(this.state.caretPosition,e);s=""===n?`:${t}: ${r} `:`${n} :${t}: ${r} `;const o=""===n?`:${t}: `.length:`${n} :${t}: `.length;this.setCaretPosition(o)}const r=l(a({},n),{message:s});this.props.onUpdateCommentDraft(r),this.draftsForPost[this.props.rootId]=r,this.setState({showEmojiPicker:!1,draft:r})})),u(this,"handleGifClick",(e=>{const{draft:t}=this.state;let n="";n=""===t.message?e:/\s+$/.test(t.message)?`${t.message}${e} `:`${t.message} ${e} `;const s=l(a({},t),{message:n});this.props.onUpdateCommentDraft(s),this.draftsForPost[this.props.rootId]=s,this.setState({showEmojiPicker:!1,draft:s}),this.focusTextbox()})),u(this,"handlePostError",(e=>{this.setState({postError:e})})),u(this,"handleSubmit",(async e=>{e.preventDefault(),this.setShowPreview(!1);const{channelMembersCount:t,enableConfirmNotificationsToChannel:n,useChannelMentions:s,isTimezoneEnabled:r,groupsWithAllowReference:o,channelMemberCountsByGroup:i,useGroupMentions:c}=this.props,{draft:u}=this.state,d=n&&s;let p=0,h=0,f=[];const m=!Xo(u.message);if(n&&m&&c&&(f=Qo(u.message,o),f.length>0&&(f=f.map((e=>{const t=i[e.id];return t&&t.channel_member_count>re.NOTIFY_ALL_MEMBERS&&t.channel_member_count>p&&(p=t.channel_member_count,h=t.channel_member_timezones_count),`@${e.name}`})),f=[...new Set(f)])),!c&&f.length>0){const e=l(a({},u),{props:l(a({},u.props),{disable_group_highlight:!0})});this.props.onUpdateCommentDraft(e),this.setState({draft:e})}if(d&&t>re.NOTIFY_ALL_MEMBERS&&!m&&(p=t-1,f=["@all","@group"],r)){const{data:e}=await this.props.getChannelTimezones(this.props.channelId);h=e?e.length:0}if(!s&&Xo(u.message,{checkAllMentions:!0})){const e=l(a({},u),{props:l(a({},u.props),{mentionHighlightDisabled:!0})});this.props.onUpdateCommentDraft(e),this.setState({draft:e})}if(p>0)return this.setState({channelTimezoneCount:h,memberNotifyCount:p,mentions:f}),void this.showNotifyAllModal();await this.doSubmit(e)})),u(this,"doSubmit",(async e=>{e&&e.preventDefault();const{draft:t}=this.state;if(!this.shouldEnableAddButton())return;if(t.uploadsInProgress.length>0)return;if(this.state.postError)return this.setState({errorClass:"animation--highlight"}),void setTimeout((()=>{this.setState({errorClass:null})}),re.ANIMATION_TIMEOUT);if(this.props.rootDeleted)return void this.showPostDeletedModal();const n=Date.now()-this.lastBlurAt<150;this.focusTextbox(n);const s=this.state.serverError;let r=!1;$o(s)&&t.message===s.submittedMessage&&(r=!0);const o={ignoreSlash:r};try{await this.props.onSubmit(o),this.setState({postError:null,serverError:null})}catch(i){return $o(i)&&this.props.onUpdateCommentDraft(t),i.submittedMessage=t.message,void this.setState({serverError:i})}this.setState({draft:l(a({},this.props.draft),{uploadsInProgress:[]})})})),u(this,"commentMsgKeyPress",(e=>{const{ctrlSend:t,codeBlockOnCtrlEnter:n}=this.props,{allowSending:s,withClosedCodeBlock:r,message:o}=Zo(e,this.state.draft.message,t,n,0,0,this.state.caretPosition);if(s){if(e.persist(),this.textboxRef.current&&this.textboxRef.current.blur(),r&&o){const{draft:t}=this.state,n=l(a({},t),{message:o});this.props.onUpdateCommentDraft(n),this.setState({draft:n},(()=>this.handleSubmit(e))),this.draftsForPost[this.props.rootId]=n}else this.handleSubmit(e);this.setShowPreview(!1),setTimeout((()=>{this.focusTextbox()}))}this.emitTypingEvent()})),u(this,"reactToLastMessage",(e=>{e.preventDefault();const{emitShortcutReactToLastPostFrom:t}=this.props;t(ei.RHS_ROOT)})),u(this,"emitTypingEvent",(()=>{const{channelId:e,rootId:t}=this.props;Yc(e,t)})),u(this,"scrollToBottom",(()=>{const e=ZC(".post-right__scroll");e[0]&&e.parent().scrollTop(e[0].scrollHeight)})),u(this,"handleChange",(e=>{const t=e.target.value;let n=this.state.serverError;$o(n)&&(n=null);const{draft:s}=this.state,r=l(a({},s),{message:t});cancelAnimationFrame(this.saveDraftFrame),this.saveDraftFrame=requestAnimationFrame((()=>{this.props.onUpdateCommentDraft(r)})),this.setState({draft:r,serverError:n},(()=>{this.scrollToBottom()})),this.draftsForPost[this.props.rootId]=r})),u(this,"handleMouseUpKeyUp",(e=>{const t=ti(e.target);this.setState({caretPosition:t})})),u(this,"handleSelect",(e=>{ni(this.textboxRef.current.getInputBox(),e)})),u(this,"handleKeyDown",(e=>{const t=(e.ctrlKey||e.metaKey)&&e.shiftKey&&Ns(e,lR.BACK_SLASH);if(si(e))return void this.setState({draft:l(a({},this.state.draft),{message:ri(e)})});if((this.props.ctrlSend||this.props.codeBlockOnCtrlEnter)&&Ns(e,re.KeyCodes.ENTER)&&(e.ctrlKey||e.metaKey))return this.setShowPreview(!1),void this.commentMsgKeyPress(e);const{draft:n}=this.state,{message:s}=n;if(!e.ctrlKey&&!e.metaKey&&!e.altKey&&!e.shiftKey&&Ns(e,re.KeyCodes.UP)&&""===s){e.preventDefault(),this.textboxRef.current&&this.textboxRef.current.blur();const{data:t}=this.props.onEditLatestPost();t||this.focusTextbox(!0)}const r=jo(e)&&!e.altKey&&!e.shiftKey,o=jo(e,!0)&&e.altKey;r&&(Ns(e,re.KeyCodes.UP)?(e.preventDefault(),this.props.onMoveHistoryIndexBack()):Ns(e,re.KeyCodes.DOWN)?(e.preventDefault(),this.props.onMoveHistoryIndexForward()):(Ns(e,re.KeyCodes.B)||Ns(e,re.KeyCodes.I))&&this.applyHotkeyMarkdown(e)),o&&Ns(e,re.KeyCodes.K)&&this.applyHotkeyMarkdown(e),t&&this.reactToLastMessage(e)})),u(this,"applyHotkeyMarkdown",(e=>{const t=oi(e),{draft:n}=this.state,s=l(a({},n),{message:t.message});this.props.onUpdateCommentDraft(s),this.draftsForPost[this.props.rootId]=s,this.setState({draft:s},(()=>{const e=this.textboxRef.current.getInputBox();ii(e,t.selectionStart,t.selectionEnd)}))})),u(this,"handleFileUploadChange",(()=>{this.focusTextbox()})),u(this,"handleUploadStart",(e=>{const{draft:t}=this.state,n=[...t.uploadsInProgress,...e],s=l(a({},t),{uploadsInProgress:n});this.props.onUpdateCommentDraft(s),this.setState({draft:s}),this.draftsForPost[this.props.rootId]=s,this.focusTextbox()})),u(this,"handleUploadProgress",(({clientId:e,name:t,percent:n,type:s})=>{const r=l(a({},this.state.uploadsProgressPercent),{[e]:{percent:n,name:t,type:s}});this.setState({uploadsProgressPercent:r})})),u(this,"handleFileUploadComplete",((e,t,n,s)=>{const r=this.draftsForPost[s],o=[...r.uploadsInProgress],i=SC([...r.fileInfos,...e],this.props.locale);for(let a=0;a<t.length;a++){const e=o.indexOf(t[a]);-1!==e&&o.splice(e,1)}const c=l(a({},r),{fileInfos:i,uploadsInProgress:o});this.props.updateCommentDraftWithRootId(s,c),this.draftsForPost[s]=c,this.props.rootId===s&&this.setState({draft:c})})),u(this,"handleUploadError",((e,t=-1,n,s=-1)=>{if(-1!==t){const e=a({},this.draftsForPost[s]),n=[...e.uploadsInProgress],r=n.indexOf(t);-1!==r&&n.splice(r,1);const o=l(a({},e),{uploadsInProgress:n});this.props.updateCommentDraftWithRootId(s,o),this.draftsForPost[s]=o,this.props.rootId===s&&this.setState({draft:o})}let r=e;e&&"string"==typeof e&&(r=new Error(e)),this.setState({serverError:r},(()=>{r&&this.scrollToBottom()}))})),u(this,"removePreview",(e=>{const{draft:t}=this.state,n=[...t.fileInfos],s=[...t.uploadsInProgress];this.handleUploadError(null);let r=n.findIndex((t=>t.id===e));-1===r?(r=s.indexOf(e),-1!==r&&(s.splice(r,1),this.fileUploadRef.current&&this.fileUploadRef.current.cancelUpload(e))):n.splice(r,1);const o=l(a({},t),{fileInfos:n,uploadsInProgress:s});this.props.onUpdateCommentDraft(o),this.setState({draft:o}),this.draftsForPost[this.props.rootId]=o,this.handleFileUploadChange()})),u(this,"getFileCount",(()=>{const{draft:{fileInfos:e,uploadsInProgress:t}}=this.state;return e.length+t.length})),u(this,"getFileUploadTarget",(()=>this.textboxRef.current)),u(this,"getCreateCommentControls",(()=>this.createCommentControlsRef.current)),u(this,"focusTextbox",((e=!1)=>{!this.textboxRef.current||!e&&Tr()||this.textboxRef.current.focus()})),u(this,"shouldEnableAddButton",(()=>!!this.props.enableAddButton||$o(this.state.serverError))),u(this,"showPostDeletedModal",(()=>{this.setState({showPostDeletedModal:!0})})),u(this,"hidePostDeletedModal",(()=>{this.setState({showPostDeletedModal:!1}),this.props.resetCreatePostRequest()})),u(this,"handleBlur",(()=>{this.lastBlurAt=Date.now()})),u(this,"handleHeightChange",((e,t)=>{this.setState({renderScrollbar:e>t}),window.requestAnimationFrame((()=>{this.textboxRef.current&&this.setState({scrollbarWidth:ai(this.textboxRef.current.getInputBox())})})),this.props.onHeightChange&&this.props.onHeightChange()})),this.state={showPostDeletedModal:!1,showConfirmModal:!1,showEmojiPicker:!1,channelTimezoneCount:0,uploadsProgressPercent:{},renderScrollbar:!1,scrollbarWidth:0,mentions:[],memberNotifyCount:0},this.lastBlurAt=0,this.draftsForPost={},this.doInitialScrollToBottom=!1,this.textboxRef=h.createRef(),this.fileUploadRef=h.createRef(),this.createCommentControlsRef=h.createRef()}static getDerivedStateFromProps(e,t){let n={createPostErrorId:e.createPostErrorId,rootId:e.rootId,messageInHistory:e.messageInHistory,draft:t.draft||l(a({},e.draft),{caretPosition:e.draft.message.length,uploadsInProgress:[]})};const s=e.rootId!==t.rootId,r=e.messageInHistory!==t.messageInHistory;return(s||r)&&(n=l(a({},n),{draft:l(a({},e.draft),{uploadsInProgress:s?[]:e.draft.uploadsInProgress})})),"api.post.create_post.root_id.app_error"===e.createPostErrorId&&e.createPostErrorId!==t.createPostErrorId&&(n=l(a({},n),{showPostDeletedModal:!0})),n}componentDidMount(){const{useGroupMentions:e,getChannelMemberCountsByGroup:t,channelId:n,clearCommentDraftUploads:s,onResetHistoryIndex:r,setShowPreview:o,draft:i}=this.props;s(),r(),o(!1),this.focusTextbox(),document.addEventListener("paste",this.pasteHandler),document.addEventListener("keydown",this.focusTextboxIfNecessary),""!==i.message&&(this.doInitialScrollToBottom=!0)}componentWillUnmount(){this.props.resetCreatePostRequest(),document.removeEventListener("paste",this.pasteHandler),document.removeEventListener("keydown",this.focusTextboxIfNecessary),this.saveDraftFrame&&(cancelAnimationFrame(this.saveDraftFrame),this.props.onUpdateCommentDraft(this.state.draft))}componentDidUpdate(e,t){t.draft.uploadsInProgress.length<this.state.draft.uploadsInProgress.length&&this.scrollToBottom(),t.showEmojiPicker&&!this.state.showEmojiPicker&&this.focusTextbox(),e.shouldShowPreview&&!this.props.shouldShowPreview&&this.focusTextbox(),this.doInitialScrollToBottom&&(this.scrollToBottom(),this.doInitialScrollToBottom=!1)}render(){const{draft:e}=this.state,t=this.props.readOnlyChannel||!this.props.canPost,{formatMessage:n}=this.props.intl,s=this.shouldEnableAddButton(),{renderScrollbar:r,channelTimezoneCount:o,mentions:i,memberNotifyCount:a}=this.state,l=ds("accessibility.sections.rhsFooter","reply input region");let c="",u="";i.includes("@all")||i.includes("@group")?(u=m(D,{id:"notify_all.title.confirm",defaultMessage:"Confirm sending notifications to entire channel"}),c=m(hT,o>0?{id:"notify_all.question_timezone",defaultMessage:"By using **@all** or **@group** you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{totalMembers:a,timezones:o}}:{id:"notify_all.question",defaultMessage:"By using **@all** or **@group** you are about to send notifications to **{totalMembers} people**. Are you sure you want to do this?",values:{totalMembers:a}})):i.length>0&&(u=m(D,{id:"notify_all.title.confirm_groups",defaultMessage:"Confirm sending notifications to groups"}),c=1===i.length?m(hT,o>0?{id:"notify_all.question_timezone_one_group",defaultMessage:"By using **{mention}** you are about to send notifications of up to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{mention:i[0],totalMembers:a,timezones:o}}:{id:"notify_all.question_one_group",defaultMessage:"By using **{mention}** you are about to send notifications of up to **{totalMembers} people**. Are you sure you want to do this?",values:{mention:i[0],totalMembers:a}}):m(hT,o>0?{id:"notify_all.question_timezone_groups",defaultMessage:"By using **{mentions}** and **{finalMention}** you are about to send notifications of up to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{mentions:i.slice(0,-1).join(", "),finalMention:i[i.length-1],totalMembers:a,timezones:o}}:{id:"notify_all.question_groups",defaultMessage:"By using **{mentions}** and **{finalMention}** you are about to send notifications of up to **{totalMembers} people**. Are you sure you want to do this?",values:{mentions:i.slice(0,-1).join(", "),finalMention:i[i.length-1],totalMembers:a}}));const d=m(D,{id:"notify_all.confirm",defaultMessage:"Confirm"});let p=null;this.state.serverError&&(p=m(iR,{id:"postServerError",error:this.state.serverError,submittedMessage:this.state.serverError.submittedMessage,handleSubmit:this.handleSubmit}));let h=null;if(this.state.postError){const e="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");h=m("label",{className:e,children:this.state.postError})}let f=null;!t&&(e.fileInfos.length>0||e.uploadsInProgress.length>0)&&(f=m(BP,{fileInfos:e.fileInfos,onRemove:this.removePreview,uploadsInProgress:e.uploadsInProgress,uploadsProgressPercent:this.state.uploadsProgressPercent}));let g=null;e.uploadsInProgress.length>0&&(g=m("span",{className:"post-right-comments-upload-in-progress",children:1===e.uploadsInProgress.length?m(D,{id:"create_comment.file",defaultMessage:"File uploading"}):m(D,{id:"create_comment.files",defaultMessage:"Files uploading"})}));let v,y="u3-btn u3-btn-primary u3-btn-small";s||(y+=" u3-disabled"),t||this.props.shouldShowPreview||(v=m(Hk,{ref:this.fileUploadRef,fileCount:this.getFileCount(),getTarget:this.getFileUploadTarget,onFileUploadChange:this.handleFileUploadChange,onUploadStart:this.handleUploadStart,onFileUpload:this.handleFileUploadComplete,onUploadError:this.handleUploadError,onUploadProgress:this.handleUploadProgress,rootId:this.props.rootId,channelId:this.props.channelId,postType:"comment"}));let b;n({id:"emoji_picker.emojiPicker",defaultMessage:"Emoji Picker"}).toLowerCase(),b=t?ds("create_post.read_only","This channel is read-only. Only members with permission can post here."):ds("create_comment.addComment","Add a comment...");let w="";r&&(w=" scroll");const x=this.textboxRef.current;let C="top";if(x){x.getInputBox().getBoundingClientRect().top<re.SUGGESTION_LIST_SPACE_RHS&&(C="bottom")}return _("form",{onSubmit:this.handleSubmit,className:aR.createCommentContainer,children:[_("div",{role:"form","aria-label":l,tabIndex:-1,className:E("post-create a11y__region",aR.postCreate,w),style:this.state.renderScrollbar&&this.state.scrollbarWidth?{"--detected-scrollbar-width":`${this.state.scrollbarWidth}px`}:void 0,"data-a11y-sort-order":"4",children:[_("div",{id:this.props.rootId,className:E(aR.postCreateBody,"post-create-body comment-create-body"),children:[m("div",{className:aR.postBodyFileUpload,children:v}),m(oR,{styles:aR,onChange:this.handleChange,onKeyPress:this.commentMsgKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onMouseUp:this.handleMouseUpKeyUp,onKeyUp:this.handleMouseUpKeyUp,onComposition:this.emitTypingEvent,onHeightChange:this.handleHeightChange,handlePostError:this.handlePostError,value:t?"":e.message,onBlur:this.handleBlur,createMessage:b,emojiEnabled:this.props.enableEmojiPicker,channelId:this.props.channelId,rootId:this.props.rootId,isRHS:!0,popoverMentionKeyClick:!0,id:"reply_textbox",ref:this.textboxRef,disabled:t,characterLimit:this.props.maxPostSize,preview:this.props.shouldShowPreview,suggestionListStyle:C,badConnection:this.props.badConnection,listenForMentionKeyClick:!0,useChannelMentions:this.props.useChannelMentions}),m("div",{ref:this.createCommentControlsRef,className:E(aR.postBodyActions,"post-body__actions"),children:null})]}),_("div",{className:E(aR.postCreateFooter,"post-create-footer"),children:[m("div",{className:aR.postCreateFooterError,children:h}),_("div",{className:aR.postCreateFooterActions,children:[g,m("input",{type:"button",disabled:!s,id:"addCommentButton",className:y,value:n({id:"create_comment.comment",defaultMessage:"Add Comment"}),onClick:this.handleSubmit})]})]}),_("div",{className:E(aR.postCreateExtras),children:[f,p]})]}),m(Bk,{show:this.state.showPostDeletedModal,onHide:this.hidePostDeletedModal}),m(EP,{title:u,message:c,confirmButtonText:d,show:this.state.showConfirmModal,onConfirm:this.handleNotifyAllConfirmation,onCancel:this.hideNotifyAllModal})]})}}u(cR,"propTypes",{channelId:M.string.isRequired,channelMembersCount:M.number.isRequired,rootId:M.string.isRequired,rootDeleted:M.bool.isRequired,messageInHistory:M.string,draft:M.shape({message:M.string.isRequired,uploadsInProgress:M.array.isRequired,fileInfos:M.array.isRequired}).isRequired,enableAddButton:M.bool.isRequired,codeBlockOnCtrlEnter:M.bool,ctrlSend:M.bool,latestPostId:M.string,locale:M.string.isRequired,createPostErrorId:M.string,clearCommentDraftUploads:M.func.isRequired,intl:uT.isRequired,onUpdateCommentDraft:M.func.isRequired,updateCommentDraftWithRootId:M.func.isRequired,onSubmit:M.func.isRequired,onResetHistoryIndex:M.func.isRequired,onMoveHistoryIndexBack:M.func.isRequired,onMoveHistoryIndexForward:M.func.isRequired,onEditLatestPost:M.func.isRequired,getChannelTimezones:M.func.isRequired,resetCreatePostRequest:M.func.isRequired,readOnlyChannel:M.bool,enableConfirmNotificationsToChannel:M.bool.isRequired,enableEmojiPicker:M.bool.isRequired,enableGifPicker:M.bool.isRequired,badConnection:M.bool.isRequired,maxPostSize:M.number.isRequired,rhsExpanded:M.bool.isRequired,isTimezoneEnabled:M.bool.isRequired,selectedPostFocussedAt:M.number.isRequired,emitShortcutReactToLastPostFrom:M.func,canPost:M.bool.isRequired,useChannelMentions:M.bool.isRequired,useGroupMentions:M.bool.isRequired,setShowPreview:M.func.isRequired,shouldShowPreview:M.bool.isRequired,getChannelMemberCountsByGroup:M.func.isRequired,groupsWithAllowReference:M.object,channelMemberCountsByGroup:M.object,onHeightChange:M.func});var uR=S(cR);var dR=v((function(){const e=So(ft.MESSAGE_TYPES.COMMENT);return(t,n)=>{const s=t.requests.posts.createPost.error||{},r=qr(t,zn.COMMENT_DRAFT,n.rootId),o=0!==r.message.trim().length||0!==r.fileInfos.length,i=Gr(t)[n.channelId]?Gr(t)[n.channelId].member_count:1,a=e(t),l=t.entities.channels.channels[n.channelId]||{},c=Ie(t),u=Dt(t),d="true"===c.EnableConfirmNotificationsToChannel,p="true"===c.EnableEmojiPicker,h="true"===c.EnableGifPicker,f=XA(t)>1,m="true"===c.ExperimentalTimezone,g=Ws(t,{channel:l.id,team:l.team_id,permission:vn.CREATE_POST}),v=Ws(t,{channel:l.id,team:l.team_id,permission:vn.USE_CHANNEL_MENTIONS}),y="true"===(null==u?void 0:u.IsLicensed)&&"true"===(null==u?void 0:u.LDAPGroups)&&Ws(t,{channel:l.id,team:l.team_id,permission:vn.USE_GROUP_MENTIONS}),b=li(t,n.channelId),_=y?ig(t,l.team_id,l.id):null;return{draft:r,messageInHistory:a,enableAddButton:o,channelMembersCount:i,codeBlockOnCtrlEnter:js(t,Pe.CATEGORY_ADVANCED_SETTINGS,"code_block_ctrl_enter",!0),ctrlSend:js(t,Pe.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),createPostErrorId:s.server_error_id,readOnlyChannel:!jt(t)&&"true"===c.ExperimentalTownSquareIsReadOnly&&l.name===re.DEFAULT_CHANNEL,enableConfirmNotificationsToChannel:d,enableEmojiPicker:p,enableGifPicker:h,locale:ts(t),maxPostSize:parseInt(c.MaxPostSize||"",10)||re.DEFAULT_CHARACTER_LIMIT,rhsExpanded:oo(t),badConnection:f,isTimezoneEnabled:m,selectedPostFocussedAt:ci(t),canPost:g,useChannelMentions:v,shouldShowPreview:oP(t),groupsWithAllowReference:_,useGroupMentions:y,channelMemberCountsByGroup:b}}}),(function(){let e,t,n,s,r,o,i,a;function l(){return fi(ft.MESSAGE_TYPES.COMMENT)}return(c,u)=>(o!==u.rootId&&(e=function(e){return t=>tP(e,t)}(u.rootId),n=nP(u.rootId,-1),s=nP(u.rootId,1)),o===u.rootId&&i===u.channelId||(r=rP(u.channelId,u.rootId)),o===u.rootId&&i===u.channelId&&a===u.latestPostId||(t=sP(u.channelId,u.rootId,u.latestPostId)),o=u.rootId,i=u.channelId,a=u.latestPostId,y({clearCommentDraftUploads:eP,onUpdateCommentDraft:e,updateCommentDraftWithRootId:tP,onSubmit:t,onResetHistoryIndex:l,onMoveHistoryIndexBack:n,onMoveHistoryIndexForward:s,onEditLatestPost:r,resetCreatePostRequest:ui,getChannelTimezones:di,emitShortcutReactToLastPostFrom:pi,setShowPreview:lP,getChannelMemberCountsByGroup:hi},c))}),null,{forwardRef:!0})(uR);class pR extends h.PureComponent{constructor(e){super(e),u(this,"deletePostBtn"),u(this,"handleDelete",(async()=>{const{actions:e,post:t}=this.props;let n="";const s=await e.deleteAndRemovePost(t),r=A(this.props.location.pathname,{path:"/:teamName/messages/:username/:postid"}),o=A(this.props.location.pathname,{path:"/:teamName/group/:channelname/:postid"});if(r?n=r.params.postid:o&&(n=o.params.postid),n===t.id){const e=this.props.location.pathname.split("/").slice(0,-1).join("/");et.replace(e)}s.data&&this.onHide()})),u(this,"handleEntered",(()=>{var e,t;null==(t=null==(e=this.deletePostBtn)?void 0:e.current)||t.focus()})),u(this,"onHide",(()=>{if(this.setState({show:!1}),!Tr()){let e;e=this.props.isRHS?document.getElementById("reply_textbox"):document.getElementById("post_textbox"),e&&e.focus()}})),this.deletePostBtn=h.createRef(),this.state={show:!0}}render(){let e="";this.props.commentCount>0&&""===this.props.post.root_id&&(e=m(D,{id:"delete_post.warning",defaultMessage:"This post has {count, number} {count, plural, one {comment} other {comments}} on it.",values:{count:this.props.commentCount}}));const t=this.props.post.root_id?m(D,{id:"delete_post.comment",defaultMessage:"Comment"}):m(D,{id:"delete_post.post",defaultMessage:"Post"});return _(GC,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,children:[m(zC,{closeButton:!0,onClose:this.onHide,children:m(D,{id:"delete_post.confirm",defaultMessage:"Confirm {term} Delete",values:{term:t}})}),_(VC,{children:[m(D,{id:"delete_post.question",defaultMessage:"Are you sure you want to delete this {term}?",values:{term:t}}),m("br",{}),e]}),_(WC,{children:[m("button",{ref:this.deletePostBtn,type:"button",autoFocus:!0,className:"u3-btn u3-btn-danger",onClick:this.handleDelete,id:"deletePostModalButton",children:m(D,{id:"delete_post.del",defaultMessage:"Delete"})}),m("button",{type:"button",className:"u3-btn u3-btn-link",onClick:this.onHide,children:m(D,{id:"delete_post.cancel",defaultMessage:"Cancel"})})]})]})}}var hR=T(v(null,(function(e){return{actions:y({deleteAndRemovePost:mi},e)}}))(pR));var fR="u3-cxx-688a4184",mR="u3-cxx-5ca66aec";const gR=BT((({onClick:e,ariaLabel:t,text:n,extraText:s,id:r,buttonClass:o,isDangerous:i,activeClass:a})=>m(Bd.Item,{children:({active:l})=>_("button",{"data-testid":r,id:r,"aria-label":t,className:E("style--none",l&&a?a:"",o,{"MenuItem__with-help":s,[fR]:i,[mR]:l}),onClick:e,children:[n&&m("span",{className:"MenuItem__primary-text",children:n}),s&&m("span",{className:"MenuItem__help-text",children:s})]})})));gR.displayName="MenuItemAction";var vR="u3-cxx-627e573c",yR="u3-cxx-1c1b4082",bR="u3-cxx-b1ca37c4",_R="u3-cxx-bca7efbf",wR="u3-cxx-1dfaa759",xR="u3-cxx-7f443949",CR="u3-cxx-ee2ca339";class ER extends h.PureComponent{constructor(e){super(e),u(this,"editDisableAction"),u(this,"buttonRef"),u(this,"handleEditDisable",(()=>{this.setState({canEdit:!1})})),u(this,"handleFlagMenuItemActivated",(()=>{this.props.isFlagged?this.props.actions.unflagPost(this.props.post.id):this.props.actions.flagPost(this.props.post.id)})),u(this,"handleAddReactionMenuItemActivated",(e=>{e.preventDefault(),this.props.handleAddReactionClick&&this.props.handleAddReactionClick()})),u(this,"copyLink",(()=>{gi(`${this.props.currentTeamUrl}/pl/${this.props.post.id}`)})),u(this,"handlePinMenuItemActivated",(()=>{this.props.post.is_pinned?this.props.actions.unpinPost(this.props.post.id):this.props.actions.pinPost(this.props.post.id)})),u(this,"handleUnreadMenuItemActivated",(e=>{e.preventDefault(),this.props.actions.markPostAsUnread(this.props.post,this.props.location)})),u(this,"handleDeleteMenuItemActivated",(e=>{e.preventDefault();const t={ModalId:Ur.DELETE_POST,dialogType:hR,dialogProps:{post:this.props.post,commentCount:this.props.commentCount,isRHS:this.props.location===ei.RHS_ROOT||this.props.location===ei.RHS_COMMENT}};this.props.actions.openModal(t)})),u(this,"handleEditMenuItemActivated",(()=>{this.props.actions.setEditingPost(this.props.post.id,this.props.commentCount,this.props.location===ei.CENTER?"post_textbox":"reply_textbox",this.props.post.root_id?ds("rhs_comment.comment","Comment"):ds("create_post.post","Post"),this.props.location===ei.RHS_ROOT||this.props.location===ei.RHS_COMMENT)})),u(this,"refCallback",(e=>{var t;if(e){const e=null==(t=this.buttonRef.current)?void 0:t.getBoundingClientRect();let n;n=void 0===(null==e?void 0:e.y)?void 0===(null==e?void 0:e.top)?0:null==e?void 0:e.top:null==e?void 0:e.y;const s=window.innerHeight-80,r=n-re.CHANNEL_HEADER_HEIGHT,o=s-(r+re.POST_AREA_HEIGHT);this.setState({openUp:r>o})}})),u(this,"renderDivider",(e=>m("div",{id:`divider_post_${this.props.post.id}_${e}`,className:xR,role:"menuitem"}))),u(this,"handleDropdownOpened",(e=>{this.props.handleDropdownOpened&&this.props.handleDropdownOpened(e)})),u(this,"handleCopyMenuItem",(()=>{gi(this.props.post.message)})),this.editDisableAction=new JA(this.handleEditDisable),this.state={openUp:!1,canEdit:e.canEdit&&!e.isReadOnly,canDelete:e.canDelete&&!e.isReadOnly},this.buttonRef=h.createRef()}disableCanEditPostByTime(){const{post:e,isLicensed:t}=this.props,{canEdit:n}=this.state,s=this.props.postEditTimeLimit||re.UNSET_POST_EDIT_TIME_LIMIT;if(n&&t&&s!==String(re.UNSET_POST_EDIT_TIME_LIMIT)){const t=1e3,n=e.create_at+Number(s)*t-To();n>0&&this.editDisableAction.fireAfter(n+t)}}componentDidMount(){this.disableCanEditPostByTime()}static getDerivedStateFromProps(e){return{canEdit:e.canEdit&&!e.isReadOnly,canDelete:e.canDelete&&!e.isReadOnly}}componentWillUnmount(){this.editDisableAction.cancel()}render(){const e=vi(this.props.post);return this.state.canDelete||this.state.canEdit||!e?this.props.isReadOnly?null:m(Bd,{as:"div",className:vR,children:({open:t})=>_(O,{children:[m(Bd.Button,{ref:this.buttonRef,id:`${this.props.location}_button_${this.props.post.id}`,"aria-label":ds("post_info.dot_menu.tooltip.more_actions","More actions").toLowerCase(),className:E(yR,"post-menu__item",{[bR]:t}),type:"button","aria-expanded":"false",children:m(KT,{className:_R})}),m(yp,{as:f.exports.Fragment,show:t,enter:"u3-transition u3-ease-out u3-duration-100",enterFrom:"u3-transform u3-opacity-0 u3-scale-95",enterTo:"u3-transform u3-opacity-100 u3-scale-100",leave:"u3-transition u3-ease-in u3-duration-75",leaveFrom:"u3-transform u3-opacity-100 u3-scale-100",leaveTo:"u3-transform u3-opacity-0 u3-scale-95",beforeEnter:()=>this.handleDropdownOpened(!0),afterLeave:()=>this.handleDropdownOpened(!1),children:m(Bd.Items,{id:`${this.props.location}_dropdown_${this.props.post.id}`,static:!0,className:wR,children:_("div",{className:"u3-px-1 u3-py-1",children:[m(gR,{show:!e&&this.props.location===ei.CENTER,text:ds("post_info.reply","Reply"),onClick:this.props.handleCommentClick,buttonClass:CR}),m(gR,{id:`unread_post_${this.props.post.id}`,show:!e&&!this.props.channelIsArchived&&this.props.location!==ei.SEARCH,text:ds("post_info.unread","Mark as Unread"),onClick:this.handleUnreadMenuItemActivated,buttonClass:CR}),_(zT,{channelId:this.props.post.channel_id,teamId:this.props.teamId,permissions:[vn.USE_CHANNEL_PINPOST],children:[m(gR,{id:`unpin_post_${this.props.post.id}`,show:!e&&!this.props.isReadOnly&&this.props.post.is_pinned,text:ds("post_info.unpin","Unpin"),onClick:this.handlePinMenuItemActivated,buttonClass:CR}),m(gR,{id:`pin_post_${this.props.post.id}`,show:!e&&!this.props.isReadOnly&&!this.props.post.is_pinned,text:ds("post_info.pin","Pin"),onClick:this.handlePinMenuItemActivated,buttonClass:CR})]}),!e&&(this.state.canEdit||this.state.canDelete)&&this.renderDivider("edit"),m(gR,{id:`edit_post_${this.props.post.id}`,show:!0,text:ds("post_info.copy","Sao chép"),onClick:this.handleCopyMenuItem,buttonClass:CR}),m(gR,{id:`edit_post_${this.props.post.id}`,show:this.state.canEdit,text:ds("post_info.edit","Edit"),onClick:this.handleEditMenuItemActivated,buttonClass:CR}),m(gR,{id:`delete_post_${this.props.post.id}`,show:this.state.canDelete,text:ds("post_info.del","Delete"),onClick:this.handleDeleteMenuItemActivated,buttonClass:CR,isDangerous:!0})]})})})]})}):null}}u(ER,"defaultProps",{commentCount:0,isFlagged:!1,isReadOnly:!1,location:ei.CENTER});var SR=S(ER);var TR=v((function(e,t){const{post:n}=t,s=Dt(e),r=Ie(e),o=ce(e),i=ee(e,n.channel_id),l=tt(e)||{},c=`${Us()}/${l.name}`;return a({channelIsArchived:rt(i),components:e.plugins.components,postEditTimeLimit:r.PostEditTimeLimit,isLicensed:"true"===s.IsLicensed,teamId:ne(e),pluginMenuItems:e.plugins.components.PostDropdownMenu,canEdit:yi(e,n,s,r,i,o),canDelete:bi(e,n,i),currentTeamUrl:c},t)}),(function(e){return{actions:y({flagPost:_i,unflagPost:wi,setEditingPost:go,pinPost:xi,unpinPost:Ci,openModal:mr,markPostAsUnread:Ei,setThreadFollow:Si},e)}}))(SR);function AR(e){return e.entities.files.files}function PR(e,t){return t&&e.entities.files.fileIdsByPostId[t]||[]}function IR(){return p(AR,PR,Ti,((e,t,n)=>SC(t.map((t=>e[t])).filter((e=>Boolean(e))),n)))}p((function(e){return e.entities.files.filesFromSearch}),(e=>e.entities.search.fileResults),((e,t)=>t?t.map((t=>e[t])):[]));var NR=bp.jsx;var kR=function(e){return NR("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:NR("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}))};class RR extends h.PureComponent{render(){var e;const{fileInfo:t}=this.props,n=Rs(t.extension);let s;if(n===ks.IMAGE){let n="post-image";t.width<re.THUMBNAIL_WIDTH&&t.height<re.THUMBNAIL_HEIGHT?n+=" small":n+=" normal";let s=CC(t.id,null==(e=t.preview_path)?void 0:e.replace("_preview.jpg","_thumb.jpg"));return Ro(t.extension)&&!t.has_preview_image&&(s=wC(t.id)),m("div",{className:n,style:{backgroundImage:`url(${s})`,backgroundSize:"cover"}})}return s=t.extension===ks.SVG&&this.props.enableSVGs?m("img",{alt:"file thumbnail image",className:"post-image normal",src:wC(t.id),loading:"lazy"}):m("div",{className:"file-icon "+ko(n)}),s}}var MR=v((function(e){return{enableSVGs:"true"===Ie(e).EnableSVGs}}))(RR);class OR extends h.PureComponent{constructor(e){super(e),u(this,"mounted",!1),u(this,"loadFiles",(()=>{const e=this.props.fileInfo;Rs(e.extension)===ks.IMAGE?this.setState({loaded:!0}):e.extension===ks.SVG&&this.props.enableSVGs&&Ai(wC(e.id),this.handleImageLoaded)})),u(this,"handleImageLoaded",(()=>{this.mounted&&this.setState({loaded:!0})})),u(this,"onAttachmentClick",(e=>{e.preventDefault(),"blur"in e.target&&e.target.blur(),this.props.handleImageClick&&this.props.handleImageClick(this.props.index)})),this.state={loaded:Rs(e.fileInfo.extension)!==ks.IMAGE,fileInfo:e.fileInfo}}componentDidMount(){this.mounted=!0,this.loadFiles()}static getDerivedStateFromProps(e,t){if(e.fileInfo.id!==t.fileInfo.id){const t=e.fileInfo.extension;return{loaded:Rs(t)!==ks.IMAGE&&!(e.enableSVGs&&t===ks.SVG),fileInfo:e.fileInfo}}return null}componentDidUpdate(e){this.state.loaded||this.props.fileInfo.id===e.fileInfo.id||this.loadFiles()}componentWillUnmount(){this.mounted=!1}render(){const{compactDisplay:e,fileInfo:t}=this.props,n=NC(t.name);let s,r;const o=`${ds("file_attachment.thumbnail","file thumbnail")} ${t.name}`.toLowerCase();let i;return e||(s=m("a",{"aria-label":o,className:"post-image__thumbnail",href:"#",onClick:this.onAttachmentClick,children:this.state.loaded?m(MR,{fileInfo:t}):m("div",{className:"post-image__load"})}),r=m("div",{className:"post-image__detail_wrapper",onClick:this.onAttachmentClick,children:_("div",{className:"post-image__detail",children:[m("span",{className:"post-image__name",children:n}),m("span",{className:"post-image__type",children:t.extension.toUpperCase()}),m("span",{className:"post-image__size",children:Ts(t.size)})]})})),this.props.canDownloadFiles&&(i=m(IP,{fileInfo:t,compactDisplay:e,canDownload:this.props.canDownloadFiles,handleImageClick:this.onAttachmentClick,iconClass:"post-image__download",children:m(kR,{className:"u3-w-5 u3-h-5"})})),_("div",{className:"post-image__column",children:[s,m("div",{className:"post-image__details",children:r}),i]})}}var LR=v((function(e){const t=Ie(e);return{canDownloadFiles:IC(t),enableSVGs:"true"===t.EnableSVGs}}))(OR);var DR={fileViewSingle:"u3-cxx-9a6060b9"};class jR extends h.PureComponent{constructor(e){var t,n;super(e),u(this,"mounted"),u(this,"imageLoaded",(()=>{this.mounted&&this.setState({loaded:!0})})),u(this,"handleImageClick",(e=>{e.preventDefault(),this.setState({showPreviewModal:!0})})),u(this,"showPreviewModal",(()=>{this.setState({showPreviewModal:!1})})),u(this,"toggleEmbedVisibility",(()=>{this.props.actions.toggleEmbedVisibility(this.props.postId)})),this.mounted=!0,this.state={loaded:!1,showPreviewModal:!1,dimensions:{width:(null==(t=e.fileInfo)?void 0:t.width)||0,height:(null==(n=e.fileInfo)?void 0:n.height)||0}}}componentDidMount(){this.mounted=!0}static getDerivedStateFromProps(e,t){var n,s,r;return(null==(n=e.fileInfo)?void 0:n.width)!==t.dimensions.width||e.fileInfo.height!==t.dimensions.height?{dimensions:{width:null==(s=e.fileInfo)?void 0:s.width,height:null==(r=e.fileInfo)?void 0:r.height}}:null}componentWillUnmount(){this.mounted=!1}render(){const{fileInfo:e,compactDisplay:t}=this.props,{loaded:n}=this.state;if(void 0===e)return m(f.exports.Fragment,{});const{has_preview_image:s,id:r}=e,o=wC(r),i=s?EC(r):o,a=e.height,l=e.width,c={};let u;(l<50||a<50)&&(c[DR.minPreview]=!0,a>l&&(c[DR.minPreviewPortrait]=!0)),t&&(c[DR.minPreviewCompact]=!0);let d="";let p={},h={},g="";return Rs(e.extension)===ks.SVG&&(g="svg",this.state.dimensions.height?p={width:"100%"}:h={height:350,maxWidth:"100%"}),n&&(u=m(rE,{show:this.state.showPreviewModal,onModalDismissed:this.showPreviewModal,fileInfos:[e],postId:this.props.postId}),d="image-fade-in"),m("div",{className:E(DR.fileViewSingle),children:_("div",{className:"file__image",children:[this.props.isEmbedVisible&&m("div",{className:"image-container",style:h,children:m("div",{className:`image-loaded ${d} ${g}`,style:p,children:m(AC,{onClick:this.handleImageClick,className:E(c),src:i,dimensions:this.state.dimensions,fileInfo:this.props.fileInfo,onImageLoaded:this.imageLoaded,showLoader:this.props.isEmbedVisible,handleSmallImageContainer:!0})})}),u]})})}}u(jR,"defaultProps",{compactDisplay:!1});var FR=v((function(e){return{isRhsOpen:ss(e)}}),(function(e){return{actions:y({toggleEmbedVisibility:Pi},e)}}))(jR);class UR extends h.PureComponent{constructor(e){super(e),u(this,"handleImageClick",(e=>{this.setState({showPreviewModal:!0,startImgIndex:e})})),u(this,"hidePreviewModal",(()=>{this.setState({showPreviewModal:!1})})),this.state={showPreviewModal:!1,startImgIndex:0}}render(){const{compactDisplay:e,enableSVGs:t,fileInfos:n,fileCount:s,locale:r}=this.props;if(n&&1===n.length){const s=Rs(n[0].extension);if(s===ks.IMAGE||s===ks.SVG&&t)return m(FR,{fileInfo:n[0],isEmbedVisible:this.props.isEmbedVisible,postId:this.props.post.id,compactDisplay:e})}else if(1===s&&this.props.isEmbedVisible)return m("div",{style:HR.minHeightPlaceholder});const o=SC(n,r),i=[];if(o&&o.length>0)for(let a=0;a<o.length;a++){const t=o[a];i.push(m(LR,{fileInfo:o[a],index:a,handleImageClick:this.handleImageClick,compactDisplay:e},t.id))}else if(s>0)for(let a=0;a<s;a++)i.push(m("div",{className:"post-image__column post-image__column--placeholder"},`fileCount-${a}`));return _(O,{children:[m("div",{"data-testid":"fileAttachmentList",className:E("post-image__columns clearfix",{"u3-grid-cols-2":s>1,"u3-grid-cols-1":s<2}),children:i}),m(rE,{show:this.state.showPreviewModal,onModalDismissed:this.hidePreviewModal,startIndex:this.state.startImgIndex,fileInfos:o,postId:this.props.post.id})]})}}const HR={minHeightPlaceholder:{minHeight:"385px"}};var BR=v((function(){const e=IR();return function(t,n){const s=n.post?n.post.id:"",r=e(t,s);let o=0;return n.post.metadata&&n.post.metadata.files?o=(n.post.metadata.files||[]).length:n.post.file_ids?o=n.post.file_ids.length:n.post.filenames&&(o=n.post.filenames.length),{enableSVGs:"true"===Ie(t).EnableSVGs,fileInfos:r,fileCount:o,isEmbedVisible:Ii(t,n.post.id),locale:ts(t)}}}))(UR);class qR extends h.PureComponent{constructor(){super(...arguments),u(this,"getProfilePictureURL",(()=>{const{post:e,user:t}=this.props;return t&&t.id===e.user_id?yr(t.id,t.last_picture_update):e.user_id?yr(e.user_id):""})),u(this,"getStatus",((e,t,n)=>e||t||n&&n.is_bot?"":this.props.status)),u(this,"getPostIconURL",((e,t,n)=>{const{enablePostIconOverride:s,hasImageProxy:r,post:o}=this.props,i=o.props;let a="",l="";return i&&(a=i.override_icon_url,l=i.use_user_icon),this.props.compactDisplay?"":!t&&n&&!l&&s?a&&""!==a?Es(a,r):re.DEFAULT_WEBHOOK_LOGO:e}))}render(){const{compactDisplay:e,isBusy:t,isRHS:n,post:s,user:r,isBot:o}=this.props,i=vi(s),a=Ni(s);if(i&&!e&&!a&&!o)return m(su,{className:"u3-w-6 u3-h-6"});const l=ki(s),c=!l&&!a,u=this.getProfilePictureURL(),d=this.getPostIconURL(u,l,a),p=s.props?s.props.override_icon_emoji:"",h=s.props?s.props.override_username:"",f="string"==typeof p&&""!==p,g=this.getStatus(l,a,r);return m(Wf,{hasMention:c,isBusy:t,isRHS:n,size:"md",src:d,profileSrc:u,isEmoji:f,status:g,userId:null==r?void 0:r.id,channelId:s.channel_id,username:null==r?void 0:r.username,overwriteIcon:this.props.overwriteIcon,overwriteName:h})}}u(qR,"defaultProps",{status:Qt.OFFLINE});var GR=v((function(e,t){const n=Ie(e),s=fn(e,t.userId),r="true"===n.EnablePostIconOverride&&t.post&&t.post.props&&t.post.props.override_icon_url;let o;return r&&(o=Ce.getAbsoluteUrl(r)),{enablePostIconOverride:"true"===n.EnablePostIconOverride,overwriteIcon:o,hasImageProxy:"true"===n.HasImageProxy,status:qt(e,t.userId),isBot:Boolean(s&&s.is_bot),user:s}}))(qR);class zR extends h.PureComponent{constructor(){super(...arguments),u(this,"retryPost",(e=>{e.preventDefault();const t=a({},this.props.post);Reflect.deleteProperty(t,"id"),this.props.actions.createPost(t)})),u(this,"cancelPost",(e=>{e.preventDefault(),this.props.actions.removePost(this.props.post)}))}render(){return _("span",{className:"pending-post-actions",children:[m("a",{className:"post-retry",href:"#",onClick:this.retryPost,children:m(D,{id:"pending_post_actions.retry",defaultMessage:"Retry"})})," - ",m("a",{className:"post-cancel",href:"#",onClick:this.cancelPost,children:m(D,{id:"pending_post_actions.cancel",defaultMessage:"Cancel"})})]})}}var VR=v(null,(function(e){return{actions:y({createPost:Co,removePost:Ri},e)}}))(zR),WR=bp.jsx;var YR=function(e){return WR("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e)),{children:WR("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}))};const KR=[kS,RS];class $R extends h.PureComponent{constructor(){super(...arguments),u(this,"handleClick",(()=>{We()&&Gc(hn())}))}render(){const{eventTime:e,isPermalink:t,location:n,postId:s,teamUrl:r,styles:o,timestampProps:i={}}=this.props,l=m(BS,a({value:e,className:"post__time",useDate:!1},i)),c=Tr()||!t?_("div",{role:"presentation",className:E("post_permalink_mobile_view",o.permarlink),children:[m(YR,{className:o.timeIcon}),l]}):_(q,{id:`${n}_time_${s}`,to:`${r}/pl/${s}`,className:E("post__permalink",o.permarlink),onClick:this.handleClick,children:[m(YR,{className:o.timeIcon}),l]});return m(zA,{placement:"top",content:m(BS,{value:e,ranges:KR}),children:c})}}u($R,"defaultProps",{eventTime:0,location:ei.CENTER});var JR=v((function(e){return{teamUrl:Qe(e)}}))($R),XR=bp.jsx;var QR=function(e){return XR("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:XR("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})}))};var ZR="u3-cxx-0847cc0c",eM="u3-cxx-1be885ed",tM="u3-cxx-978f637e",nM="u3-cxx-7f8d215d",sM="u3-cxx-a9e07508",rM="u3-cxx-cd7e0b05",oM="u3-cxx-6979e93a";class iM extends h.PureComponent{constructor(e){super(e),u(this,"reactionButtonRef",h.createRef()),u(this,"reactionCountRef",h.createRef()),u(this,"animating",!1),u(this,"handleClick",(()=>{if(!this.props.canAddReaction||!this.props.canRemoveReaction||this.animating)return;const{currentUserReacted:e}=this.props.sortedUsers;this.animating=!0,this.setState((t=>e?{displayNumber:t.displayNumber-1,reactedClass:"Reaction--unreacting"}:{displayNumber:t.displayNumber+1,reactedClass:"Reaction--reacting"})),this.handleAnimationEnded()})),u(this,"handleAnimationEnded",(()=>{const{actions:e,post:t,emojiName:n}=this.props,{currentUserReacted:s}=this.props.sortedUsers;this.animating=!1,this.setState((e=>"Reaction--reacting"===e.reactedClass?{reactedClass:"Reaction--reacted"}:"Reaction--unreacting"===e.reactedClass?{reactedClass:"Reaction--unreacted"}:e)),s?e.removeReaction(t.id,n):e.addReaction(t.id,n)})),u(this,"loadMissingProfiles",(async()=>{const e=this.props.reactions.map((e=>e.user_id));this.props.actions.getMissingProfilesByIds(e)}));const{reactionCount:t}=this.props,{currentUserReacted:n}=this.props.sortedUsers;this.state=n?{reactedClass:"Reaction--reacted",displayNumber:t}:{reactedClass:"Reaction--unreacted",displayNumber:t}}componentDidUpdate(e){if(e.reactionCount!==this.props.reactionCount){const{currentUserReacted:e}=this.props.sortedUsers,t=e?"Reaction--reacted":"Reaction--unreacted";this.animating=!1,this.setState({displayNumber:this.props.reactionCount,reactedClass:t})}}render(){if(!this.props.emojiImageUrl)return null;const{currentUserReacted:e,users:t}=this.props.sortedUsers,{reactionCount:n,otherUsersCount:s,canAddReaction:r,canRemoveReaction:o}=this.props,{displayNumber:i}=this.state,a=e?n:n+1,l=e?n-1:n,c=l>0?l:"",u=a>0?a:"",d=i>0?i:"",p=r&&o?"":"Reaction--read-only";if(!i)return null;let h,f;h=s>0?t.length>0?m(D,{id:"reaction.usersAndOthersReacted",defaultMessage:"{users} and {otherUsers, number} other {otherUsers, plural, one {user} other {users}}",values:{users:t.join(", "),otherUsers:s}}):m(D,{id:"reaction.othersReacted",defaultMessage:"{otherUsers, number} {otherUsers, plural, one {user} other {users}}",values:{otherUsers:s}}):t.length>1?m(D,{id:"reaction.usersReacted",defaultMessage:"{users} and {lastUser}",values:{users:t.slice(0,-1).join(", "),lastUser:t[t.length-1]}}):t[0],f=t.length+s>1?m(D,e?{id:"reaction.reactionVerb.youAndUsers",defaultMessage:"reacted"}:{id:"reaction.reactionVerb.users",defaultMessage:"reacted"}):m(D,e?{id:"reaction.reactionVerb.you",defaultMessage:"reacted"}:{id:"reaction.reactionVerb.user",defaultMessage:"reacted"});const g=m(D,{id:"reaction.reacted",defaultMessage:"{users} {reactionVerb} with {emoji}",values:{users:m("b",{children:h}),reactionVerb:f,emoji:m("b",{children:":"+this.props.emojiName+":"})}}),v=this.props.emojiName.replace(/_/g," ");let y=`${ds("reaction.reactWidth.ariaLabel","react with")} ${v}`;return e&&o&&(y=`${ds("reaction.removeReact.ariaLabel","remove reaction")} ${v}`),m(zA,{placement:"top",content:g,children:_("button",{id:`postReaction-${this.props.post.id}-${this.props.emojiName}`,"aria-label":y,className:E(ZR,"Reaction",this.state.reactedClass,p),onClick:this.handleClick,ref:this.reactionButtonRef,children:[m("span",{className:E(oM,"Reaction__emoji emoticon"),style:{backgroundImage:"url("+this.props.emojiImageUrl+")"}}),m("span",{ref:this.reactionCountRef,className:eM,children:_("span",{className:tM,children:[m("span",{className:E(nM,"zzz-display"),children:d}),m("span",{className:E(rM,"zzz-unreacted"),children:c}),m("span",{className:E(sM,"zzz-reacted"),children:u})]})})]})})}}function aM(e,t,n,s,r,o,i,a){return!!Ws(e,{team:t,channel:n,permission:a})&&!(s===qe.DEFAULT_CHANNEL&&"true"===r.ExperimentalTownSquareIsReadOnly&&"true"===o.IsLicensed&&!i.roles.includes("system_admin"))}var lM=v((function(){const e=Mi();return function(t,n){const s=Ie(t),r=Dt(t),o=on(t),i=e(t,n.reactions);let a;if(Oi.has(n.emojiName))a=Li[Oi.get(n.emojiName)];else{a=bo(t).get(n.emojiName)}let l="";a&&(l=Os(a));const c=ee(t,n.post.channel_id)||{},u=0!==c.delete_at,d=c.team_id,p=ce(t),h=_s(t);let f=!1,m=!1;return u||(f=aM(t,d,n.post.channel_id,c.name,s,r,o,vn.REMOVE_REACTION),m=aM(t,d,n.post.channel_id,c.name,s,r,o,vn.ADD_REACTION)),{profiles:i,otherUsersCount:n.reactions.length-i.length,currentUserId:p,reactionCount:n.reactions.length,canAddReaction:f,canRemoveReaction:m,emojiImageUrl:l,sortedUsers:Di(n.reactions,p,i,h)}}}),(function(e){return{actions:y({addReaction:wo,removeReaction:xo,getMissingProfilesByIds:Bt},e)}}))(iM);var cM="u3-cxx-dd039420",uM="u3-cxx-14de953b",dM="u3-cxx-2e7f7fb5",pM="u3-cxx-3981677c",hM="u3-cxx-9619b267",fM=e=>{const{emoji:t,spriteClassName:n}=e;return m("div",{className:E(pM),children:m("div",{className:E(hM),children:m("img",{alt:t.aliases.join(" - "),src:Os(t),className:n,onClick:t=>{t.preventDefault(),e.onItemClick(e.emoji)},role:"button"})})})};function mM(e,t){return t.findIndex((t=>e.includes(t)))}function gM(e,t,n=0){return!(n>10)&&(!!e.isEqualNode(t)||gM(e,t.parentNode,n+1))}const vM=["thumbsup","heart","laughing","astonished","cry","rage"];var yM=v((function(e){return{customEmojisEnabled:"true"===e.entities.general.config.EnableCustomEmoji,customEmojiPage:e.views.emoji.emojiPickerCustomPage,emojiMap:Ms(e),recentEmojis:Fi(e),activeEmojis:vM}}))((e=>{const[t,n]=f.exports.useState(e.show),[s,r]=f.exports.useState(!1),[o,i]=f.exports.useState([]),l=f.exports.useRef(null);let c;function u(){e.target()&&l.current&&(c=Xm(e.target(),l.current,{placement:"top",strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,6]}}],onFirstUpdate:t=>{r(!0),e.toggleFocus&&e.toggleFocus(!0)}}))}function d(t){if(l.current){gM(l.current.parentNode,t.target)||(e.onHide(),e.toggleFocus&&e.toggleFocus(!1))}}return f.exports.useEffect((()=>{var t;return u(),null==(t=nr())||t.addEventListener("mouseup",d,!1),()=>{var t;null==(t=nr())||t.removeEventListener("mouseup",d,!1),c&&(c.destroy(),e.toggleFocus&&e.toggleFocus(!1))}}),[]),f.exports.useEffect((()=>{t||r(!1),c?c.update():u()}),[t]),f.exports.useEffect((()=>{n(e.show)}),[e.show]),f.exports.useEffect((()=>{const{activeEmojis:t}=e;let n=[];ji.forEach((e=>{const s=e.map((e=>Li[e])).filter((e=>mM(t,e.aliases)>-1));n=n.concat(s)})),n.sort(((e,n)=>mM(e.aliases,t)>mM(n.aliases,t))),n=n.map((e=>{const t=a({},e);return t.filename=function(e){return e.filename||e.id}(e),t})),i(n)}),[e.recentEmojis]),m(f.exports.Fragment,t?{children:m("div",{role:"reactions-popper",ref:l,className:E(cM,{"u3-invisible u3-opacity-0":!s}),children:m("div",{className:uM,children:m("div",{className:dM,children:o.map(((t,n)=>m(fM,{emoji:t,onItemClick:e.onEmojiClick},`${t.filename}-${n}`)))})})})}:{})}));var bM="u3-cxx-cd653b47",_M="u3-cxx-c25da8f1",wM="u3-cxx-d6b47ca6",xM="u3-cxx-bfcb5f39";class CM extends h.PureComponent{constructor(e){super(e),u(this,"addReactionButtonRef",h.createRef()),u(this,"getTarget",(()=>this.addReactionButtonRef.current)),u(this,"handleEmojiClick",(e=>{this.setState({showEmojiPicker:!1});const t=Ui(e)?e.name:e.aliases[0];this.props.actions.addReaction(this.props.post.id,t)})),u(this,"hideEmojiPicker",(()=>{this.setState({showEmojiPicker:!1})})),u(this,"toggleEmojiPicker",(()=>{this.setState({showEmojiPicker:!this.state.showEmojiPicker})})),this.state={showEmojiPicker:!1}}render(){const e=new Map,t=[];if(this.props.reactions)for(const i of Object.values(this.props.reactions)){const n=i.emoji_name;e.has(n)?e.get(n).push(i):(t.push(n),e.set(n,[i]))}if(0===e.size)return m("div",{className:"no-reactions"});const n=t.map((t=>m(lM,{post:this.props.post,emojiName:t,reactions:e.get(t)||[]},t))),s=this.getTarget();s&&(window.innerWidth,s.getBoundingClientRect().right);let r=null;this.props.enableEmojiPicker&&(r=m("span",{className:"emoji-picker__container",children:_(zT,{channelId:this.props.post.channel_id,teamId:this.props.teamId,permissions:[vn.ADD_REACTION],children:[m(yM,{show:this.state.showEmojiPicker,target:this.getTarget,onHide:this.hideEmojiPicker,onEmojiClose:this.hideEmojiPicker,onEmojiClick:this.handleEmojiClick}),m("button",{"aria-label":ds("reaction.add.ariaLabel","Add a reaction"),className:E("Reaction"),onClick:this.toggleEmojiPicker,children:m("span",{id:`addReaction-${this.props.post.id}`,className:E(_M,{[xM]:this.state.showEmojiPicker}),ref:this.addReactionButtonRef,children:m(QR,{className:wM})})})]})}));let o="post-add-reaction";return this.state.showEmojiPicker&&(o+=" post-add-reaction-emoji-picker-open"),_("div",{"aria-label":ds("reaction.container.ariaLabel","reactions"),className:E(bM,"post__reaction-list"),children:[n,m("div",{className:o,children:r})]})}}var EM=v((function(){const e=Hi();return function(t,n){const s="true"===Ie(t).EnableEmojiPicker&&!n.isReadOnly;return{teamId:(ee(t,n.post.channel_id)||{}).team_id,reactions:e(t,n.post.id),enableEmojiPicker:s}}}),(function(e){return{actions:y({addReaction:wo},e)}}))(CM);function SM(e){return async(t,n)=>{const s=await Bi(e)(t,n);return s.error&&"api.post.update_post.permissions_time_limit.app_error"===s.error.server_error_id&&t(Ue({type:qi.ANNOUNCEMENT,message:s.error.message},!0)),s}}function TM(e){return void 0!==e.height&&void 0!==e.width}function AM(e,t){return Math.sqrt(Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2))}var PM={attachmentOpengraph:"u3-cxx-c808e70d",attachmentContainer:"u3-cxx-807c4dce",bodyWrap:"u3-cxx-6641f7c4",bodySitename:"u3-cxx-e2f556b5",attachmentTitle:"u3-cxx-ac2c6e61",titleUrl:"u3-cxx-3947e4e3",attachmentBody:"u3-cxx-19acaa73"};const IM={height:80,width:80};class NM extends h.PureComponent{constructor(){super(...arguments),u(this,"getImageMetadata",(e=>{if(!e)return;const t=this.props.post.metadata.images;return t?t[e]:void 0})),u(this,"isLargeImage",(e=>{if(!e)return!1;const{height:t,width:n}=e;return n>=150&&n/t>=16/9})),u(this,"handleRemovePreview",(async()=>{const e=Object.assign({},this.props.post.props);e[Gi.REMOVE_LINK_PREVIEW]="true";const t={id:this.props.post.id,props:e};return this.props.actions.editPost(t)}))}renderImageToggle(){return m("button",{className:"style--none post__embed-visibility color--link","data-expanded":this.props.isEmbedVisible,"aria-label":"Toggle Embed Visibility",onClick:this.props.toggleEmbedVisibility})}renderLargeImage(e,t){if(this.props.isEmbedVisible)return m(_C,{src:e,imageMetadata:t,children:e=>m(AC,{className:"attachment__image attachment__image--opengraph large_image",src:e,dimensions:t})})}renderSmallImage(e,t){if(this.props.isEmbedVisible)return m("div",{className:"attachment__image__container--opengraph",children:m(_C,{src:e,imageMetadata:t,children:e=>m(AC,{className:"attachment__image attachment__image--opengraph",src:e,dimensions:t})})})}truncateText(e){return e&&e.length>128?e.substring(0,128-"...".length)+"...":e}hasPreviewBeenRemoved(){const{post:e}=this.props;return!(!e||!e.props)&&"true"===e.props[Gi.REMOVE_LINK_PREVIEW]}render(){if(!this.props.previewEnabled||!this.props.enableLinkPreviews)return null;if(!this.props.post||vi(this.props.post))return null;if(this.hasPreviewBeenRemoved())return null;const e=this.props.openGraphData;if(!e)return null;const t=function(e,t){var n;if(!(null==(n=null==e?void 0:e.images)?void 0:n.length))return;const s=e.images.map((e=>{const n=e.secure_url||e.url;return e.width&&e.height||!t||!t[n]?e:l(a({},e),{height:e.height||t[n].height,width:e.width||t[n].width})})),r=(o=IM,i=s,i.reduce(((e,t)=>TM(e)&&TM(t)&&AM(t,o)>=AM(e,o)?e:t),{}));var o,i;return r.secure_url||r.url}(e,this.props.post.metadata.images),n=this.getImageMetadata(t),s=this.isLargeImage(n);let r,o;return this.props.currentUserId===this.props.post.user_id&&(r=m("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:this.handleRemovePreview,"data-testid":"removeLinkPreviewButton",children:m("span",{"aria-hidden":"true",children:"×"})})),(e.description||t)&&(o=_("div",{className:PM.attachmentBody,children:[_("div",{children:[this.truncateText(e.description)," ",t&&s&&this.renderImageToggle()]}),t&&s&&this.renderLargeImage(t,n)]})),m("div",{className:PM.attachmentOpengraph,children:_("div",{className:E(PM.attachmentContainer,PM.clearfix),children:[_("div",{className:E(PM.bodyWrap,"attachment__body__wrap attachment__body__wrap--opengraph"),children:[m("span",{className:PM.bodySitename,children:this.truncateText(e.site_name)}),r,m("h1",{className:E(PM.attachmentTitle,{[PM.titleUrl]:!!e.title}),children:m("a",{className:PM.attachmentTitleLink,href:zi(e.url||this.props.link),target:"_blank",rel:"noopener noreferrer",title:e.title||e.url||this.props.link,children:this.truncateText(e.title||e.url||this.props.link)})}),o]}),t&&!s&&this.renderSmallImage(t,n)]})})}}var kM=v((function(e,t){const n=Ie(e);return{currentUserId:ce(e),enableLinkPreviews:"true"===n.EnableLinkPreviews,openGraphData:Vi(e,t.postId,t.link),previewEnabled:js(e,he.CATEGORY_DISPLAY_SETTINGS,he.LINK_PREVIEW_DISPLAY,!0)}}),(function(e){return{actions:y({editPost:SM},e)}}))(NM);const RM=/(?:http|https):\/\/(?:www\.|m\.)?(?:(?:youtube\.com\/(?:(?:v\/)|(?:(?:watch|embed\/watch)(?:\/|.*v=))|(?:embed\/)|(?:user\/[^/]+\/u\/[0-9]\/)))|(?:youtu\.be\/))([^#&?]*)/;var MM="u3-cxx-4451c389",OM="u3-cxx-c65d364f",LM="u3-cxx-194046fb",DM="u3-cxx-5be5a64e",jM="u3-cxx-34f01eae",FM="u3-cxx-a1ddedfc";class UM extends h.PureComponent{constructor(e,t){super(e,t),u(this,"play",(()=>{this.setState({playing:!0})})),u(this,"stop",(()=>{this.setState({playing:!1})})),this.state={playing:!1}}static getDerivedStateFromProps(e,t){return!e.show&&t.playing?{playing:!1}:null}render(){const{metadata:e,link:t}=this.props,n=function(e){const t=e.trim().match(RM);return t&&11===t[1].length?t[1]:null}(t),s=function(e){var t,n,s,r,o,i;const a=e.match(/[\\?&](t|time|start|time_continue)=([0-9]+h)?([0-9]+m)?([0-9]+s?)/);if(!(null==a?void 0:a[0]))return"";const l=null!=(n=null==(t=a[2])?void 0:t.match(/([0-9]+)h/))?n:null,c=null!=(r=null==(s=a[3])?void 0:s.match(/([0-9]+)m/))?r:null,u=null!=(i=null==(o=a[4])?void 0:o.match(/([0-9]+)s?/))?i:null;let d=0;return(null==l?void 0:l[1])&&(d+=3600*parseInt(l[1],10)),(null==c?void 0:c[1])&&(d+=60*parseInt(c[1],10)),(null==u?void 0:u[1])&&(d+=parseInt(u[1],10)),`&start=${d}`}(t),r=_("h4",{children:[m("span",{className:OM,children:"YouTube - "}),m("span",{className:LM,children:m("a",{href:this.props.link,target:"_blank",rel:"noopener noreferrer",children:(null==e?void 0:e.title)||"unknown"})})]});let o;if(this.state.playing)o=m("iframe",{src:"https://www.youtube.com/embed/"+n+"?autoplay=1&autohide=1&border=0&wmode=opaque&fs=1&enablejsapi=1"+s,width:"480px",height:"360px",frameBorder:"0",allowFullScreen:!0});else{const t=null==e?void 0:e.images[0];o=m("div",{className:"embed-responsive video-div__placeholder",children:_("div",{className:E("u3-aspect-w-16 u3-aspect-h-9"),children:[m(_C,{src:(null==t?void 0:t.secure_url)||(null==t?void 0:t.url)||"",children:e=>m("img",{src:e,alt:"youtube video thumbnail",className:"video-thumbnail",loading:"lazy"})}),m("div",{className:jM,children:m("span",{className:FM,children:m("span",{})})})]})})}return _("div",{className:MM,children:[r,m("div",{className:E(DM,"u3-aspect-w-16 u3-aspect-h-9"),onClick:this.play,children:o})]})}static isYoutubeLink(e){return Boolean(e.trim().match(RM))}}var HM=v((function(e,t){const n=Ie(e);return{currentChannelId:St(e),googleDeveloperKey:n.GoogleDeveloperKey,hasImageProxy:"true"===n.HasImageProxy,metadata:Vi(e,t.postId,t.link)}}))(UM);class BM extends h.PureComponent{constructor(){super(...arguments),u(this,"toggleEmbedVisibility",(()=>{this.props.actions.toggleEmbedVisibility(this.props.post.id)})),u(this,"getEmbed",(()=>{const{metadata:e}=this.props.post;return Wi(e)})),u(this,"isEmbedToggleable",(e=>{const t=this.props.pluginPostWillRenderEmbedComponents||[];for(const n of t)if(n.match(e))return Boolean(n.toggleable);return"image"===e.type||"opengraph"===e.type&&HM.isYoutubeLink(e.url)})),u(this,"renderEmbed",(e=>{const t=this.props.pluginPostWillRenderEmbedComponents||[];for(const n of t)if(n.match(e)){const t=n.component;return this.props.isEmbedVisible&&m(t,{embed:e})}return"opengraph"===e.type?HM.isYoutubeLink(e.url)?this.props.isEmbedVisible?m(HM,{postId:this.props.post.id,link:e.url,show:this.props.isEmbedVisible}):null:m(kM,{postId:this.props.post.id,link:e.url,isEmbedVisible:this.props.isEmbedVisible,post:this.props.post,toggleEmbedVisibility:this.toggleEmbedVisibility}):null})),u(this,"renderToggle",(e=>m("button",{className:"u3-hidden style--none post__embed-visibility color--link "+(e?"pull-left":""),"data-expanded":this.props.isEmbedVisible,"aria-label":"Toggle Embed Visibility",onClick:this.toggleEmbedVisibility},"toggle")))}render(){const e=this.getEmbed();if(e){const t=this.isEmbedToggleable(e),n=/^\s*https?:\/\/.*$/.test(this.props.post.message);return _(f.exports.Fragment,{children:[t&&n&&this.renderToggle(!0),this.props.children,t&&!n&&this.renderToggle(!1),this.renderEmbed(e)]})}return this.props.children}}var qM=v((function(e,t){return{isEmbedVisible:Ii(e,t.post.id),pluginPostWillRenderEmbedComponents:e.plugins.components.PostWillRenderEmbedComponent,appsEnabled:Zl(e)}}),(function(e){return{actions:y({toggleEmbedVisibility:Pi},e)}}))(BM),GM=bp.jsx;var zM=function(e){return GM("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:GM("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}))};var VM={postMessageCollapsed:"u3-cxx-f21a8034",postMessageTextContainer:"u3-cxx-0c98bc9e",allEmoji:"u3-cxx-bd31b1b1",emoticon:"u3-cxx-e7573c46",emoticonUnicode:"u3-cxx-445ef330",osWindows:"u3-cxx-d6c57a1a",emoticonBig:"u3-cxx-82c757f3",postCollapseGradient:"u3-cxx-6ea0e7db",postAttachmentCollapseGradient:"u3-cxx-8d6f61cf",postCollapseShowMore:"u3-cxx-cc53021e",postCollapse:"u3-cxx-215fac60",postCollapseShowmore:"u3-cxx-72e746da",showMoreButton:"u3-cxx-84d0e06d",postMoreIcon:"u3-cxx-44965fb2",postMessageExpanded:"u3-cxx-e9b0c894",postMessageOverflow:"u3-cxx-2cab0759"};class WM extends h.PureComponent{constructor(e){super(e),u(this,"maxHeight"),u(this,"textContainer"),u(this,"overflowRef"),u(this,"toggleCollapse",(e=>{e.preventDefault(),this.setState((e=>({isCollapsed:!e.isCollapsed})))})),u(this,"checkTextOverflow",(()=>{this.overflowRef&&window.cancelAnimationFrame(this.overflowRef),this.overflowRef=window.requestAnimationFrame((()=>{let e=!1;this.textContainer.current&&this.textContainer.current.scrollHeight>this.maxHeight&&(e=!0),e!==this.state.isOverflow&&this.setState({isOverflow:e})}))})),u(this,"handleResize",(()=>{this.checkTextOverflow()})),this.maxHeight=this.props.isAttachmentText?200:100,this.textContainer=h.createRef(),this.state={isCollapsed:!0,isOverflow:!1}}componentDidMount(){if(this.checkTextOverflow(),window.addEventListener("resize",this.handleResize),this.textContainer.current){const e=getComputedStyle(this.textContainer.current);this.maxHeight=this.props.isAttachmentText?200:5*parseFloat(e.lineHeight.replace("px",""))}}componentDidUpdate(e){this.props.text===e.text&&this.props.isRHSExpanded===e.isRHSExpanded&&this.props.isRHSOpen===e.isRHSOpen&&this.props.checkOverflow===e.checkOverflow||this.checkTextOverflow()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.overflowRef&&window.cancelAnimationFrame(this.overflowRef)}render(){const{isCollapsed:e,isOverflow:t}=this.state,{text:n,children:s,isAttachmentText:r,compactDisplay:o,isMe:i}=this.props;let a,l={"post-message":!0};e?(a=this.maxHeight,l[VM.postMessageCollapsed]=!0):l[VM.postMessageExpanded]=!0,""===n&&(l["u3-hidden"]=!0);let c=null;if(t){!r&&e&&o&&a&&(a-=22);let t=m(zM,{className:VM.postMoreIcon}),n=ds("post_info.message.show_less","Show less");e&&(t=m(yE,{className:VM.postMoreIcon}),n=ds("post_info.message.show_more","Show more")),c=_("div",{className:E(VM.postCollapse,{[VM.postCollapseMe]:i}),children:[m("div",{className:E({[VM.postCollapseGradient]:!r,[VM.postAttachmentCollapseGradient]:r})}),_("div",{className:E({[VM.postCollapseShowmore]:!r,[VM.postAttachmentCollapseShowmore]:r}),children:[m("div",{className:"post-collapse__show-more-line"}),_("button",{id:"showMoreButton",className:VM.showMoreButton,onClick:this.toggleCollapse,children:[t," ",n]}),m("div",{className:"post-collapse__show-more-line"})]})]}),l[VM.postMessageOverflow]=!0}return _("div",{className:E(l),children:[m("div",{style:{maxHeight:a},className:E(VM.postMessageTextContainer),ref:this.textContainer,children:s}),c]})}}var YM=v((function(e){return{isRHSExpanded:oo(e),isRHSOpen:ss(e),compactDisplay:rr(e,he.CATEGORY_DISPLAY_SETTINGS,he.MESSAGE_DISPLAY,he.MESSAGE_DISPLAY_DEFAULT)===he.MESSAGE_DISPLAY_COMPACT}}))(WM);var KM="u3-cxx-a80c8e68",$M="u3-cxx-05d88fbf";class JM extends h.PureComponent{constructor(e){super(e),u(this,"imageProps"),u(this,"checkPostOverflow",(()=>{this.setState((e=>({checkOverflow:e.checkOverflow+1})))})),u(this,"handleHeightReceived",(e=>{e>0&&this.checkPostOverflow()})),u(this,"handleFormattedTextClick",(e=>Hs(e,this.props.currentRelativeTeamUrl))),this.state={collapse:!0,hasOverflow:!1,checkOverflow:0},this.imageProps={onImageLoaded:this.handleHeightReceived,onImageHeightChanged:this.checkPostOverflow}}renderDeletedPost(){return m("p",{children:m(D,{id:"post_body.deleted",defaultMessage:"(message deleted)"})})}renderEditedIndicator(){return Yi(this.props.post)?m("span",{id:`postEdited_${this.props.post.id}`,className:$M,children:m(D,{id:"post_message_view.edited",defaultMessage:"(edited)"})}):null}render(){const{post:e,enableFormatting:t,options:n,pluginPostTypes:s,compactDisplay:r,isRHS:o,theme:i,wordBlocked:a}=this.props;if(e.state===ft.POST_DELETED)return this.renderDeletedPost();let l=a.reduce(((e,t)=>{const n=new RegExp(t,"ig");return t.length<3?e.replace(n,"••"):e.replace(n,"•••")}),e.message);if(!t)return m("span",{children:l});const c=e.props&&e.props.type?e.props.type:e.type;if(s&&s.hasOwnProperty(c)){const t=s[c].component;return m(t,{post:e,compactDisplay:r,isRHS:o,theme:i})}const u=Ho(e);if(r&&u){const e=ds("post_info.message.visible.compact"," (Only visible to you)");l=l.concat(e)}const d=o?`rhsPostMessageText_${e.id}`:`postMessageText_${e.id}`;return _(YM,{checkOverflow:this.state.checkOverflow,isMe:Ki(e),text:l||"",children:[m("div",{"aria-readonly":"true",tabIndex:0,id:d,className:E(KM,"post-message__text"),dir:"auto",onClick:this.handleFormattedTextClick,children:m(Jk,{message:l,imageProps:this.imageProps,isRHS:o,options:n,post:e,channelId:e.channel_id,mentionKeys:[]})}),this.renderEditedIndicator()]})}}u(JM,"defaultProps",{options:{},isRHS:!1,pluginPostTypes:{}});var XM=v((function(e){return{enableFormatting:js(e,Pe.CATEGORY_ADVANCED_SETTINGS,"formatting",!0),isRHSExpanded:oo(e),isRHSOpen:ss(e),pluginPostTypes:e.plugins.postTypes,theme:$i(e),currentRelativeTeamUrl:Qe(e),wordBlocked:Ji(e)}}))(JM);function QM({post:e,previewCollapsed:t,previewEnabled:n,isEmbedVisible:s,pluginPostTypes:r}){const o=e.type&&r.hasOwnProperty(e.type);let i;const a=m(XM,{post:e,isRHS:!0,hasMention:!0});return i=e.state===ft.POST_DELETED||o?a:m(qM,{post:e,previewCollapsed:t,previewEnabled:n,isEmbedVisible:s,children:a}),i}var ZM=bp.jsx;var eO,tO,nO,sO,rO=function(e){return ZM("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:ZM("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})}))};(tO=eO||(eO={}))[tO.Flagged=0]="Flagged",tO[tO.Pinned=1]="Pinned",tO[tO.PinnedAndFlagged=2]="PinnedAndFlagged",tO[tO.Neither=3]="Neither",(sO=nO||(nO={})).Flagged="flagged",sO.Pinned="pinned",sO.PinnedAndFlagged="pinnedAndFlagged";class oO extends h.PureComponent{constructor(){super(...arguments),u(this,"messageInfos",{flagged:{id:Sr("post_pre_header.flagged"),defaultMessage:"Saved"},pinned:{id:Sr("post_pre_header.pinned"),defaultMessage:"Pinned"}}),u(this,"handleLinkClick",((e,t)=>{e===nO.Pinned&&t?this.props.actions.showPinnedPosts(t):this.props.actions.showFlaggedPosts()}))}getPostStatus(e,t){return e?t?2:0:t?1:3}getMessageInfo(e,t,n){if(t&&n)return!1;if(2===e){if(!n&&!t)return nO.PinnedAndFlagged;if(n)return nO.Flagged;if(t)return nO.Pinned}return 0!==e||t?1===e&&!n&&nO.Pinned:nO.Flagged}render(){const{isFlagged:e,isPinned:t,skipPinned:n,skipFlagged:s,channelId:r}=this.props,o=this.getMessageInfo(this.getPostStatus(e,t),s,n);return(e||t)&&o?_("div",{className:"post-pre-header",children:[_("div",{className:"post-pre-header__icons-container",children:[t&&!n&&m("span",{className:"icon-pin icon icon--post-pre-header"}),e&&!s&&m(rO,{className:"icon icon--post-pre-header"})]}),_("div",{className:"post-pre-header__text-container",children:[o&&o!==nO.PinnedAndFlagged&&m("span",{children:m("a",{onClick:()=>this.handleLinkClick(o,r),children:m(D,{id:this.messageInfos[o].id,defaultMessage:this.messageInfos[o].defaultMessage})})}),o&&o===nO.PinnedAndFlagged&&_("span",{children:[m("a",{onClick:()=>this.handleLinkClick(nO.Pinned,r),children:m(D,{id:this.messageInfos[nO.Pinned].id,defaultMessage:this.messageInfos[nO.Pinned].defaultMessage})}),m("span",{className:"post-pre-header__link-separator",children:"⬤"}),m("a",{onClick:()=>this.handleLinkClick(nO.Flagged),children:m(D,{id:this.messageInfos[nO.Flagged].id,defaultMessage:this.messageInfos[nO.Flagged].defaultMessage})})]})]})]}):null}}var iO=S(oO);var aO=v(null,(e=>({actions:y({showFlaggedPosts:co,showPinnedPosts:uo},e)})))(iO);class lO extends h.PureComponent{constructor(e){super(e),u(this,"handleShortcutReactToLastPost",(e=>{if(e){const{isReadOnly:e,channelIsArchived:t,enableEmojiPicker:n,post:s,actions:{emitShortcutReactToLastPostFrom:r}}=this.props;r(ei.NO_WHERE);const o=s&&s.state===ft.POST_DELETED,i=s&&Qi(s),a=s&&vi(s),l=s&&ki(s),c=s&&s.failed,u=this.postHeaderRef.current.getBoundingClientRect();!(u.top-110>0&&u.bottom<window.innerHeight)||i||a||e||c||l||o||t||We()||!n||this.setState({hover:!0},(()=>{this.toggleEmojiPicker()}))}})),u(this,"removePost",(()=>{this.props.removePost(this.props.post)})),u(this,"createRemovePostButton",(()=>m("button",{className:"post__remove theme color--link style--none",type:"button",onClick:this.removePost,children:"×"}))),u(this,"renderPostTime",(()=>{const e=this.props.post,t=!(ft.POST_DELETED===e.state||Po(e));return m(JR,{isPermalink:t,eventTime:e.create_at,postId:e.id,location:ei.RHS_COMMENT,styles:{},timestampProps:l(a({},this.props.timestampProps),{style:this.props.isConsecutivePost&&!this.props.compactDisplay?"narrow":void 0})})})),u(this,"toggleEmojiPicker",(()=>{const e=!this.state.showEmojiPicker;this.setState({showEmojiPicker:e})})),u(this,"getClassName",((e,t,n)=>{let s="post post--thread same--root post--comment";return this.props.currentUserId===e.user_id&&(s+=" current--user"),(t||n)&&(s+=" post--system"),this.props.compactDisplay&&(s+=" post--compact"),(this.state.dropdownOpened||this.state.showEmojiPicker)&&(s+=" post--hovered"),this.props.isConsecutivePost&&(s+=" same--user"),this.state.alt&&!this.props.channelIsArchived&&(s+=" cursor--pointer"),s})),u(this,"handleAlt",(e=>{this.state.alt!==e.altKey&&this.setState({alt:e.altKey})})),u(this,"handleDropdownOpened",(e=>{this.setState({dropdownOpened:e})})),u(this,"getDotMenuRef",(()=>this.dotMenuRef.current)),u(this,"setHover",(()=>{this.setState({hover:!0})})),u(this,"unsetHover",(()=>{this.setState({hover:!1})})),u(this,"handleA11yActivateEvent",(()=>{this.setState({a11yActive:!0})})),u(this,"handleA11yDeactivateEvent",(()=>{this.setState({a11yActive:!1})})),u(this,"handlePostClick",(e=>{this.props.channelIsArchived||e.altKey&&this.props.actions.markPostAsUnread(this.props.post,"RHS_COMMENT")})),u(this,"handlePostFocus",(()=>{this.updateAriaLabel()})),u(this,"updateAriaLabel",(()=>{const{post:e,author:t,reactions:n,isFlagged:s,intl:r,emojiMap:o}=this.props;this.setState({currentAriaLabel:Zi(e,t,s,n,r,o)})})),this.postRef=h.createRef(),this.dotMenuRef=h.createRef(),this.state={showEmojiPicker:!1,dropdownOpened:!1,alt:!1,hover:!1,a11yActive:!1,currentAriaLabel:""},this.postHeaderRef=h.createRef()}componentDidMount(){document.addEventListener("keydown",this.handleAlt),document.addEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.addEventListener(Xi.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.addEventListener(Xi.DEACTIVATE,this.handleA11yDeactivateEvent))}componentWillUnmount(){document.removeEventListener("keydown",this.handleAlt),document.removeEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.removeEventListener(Xi.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.removeEventListener(Xi.DEACTIVATE,this.handleA11yDeactivateEvent))}componentDidUpdate(e){const{shortcutReactToLastPostEmittedFrom:t,isLastPost:n}=this.props;this.state.a11yActive&&this.postRef.current.dispatchEvent(new Event(Xi.UPDATE));e.shortcutReactToLastPostEmittedFrom!==t&&t===ei.RHS_ROOT&&this.handleShortcutReactToLastPost(n),this.props.post.state===ft.POST_DELETED&&e.post.state!==ft.POST_DELETED&&this.updateAriaLabel()}render(){const{post:e,isConsecutivePost:t,isReadOnly:n,channelIsArchived:s}=this.props,r=e&&e.state===ft.POST_DELETED,o=Qi(e),i=vi(e),a=Ki(e),l=ki(e);let c,u,d,p=null;(this.props.compactDisplay||We())&&(p=m(aT,{userId:e.user_id,channelId:e.channel_id,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0})),t||(p=m(aT,{userId:e.user_id,channelId:e.channel_id,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0}),c=m(GR,{compactDisplay:!1,isBusy:this.props.isBusy,isRHS:!0,post:e,userId:e.user_id,channelId:e.channel_id}),e.props&&e.props.from_webhook?(p=e.props.override_username&&this.props.enablePostUsernameOverride?m(aT,{userId:e.user_id,channelId:e.channel_id,hideStatus:!0,overwriteName:e.props.override_username,disablePopover:!0}):m(aT,{userId:e.user_id,channelId:e.channel_id,hideStatus:!0,disablePopover:!0}),BotBadge):l?(p=m("span",{className:"auto-responder",children:m(aT,{userId:e.user_id,channelId:e.channel_id,hideStatus:!0,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0})}),Badge):i&&this.props.isBot?(p=m(aT,{userId:e.user_id,channelId:e.channel_id,hideStatus:!0}),u=m("span",{className:"post__visibility",children:m(D,{id:"post_info.message.visible",defaultMessage:"(Only visible to you)"})})):i&&(p=m(aT,{overwriteName:m(D,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:re.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0,channelId:e.channel_id}),u=m("span",{className:"post__visibility",children:m(D,{id:"post_info.message.visible",defaultMessage:"(Only visible to you)"})})));let h="post-comment";e.failed&&(h+=" post-failed",d=m(VR,{post:this.props.post})),Yi(this.props.post)&&(h+=" post--edited");let f=null;e.file_ids&&e.file_ids.length>0&&(f=m(BR,{post:e,compactDisplay:this.props.compactDisplay})),n||o||e.failed||i||!this.props.enableEmojiPicker||s||(e.channel_id,e.id,this.props.teamId,this.getDotMenuRef,ei.RHS_COMMENT,this.state.showEmojiPicker,this.toggleEmojiPicker);let g,v;if(We()||o||e.failed,o)g=m("div",{className:"col col__remove",children:this.createRemovePostButton()});else if(r)g=null;else if(!i&&(We()||this.state.hover||this.state.a11yActive||this.state.dropdownOpened||this.state.showEmojiPicker)){const e=m(TR,{post:this.props.post,location:ei.RHS_COMMENT,isFlagged:this.props.isFlagged,handleDropdownOpened:this.handleDropdownOpened,handleAddReactionClick:this.toggleEmojiPicker,isReadOnly:n||s,isMenuOpen:this.state.dropdownOpened,enableEmojiPicker:!1});g=_("div",{ref:this.dotMenuRef,className:"col post-menu",children:[e,null]})}return this.renderPostTime(),e.props&&e.props.card&&(v=m(OverlayTrigger,{delayShow:re.OVERLAY_TIME_DELAY,placement:"top",overlay:m(Tooltip,{children:m(D,{id:"post_info.info.view_additional_info",defaultMessage:"View additional info"})}),children:m("button",{className:"card-icon__container icon--show style--none",onClick:e=>{e.preventDefault(),this.props.handleCardClick(this.props.post)},children:m(InfoSmallIcon,{className:"icon icon__info","aria-hidden":"true"})})})),_("div",{role:"listitem",ref:this.postRef,id:"rhsPost_"+e.id,tabIndex:-1,className:`a11y__section ${this.getClassName(e,i,a)}`,onClick:this.handlePostClick,onMouseOver:this.setHover,onMouseLeave:this.unsetHover,"aria-label":this.state.currentAriaLabel,onFocus:this.handlePostFocus,"data-a11y-sort-order":this.props.a11yIndex,children:[m(aO,{isFlagged:this.props.isFlagged,isPinned:e.is_pinned,channelId:e.channel_id}),_("div",{role:"application",className:"post__content",children:[m("div",{className:"post__img",children:c}),_("div",{className:"post__post-content",children:[_("div",{className:"post__header",ref:this.postHeaderRef,children:[v,u]}),_("div",{className:"post__body",children:[_("div",{className:h,children:[p,d,m(QM,{post:e,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isEmbedVisible:this.props.isEmbedVisible,pluginPostTypes:this.props.pluginPostTypes})]}),f]})]}),m("div",{className:"post__actions",children:g})]})]})}}u(lO,"propTypes",{post:M.object,teamId:M.string.isRequired,currentUserId:M.string.isRequired,compactDisplay:M.bool,author:M.string,reactions:M.object,isFlagged:M.bool.isRequired,isBusy:M.bool,removePost:M.func.isRequired,previewCollapsed:M.string.isRequired,previewEnabled:M.bool.isRequired,isEmbedVisible:M.bool,enableEmojiPicker:M.bool.isRequired,enablePostUsernameOverride:M.bool.isRequired,isReadOnly:M.bool.isRequired,pluginPostTypes:M.object,channelIsArchived:M.bool.isRequired,isConsecutivePost:M.bool,handleCardClick:M.func,a11yIndex:M.number,isBot:M.bool.isRequired,isLastPost:M.bool,shortcutReactToLastPostEmittedFrom:M.string,intl:uT.isRequired,actions:M.shape({markPostAsUnread:M.func.isRequired,emitShortcutReactToLastPostFrom:M.func}),emojiMap:M.object.isRequired,timestampProps:M.object});var cO=S(lO);function uO(e,t){const n=t.post,s=t.previousPostId&&bt(e,t.previousPostId);let r=!1;if(s){const e=Boolean(n.props&&n.props.from_webhook),t=Boolean(s.props&&s.props.from_webhook);!(s&&s.user_id===n.user_id&&n.create_at-s.create_at<=ft.POST_COLLAPSE_TIMEOUT)||e||t||na(n)||na(s)||s.root_id!==n.root_id&&s.id!==n.root_id||(r=!0)}return r}var dO=v((function(e,t){const n=Hi(),s=br(),r=Ms(e),o=Ie(e),i="true"===o.EnableEmojiPicker,a="true"===o.EnablePostUsernameOverride,l=t.teamId||ne(e),c=e.entities.channels.channels[t.post.channel_id],u=ea(e),d=fn(e,t.post.user_id),p=Boolean(d&&d.is_bot);return{author:s(e,t.post.user_id),reactions:n(e,t.post.id),enableEmojiPicker:i,enablePostUsernameOverride:a,isEmbedVisible:Ii(e,t.post.id),isReadOnly:ta(e,t.post.channel_id),teamId:l,pluginPostTypes:e.plugins.postTypes,channelIsArchived:rt(c),isConsecutivePost:uO(e,t),isFlagged:null!=rr(e,he.CATEGORY_FLAGGED_POST,t.post.id,null),compactDisplay:rr(e,he.CATEGORY_DISPLAY_SETTINGS,he.MESSAGE_DISPLAY,he.MESSAGE_DISPLAY_DEFAULT)===he.MESSAGE_DISPLAY_COMPACT,shortcutReactToLastPostEmittedFrom:u,emojiMap:r,isBot:p}}),(function(e){return{actions:y({markPostAsUnread:Ei,emitShortcutReactToLastPostFrom:pi},e)}}))(cO);class pO extends h.PureComponent{constructor(){super(...arguments),u(this,"handleAddEmoji",(e=>{this.setState({showEmojiPicker:!1});const t=e.name||e.aliases[0];this.props.actions.addReaction(this.props.postId,t),this.props.toggleEmojiPicker()}))}render(){const{channelId:e,location:t,postId:n,showEmojiPicker:s,teamId:r}=this.props;return m(zT,{channelId:e,teamId:r,permissions:[vn.ADD_REACTION],children:_(h.Fragment,{children:[m(yM,{show:s,target:this.props.getDotMenuRef,onHide:this.props.toggleEmojiPicker,onEmojiClose:this.props.toggleEmojiPicker,onEmojiClick:this.handleAddEmoji}),m("button",{"data-testid":"post-reaction-emoji-icon",id:`${t}_reaction_${n}`,"aria-label":ds("post_info.tooltip.add_reactions","Add Reaction").toLowerCase(),className:E("post-menu__item","post-menu__item--reactions",{"post-menu__item--active":s}),onClick:this.props.toggleEmojiPicker,children:m(QR,{className:"u3-w-3"})})]})})}}u(pO,"defaultProps",{location:ei.CENTER,showEmojiPicker:!1});var hO=v(null,(function(e){return{actions:y({addReaction:wo},e)}}))(pO),fO=e=>m("svg",{"aria-hidden":"true",focusable:"false",className:e.className,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:m("path",{fill:"currentColor",d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"})}),mO=e=>m("svg",{"aria-hidden":"true",focusable:"false",className:e.className,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:m("path",{fill:"currentColor",d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"})});var gO,vO,yO="u3-cxx-0e379177",bO="u3-cxx-ee258681",_O="u3-cxx-6700e71f";!function(e){e[e.Flagged=0]="Flagged",e[e.Pinned=1]="Pinned",e[e.PinnedAndFlagged=2]="PinnedAndFlagged",e[e.Neither=3]="Neither"}(gO||(gO={})),function(e){e.Flagged="flagged",e.Pinned="pinned",e.PinnedAndFlagged="pinnedAndFlagged"}(vO||(vO={}));class wO extends h.PureComponent{constructor(){super(...arguments),u(this,"messageInfos",{flagged:{id:Sr("post_pre_header.flagged"),defaultMessage:"Saved"},pinned:{id:Sr("post_pre_header.pinned"),defaultMessage:"Pinned"}}),u(this,"handleLinkClick",((e,t)=>{e===vO.Pinned&&t?this.props.actions.showPinnedPosts(t):this.props.actions.showFlaggedPosts()}))}getPostStatus(e,t){return e?t?2:0:t?1:3}getMessageInfo(e,t,n){if(t&&n)return!1;if(2===e){if(!n&&!t)return vO.PinnedAndFlagged;if(n)return vO.Flagged;if(t)return vO.Pinned}return 0!==e||t?1===e&&!n&&vO.Pinned:vO.Flagged}render(){const{isFlagged:e,isPinned:t,skipPinned:n,skipFlagged:s,channelId:r}=this.props,o=this.getMessageInfo(this.getPostStatus(e,t),s,n);if(!e&&!t||!o)return null;const i=[];return t&&!n&&i.push(m(zA,{placement:"top",content:m(D,{id:this.messageInfos[vO.Pinned].id,defaultMessage:this.messageInfos[vO.Pinned].defaultMessage}),children:m("button",{className:bO,onClick:()=>this.handleLinkClick(vO.Pinned,r),children:m(fO,{className:_O})})},vO.Pinned)),e&&!s&&i.push(m(zA,{placement:"top",content:m(D,{id:this.messageInfos[vO.Flagged].id,defaultMessage:this.messageInfos[vO.Flagged].defaultMessage}),children:m("button",{className:bO,onClick:()=>this.handleLinkClick(vO.Flagged),children:m(mO,{className:_O})})},vO.Flagged)),m("div",{className:E(yO,"post-pre-header"),children:i})}}var xO=S(wO);var CO=v(null,(e=>({actions:y({showFlaggedPosts:co,showPinnedPosts:uo},e)})))(xO);var EO={rhsRootPost:"u3-cxx-3ba07b71",rhsRootPostHeader:"u3-cxx-ce8c5551",postImg:"u3-cxx-5ee59130",postHeader:"u3-cxx-74b41aca",userProfile:"u3-cxx-1dbeeb2d",postInfo:"u3-cxx-317ee791",permarlink:"u3-cxx-46bb7056",timeIcon:"u3-cxx-81a0a145",postActions:"u3-cxx-3ac9ff9f",menuActions:"u3-cxx-41676c09",rhsRootPostBody:"u3-cxx-781bc13b",rhsRootPostReactions:"u3-cxx-bea3d855",postContent:"u3-cxx-f8b108d6"};class SO extends h.PureComponent{constructor(e){super(e),u(this,"postHeaderRef"),u(this,"dotMenuRef"),u(this,"handleShortcutReactToLastPost",(e=>{if(e){const{post:t,enableEmojiPicker:n,channelIsArchived:s,actions:{emitShortcutReactToLastPostFrom:r}}=this.props;r(ei.NO_WHERE);const o=t&&t.state===ft.POST_DELETED,i=t&&Ho(t),a=t&&vi(t),l=t&&t.failed,c=t&&t.type===re.PostTypes.FAKE_PARENT_DELETED,u=this.postHeaderRef.current.getBoundingClientRect();u.top-110>0&&u.bottom<window.innerHeight&&(i||a||o||l||We()||s||c||!n||this.toggleEmojiPicker(e))}})),u(this,"renderPostTime",(e=>{const t=this.props.post;if(t.type===re.PostTypes.FAKE_PARENT_DELETED)return null;const n=!(e||ft.POST_DELETED===t.state||Po(t));return m(JR,{isPermalink:n,eventTime:t.create_at,postId:t.id,location:ei.RHS_ROOT,timestampProps:this.props.timestampProps,styles:EO})})),u(this,"toggleEmojiPicker",(e=>{const t=!this.state.showEmojiPicker;this.setState({showEmojiPicker:t})})),u(this,"getClassName",((e,t,n)=>{let s="post post--root post--thread";return this.props.currentUserId===e.user_id&&(s+=" current--user"),(t||n)&&(s+=" post--system"),this.props.compactDisplay&&(s+=" post--compact"),(this.state.dropdownOpened||this.state.showEmojiPicker)&&(s+=" post--hovered"),this.state.alt&&!this.props.channelIsArchived&&(s+=" cursor--pointer"),s})),u(this,"handleAlt",(e=>{this.state.alt!==e.altKey&&this.setState({alt:e.altKey})})),u(this,"handleDropdownOpened",(e=>{this.setState({dropdownOpened:e})})),u(this,"handlePostClick",(e=>{this.props.channelIsArchived||e.altKey&&this.props.actions.markPostAsUnread(this.props.post,"RHS_ROOT")})),u(this,"handlePostFocus",(()=>{const{post:e,author:t,reactions:n,isFlagged:s,emojiMap:r}=this.props;this.setState({currentAriaLabel:Zi(e,t,s,n,this.props.intl,r)})})),u(this,"getDotMenuRef",(()=>this.dotMenuRef.current)),this.state={alt:!1,showEmojiPicker:!1,testStateObj:!0,dropdownOpened:!1,currentAriaLabel:""},this.postHeaderRef=h.createRef(),this.dotMenuRef=h.createRef()}componentDidMount(){document.addEventListener("keydown",this.handleAlt),document.addEventListener("keyup",this.handleAlt)}componentWillUnmount(){document.removeEventListener("keydown",this.handleAlt),document.removeEventListener("keyup",this.handleAlt)}componentDidUpdate(e){const{shortcutReactToLastPostEmittedFrom:t,isLastPost:n}=this.props;e.shortcutReactToLastPostEmittedFrom!==t&&t===ei.RHS_ROOT&&this.handleShortcutReactToLastPost(n)}render(){const{post:e,isReadOnly:t,teamId:n,channelIsArchived:s}=this.props,r=e&&e.state===ft.POST_DELETED,o=Ho(e),i=vi(e),a=Ki(e);let l;t||o||e.failed||i||!this.props.enableEmojiPicker||s||(l=m(hO,{channelId:e.channel_id,postId:e.id,teamId:n,getDotMenuRef:this.getDotMenuRef,location:ei.RHS_ROOT,showEmojiPicker:this.state.showEmojiPicker,toggleEmojiPicker:this.toggleEmojiPicker}));let c,u=null;e.file_ids&&e.file_ids.length>0&&(u=m(BR,{post:e,compactDisplay:this.props.compactDisplay})),c=i?m(aT,{userId:"",overwriteName:m(D,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:re.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0}):e.props&&e.props.from_webhook?e.props.override_username&&this.props.enablePostUsernameOverride?m(aT,{userId:e.user_id,hideStatus:!0,overwriteName:e.props.override_username,disablePopover:!0},e.user_id):m(aT,{userId:e.user_id,hideStatus:!0,disablePopover:!0},e.user_id):m(aT,{userId:e.user_id,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0},e.user_id);let d="";Yi(this.props.post)&&(d+=" post--edited");const p=m(TR,{post:this.props.post,location:ei.RHS_ROOT,isFlagged:this.props.isFlagged,handleDropdownOpened:this.handleDropdownOpened,commentCount:this.props.commentCount,isMenuOpen:this.state.dropdownOpened,isReadOnly:t||s,enableEmojiPicker:this.props.enableEmojiPicker});return r||this.props.post.type===re.PostTypes.FAKE_PARENT_DELETED||(this.dotMenuRef,E(EO.dotMenu,"col post-menu")),this.props.post.props&&this.props.post.props.card,_("div",{role:"listitem",id:"rhsPost_"+e.id,tabIndex:-1,className:E(EO.rhsRootPost,`thread__root a11y__section ${this.getClassName(e,i,a)}`),"aria-label":this.state.currentAriaLabel,onClick:this.handlePostClick,onFocus:this.handlePostFocus,"data-a11y-sort-order":"0",children:[_("div",{className:EO.rhsRootPostHeader,children:[m("div",{className:E(EO.postImg,"post__img"),children:m(GR,{compactDisplay:this.props.compactDisplay,isBusy:this.props.isBusy,isRHS:!0,post:e,userId:e.user_id,channelId:e.channel_id})}),_("div",{className:E(EO.postHeader,"post__header"),ref:this.postHeaderRef,children:[_("div",{className:EO.userProfile,children:[c,undefined,undefined]}),_("div",{className:EO.postInfo,children:[this.renderPostTime(o),undefined]})]}),_("div",{className:E(EO.postActions),children:[m(CO,{isFlagged:this.props.isFlagged,isPinned:e.is_pinned,channelId:e.channel_id}),m("div",{className:E(EO.menuActions,"thread-root-menu-actions"),children:p})]})]}),_("div",{className:E(EO.rhsRootPostBody,"post__body"),children:[m("div",{className:d,children:m(QM,{post:e,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isEmbedVisible:this.props.isEmbedVisible,pluginPostTypes:this.props.pluginPostTypes})}),u]}),m("div",{className:E(EO.rhsRootPostReactions,"root-post__reactions"),children:m(EM,{post:e,isReadOnly:t||s})})]})}}u(SO,"propTypes",{post:M.object.isRequired,teamId:M.string.isRequired,currentUserId:M.string.isRequired,compactDisplay:M.bool,commentCount:M.number.isRequired,author:M.string,reactions:M.object,isFlagged:M.bool.isRequired,previewCollapsed:M.string,previewEnabled:M.bool,isBusy:M.bool,isEmbedVisible:M.bool,enableEmojiPicker:M.bool.isRequired,enablePostUsernameOverride:M.bool.isRequired,isReadOnly:M.bool.isRequired,pluginPostTypes:M.object,channelIsArchived:M.bool.isRequired,handleCardClick:M.func.isRequired,isLastPost:M.bool,shortcutReactToLastPostEmittedFrom:M.string,intl:uT.isRequired,actions:M.shape({markPostAsUnread:M.func.isRequired,emitShortcutReactToLastPostFrom:M.func}),emojiMap:M.object.isRequired,timestampProps:M.object}),u(SO,"defaultProps",{commentCount:0});var TO=S(SO);var AO=v((function(e,t){const n=Hi(),s=br(),r=Ie(e),o="true"===r.EnableEmojiPicker,i="true"===r.EnablePostUsernameOverride,a=t.teamId||ne(e),l=ee(e,t.post.channel_id),c=Ms(e),u=ea(e);return{author:s(e,t.post.user_id,!0),reactions:n(e,t.post.id),emojiMap:c,enableEmojiPicker:o,enablePostUsernameOverride:i,isEmbedVisible:Ii(e,t.post.id),isReadOnly:ta(e,t.post.channel_id),teamId:a,pluginPostTypes:e.plugins.postTypes,channelIsArchived:rt(l),isFlagged:null!=rr(e,he.CATEGORY_FLAGGED_POST,t.post.id,null),compactDisplay:rr(e,he.CATEGORY_DISPLAY_SETTINGS,he.MESSAGE_DISPLAY,he.MESSAGE_DISPLAY_DEFAULT)===he.MESSAGE_DISPLAY_COMPACT,shortcutReactToLastPostEmittedFrom:u}}),(function(e){return{actions:y({markPostAsUnread:Ei,emitShortcutReactToLastPostFrom:pi},e)}}))(TO);const PO=l(a({},{units:["now","minute","hour","day","week"],useTime:!1,day:"numeric"}),{units:["now","minute","hour","day","week","month","year"]});class IO extends h.Component{constructor(e){super(e),u(this,"scrollStopAction"),u(this,"rhspostlistRef"),u(this,"containerRef"),u(this,"postCreateContainerRef"),u(this,"handleResize",(()=>{this.setState({windowWidth:sa(),windowHeight:Vo()}),Tr()&&"reply_textbox"===document.activeElement.id&&this.scrollToBottom(),this.resizeRhsPostList()})),u(this,"handleCardClick",(e=>{e&&this.props.actions.selectPostCard(e)})),u(this,"handleCardClickPost",(e=>{e&&this.props.actions.selectPostCard(e)})),u(this,"filterPosts",((e,t,n)=>{const s=[];return e.forEach((e=>{"system_ephemeral"===e.type&&e.create_at<n||e.root_id===t.id&&s.unshift(e)})),s})),u(this,"scrollToBottom",(()=>{ZC(".post-right__scroll")[0]&&ZC(".post-right__scroll").parent().scrollTop(ZC(".post-right__scroll")[0].scrollHeight)})),u(this,"updateFloatingTimestamp",(()=>{if(We()&&this.props.posts){const e=this.rhspostlistRef.current.childNodes,t=this.rhspostlistRef.current.getBoundingClientRect();let n="";const s=100;for(let r=0;r<e.length;r++)if(e[r].offsetTop+t.top-s>0){n=this.props.posts[r].id;break}n!==this.state.topRhsPostId&&this.setState({topRhsPostId:n})}})),u(this,"handleScroll",(e=>{var t;this.updateFloatingTimestamp();const n=e.target,s=n.scrollHeight-n.getBoundingClientRect().height,r=n.scrollTop,o=null==(t=this.getLastPost())?void 0:t.getBoundingClientRect();if(this.state.isScrolling||this.setState({isScrolling:!0}),o){const e=r>=s-o.height;this.setState({userScrolledToBottom:e})}this.scrollStopAction.fireAfter(re.SCROLL_DELAY)})),u(this,"handleScrollStop",(()=>{this.setState({isScrolling:!1})})),u(this,"handlePostCommentResize",(()=>{this.resizeRhsPostList(),this.scrollToBottom()})),this.scrollStopAction=new JA(this.handleScrollStop);const t=(new Date).getTime();this.state={windowWidth:sa(),windowHeight:Vo(),isScrolling:!1,topRhsPostId:"",openTime:t,postsContainerHeight:0,userScrolledToBottom:!1},this.rhspostlistRef=h.createRef(),this.containerRef=h.createRef(),this.postCreateContainerRef=h.createRef()}static getDerivedStateFromProps(e,t){let n={selected:e.selected};return t.selected&&e.selected&&t.selected.id!==e.selected.id&&(n=l(a({},n),{openTime:(new Date).getTime()})),n}getLastPost(){var e;const t=null==(e=this.rhspostlistRef.current)?void 0:e.children;return t&&t[t.length-1]}resizeRhsPostList(){var e,t;const n=null==(e=this.containerRef.current)?void 0:e.getBoundingClientRect().height,s=null==(t=this.postCreateContainerRef.current)?void 0:t.getBoundingClientRect().height;n&&s&&this.setState({postsContainerHeight:n-(s+56)})}componentDidMount(){this.scrollToBottom(),this.resizeRhsPostList(),window.addEventListener("resize",this.handleResize),this.morePostsToFetch()&&this.props.actions.getPostThread(this.props.selected.id,!0),this.props.isCollapsedThreadsEnabled&&(null==this.props.userThread?this.fetchThread():this.markThreadRead())}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}morePostsToFetch(){var e;const t=ra(this.props.posts),n=(null==t?void 0:t.reply_count)||(null==(e=this.props.userThread)?void 0:e.reply_count)||0;return t&&this.props.posts.length<n+1}fetchThread(){this.props.actions.getThread(this.props.currentUserId,this.props.currentTeamId,this.props.selected.id,!0)}markThreadRead(){this.props.userThread&&(this.props.userThread.last_viewed_at<this.props.userThread.last_reply_at||this.props.userThread.unread_mentions||this.props.userThread.unread_replies)&&this.props.actions.updateThreadRead(this.props.currentUserId,this.props.currentTeamId,this.props.selected.id,Date.now())}componentDidUpdate(e){var t,n;const s=e.posts||[],r=this.props.posts||[],o=this.props.socketConnectionStatus&&!e.socketConnectionStatus,i=this.props.selected.id!==e.selected.id;if((o||i)&&(this.props.actions.getPostThread(this.props.selected.id),this.props.isCollapsedThreadsEnabled&&null==this.props.userThread&&this.fetchThread()),this.props.isCollapsedThreadsEnabled&&(null==(t=this.props.userThread)?void 0:t.id)!==(null==(n=e.userThread)?void 0:n.id)&&this.markThreadRead(),s.length>=r.length)return;(r[0].user_id===this.props.currentUserId||this.state.userScrolledToBottom)&&this.scrollToBottom()}shouldComponentUpdate(e,t){return!oa(t.postsArray,this.props.posts)||(!oa(t.selected,this.props.selected)||(!oa(e.userThread,this.props.userThread)||(e.previewEnabled!==this.props.previewEnabled||(t.isBusy!==this.state.isBusy||(t.isScrolling!==this.state.isScrolling||t.topRhsPostId!==this.state.topRhsPostId)))))}render(){if(null==this.props.posts||null==this.props.selected||!this.props.channel)return m(f.exports.Fragment,{children:"Here..."});const e=this.filterPosts(this.props.posts,this.props.selected,this.state.openTime),t=e.length,{selected:n,currentUserId:s}=this.props;let r=!1,o={};0===t?r=!0:o=e[t-1];let i=n.create_at;!i&&this.props.posts.length>0&&(i=this.props.posts[this.props.posts.length-1].create_at);const a=[];let l,c=1;for(let p=0;p<t;p++){const t=e[p],n=p>0?e[p-1].id:"",r=t.id?t.id:t.pending_post_id;a.push(m(dO,{post:t,previousPostId:n,teamId:this.props.channel.team_id,currentUserId:s,isBusy:this.state.isBusy,removePost:this.props.actions.removePost,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,handleCardClick:this.handleCardClickPost,a11yIndex:c++,isLastPost:t.id===o.id,timestampProps:this.props.useRelativeTimestamp?PO:void 0},r+"commentKey"))}const u=n.type===re.PostTypes.FAKE_PARENT_DELETED,d=0!==this.props.channel.delete_at;if(u||(l=m("div",d?{className:"channel-archived-warning",children:m(hT,{id:"archivedChannelMessage",defaultMessage:"You are viewing an **archived channel**. New messages cannot be posted."})}:{className:"post-create__container",ref:this.postCreateContainerRef,children:m(dR,{onHeightChange:this.handlePostCommentResize,channelId:n.channel_id,rootId:n.id,rootDeleted:n.state===ft.POST_DELETED,latestPostId:t>0?e[t-1].id:n.id})})),this.props.channel.type===re.DM_CHANNEL){const e=this.props.directTeammate;e&&e.delete_at&&(l=m("div",{className:"post-create-message",children:m(hT,{id:"create_post.deactivated",defaultMessage:"You are viewing an archived channel with a **deactivated user**. New messages cannot be posted."})}))}return m(f.exports.Fragment,{children:m("div",{className:E("ThreadViewer",this.props.className),ref:this.containerRef,children:_("div",{className:"post-right__scroll",children:[_("div",{role:"application","aria-label":ds("accessibility.sections.rhsContent","message details complimentary region"),className:"post-right__content a11y__region","data-a11y-sort-order":"3","data-a11y-focus-child":!0,"data-a11y-order-reversed":!0,children:[m(AO,{post:n,commentCount:t,teamId:this.props.channel.team_id,currentUserId:this.props.currentUserId,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isBusy:this.state.isBusy,handleCardClick:this.handleCardClick,isLastPost:r,timestampProps:this.props.useRelativeTimestamp?PO:void 0}),m("div",{ref:this.rhspostlistRef,className:"post-right-comments-container",children:a})]}),l]})})})}}var NO=v((function(){const e=ia();return function(t,{rootPostId:n}){const s=ce(t),r=ne(t),o=bt(t,n),i=ee(t,null==o?void 0:o.channel_id),a=oc(t);let l=[],c=null;o&&(l=e(t,{rootId:o.id}),c=Mt(t,o.id));const u=rr(t,he.CATEGORY_DISPLAY_SETTINGS,he.COLLAPSE_DISPLAY,he.COLLAPSE_DISPLAY_DEFAULT);return{isCollapsedThreadsEnabled:Mn(t),currentUserId:s,currentTeamId:r,userThread:c,selected:o,channel:i,posts:l,socketConnectionStatus:a.connected,previewCollapsed:u,previewEnabled:js(t,he.CATEGORY_DISPLAY_SETTINGS,he.LINK_PREVIEW_DISPLAY,"true"===he.LINK_PREVIEW_DISPLAY_DEFAULT),directTeammate:aa(t,null==i?void 0:i.id)}}}),(function(e){return{actions:y({removePost:Ri,getPostThread:la,selectPostCard:ca,getThread:Ot,updateThreadRead:ua},e)}}))(IO);var kO="u3-cxx-c8ea5247",RO="u3-cxx-b2a001aa";var MO=f.exports.memo((({selected:e,posts:t,channel:n,previousRhsState:s})=>null!=t&&null!=e&&n?_("div",{id:"rhsContainer",className:kO,children:[m($A,{rootPostId:e.id,channel:n,previousRhsState:s}),m(NO,{rootPostId:e.id,useRelativeTimestamp:!1,className:RO})]}):m("div",{})));var OO=v((function(){const e=ia();return function(t){const n=vr(t),s=oc(t),r=da(t);let o=[];n&&(o=e(t,{rootId:n.id}));const i=rr(t,he.CATEGORY_DISPLAY_SETTINGS,he.COLLAPSE_DISPLAY,he.COLLAPSE_DISPLAY_DEFAULT);return{selected:n,channel:r,posts:o,socketConnectionStatus:s.connected,previewCollapsed:i,previewEnabled:js(t,he.CATEGORY_DISPLAY_SETTINGS,he.LINK_PREVIEW_DISPLAY,"true"===he.LINK_PREVIEW_DISPLAY_DEFAULT),directTeammate:aa(t,null==r?void 0:r.id)}}}),(function(e){return{actions:y({removePost:Ri,selectPostCard:ca,getPostThread:la},e)}}))(MO),LO={};class DO extends h.PureComponent{constructor(e){super(e),u(this,"setPrevious",(()=>{this.props.isOpen&&(this.previous={searchVisible:this.props.searchVisible,isMentionSearch:this.props.isMentionSearch,isPinnedPosts:this.props.isPinnedPosts,isChannelFiles:this.props.isChannelFiles,isFlaggedPosts:this.props.isFlaggedPosts,selectedPostId:this.props.selectedPostId,selectedPostCardId:this.props.selectedPostCardId,previousRhsState:this.props.previousRhsState})})),u(this,"handleShortcut",(e=>{jo(e)&&Ns(e,re.KeyCodes.PERIOD)&&(e.preventDefault(),this.props.isOpen?this.props.actions.closeRightHandSide():this.props.actions.openAtPrevious(this.previous))})),u(this,"determineTransition",(()=>{const e=window.getComputedStyle(this.sidebarRight.current).getPropertyValue("transition"),t=Boolean(e)&&"all 0s ease 0s"!==e;this.sidebarRight.current&&t?(this.setState({isOpened:this.props.isOpen}),this.sidebarRight.current.addEventListener("transitionend",this.onFinishTransition)):(this.setState({isOpened:!0}),this.sidebarRight.current&&this.sidebarRight.current.removeEventListener("transitionend",this.onFinishTransition))})),u(this,"onFinishTransition",(e=>{"transform"===e.propertyName&&this.setState({isOpened:this.props.isOpen})})),u(this,"onShrink",(()=>{this.props.actions.setRhsExpanded(!1)})),u(this,"handleUpdateSearchTerms",(e=>{this.props.actions.updateSearchTerms(e),this.focusSearchBar()})),u(this,"getSearchBarFocus",(e=>{this.focusSearchBar=e})),this.sidebarRight=h.createRef(),this.state={isOpened:!1}}componentDidMount(){window.addEventListener("resize",this.determineTransition),document.addEventListener("keydown",this.handleShortcut),this.determineTransition()}componentWillUnmount(){window.removeEventListener("resize",this.determineTransition),document.removeEventListener("keydown",this.handleShortcut),this.sidebarRight.current&&this.sidebarRight.current.removeEventListener("transitionend",this.onFinishTransition)}componentDidUpdate(e){const t=e.searchVisible||e.postRightVisible,n=this.props.searchVisible||this.props.postRightVisible;!t&&n&&this.determineTransition();const{actions:s,isChannelFiles:r,isPinnedPosts:o,rhsChannel:i,channel:a}=this.props;o&&e.isPinnedPosts===o&&i.id!==e.rhsChannel.id&&s.showPinnedPosts(i.id),r&&e.isChannelFiles===r&&i.id!==e.rhsChannel.id&&s.showChannelFiles(i.id),a&&e.channel&&a.id!==e.channel.id&&this.props.actions.setRhsExpanded(!1),this.setPrevious()}render(){const{rhsChannel:e,isFlaggedPosts:t,isPinnedPosts:n,isChannelFiles:s,postRightVisible:r,postCardVisible:o,previousRhsState:i,searchVisible:a,isPluginView:l,isOpen:c,isExpanded:u}=this.props;let d=null;const p=(r||o||l||a)&&u;if(!0===r)d=_("div",{className:"post-right__container",children:[m(FA,{overlayType:"right"}),m(OO,{previousRhsState:i,toggleSize:this.toggleSize,shrink:this.onShrink})]});return _("div",{className:E(LO.sidebarRight,"sidebar--right",{"sidebar--right--expanded":p},{"move--left":c}),id:"sidebar-right",role:"complementary",ref:this.sidebarRight,children:[m("div",{onClick:this.onShrink,className:"sidebar--right__bg"}),m("div",{className:"sidebar-right-container",children:d})]})}}u(DO,"propTypes",{isExpanded:M.bool.isRequired,isOpen:M.bool.isRequired,channel:M.object,postRightVisible:M.bool,postRightSameAsSelectedThread:M.bool,postCardVisible:M.bool,searchVisible:M.bool,isMentionSearch:M.bool,isFlaggedPosts:M.bool,isPinnedPosts:M.bool,isChannelFiles:M.bool,isPluginView:M.bool,previousRhsState:M.string,rhsChannel:M.object,selectedPostId:M.string,selectedPostCardId:M.string,actions:M.shape({setRhsExpanded:M.func.isRequired,showPinnedPosts:M.func.isRequired,openRHSSearch:M.func.isRequired,closeRightHandSide:M.func.isRequired,openAtPrevious:M.func.isRequired,updateSearchTerms:M.func.isRequired,showChannelFiles:M.func.isRequired})});var jO=v((function(e){const t=rs(e),n=Ye(e),s=pa(e),r=ha(e);return{isExpanded:oo(e),isOpen:ss(e),channel:n,postRightVisible:Boolean(s),postCardVisible:Boolean(r),searchVisible:Boolean(t)&&t!==os.PLUGIN,previousRhsState:fa(e),isMentionSearch:t===os.MENTION,isFlaggedPosts:t===os.FLAG,isPinnedPosts:t===os.PIN,isChannelFiles:t===os.CHANNEL_FILES,isPluginView:t===os.PLUGIN,rhsChannel:da(e),selectedPostId:s,selectedPostCardId:r}}),(function(e){return{actions:y({setRhsExpanded:io,showPinnedPosts:uo,openRHSSearch:ma,closeRightHandSide:hn,openAtPrevious:ga,updateSearchTerms:va,showChannelFiles:po},e)}}))(DO);var FO="u3-cxx-2c481c3b",UO="u3-cxx-25a0aeb3";const HO=re.KeyCodes;class BO extends h.PureComponent{constructor(e){super(e),u(this,"setShowPreview",(e=>{this.props.actions.setShowPreview(e)})),u(this,"getContainer",(()=>this.editModalBody.current)),u(this,"toggleEmojiPicker",(()=>{this.setState({showEmojiPicker:!this.state.showEmojiPicker}),!this.state.showEmojiPicker&&this.editbox&&this.editbox.focus()})),u(this,"hideEmojiPicker",(()=>{this.setState({showEmojiPicker:!1}),this.editbox&&this.editbox.focus()})),u(this,"handleEmojiClick",(e=>{const t=e&&(e.name||e.aliases&&e.aliases[0]);if(t){if(""===this.state.editText)this.setState({editText:":"+t+": "});else{const{editText:e}=this.state,{firstPiece:n,lastPiece:s}=No(this.state.caretPosition,e),r=""===n?`:${t}: ${s}`:`${n} :${t}: ${s}`,o=""===n?`:${t}: `.length:`${n} :${t}: `.length,i=this.editbox.getInputBox();this.setState({editText:r,caretPosition:o},(()=>{qo(i,o)}))}this.setState({showEmojiPicker:!1}),this.editbox&&this.editbox.focus()}})),u(this,"handleGifClick",(e=>{if(""===this.state.editText)this.setState({editText:e});else{const t=/\s+$/.test(this.state.editText)?this.state.editText+e:this.state.editText+" "+e;this.setState({editText:t})}this.setState({showEmojiPicker:!1}),this.editbox.focus()})),u(this,"getTarget",(()=>this.refs.editPostEmoji)),u(this,"handlePostError",(e=>{this.state.postError!==e&&this.setState({postError:e})})),u(this,"handleEdit",(async()=>{if(this.isSaveDisabled())return;const{actions:e,editingPost:t}=this.props,n={message:this.state.editText,id:t.postId,channel_id:t.post.channel_id};if(this.state.postError)return this.setState({errorClass:"animation--highlight"}),void setTimeout((()=>{this.setState({errorClass:null})}),re.ANIMATION_TIMEOUT);if(n.message===(t.post.message_source||t.post.message))return void this.handleHide();const s=t.post.file_ids&&t.post.file_ids.length>0;if(0===n.message.trim().length&&!s){this.handleHide(!1);const e={ModalId:Ur.DELETE_POST,dialogType:hR,dialogProps:{post:t.post,commentCount:t.commentCount,isRHS:t.isRHS}};return void this.props.actions.openModal(e)}e.addMessageIntoHistory(n.message);await e.editPost(n)&&window.scrollTo(0,0),this.handleHide()})),u(this,"handleChange",(e=>{const t=e.target.value;this.setState({editText:t})})),u(this,"handlePaste",(e=>{if(!e.clipboardData||!e.clipboardData.items||!this.props.canEditPost||"edit_textbox"!==e.target.id)return;const{clipboardData:t}=e,n=dP(t);if(!n)return;e.preventDefault();const{editText:s}=this.state;let r=s,o=this.state.caretPosition;if(pP(n.className)){const{formattedMessage:e,formattedCodeBlock:n}=mP(this.state.caretPosition,r,t);o=this.state.caretPosition+n.length,r=e}else r=fP(n,s.trim(),o),o=r.length-(s.length-o);this.setState({editText:r,caretPosition:o},(()=>{qo(this.editbox.getInputBox(),o)}))})),u(this,"handleEditKeyPress",(e=>{const{ctrlSend:t,codeBlockOnCtrlEnter:n}=this.props,{allowSending:s,ignoreKeyPress:r}=Zo(e,this.state.editText,t,n,Date.now(),this.lastChannelSwitchAt,this.state.caretPosition);if(r)return e.preventDefault(),void e.stopPropagation();s&&(e.preventDefault(),this.editbox.blur(),this.handleEdit())})),u(this,"handleMouseUpKeyUp",(e=>{const t=ti(e.target);this.setState({caretPosition:t})})),u(this,"handleSelect",(e=>{ni(this.editbox.getInputBox(),e)})),u(this,"handleKeyDown",(e=>{const{ctrlSend:t,codeBlockOnCtrlEnter:n}=this.props,s=e.ctrlKey||e.metaKey,r=jo(e)&&!e.altKey&&!e.shiftKey,o=jo(e,!0)&&e.altKey,i=(t||n)&&Ns(e,HO.ENTER)&&s,a=Ns(e,HO.B)||Ns(e,HO.I),l=Ns(e,HO.K);si(e)?(e.stopPropagation(),this.setState({editText:ri(e)})):i?this.handleEdit():Ns(e,HO.ESCAPE)&&!this.state.showEmojiPicker?this.handleHide():(r&&a||o&&l)&&this.applyHotkeyMarkdown(e)})),u(this,"applyHotkeyMarkdown",(e=>{const t=oi(e);this.setState({editText:t.message},(()=>{const e=this.editbox.getInputBox();ii(e,t.selectionStart,t.selectionEnd)}))})),u(this,"handleHide",((e=!0)=>{this.refocusId=e?this.props.editingPost.refocusId:null,this.props.actions.hideEditPostModal()})),u(this,"handleCheckForChangesHide",(()=>{this.state.editText===this.props.editingPost.post.message&&this.handleHide()})),u(this,"handleEntered",(()=>{this.editbox&&(this.editbox.focus(),this.editbox.recalculateSize())})),u(this,"handleHeightChange",((e,t)=>{this.editbox&&this.setState({renderScrollbar:e>t,scrollbarWidth:ai(this.editbox.getInputBox())})})),u(this,"handleExit",(()=>{this.props.actions.setShowPreview(!1)})),u(this,"handleExited",(()=>{const e=this.refocusId;e&&setTimeout((()=>{const t=document.getElementById(e);t&&t.focus()})),this.refocusId=null,this.setState({editText:"",postError:"",errorClass:null,showEmojiPicker:!1,prevShowState:!1}),this.props.actions.setShowPreview(!1)})),u(this,"setEditboxRef",(e=>{this.editbox=e,this.editbox&&this.editbox.focus()})),u(this,"isSaveDisabled",(()=>{const e=this.props.editingPost.post;return e&&e.file_ids&&e.file_ids.length>0||""!==this.state.editText.trim()?!this.props.canEditPost:!this.props.canDeletePost})),this.state={editText:"",caretPosition:"".length,postError:"",errorClass:null,showEmojiPicker:!1,renderScrollbar:!1,scrollbarWidth:0,prevShowState:e.editingPost.show},this.editModalBody=h.createRef()}static getDerivedStateFromProps(e,t){return e.editingPost.show&&!t.prevShowState?{editText:e.editingPost.post.message_source||e.editingPost.post.message,prevShowState:e.editingPost.show}:null}componentDidMount(){document.addEventListener("paste",this.handlePaste)}componentWillUnmount(){document.removeEventListener("paste",this.handlePaste)}render(){this.props.intl;const e="edit-post-footer"+(this.state.postError?" has-error":"");let t=null;if(this.state.postError){const e="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");t=m("label",{className:e,children:this.state.postError})}const n=!!this.props.editingPost&&this.props.editingPost.show;return _(GC,{dialogClassName:"a11y__modal edit-modal",show:n,onHide:this.handleCheckForChangesHide,onEntered:this.handleEntered,onExit:this.handleExit,onExited:this.handleExited,"aria-labelledby":"editPostModalLabel",children:[m(zC,{closeButton:!1,children:m(YC,{componentClass:"h1",id:"editPostModalLabel",children:m(D,{id:"edit_post.edit",defaultMessage:"Edit {title}",values:{title:this.props.editingPost.title}})})}),m(VC,{children:_("div",{className:E("post-create__container",FO),ref:this.editModalBody,children:[m("div",{className:E("textarea-wrapper",UO,{scroll:this.state.renderScrollbar}),style:this.state.renderScrollbar&&this.state.scrollbarWidth?{"--detected-scrollbar-width":`${this.state.scrollbarWidth}px`}:void 0,children:m(oR,{tabIndex:0,onChange:this.handleChange,onKeyPress:this.handleEditKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onMouseUp:this.handleMouseUpKeyUp,onKeyUp:this.handleMouseUpKeyUp,onHeightChange:this.handleHeightChange,handlePostError:this.handlePostError,value:this.state.editText,channelId:this.props.editingPost.post&&this.props.editingPost.post.channel_id,emojiEnabled:!1,createMessage:ds("edit_post.editPost","Edit the post..."),supportsCommands:!1,suggestionListStyle:"bottom",id:"edit_textbox",ref:this.setEditboxRef,characterLimit:this.props.maxPostSize,preview:!1,useChannelMentions:this.props.useChannelMentions})}),m("div",{className:"post-create-footer",children:m("div",{className:e,children:t})})]})}),_(WC,{children:[m("button",{id:"editButton",type:"button",className:"u3-btn u3-btn-primary",disabled:this.isSaveDisabled(),onClick:this.handleEdit,children:m(D,{id:"edit_post.save",defaultMessage:"Save"})}),m("button",{type:"button",className:"u3-btn u3-btn-link",onClick:()=>this.handleHide(!0),children:m(D,{id:"edit_post.cancel",defaultMessage:"Cancel"})})]})]})}}u(BO,"propTypes",{canEditPost:M.bool,canDeletePost:M.bool,codeBlockOnCtrlEnter:M.bool,ctrlSend:M.bool,config:M.object.isRequired,intl:uT.isRequired,maxPostSize:M.number.isRequired,shouldShowPreview:M.bool.isRequired,useChannelMentions:M.bool.isRequired,editingPost:M.shape({post:M.object,postId:M.string,refocusId:M.string,commentCount:M.number,show:M.bool.isRequired,title:M.string,isRHS:M.bool}).isRequired,actions:M.shape({addMessageIntoHistory:M.func.isRequired,editPost:M.func.isRequired,hideEditPostModal:M.func.isRequired,openModal:M.func.isRequired,setShowPreview:M.func.isRequired}).isRequired});var qO=S(BO);var GO=v((function(e){var t;const n=Ie(e),s=ya(e),r=ce(e),o=(null==(t=null==s?void 0:s.post)?void 0:t.channel_id)||St(e),i=ne(e);let a=!1,l=!1;s&&s.post&&s.post.user_id===r?(a=Ws(e,{channel:o,team:i,permission:vn.DELETE_POST}),l=Ws(e,{channel:o,team:i,permission:vn.EDIT_POST})):(a=Ws(e,{channel:o,team:i,permission:vn.DELETE_OTHERS_POSTS}),l=Ws(e,{channel:o,team:i,permission:vn.EDIT_OTHERS_POSTS}));const c=Ws(e,{channel:o,team:i,permission:vn.USE_CHANNEL_MENTIONS});return s.post=s.post||{},{canEditPost:l,canDeletePost:a,codeBlockOnCtrlEnter:js(e,Pe.CATEGORY_ADVANCED_SETTINGS,"code_block_ctrl_enter",!0),ctrlSend:js(e,Pe.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),config:n,editingPost:s,channelId:o,shouldShowPreview:aP(e),maxPostSize:parseInt(n.MaxPostSize||"0",10)||re.DEFAULT_CHARACTER_LIMIT,useChannelMentions:c}}),(function(e){return{actions:y({addMessageIntoHistory:vo,editPost:SM,hideEditPostModal:ba,openModal:mr,setShowPreview:uP},e)}}))(qO);function zO(e){return e.views.lhs.isOpen}let VO=!1;function WO(e,t,n,s){return async(r,o)=>{if(VO)return{data:!1};const{data:i}=await r(la(e));if(!i)return(s||et).replace(`/error?type=${Wn.PERMALINK_NOT_FOUND}&returnTo=${t}`),{data:!0};const a=o(),l=i.posts[i.order[0]].channel_id;let c=a.entities.channels.channels[l];const u=tt(a),d=u.id;if(!c){const{data:e}=await r(_a(l));if(!e)return(s||et).replace(`/error?type=${Wn.PERMALINK_NOT_FOUND}&returnTo=${t}`),{data:!1};c=e}let p=a.entities.channels.myMembers[l];if(!p){if(c.type===re.DM_CHANNEL||c.type===re.GM_CHANNEL)return(s||et).replace(`/error?type=${Wn.PERMALINK_NOT_FOUND}&returnTo=${t}`),{data:!1};const e=await r(_n(c.id,n));if("data"in e&&(p=e.data),!p){const e=on(a);if(c.type===re.PRIVATE_CHANNEL&&lr(e.roles)){VO=!0;const e=await r(wa(u,c));if(VO=!1,"data"in e&&!e.data.join)return{data:!1}}await r(xa(n,"",l,""))}}if(c.team_id&&c.team_id!==d)return(s||et).replace(`/error?type=${Wn.PERMALINK_NOT_FOUND}&returnTo=${t}`),{data:!1};c&&c.type===re.DM_CHANNEL?r(oe(c.id)):c&&c.type===re.GM_CHANNEL&&r(ie(c.id)),r(Ca(l)),r({type:Ee.RECEIVED_FOCUSED_POST,data:e,channelId:l});const h=ln(a,c.team_id||d);if(c.type===re.DM_CHANNEL){const t=Ea(c.name),n=fn(a,t);(s||et).replace(`/${h.name}/messages/@${n.username}/${e}`)}else c.type===re.GM_CHANNEL?(s||et).replace(`/${h.name}/messages/${c.name}/${e}`):(s||et).replace(`/${h.name}/group/${c.name}/${e}`);return r(ql()),r(Yt(l)),{data:!0}}}class YO extends h.PureComponent{constructor(e){super(e),u(this,"mounted"),u(this,"doPermalinkEvent",(async e=>{const t=e.match.params.postId;await this.props.actions.focusPost(t,this.props.returnTo,this.props.currentUserId,e.history),this.mounted&&this.setState({valid:!0})})),u(this,"isStateValid",(()=>this.state.valid&&this.props.channelId&&this.props.teamName)),this.state={valid:!1},this.mounted=!1}static getDerivedStateFromProps(e,t){let n={postid:e.match.params.postId,valid:t.valid};return t.postid!==e.match.params.postId&&(n.valid=!1),n}componentDidMount(){this.mounted=!0,this.doPermalinkEvent(this.props),document.body.classList.add("app__body")}componentDidUpdate(){this.state.valid||this.doPermalinkEvent(this.props)}componentWillUnmount(){this.mounted=!1}render(){return this.isStateValid()?null:m("div",{id:"app-content",className:"app__content"})}}var KO=v((function(e){const t=tt(e),n=Ye(e),s=ce(e);return{channelId:n?n.id:"",teamName:t?t.name:"",currentUserId:s}}),(function(e){return{actions:y({focusPost:WO},e)}}))(YO);const $O=new RegExp("^[a-zA-Z0-9]{26}__[a-zA-Z0-9]{26}$");function JO({match:e,history:t}){return async(n,s)=>{const r=s(),{path:o,identifier:i,team:a}=e.params;if(!i)return{data:void 0};const l=Sa(r,a);if(!l)return{data:void 0};const c=function(e,t,n){if("group"===t){const t=ue(e,n),s=Ra(e).find((e=>e.name===n));return 26===n.length?t||s?"channel_name":"channel_id":!t&&!s&&40===n.length||t&&t.type===re.GM_CHANNEL||s&&s.type===re.GM_CHANNEL?"group_channel_group_id":function(e){return 54===e.length&&$O.test(e)}(n)?"direct_channel_user_ids":"channel_name"}if("messages"===t)return 0===n.indexOf("@")?"direct_channel_username":n.indexOf("@")>0?"direct_channel_email":26===n.length?"direct_channel_user_id":40===n.length?"group_channel_group_id":"error";return"error"}(r,o,i);switch(c){case"channel_name":await n(function(e,t){return async(n,s)=>{const r=s(),{team:o,identifier:i}=e.params,a=i.toLowerCase(),l=Sa(r,o);if(!l)return{data:void 0};let c,u=Na(r,l.id)[a];if(!u){const e=await n(ka(o,a,!0));"data"in e&&(u=e.data)}if(u&&(c=r.entities.channels.myMembers[u.id],!c)){const e=await n(_n(u.id,ce(r)));"data"in e&&(c=e.data)}if(!u||!c){const i=on(s());if(lr(null==i?void 0:i.roles)&&u.type===re.PRIVATE_CHANNEL){const e=await n(wa(l,u));if("data"in e&&!e.data.join)return{data:void 0}}const c=await n(gs(ce(r),l.id,"",a));if("error"in c){if(!u){const s=await n(ka(o,a,!0));if("error"in s||0===s.data.delete_at)return await n(le(l.id,0,20)),tL(e,t,Xe(r,l.id)),{data:void 0};u=s.data}}else u=c.data.channel}return u.type===re.DM_CHANNEL?n(QO(e,t)):u.type===re.GM_CHANNEL?t.replace(`/${o}/messages/${u.name}`):ZO(u),{data:void 0}}}(e,t));break;case"channel_id":await n(function(e,t){return async(n,s)=>{const r=s(),{team:o,identifier:i}=e.params,a=i.toLowerCase();let l=ee(r,a);const c=r.entities.channels.myMembers[a],u=Sa(r,o);if(!l||!c){const s=await n(gs(ce(r),u.id,a,""));if("error"in s)return await n(le(u.id,0,20)),tL(e,t,Xe(r,u.id)),{data:void 0};l=s.data.channel}return l.type===re.DM_CHANNEL?n(XO(e,t,Ea(l.name,ce(r)))):l.type===re.GM_CHANNEL?t.replace(`/${o}/messages/${l.name}`):t.replace(`/${o}/group/${l.name}`),{data:void 0}}}(e,t));break;case"group_channel_group_id":await n(function(e,t){return async(n,s)=>{const r=s(),{identifier:o,team:i}=e.params,a=o.toLowerCase();t.replace(e.url.replace("/group/","/messages/"));let l=ue(r,a);const c=Sa(r,i);if(!l){const s=await n(gs(ce(r),c.id,"",a));if("error"in s)return await n(le(c.id,0,20)),eL(e,t,Xe(r,c.id)),{data:void 0};l=s.data.channel}return n(Ia(l.id)),ZO(l),{data:void 0}}}(e,t));break;case"direct_channel_username":await n(function(e,t){return async(n,s)=>{const r=s(),{team:o,identifier:i}=e.params,a=i.slice(1,i.length).toLowerCase(),l=Sa(r,o);let c=Ze(r,a);if(!c){const s=await n(Pa(a));if("error"in s)return await n(le(l.id,0,20)),eL(e,t,Xe(r,l.id)),{data:void 0};c=s.data}const u=await n(Bl(c.id));return"error"in u?(await n(le(l.id,0,20)),eL(e,t,Xe(r,l.id)),{data:void 0}):(ZO(u.data),{data:void 0})}}(e,t));break;case"direct_channel_email":await n(function(e,t){return async(n,s)=>{const r=s(),{team:o,identifier:i}=e.params,a=i.toLowerCase(),l=Sa(r,o);let c=Ta(r,a);if(!c){const s=await n(Aa(a));if("error"in s)return await n(le(l.id,0,20)),eL(e,t,Xe(r,l.id)),{data:void 0};c=s.data}return t.replace(`/${o}/messages/@${c.username}`),{data:void 0}}}(e,t));break;case"direct_channel_user_ids":await n(QO(e,t));break;case"direct_channel_user_id":await n(XO(e,t,i));break;case"error":await n(le(l.id,0,20)),eL(e,t,Xe(r,l.id))}return{data:void 0}}}function XO(e,t,n){return async(s,r)=>{const o=r(),{team:i}=e.params,a=Sa(o,i);let l=fn(o,n);if(!l){const r=await s(mn(n));if("error"in r)return await s(le(a.id,0,20)),eL(e,t,Xe(o,a.id)),{data:void 0};l=r.data}return t.replace(`/${i}/messages/@${l.username}`),{data:void 0}}}function QO(e,t){return async(n,s)=>{const r=s(),{team:o,identifier:i}=e.params,a=Ea(i.toLowerCase(),ce(s())),l=Sa(r,o);let c=fn(r,a);if(!c){const s=await n(mn(a));if("error"in s)return await n(le(l.id,0,20)),eL(e,t,Xe(r,l.id)),{data:void 0};c=s.data}return t.replace(`/${o}/messages/@${c.username}`),{data:void 0}}}function ZO(e){!function(e){function t(e){const t=zc(),n=ce(t),s=e.team_id||ne(t),r=ss(t),o=rs(t)===os.PIN,i=rs(t)===os.CHANNEL_FILES,a=is(t,e.id),l=St(t);Gc(Yt(e.id));const c=we.getPreviousChannelName(n,s);c!==e.name&&(we.setPenultimateChannelName(n,s,c),we.setPreviousChannelName(n,s,e.name)),r&&o&&Gc(as(os.PIN,e.id)),r&&i&&Gc(as(os.CHANNEL_FILES,e.id)),l&&ae(),Gc(d([{type:Wt.SELECT_CHANNEL,data:e.id},{type:Ee.SELECT_CHANNEL_WITH_MEMBER,data:e.id,channel:e,member:a||{}}])),Zl(t)&&Gc(ec(n,e.id))}e.fake?async function(e,t,n){const s=zc(),r=ce(s),o=ns(e),i=await de(r,o)(Gc,zc);"data"in i?t(i.data):n()}(e,(e=>{t(e)}),(()=>{et.push("/")})):t(e)}(e)}function eL(e,t,n){const{team:s}=e.params;t.push(s?`/${s}/group/${n}`:"/")}async function tL(e,t,n){const{team:s}=e.params;t.push(s?`/error?type=channel_not_found&returnTo=/${s}/group/${n}`:"/")}var nL=bp.jsx;var sL=function(e){return nL("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:nL("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z",clipRule:"evenodd"})}))};var rL=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},oL=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),iL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},aL=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},lL=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],s=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(s=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);s=!0);}catch(l){r=!0,o=l}finally{try{!s&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},cL=void 0;cL="undefined"!=typeof window?window:"undefined"!=typeof self?self:global;var uL=null,dL=null,pL=cL.clearTimeout,hL=cL.setTimeout,fL=cL.cancelAnimationFrame||cL.mozCancelAnimationFrame||cL.webkitCancelAnimationFrame,mL=cL.requestAnimationFrame||cL.mozRequestAnimationFrame||cL.webkitRequestAnimationFrame;function gL(e){var t=void 0,n=void 0,s=void 0,r=void 0,o=void 0,i=void 0,a=void 0,l="undefined"!=typeof document&&document.attachEvent;if(!l){i=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,s=t.lastElementChild,r=n.firstElementChild;s.scrollLeft=s.scrollWidth,s.scrollTop=s.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},a=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;i(this),this.__resizeRAF__&&uL(this.__resizeRAF__),this.__resizeRAF__=dL((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}};var c=!1,u="";s="animationstart";var d="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(c=!0),!1===c)for(var f=0;f<d.length;f++)if(void 0!==h.style[d[f]+"AnimationName"]){u="-"+d[f].toLowerCase()+"-",s=p[f],c=!0;break}t="@"+u+"keyframes "+(n="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",r=u+"animation: 1ms "+n+"; "}return{addResizeListener:function(o,c){if(l)o.attachEvent("onresize",c);else{if(!o.__resizeTriggers__){var u=o.ownerDocument,d=cL.getComputedStyle(o);d&&"static"===d.position&&(o.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){var s=(t||"")+".resize-triggers { "+(r||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=n.head||n.getElementsByTagName("head")[0],i=n.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=s:i.appendChild(n.createTextNode(s)),o.appendChild(i)}}(u),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=u.createElement("div")).className="resize-triggers";var p=u.createElement("div");p.className="expand-trigger",p.appendChild(u.createElement("div"));var h=u.createElement("div");h.className="contract-trigger",o.__resizeTriggers__.appendChild(p),o.__resizeTriggers__.appendChild(h),o.appendChild(o.__resizeTriggers__),i(o),o.addEventListener("scroll",a,!0),s&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&i(o)},o.__resizeTriggers__.addEventListener(s,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(c)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",a,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(s,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(bU){}}}}}null==fL||null==mL?(uL=pL,dL=function(e){return hL(e,20)}):(uL=function(e){var t=lL(e,2),n=t[0],s=t[1];fL(n),pL(s)},dL=function(e){var t=mL((function(){pL(n),e()})),n=hL((function(){fL(t),e()}),20);return[t,n]});var vL=function(e){function t(){var e,n,s;rL(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=s=aL(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),s.state={height:s.props.defaultHeight||0,width:s.props.defaultWidth||0},s._onResize=function(){var e=s.props,t=e.disableHeight,n=e.disableWidth,r=e.onResize;if(s._parentNode){var o=s._parentNode.offsetHeight||0,i=s._parentNode.offsetWidth||0,a=window.getComputedStyle(s._parentNode)||{},l=parseInt(a.paddingLeft,10)||0,c=parseInt(a.paddingRight,10)||0,u=parseInt(a.paddingTop,10)||0,d=parseInt(a.paddingBottom,10)||0,p=o-u-d,h=i-l-c;(!t&&s.state.height!==p||!n&&s.state.width!==h)&&(s.setState({height:o-u-d,width:i-l-c}),r({height:o,width:i}))}},s._setRef=function(e){s._autoSizer=e},aL(s,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.exports.PureComponent),oL(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=gL(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,s=e.disableHeight,r=e.disableWidth,o=e.style,i=this.state,a=i.height,l=i.width,c={overflow:"visible"},u={},d=!1;return s||(0===a&&(d=!0),c.height=0,u.height=a),r||(0===l&&(d=!0),c.width=0,u.width=l),f.exports.createElement("div",{className:n,ref:this._setRef,style:iL({},c,o)},!d&&t(u))}}]),t}();vL.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var yL=function(e,t){return e===t};function bL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yL,n=void 0,s=[],r=void 0,o=!1,i=function(e,n){return t(e,s[n])},a=function(){for(var t=arguments.length,a=Array(t),l=0;l<t;l++)a[l]=arguments[l];return o&&n===this&&a.length===s.length&&a.every(i)?r:(o=!0,n=this,s=a,r=e.apply(this,a))};return a}function _L(){var e=window.navigator.userAgent;return-1!==e.indexOf("Safari")&&-1===e.indexOf("Chrome")}var wL=_L(),xL={display:"inline",width:"0px",height:"0px",zIndex:"-1",overflow:"hidden",margin:"0px",padding:"0px"},CL={position:"absolute",flex:"0 0 auto",overflow:"hidden",visibility:"hidden",zIndex:"-1",width:"100%",height:"100%",left:"0px",top:"0px"},EL={flex:"0 0 auto",overflow:"hidden",zIndex:"-1",visibility:"hidden",left:"-9px",bottom:"-8px",right:"-8px",top:"-9px"},SL={position:"absolute",flex:"0 0 auto",visibility:"hidden",overflow:"scroll",zIndex:"-1",width:"100%",height:"100%"},TL={position:"absolute",height:"200%",width:"200%"},AL=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))||this)._node=null,t._resizeSensorExpand=h.createRef(),t._resizeSensorShrink=h.createRef(),t._positionScrollbarsRef=null,t._measureItemAnimFrame=null,t.positionScrollBars=function(e,n){void 0===e&&(e=t.props.size),void 0===n&&(n=t.props.width),t._positionScrollbarsRef&&window.cancelAnimationFrame(t._positionScrollbarsRef),t._positionScrollbarsRef=window.requestAnimationFrame((function(){t._resizeSensorExpand.current.scrollTop=e+27,t._resizeSensorShrink.current.scrollTop=2*e+17}))},t.scrollingDiv=function(e){e.target.offsetHeight!==t.props.size&&t._measureItem(e.target.offsetWidth!==t.props.width)},t.renderItems=function(){var e=t.props.item,n={position:"absolute",left:"0",top:"0",height:t.props.size+27+"px",width:"100%"};return _("div",{style:{position:"relative"},children:[e,m("div",{style:xL,children:m("div",{dir:"ltr",style:CL,children:_("div",{style:EL,children:[m("div",{style:SL,ref:t._resizeSensorExpand,onScroll:t.scrollingDiv,children:m("div",{style:n})}),m("div",{style:SL,ref:t._resizeSensorShrink,onScroll:t.scrollingDiv,children:m("div",{style:TL})})]})})})]})},t._measureItem=function(e){var n=t.props,s=n.handleNewMeasurements,r=n.size,o=n.itemId,i=t._node;if(i&&i.ownerDocument&&i.ownerDocument.defaultView&&i instanceof i.ownerDocument.defaultView.HTMLElement){var a=Math.ceil(i.offsetHeight);r!==a&&s(o,a,e)}},t}W(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._node=w.exports.findDOMNode(this),wL&&this.props.size?this._measureItemAnimFrame=window.requestAnimationFrame((function(){e._measureItem(!1)})):this._measureItem(!1),this.props.size&&this.positionScrollBars()},n.componentDidUpdate=function(e){(0===e.size&&0!==this.props.size||e.size!==this.props.size)&&this.positionScrollBars()},n.componentWillUnmount=function(){this._positionScrollbarsRef&&window.cancelAnimationFrame(this._positionScrollbarsRef),this._measureItemAnimFrame&&window.cancelAnimationFrame(this._measureItemAnimFrame);var e=this.props,t=e.onUnmount,n=e.itemId,s=e.index;t&&t(n,s)},n.render=function(){return this.renderItems()},t}(f.exports.Component),PL=function(e,t,n){var s=n.itemOffsetMap,r=n.itemSizeMap,o=e.itemData;return r[o[t]]?{offset:s[o[t]]||0,size:r[o[t]]||0}:{offset:0,size:0}},IL=function(e,t,n){return PL(e,t,n).offset},NL=function(e,t,n){var s=n.totalMeasuredSize,r=e.itemData;return t<=s?function(e,t,n,s,r){for(var o=s;s<=n;)r-PL(e,s,t).offset<=0&&(o=s),s++;return o}(e,n,r.length,0,t):0},kL=function(e,t,n){return PL(e,t,n).size},RL=function(e){function t(t){var n;return(n=e.call(this,t)||this)._listMetaData={itemOffsetMap:{},itemSizeMap:{},totalMeasuredSize:0,atBottom:!0},n._itemStyleCache={},n._outerRef=void 0,n._scrollCorrectionInProgress=!1,n._scrollByCorrection=null,n._keepScrollPosition=!1,n._keepScrollToBottom=!1,n._mountingCorrections=0,n._correctedInstances=0,n.state={scrollDirection:"backward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1,scrollDelta:0,scrollHeight:0,localOlderPostsToRender:[]},n.scrollBy=function(e,t){return function(){var s=n._outerRef;"function"==typeof s.scrollBy&&t?s.scrollBy(0,t):e&&(s.scrollTop=e),n._scrollCorrectionInProgress=!1}},n._callOnItemsRendered=bL((function(e,t,s,r){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:s,visibleStopIndex:r})})),n._callOnScroll=bL((function(e,t,s,r,o){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:s,scrollHeight:r,clientHeight:o})})),n._commitHook=function(){if(!n.state.scrolledToInitIndex&&Object.keys(n._listMetaData.itemOffsetMap).length){var e=n.props.initScrollToIndex(),t=e.index,s=e.position,r=e.offset;n.scrollToItem(t,s,r),n.setState({scrolledToInitIndex:!0}),0===t?n._keepScrollToBottom=!0:n._keepScrollPosition=!0}},n._dataChange=function(){n._listMetaData.totalMeasuredSize<n.props.height&&n.props.canLoadMorePosts()},n._heightChange=function(e,t){t+e>=n._listMetaData.totalMeasuredSize-10&&n.scrollToItem(0,"end")},n._widthChange=function(e,t){t+e>=n._listMetaData.totalMeasuredSize-10&&n.scrollToItem(0,"end")},n._getItemStyle=function(e){var t,s=n.props.itemData,r=n._itemStyleCache;return r.hasOwnProperty(s[e])?t=r[s[e]]:r[s[e]]=t={left:0,top:IL(n.props,e,n._listMetaData),height:kL(n.props,e,n._listMetaData),width:"100%"},t},n._correctScroll=function(){var e=n.state.scrollOffset,t=n._outerRef;t&&(t.scrollTop=e,n._scrollCorrectionInProgress=!1,n._correctedInstances=0,n._mountingCorrections=0)},n._generateOffsetMeasurements=function(){var e=n._listMetaData,t=e.itemOffsetMap,s=e.itemSizeMap,r=n.props.itemData;n._listMetaData.totalMeasuredSize=0;for(var o=r.length-1;o>=0;o--){var i=t[r[o+1]]||0,a=s[r[o+1]]||0;t[r[o]]=i+a,n._listMetaData.totalMeasuredSize+=s[r[o]]||0,delete n._itemStyleCache[r[o]]}},n._handleNewMeasurements=function(e,t,s){var r=n._listMetaData.itemSizeMap,o=n.props.itemData.findIndex((function(t){return t===e})),i=r[e]||0;if(i!==t)if(r[e]=t,n.state.scrolledToInitIndex){var a=n._outerRef;if((n.props.height+a.scrollTop>=n._listMetaData.totalMeasuredSize-10||n._keepScrollToBottom)&&n.props.correctScrollToBottom)return n._generateOffsetMeasurements(),n.scrollToItem(0,"end"),void n.forceUpdate();if(s||n._keepScrollPosition){var l=t-i,c=n._getRangeToRender(n.state.scrollOffset)[2];if(n._generateOffsetMeasurements(),o<c+1)return;return n._scrollCorrectionInProgress=!0,void n.setState((function(e){var t;return t=0===n._mountingCorrections?l:e.scrollDelta+l,n._mountingCorrections++,{scrollOffset:e.scrollOffset+l,scrollDelta:t}}),(function(){n._correctedInstances++,n._mountingCorrections===n._correctedInstances&&n._correctScroll()}))}n._generateOffsetMeasurements()}else n._generateOffsetMeasurements()},n._onItemRowUnmount=function(e,t){var s=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n).props;if(s.itemData[t]!==e&&!s.itemData.includes(e)){delete n._listMetaData.itemSizeMap[e],delete n._listMetaData.itemOffsetMap[e];var r=n._outerRef,o=r.offsetHeight+r.scrollTop>=n._listMetaData.totalMeasuredSize-10;n._generateOffsetMeasurements(),o&&n.scrollToItem(0,"end"),n.forceUpdate()}},n._renderItems=function(){var e=n.props,t=e.children,s=e.direction,r=e.itemData,o=e.loaderId,i=n.innerRefWidth,a=n._getRangeToRender(),l=a[0],c=a[1],u=r.length,d=[];if(u>0)for(var p=u-1;p>=0;p--){var h=PL(n.props,p,n._listMetaData).size,m=n.state.localOlderPostsToRender,g=m[0],v=m[1],y=p>=g&&p<v+1&&g===c+1,b=r[p]===o,_=r[p],w=n._getItemStyle(p);if(p>=l&&p<c+1||y||b){var x=f.exports.createElement(t,{data:r,itemId:_});d.push(f.exports.createElement(AL,{direction:s,handleNewMeasurements:n._handleNewMeasurements,index:p,item:x,key:_,size:h,itemId:_,width:i,onUnmount:n._onItemRowUnmount,itemCount:u}))}else d.push(f.exports.createElement("div",{key:_,style:w}))}return d},n._onScrollVertical=function(e){if(n.state.scrolledToInitIndex){var t=e.currentTarget,s=t.scrollTop,r=t.scrollHeight;n._scrollCorrectionInProgress?n.state.scrollUpdateWasRequested&&n.setState((function(){return{scrollUpdateWasRequested:!1}})):(r!==n.state.scrollHeight&&n.setState({scrollHeight:r}),n.setState((function(e){return e.scrollOffset===s?null:{scrollDirection:e.scrollOffset<s?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1,scrollHeight:r,scrollTop:s,scrollDelta:0}})))}},n._outerRefSetter=function(e){var t=n.props.outerRef;n.innerRefWidth=n.props.innerRef.current.clientWidth,n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n}W(t,e),t.getDerivedStateFromProps=function(e,t){return ML(e),null};var n=t.prototype;return n.scrollTo=function(e,t,n){var s=this;void 0===n&&(n=!1),this._scrollCorrectionInProgress=!0,this.setState((function(n){return{scrollDirection:n.scrollOffset>=e?"backward":"forward",scrollOffset:e,scrollUpdateWasRequested:!0,scrollByValue:t}}),(function(){n?s._scrollByCorrection=window.requestAnimationFrame(s.scrollBy(s.state.scrollOffset,s.state.scrollByValue)):s.scrollBy(s.state.scrollOffset,s.state.scrollByValue)()})),this.forceUpdate()},n.scrollToItem=function(e,t,n){void 0===t&&(t="auto"),void 0===n&&(n=0);var s=this.state.scrollOffset,r=this._outerRef;if(0!==e||"end"!==t){var o=function(e,t,n,s,r){var o=e.height,i=PL(e,t,r),a=r.totalMeasuredSize,l=Math.max(0,i.offset+i.size-o),c=Math.max(0,i.offset);switch(n){case"start":return c;case"end":return l;case"center":return Math.round(c-o/2+i.size/2);default:return s>=c&&s<=l?a-(s+o):s-c<l-s?c:l}}(this.props,e,t,s,this._listMetaData);if(!o)!kL(this.props,e,this._listMetaData)&&this.props.scrollToFailed&&(this.state.scrolledToInitIndex?this.props.scrollToFailed(e):console.warn("Failed to do initial scroll correction",this.props.initRangeToRender,e));this.scrollTo(o+n)}else this.scrollTo(r.scrollHeight-this.props.height)},n.componentDidMount=function(){var e=this.props.initialScrollOffset;"number"==typeof e&&null!==this._outerRef&&(this._outerRef.scrollTop=e);this._commitHook()},n.getSnapshotBeforeUpdate=function(e,t){if(t.localOlderPostsToRender[0]!==this.state.localOlderPostsToRender[0]||t.localOlderPostsToRender[1]!==this.state.localOlderPostsToRender[1]){var n=this._outerRef;return{previousScrollTop:n.scrollTop,previousScrollHeight:n.scrollHeight}}return null},n.componentDidUpdate=function(e,t,n){if(this.state.scrolledToInitIndex){var s=this.state,r=s.scrollDirection,o=s.scrollOffset,i=s.scrollUpdateWasRequested,a=s.scrollHeight,l=t.scrollDirection,c=t.scrollOffset,u=t.scrollUpdateWasRequested,d=t.scrollHeight;r===l&&o===c&&i===u&&a===d||this._callPropsCallbacks(),t.scrolledToInitIndex||(this._keepScrollPosition=!1,this._keepScrollToBottom=!1)}if(this._commitHook(),e.itemData!==this.props.itemData&&this._dataChange(),e.height!==this.props.height&&this._heightChange(e.height,t.scrollOffset),t.scrolledToInitIndex!==this.state.scrolledToInitIndex&&this._dataChange(),e.width!==this.props.width&&(this.innerRefWidth=this.props.innerRef.current.clientWidth,this._widthChange(e.height,t.scrollOffset)),t.localOlderPostsToRender[0]!==this.state.localOlderPostsToRender[0]||t.localOlderPostsToRender[1]!==this.state.localOlderPostsToRender[1]){var p=this._outerRef.scrollHeight,h=n.previousScrollTop+(p-n.previousScrollHeight);this.scrollTo(h,h-n.previousScrollTop,!0)}},n.componentWillUnmount=function(){this._scrollByCorrection&&window.cancelAnimationFrame(this._scrollByCorrection)},n.render=function(){var e=this.props,t=e.className,n=e.innerRef,s=e.innerTagName,r=e.outerTagName,o=e.style,i=e.innerListStyle,a=this._onScrollVertical,l=this._renderItems();return f.exports.createElement(r,{className:t,onScroll:a,ref:this._outerRefSetter,style:Y({WebkitOverflowScrolling:"touch",overflowY:"auto",overflowAnchor:"none",willChange:"transform",width:"100%"},o)},f.exports.createElement(s,{children:l,ref:n,style:i}))},n._callPropsCallbacks=function(){var e=this.props,t=e.itemData,n=e.height,s=this.state,r=s.scrollDirection,o=s.scrollOffset,i=s.scrollUpdateWasRequested,a=s.scrollHeight,l=t.length;if("function"==typeof this.props.onItemsRendered&&l>0){var c=this._getRangeToRender(),u=c[0],d=c[1],p=c[2],h=c[3];if(this._callOnItemsRendered(u,d,p,h),"backward"===r&&o<1e3&&d!==l-1)!kL(this.props,d+1,this._listMetaData).size&&this.state.scrolledToInitIndex&&this.setState((function(e){return e.localOlderPostsToRender[0]!==d+1?{localOlderPostsToRender:[d+1,d+50]}:null}))}"function"==typeof this.props.onScroll&&this._callOnScroll(r,o,i,a,n)},n._getRangeToRender=function(e,t){var n=this.props,s=n.itemData,r=n.overscanCountForward,o=n.overscanCountBackward,i=this.state,a=i.scrollDirection,l=i.scrollOffset,c=s.length;if(0===c)return[0,0,0,0];for(var u=e>=0?e:l,d=NL(this.props,u,this._listMetaData),p=function(e,t,n,s){for(var r=e.itemData,o=t,i=n+e.height,a=PL(e,o,s),l=a.offset+(a.size||0);o>0&&l<=i;){var c=PL(e,o,s);l=c.offset+c.size,o--}return o>=r.length?0:o}(this.props,d,u,this._listMetaData),h="backward"===a?o:Math.max(1,r),f="forward"===a?o:Math.max(1,r),m=Math.max(0,p-h),g=Math.max(0,Math.min(c-1,d+f));!kL(this.props,g,this._listMetaData)&&g>0&&this._listMetaData.totalMeasuredSize>this.props.height;)g--;return!this.state.scrolledToInitIndex&&this.props.initRangeToRender.length?this.props.initRangeToRender:[m,g,d,p]},t}(f.exports.PureComponent);RL.defaultProps={innerTagName:"div",itemData:void 0,outerTagName:"div",overscanCountForward:30,overscanCountBackward:10};var ML=function(e){e.children,e.itemSize};var OL="u3-cxx-b78b0296",LL="u3-cxx-4e61cb9e",DL="u3-cxx-6c5c58cd";const jL=[kS,RS];class FL extends h.PureComponent{render(){const{isMobile:e,createAt:t,isScrolling:n,isRhsPost:s,toastPresent:r}=this.props;if(!e||0===t)return null;const o=E("post-list__timestamp",OL,{[LL]:n,rhs:s,toastAdjustment:r});return m("div",{className:o,"data-testid":"floatingTimestamp",children:m("span",{className:DL,children:m(BS,{value:t,useTime:!1,ranges:jL})})})}}var UL=v((function(e,t){let n=t.postId;if(Ma(n)){const e=Oa(n);n=e[e.length-1]}const s=bt(e,n),r=(e=>e.views.channel.toastStatus)(e);return{createAt:s?s.create_at:0,toastPresent:r}}))(FL);const HL=h.createContext({handlePopupOpened:null});var BL=bp.jsx;var qL=function(e){return BL("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e)),{children:BL("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}))},GL=bp.jsx;var zL,VL,WL=function(e){return GL("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e)),{children:GL("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}))};!function(e){e[e.Flagged=0]="Flagged",e[e.Pinned=1]="Pinned",e[e.PinnedAndFlagged=2]="PinnedAndFlagged",e[e.Neither=3]="Neither"}(zL||(zL={})),function(e){e.Flagged="flagged",e.Pinned="pinned",e.PinnedAndFlagged="pinnedAndFlagged"}(VL||(VL={}));class YL extends h.PureComponent{constructor(){super(...arguments),u(this,"messageInfos",{flagged:{id:Sr("post_pre_header.flagged"),defaultMessage:"Saved"},pinned:{id:Sr("post_pre_header.pinned"),defaultMessage:"Pinned"}}),u(this,"handleLinkClick",((e,t)=>{e===VL.Pinned&&t?this.props.actions.showPinnedPosts(t):this.props.actions.showFlaggedPosts()}))}getPostStatus(e,t){return e?t?2:0:t?1:3}getMessageInfo(e,t,n){if(t&&n)return!1;if(2===e){if(!n&&!t)return VL.PinnedAndFlagged;if(n)return VL.Flagged;if(t)return VL.Pinned}return 0!==e||t?1===e&&!n&&VL.Pinned:VL.Flagged}render(){const{isFlagged:e,isPinned:t,skipPinned:n,skipFlagged:s,channelId:r,styles:o}=this.props,i=this.getMessageInfo(this.getPostStatus(e,t),s,n);if(!e&&!t||!i)return null;const a=[];return t&&!n&&a.push(_("div",{className:o.postMoreX,children:[m(WL,{className:o.xIcon}),m("a",{className:o.postMoreLink,onClick:()=>this.handleLinkClick(VL.Pinned,r),children:m(D,{id:this.messageInfos[VL.Pinned].id,defaultMessage:this.messageInfos[VL.Pinned].defaultMessage})})]},"post-more-pin")),e&&!s&&a.push(_("div",{className:o.postMoreX,children:[m(qL,{className:o.xIcon}),m("a",{onClick:()=>this.handleLinkClick(VL.Flagged),children:m(D,{id:this.messageInfos[VL.Flagged].id,defaultMessage:this.messageInfos[VL.Flagged].defaultMessage})})]},"post-more-flag")),a.length?a:null}}var KL=S(YL);var $L=v(null,(e=>({actions:y({showFlaggedPosts:co,showPinnedPosts:uo},e)})))(KL),JL=bp.jsx;var XL=function(e){return JL("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e)),{children:JL("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}))};class QL extends h.PureComponent{render(){const{styles:e}=this.props;let t=null,n="post-menu__item post-menu__item--wide";return this.props.commentCount>0?(n+=" post-menu__item--show",t=m("span",{className:"post-menu__comment-count",children:this.props.commentCount})):""!==this.props.searchStyle&&(n=n+" "+this.props.searchStyle),_("button",{id:`${this.props.location}_commentIcon_${this.props.postId}`,"aria-label":ds("post_info.comment_icon.tooltip.reply","Reply").toLowerCase(),className:E(e.postComment,n,this.props.extraClass),onClick:this.props.handleCommentClick,children:[m(XL,{className:e.commentIcon}),t]})}}u(QL,"defaultProps",{location:"CENTER",searchStyle:"",commentCount:0,extraClass:""});class ZL extends h.PureComponent{render(){if(!this.props.fileInfos||0===this.props.fileInfos.length)return null;let e=null;return this.props.fileInfos.length>1&&(e=m(D,{id:"post_body.plusMore",defaultMessage:" plus {count, number} other {count, plural, one {file} other {files}}",values:{count:this.props.fileInfos.length-1}})),_("span",{children:[this.props.fileInfos[0].name,e]})}}u(ZL,"propTypes",{parentPostId:M.string.isRequired,fileInfos:M.arrayOf(M.object)});var eD=v((function(){const e=IR();return function(t,n){let s;return n.parentPostId&&(s=e(t,n.parentPostId)),{fileInfos:s}}}))(ZL);class tD extends f.exports.PureComponent{constructor(){super(...arguments),u(this,"makeUsername",(()=>{const e=this.props.post.props;let t=this.props.displayName;return this.props.enablePostUsernameOverride&&e&&"true"===e.from_webhook&&e.override_username&&(t=e.override_username),t})),u(this,"makeCommentedOnMessage",(()=>{const{post:e}=this.props;let t="";if(e.message)t=La(e.message);else if(e.file_ids&&e.file_ids.length>0)t=m(eD,{parentPostId:e.id});else if(e.props&&e.props.attachments&&e.props.attachments.length>0){const n=e.props.attachments[0],s=n.pretext||n.title||n.text||n.fallback||"";t=La(s)}return t}))}render(){const e=this.makeUsername(),t=this.makeCommentedOnMessage(),n=this.props.parentPostUser,s=n&&n.id||"";return m("div",{"data-testid":"post-link",className:"post__link",children:_("span",{children:[m(D,{id:"post_body.commentedOn",defaultMessage:"Commented on {name}'s message: ",values:{name:m("a",{className:"theme user_name",children:m(iT,{user:n,userId:s,displayName:e,hasMention:!0,disablePopover:!1})})}}),m("a",{className:"theme",onClick:this.props.onCommentClick,children:"string"==typeof t?Da(t):t})]})})}}var nD=v((function(e,t){let n="";if(t.post){const s=fn(e,t.post.user_id);n=ja(e,s)}return{displayName:n,enablePostUsernameOverride:"true"===Ie(e).EnablePostUsernameOverride}}))(tD),sD=()=>_("div",{className:oh.messageSend,children:[m("span",{}),m("span",{}),m("span",{})]});var rD="u3-cxx-761b924d",oD="u3-cxx-b3e0fefb",iD="u3-cxx-6e30f71b",aD="u3-cxx-f34771f9",lD="u3-cxx-f2e3e33a",cD="u3-cxx-a2e48a2d",uD="u3-cxx-25232474";class dD extends h.PureComponent{constructor(e){super(e),this.sendingAction=new JA((()=>{const e=this.props.post;e&&e.id===e.pending_post_id&&this.setState({sending:!0})})),this.state={sending:!1}}static getDerivedStateFromProps(e,t){return t.sending&&e.post&&e.post.id!==e.post.pending_post_id?{sending:!1}:null}componentDidUpdate(){!1===this.state.sending&&this.sendingAction.cancel()}componentDidMount(){const e=this.props.post;e&&e.id===e.pending_post_id&&this.sendingAction.fireAfter(3e3)}componentWillUnmount(){this.sendingAction.cancel()}render(){const e=this.props.post,t=this.props.user,n=this.props.parentPost,s=this.props.parentPostUser,r={};let o;const i=Ho(e);if(cr(t))return m("div",{className:"post__link banned",children:"Nội dung bị ẩn do tài khoản bị BAN"});let a;this.props.isFirstReply&&n&&e.type!==re.PostTypes.EPHEMERAL&&(o=m(nD,{post:n,parentPostUser:s,onCommentClick:this.props.handleCommentClick})),this.props.post.failed&&(r[iD]=!0,a=m(VR,{post:this.props.post})),Yi(this.props.post)&&(r[aD]=!0);let l=null;(e.file_ids&&e.file_ids.length>0||e.filenames&&e.filenames.length>0)&&this.props.post.state!==ft.POST_DELETED&&(l=m(BR,{post:e,compactDisplay:this.props.compactDisplay})),this.state.sending&&(r[lD]=!0);const c=_(h.Fragment,{children:[a,this.state.sending&&m(sD,{}),!this.state.sending&&m(XM,{post:this.props.post,compactDisplay:this.props.compactDisplay,hasMention:!0})]}),u=e.type&&this.props.pluginPostTypes.hasOwnProperty(e.type)||e.props&&e.props.type&&this.props.pluginPostTypes.hasOwnProperty(e.props.type);let d;d=this.props.post.state===ft.POST_DELETED||u?c:m(qM,{post:this.props.post,isEmbedVisible:this.props.isEmbedVisible,children:c});const{isCommentMention:p,hasComment:g}=this.props;return _(f.exports.Fragment,{children:[o,_("div",{id:`${e.id}_message`,className:E(rD,{[cD]:p,[uD]:i,[oD]:g},r),children:[d,l]})]})}}u(dD,"propTypes",{post:M.object.isRequired,parentPost:M.object,parentPostUser:M.object,handleCommentClick:M.func.isRequired,compactDisplay:M.bool,isCommentMention:M.bool,isFirstReply:M.bool,pluginPostTypes:M.object,isEmbedVisible:M.bool,enablePostUsernameOverride:M.bool.isRequired,isReadOnly:M.bool,user:M.object,hasComment:M.bool}),u(dD,"defaultProps",{isReadOnly:!1});var pD=v((function(e,t){let n,s;t.post.root_id&&(n=bt(e,t.post.root_id),s=n?fn(e,n.user_id):null);const r="true"===Ie(e).EnablePostUsernameOverride,o=0!==(Ye(e)||{}).delete_at;return{parentPost:n,parentPostUser:s,pluginPostTypes:e.plugins.postTypes,enablePostUsernameOverride:r,isReadOnly:Fa(e)||o,user:fn(e,t.post.user_id)}}))(dD),hD=()=>m("div",{children:"Bot"}),fD=({chidlren:e})=>m("div",{children:e});var mD="u3-cxx-839a46b2";class gD extends h.PureComponent{render(){var e;const{post:t}=this.props,n=vi(t),s=ki(t),r="true"===(null==(e=null==t?void 0:t.props)?void 0:e.from_webhook);let o,i,a=m(aT,{userId:t.user_id,hasMention:!0});return r?(a=t.props.override_username&&this.props.enablePostUsernameOverride?m(aT,{userId:t.user_id,hideStatus:!0,overwriteName:t.props.override_username,overwriteIcon:this.props.overwriteIcon}):m(aT,{userId:t.user_id,hideStatus:!0}),this.props.isBot||(o=m(hD,{}))):s?(a=m(aT,{userId:t.user_id,hideStatus:!0,hasMention:!0}),o=m(fD,{children:m(D,{id:"post_info.auto_responder",defaultMessage:"AUTOMATIC REPLY"})})):n&&this.props.isBot?a=m(aT,{userId:t.user_id,hideStatus:!0}):n&&(a=m(aT,{userId:"",overwriteName:m(D,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:re.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0})),this.props.compactDisplay&&(i=m("strong",{className:"colon",children:":"})),_("div",{className:mD,"header-x":"",children:[a,i,o]})}}var vD=v((function(e,t){var n,s;const r=Ie(e),o="true"===r.EnablePostUsernameOverride,i="true"===r.EnablePostIconOverride&&(null==(s=null==(n=t.post)?void 0:n.props)?void 0:s.override_icon_url);let a;i&&(a=Ce.getAbsoluteUrl(i));const l=fn(e,t.post.user_id);return{enablePostUsernameOverride:o,isBot:Boolean(l&&l.is_bot),overwriteIcon:a,isGuest:Boolean(l&&an(l))}}))(gD);var yD={postX:"u3-cxx-e31f0887",postSection:"u3-cxx-56cdd3d6",postContentAvatar:"u3-cxx-66ec90f5",postContentMain:"u3-cxx-8c033172",postContentBody:"u3-cxx-dd848f98",postContentTools:"u3-cxx-1cfcfa9b",postHoverd:"u3-cxx-74804844",postContentMore:"u3-cxx-fd28999d",withReactions:"u3-cxx-036d30d4",postMoreReaction:"u3-cxx-ad7d0632",postMoreTime:"u3-cxx-80be80fd",postMoreComment:"u3-cxx-bd08cccf",postMoreX:"u3-cxx-3a728a59",postMoreLink:"u3-cxx-47063121",permarlink:"u3-cxx-7d501577",postComment:"u3-cxx-bb442cd4",commentIcon:"u3-cxx-cd6a2d04",timeIcon:"u3-cxx-fc586cf9",xIcon:"u3-cxx-cb183f49",sameRoot:"u3-cxx-6732dd48",otherRoot:"u3-cxx-e1817f45",currentUser:"u3-cxx-c1983eb4",itsMe:"u3-cxx-fb08e3c1",postHideControls:"u3-cxx-9c2b4d47"};var bD="u3-cxx-6bc4c647",_D="u3-cxx-7696ca22",wD="u3-cxx-b83d5220";class xD extends h.PureComponent{constructor(e){super(e),u(this,"addReactionButtonRef",h.createRef()),u(this,"getTarget",(()=>this.addReactionButtonRef.current)),u(this,"handleEmojiClick",(e=>{this.setState({showEmojiPicker:!1});const t=Ui(e)?e.name:e.aliases[0];this.props.actions.addReaction(this.props.post.id,t)})),u(this,"hideEmojiPicker",(()=>{this.setState({showEmojiPicker:!1})})),u(this,"toggleEmojiPicker",(()=>{this.setState({showEmojiPicker:!this.state.showEmojiPicker})})),this.state={showEmojiPicker:!1}}render(){let e=null;return this.props.enableEmojiPicker&&(e=m(HL.Consumer,{children:({handlePopupOpened:e})=>m("span",{className:"emoji-picker__container",children:_(zT,{channelId:this.props.post.channel_id,teamId:this.props.teamId,permissions:[vn.ADD_REACTION],children:[m(yM,{show:this.state.showEmojiPicker,target:this.getTarget,onHide:this.hideEmojiPicker,onEmojiClose:this.hideEmojiPicker,onEmojiClick:this.handleEmojiClick,toggleFocus:e}),m("button",{"aria-label":ds("reaction.add.ariaLabel","Add a reaction"),className:"Reaction",onClick:this.toggleEmojiPicker,children:m("span",{id:`addReaction-${this.props.post.id}`,className:_D,ref:this.addReactionButtonRef,children:m(QR,{className:wD})})})]})})})),m("div",{className:bD,children:e})}}var CD=v((function(){const e=Hi();return function(t,n){const s="true"===Ie(t).EnableEmojiPicker&&!n.isReadOnly;return{teamId:(ee(t,n.post.channel_id)||{}).team_id,reactions:e(t,n.post.id),enableEmojiPicker:s}}}),(function(e){return{actions:y({addReaction:wo},e)}}))(xD);class ED extends h.PureComponent{constructor(e){super(e),u(this,"handleCommentClick",(e=>{e.preventDefault();const t=this.props.post;t&&this.props.actions.selectPost(t)})),u(this,"handleCardClick",(e=>{e&&this.props.actions.selectPostCard(e)})),u(this,"handlePostClick",(e=>{const t=this.props.post;t&&(this.props.channelIsArchived||t.system_post_ids||e.altKey&&this.props.actions.markPostAsUnread(t,"CENTER"))})),u(this,"handleDropdownOpened",(e=>{this.props.togglePostMenu&&this.props.togglePostMenu(e),this.setState({dropdownOpened:e})})),u(this,"hasSameRoot",(e=>{const t=e.post;return!e.isFirstReply&&(!(t.root_id||e.previousPostIsComment||!e.consecutivePostByUser)||!!t.root_id)})),u(this,"getClassName",((e,t,n,s,r,o)=>{const i={[yD.postX]:!0};return i[yD.postHideControls]=e.failed||e.state===ft.POST_DELETED,i[yD.postHighlight]=!this.state.fadeOutHighlight&&this.props.shouldHighlight,i[yD.sameRoot]=this.hasSameRoot(this.props),i[yD.otherRoot]=!this.hasSameRoot(this.props),i[yD.postBot]=o,i[yD.currentUser]=!s&&!t,i[yD.sameUser]=this.props.consecutivePostByUser,i[yD.postCompact]=this.props.compactDisplay,i[yD.postHoverd]=this.state.dropdownOpened||this.state.a11yActive,i[yD.postPinOrFlagged]=e.is_pinned||this.props.isFlagged,i["u3-cursor-pointer"]=this.state.alt&&!(this.props.channelIsArchived||e.system_post_ids),i[yD.itsMe]=this.props.currentUserId===e.user_id,!this.state.fadeOutHighlight&&this.props.shouldHighlight&&(e.is_pinned||this.props.isFlagged)&&(i[yD.postPinOrFlaggedHighlight]=!0),e.root_id&&e.root_id.length>0?i[yD.postComment]=!0:this.props.replyCount>0&&(i[yD.postRoot]=!0,i[yD.sameUser]=!1,i[yD.sameRoot]=!1,i[yD.otherRoot]=!1),(t||n)&&(i[yD.postSystem]=!0,t&&(i[yD.currentUser]=!1,i[yD.postComment]=!1,i[yD.postRoot]=!1,i[yD.otherRoot]=!1)),r&&(i[yD.postComment]=!0,i[yD.sameRoot]=!0,i[yD.postRoot]=!1),i})),u(this,"setHover",(()=>{this.setState({hover:!0})})),u(this,"unsetHover",(()=>{this.setState({hover:!1})})),u(this,"handleAlt",(e=>{this.state.alt!==e.altKey&&this.setState({alt:e.altKey})})),u(this,"handleA11yActivateEvent",(()=>{this.setState({a11yActive:!0,ariaHidden:!1})})),u(this,"handleA11yDeactivateEvent",(()=>{this.setState({a11yActive:!1,ariaHidden:!0})})),u(this,"handlePostFocus",(()=>{this.updateAriaLabel()})),u(this,"updateAriaLabel",(()=>{this.setState({currentAriaLabel:this.props.createAriaLabel(this.props.intl)})})),this.postRef=h.createRef(),this.state={dropdownOpened:!1,hover:!1,alt:!1,a11yActive:!1,currentAriaLabel:"",ariaHidden:!0,fadeOutHighlight:!1}}componentDidMount(){document.addEventListener("keydown",this.handleAlt),document.addEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.addEventListener(Xi.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.addEventListener(Xi.DEACTIVATE,this.handleA11yDeactivateEvent)),this.props.shouldHighlight&&(this.highlightTimeout=setTimeout((()=>{this.setState({fadeOutHighlight:!0})}),re.PERMALINK_FADEOUT))}componentWillUnmount(){document.removeEventListener("keydown",this.handleAlt),document.removeEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.removeEventListener(Xi.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.removeEventListener(Xi.DEACTIVATE,this.handleA11yDeactivateEvent)),this.highlightTimeout&&clearTimeout(this.highlightTimeout)}componentDidUpdate(e){this.state.a11yActive&&this.postRef.current.dispatchEvent(new Event(Xi.UPDATE)),this.props.post.state===ft.POST_DELETED&&e.post.state!==ft.POST_DELETED&&this.updateAriaLabel()}render(){const{post:e,replyCount:t,isFirstReply:n,isCollapsedThreadsEnabled:s,consecutivePostByUser:r,compactDisplay:o}=this.props;if(!e.id)return null;const i=vi(e),a=Ki(e),l=ki(e),c=e&&e.props&&"true"===e.props.from_webhook,u=e&&e.props&&"true"===e.props.from_bot;if(i&&!l)return null;let d=m("span",{hidden:!0});const{root_id:p}=e,h=this.hasSameRoot(this.props)&&r&&!p&&0===t&&!u;h||(d=m(GR,{compactDisplay:o,post:e,userId:e.user_id}),l&&(d=m("span",{className:"auto-responder",children:d})));const f=[];f.push(m($L,{styles:yD,isFlagged:this.props.isFlagged,isPinned:e.is_pinned,channelId:e.channel_id},"post-highlight"));(l||!i&&(Boolean(t)||n))&&f.push(m("div",{className:yD.postMoreComment,children:m(QL,{handleCommentClick:this.handleCommentClick,commentCount:this.props.replyCount,postId:e.id,extraClass:"post__x-comment-count",styles:yD})},"post-more-comment"));const g=!(Ho(e)||ft.POST_DELETED===e.state||Po(e)||e.type===ft.POST_TYPES.COMBINED_USER_ACTIVITY);return f.push(m("div",{className:yD.postMoreTime,children:m(JR,{isPermalink:g,eventTime:e.create_at,postId:e.id,styles:yD})},"post-more-time")),m(HL.Provider,{value:{handlePopupOpened:this.handleDropdownOpened,styles:yD},children:_("div",{ref:this.postRef,id:"post_"+e.id,"data-testid":"postView",role:"listitem",className:E("a11y__section","post-item-x",yD.postSection,this.getClassName(e,i,a,c,l,u)),tabIndex:0,onFocus:this.handlePostFocus,onMouseOver:this.setHover,onMouseLeave:this.unsetHover,onTouchStart:this.setHover,onClick:this.handlePostClick,"aria-label":this.state.currentAriaLabel,"aria-atomic":!0,children:[m("div",{className:yD.postContentAvatar,children:d}),_("div",{className:E(yD.postContentMain,"post__content-main"),children:[_("div",{className:yD.postContentBody,children:[m(vD,{post:e,handleCommentClick:this.handleCommentClick,handleCardClick:this.handleCardClick,handleDropdownOpened:this.handleDropdownOpened,compactDisplay:this.props.compactDisplay,isFirstReply:this.props.isFirstReply,replyCount:this.props.replyCount,showTimeWithoutHover:!h,hover:this.state.hover||this.state.a11yActive,isLastPost:this.props.isLastPost}),m(pD,{post:e,handleCommentClick:this.handleCommentClick,compactDisplay:this.props.compactDisplay,isCommentMention:this.props.isCommentMention,isFirstReply:this.props.isFirstReply,hasComment:e.root_id&&e.root_id.length>0||l}),_("div",{className:yD.postContentMore,children:[m(EM,{post:this.props.post,isReadOnly:this.props.isReadOnly}),f]})]}),_("div",{className:yD.postContentTools,children:[m(CD,{post:this.props.post,isReadOnly:this.props.isReadOnly}),this.props.isGuest?null:m(TR,{post:this.props.post,location:"CENTER",isFlagged:this.props.isFlagged,handleDropdownOpened:this.handleDropdownOpened,handleCommentClick:this.handleCommentClick,commentCount:this.props.commentCount,isMenuOpen:this.state.dropdownOpened,isReadOnly:this.props.isReadOnly,enableEmojiPicker:!1})]})]})]})})}}u(ED,"propTypes",{post:M.object.isRequired,thread:M.object,createAriaLabel:M.func.isRequired,currentUserId:M.string.isRequired,center:M.bool,compactDisplay:M.bool,isFirstReply:M.bool,shouldHighlight:M.bool,consecutivePostByUser:M.bool,previousPostIsComment:M.bool,togglePostMenu:M.func,isCommentMention:M.bool,isGuest:M.bool,replyCount:M.number,isLastPost:M.bool,channelIsArchived:M.bool.isRequired,intl:uT.isRequired,actions:M.shape({selectPost:M.func.isRequired,selectPostCard:M.func.isRequired,markPostAsUnread:M.func.isRequired}).isRequired,isFlagged:M.bool.isRequired,isCollapsedThreadsEnabled:M.bool,isReadOnly:M.bool}),u(ED,"defaultProps",{post:{},isReadOnly:!1,isGuest:!1});var SD=S(ED);function TD(e,t){return!(!e||!e.root_id)&&(!t||e.root_id!==t.id&&e.root_id!==t.root_id)}var AD=v((function(){const e=Ua(),t=Ha(),n=Ba();return(s,r)=>{const o=r.post||bt(s,r.postId),i=ee(s,o.channel_id);let a=null;r.previousPostId&&(a=bt(s,r.previousPostId));let l=!1,c=!1;a&&(l=qa(o,a),c=Boolean(a.root_id));const u=0!==(Ye(s)||{}).delete_at;return{post:o,createAriaLabel:n(s,o),currentUserId:ce(s),isGuest:an(on(s)),isFirstReply:TD(o,a),consecutivePostByUser:l,previousPostIsComment:c,replyCount:e(s,o),isCommentMention:t(s,o.id),center:rr(s,he.CATEGORY_DISPLAY_SETTINGS,he.CHANNEL_DISPLAY_MODE,he.CHANNEL_DISPLAY_MODE_DEFAULT)===he.CHANNEL_DISPLAY_MODE_CENTERED,compactDisplay:rr(s,he.CATEGORY_DISPLAY_SETTINGS,he.MESSAGE_DISPLAY,he.MESSAGE_DISPLAY_DEFAULT)===he.MESSAGE_DISPLAY_COMPACT,channelIsArchived:rt(i),isFlagged:null!=rr(s,he.CATEGORY_FLAGGED_POST,o.id,null),isCollapsedThreadsEnabled:Mn(s),isReadOnly:Fa(s)||u}}}),(function(e){return{actions:y({selectPost:Ga,selectPostCard:ca,markPostAsUnread:Ei},e)}}))(SD);var PD=v((function(){const e=za();return(t,n)=>({post:e(t,n.combinedId),postId:n.combinedId})}))(AD);var ID="u3-cxx-9a0f35f5",ND="u3-cxx-e47cc755",kD="u3-cxx-400febc4",RD="u3-cxx-ed9f1b92",MD=({children:e})=>_("div",{className:ID,children:[m("div",{className:kD}),m("div",{className:RD,children:e})]});const OD=[kS,RS],LD=({date:e})=>m(MD,{children:m(BS,{value:e,useTime:!1,useSemanticOutput:!1,ranges:OD})});LD.propTypes={date:M.oneOfType([M.number,M.instanceOf(Date)]).isRequired};var DD=f.exports.memo(LD),jD=({children:e})=>_("div",{className:ND,children:[m("div",{className:kD}),m("div",{className:RD,children:e})]});var FD="u3-cxx-012e9571";class UD extends h.PureComponent{render(){return m("div",{className:E(FD,"new-separator"),children:m(jD,{id:this.props.separatorId,children:m(D,{id:"posts_view.newMsg",defaultMessage:"New Messages"})})})}}class HD extends h.PureComponent{blockShortcutReactToLastPostForNonMessages(e){const{actions:{emitShortcutReactToLastPostFrom:t}}=this.props;Va(e)&&t(ei.NO_WHERE)}componentDidUpdate(e){const{listId:t,isLastPost:n,shortcutReactToLastPostEmittedFrom:s}=this.props,r=e.shortcutReactToLastPostEmittedFrom!==s&&s===ei.CENTER;n&&r&&this.blockShortcutReactToLastPostForNonMessages(t)}render(){const{listId:e,previousListId:t,loadingOlderPosts:n,loadingNewerPosts:s,post:r}=this.props,{OLDER_MESSAGES_LOADER:o,NEWER_MESSAGES_LOADER:i,CHANNEL_INTRO_MESSAGE:l,LOAD_OLDER_MESSAGES_TRIGGER:c,LOAD_NEWER_MESSAGES_TRIGGER:u}=$a;if(Wa(e)){const t=Ya(e);return m(DD,{date:t},t)}if(Ka(e))return m(UD,{separatorId:e});if(e===l)return m("div",{});if(e===c||e===u)return m("button",{className:"more-messages-text theme style--none color--link",onClick:e===c?this.props.loadOlderPosts:this.props.loadNewerPosts,children:m(D,{id:"posts_view.loadMore",defaultMessage:"Load More Messages"})});if(e===o||e===i){return m("div",{className:"loading-screen",children:_("div",{className:E("loading__content",{hideAnimation:!n&&!s}),children:[m("div",{className:"round round-1"}),m("div",{className:"round round-2"}),m("div",{className:"round round-3"})]})})}const d={previousPostId:t,shouldHighlight:this.props.shouldHighlight,togglePostMenu:this.props.togglePostMenu,isLastPost:this.props.isLastPost};return Ma(e)?m(PD,a({combinedId:e},d)):m(AD,a({postId:e,post:r},d))}}var BD=v((function(e,t){let n;Va(t.listId)||(n=t.listId);const s=ea(e);return{post:t.post||(n?bt(e,n):null),channel:t.channel,shortcutReactToLastPostEmittedFrom:s}}),(function(e){return{actions:y({emitShortcutReactToLastPostFrom:pi},e)}}))(HD),qD=bp.jsx;var GD=function(e){return qD("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:qD("path",{fillRule:"evenodd",d:"M15.707 4.293a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 011.414-1.414L10 8.586l4.293-4.293a1 1 0 011.414 0zm0 6a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 111.414-1.414L10 14.586l4.293-4.293a1 1 0 011.414 0z",clipRule:"evenodd"})}))};var zD="u3-cxx-400908f8";class VD extends h.PureComponent{render(){return m("div",{className:E(zD,{"u3-hidden":this.props.atBottom}),onClick:this.props.onClick,children:m(GD,{className:"u3-w-6 u3-h-6 u3-animate-bounce u3-text-gray-600"})})}}u(VD,"propTypes",{isScrolling:M.bool.isRequired,atBottom:M.bool,onClick:M.func.isRequired});var WD=bp.jsx,YD=bp.jsxs;var KD=function(e){return YD("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:[WD("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),WD("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}))};var $D="u3-cxx-d30c61aa",JD="u3-cxx-f72fc91e",XD="u3-cxx-9dea3666",QD="u3-cxx-876211b0",ZD="u3-cxx-92d59aed",ej="u3-cxx-fb173248",tj="u3-cxx-d3a8210e";class nj extends h.PureComponent{constructor(){super(...arguments),u(this,"mounted"),u(this,"handleDismiss",(()=>{"function"==typeof this.props.onDismiss&&this.props.onDismiss()}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e={[$D]:!0},t={[XD]:!0},{show:n,extraClasses:s,showActions:r,width:o}=this.props;n&&(e[JD]=!0),r&&(t[QD]=!0);return _("div",{className:E(e,"toastClass"),children:[_("div",{className:E(t),onClick:r?this.props.onClick:void 0,children:[r&&(()=>_("div",{className:ZD,children:[m(KD,{className:"u3-w-5 u3-h-5 u3-text-white"}),o>re.MOBILE_SCREEN_WIDTH&&this.props.onClickMessage]}))(),this.props.children]}),m("div",{className:ej,onClick:this.handleDismiss,"data-testid":s?`dismissToast-${s}`:"dismissToast",children:m(jE,{className:E(tj),id:"dismissToast"})})]})}}const sj=[NS],rj=class extends h.PureComponent{constructor(e){super(e),u(this,"handleShortcut",(e=>{Ns(e,re.KeyCodes.ESCAPE)&&(this.state.showUnreadToast?this.hideUnreadToast():this.state.showNewMessagesToast?this.hideNewMessagesToast():this.hideArchiveToast())})),u(this,"hideUnreadToast",(()=>{this.state.showUnreadToast&&this.setState({showUnreadToast:!1})})),u(this,"hideArchiveToast",(()=>{this.state.showMessageHistoryToast&&this.setState({showMessageHistoryToast:!1})})),u(this,"hideNewMessagesToast",((e=!0)=>{this.state.showNewMessagesToast&&(this.setState({showNewMessagesToast:!1}),e&&this.props.updateLastViewedBottomAt())})),u(this,"hideSearchHintToast",(()=>{this.props.onSearchHintDismiss&&this.props.onSearchHintDismiss()})),u(this,"newMessagesToastText",((e,t)=>{return this.props.width>500&&void 0!==t?m(D,{id:"postlist.toast.newMessagesSince",defaultMessage:"{count, number} new {count, plural, one {message} other {messages}} {isToday, select, true {} other {since}} {date}",values:{count:e,isToday:(n=new Date(t),TS(n)).toString(),date:m(BS,{value:t,useTime:!1,ranges:sj})}}):m(D,{id:"postlist.toast.newMessages",defaultMessage:"{count, number} new {count, plural, one {message} other {messages}}",values:{count:e}});var n})),u(this,"archiveToastText",(()=>m("p",{className:"u3-ml-8",children:m(D,{id:"postlist.toast.history",defaultMessage:"Viewing message history"})}))),u(this,"changeUrlToRemountChannelView",(()=>{const{match:e}=this.props;et.replace(`/${e.params.team}`)})),u(this,"scrollToNewMessage",(()=>{const{focusedPostId:e,atLatestPost:t,scrollToNewMessage:n,updateLastViewedBottomAt:s}=this.props;!e||t?(n(),s(),this.hideNewMessagesToast()):this.changeUrlToRemountChannelView()})),u(this,"scrollToLatestMessages",(()=>{const{focusedPostId:e,atLatestPost:t,scrollToLatestMessages:n}=this.props;if(e){if(!t)return void this.changeUrlToRemountChannelView();this.hideArchiveToast()}n(),this.hideUnreadToast()})),this.state={unreadCountInChannel:e.unreadCountInChannel}}static getDerivedStateFromProps(e,t){let n,{showUnreadToast:s,showNewMessagesToast:r,showMessageHistoryToast:o}=t;return n=e.atLatestPost?rj.countNewMessages(e.postListIds,e.rootPosts,e.isCollapsedThreadsEnabled):e.channelMarkedAsUnread?t.unreadCountInChannel:t.unreadCountInChannel+e.newRecentMessagesCount,void 0===s&&null!==e.atBottom&&(s=n>0&&!e.atBottom),void 0===o&&""!==e.focusedPostId&&null!==e.atBottom&&(o=e.initScrollOffsetFromBottom>1e3||!e.atLatestPost),!e.channelMarkedAsUnread||e.atBottom||t.channelMarkedAsUnread||t.showUnreadToast||(s=!0),e.channelMarkedAsUnread&&e.lastViewedAt!==t.lastViewedAt&&!e.atBottom&&(s=!0),!s&&n>0&&!e.atBottom&&e.lastViewedBottom<e.latestPostTimeStamp&&(r=!0),n||(r=!1,s=!1),{unreadCount:n,showUnreadToast:s,showNewMessagesToast:r,lastViewedAt:e.lastViewedAt,channelMarkedAsUnread:e.channelMarkedAsUnread,showMessageHistoryToast:o}}componentDidMount(){this.mounted=!0;const{showUnreadToast:e,showNewMessagesToast:t,showMessageHistoryToast:n}=this.state,s=Boolean(e||t||n);document.addEventListener("keydown",this.handleShortcut),this.props.actions.updateToastStatus(s)}componentDidUpdate(e,t){const{showUnreadToast:n,showNewMessagesToast:s,showMessageHistoryToast:r}=this.state,{atBottom:o,atLatestPost:i,postListIds:a,lastViewedBottom:l,updateNewMessagesAtInChannel:c,actions:u}=this.props;!e.atBottom&&o&&i&&(this.hideNewMessagesToast(!1),this.hideUnreadToast(),this.hideArchiveToast());const d=e.postListIds.length,p=a.length;p!==d&&a[0]!==e.postListIds[0]&&(!1===o&&i&&p>0)&&!n&&c(l);if(t.showUnreadToast!==n||t.showNewMessagesToast!==s||t.showMessageHistoryToast!==r){const e=Boolean(n||s||r);u.updateToastStatus(e)}}componentWillUnmount(){document.removeEventListener("keydown",this.handleShortcut)}getToastToRender(){const{atLatestPost:e,atBottom:t,width:n,lastViewedAt:s,showSearchHintToast:r}=this.props,{showUnreadToast:o,showNewMessagesToast:i,showMessageHistoryToast:c,unreadCount:u}=this.state,d={show:!0,width:n,onDismiss:this.hideUnreadToast,onClick:this.scrollToLatestMessages,onClickMessage:ds("postlist.toast.scrollToBottom","Jump to recents"),showActions:!e||e&&!t};if(o&&u>0)return m(nj,l(a({},d),{children:this.newMessagesToastText(u,s)}));if(i){const e={onDismiss:this.hideNewMessagesToast,onClick:this.scrollToNewMessage,onClickMessage:ds("postlist.toast.scrollToLatest","Jump to new messages")};return m(nj,l(a(a({},d),e),{children:this.newMessagesToastText(u,s)}))}if(c){const e={show:!0,width:n,onDismiss:this.hideArchiveToast,onClick:this.scrollToLatestMessages,onClickMessage:ds("postlist.toast.scrollToBottom","Jump to recents"),showActions:!0,extraClasses:"toast__history"};return m(nj,l(a({},e),{children:this.archiveToastText()}))}return null}render(){const e=this.getToastToRender();return m(h.Fragment,{children:e})}};let oj=rj;u(oj,"propTypes",{unreadCountInChannel:M.number,newRecentMessagesCount:M.number,channelMarkedAsUnread:M.bool,isCollapsedThreadsEnabled:M.bool,rootPosts:M.object,atLatestPost:M.bool,postListIds:M.array,latestPostTimeStamp:M.number,atBottom:M.bool,lastViewedBottom:M.number,width:M.number,lastViewedAt:M.number,focusedPostId:M.string,initScrollOffsetFromBottom:M.number,updateNewMessagesAtInChannel:M.func,scrollToNewMessage:M.func,scrollToLatestMessages:M.func,updateLastViewedBottomAt:M.func,showSearchHintToast:M.bool,onSearchHintDismiss:M.func,match:M.shape({params:M.shape({team:M.string}).isRequired}).isRequired,actions:M.shape({updateToastStatus:M.func.isRequired}).isRequired}),u(oj,"defaultProps",{focusedPostId:""}),u(oj,"countNewMessages",((e,t,n)=>{const s=Ja(e);if(s<=0)return 0;let r=e.slice(0,s).filter((e=>!Va(e)));return n&&(r=r.filter((e=>t[e]))),r.length}));var ij=S(oj);var aj=T(v((function(){const e=p(Xa,ce,((e,t)=>t),((e,t,n)=>n),Mn,((e,t,n,s,r)=>n?n.map((t=>e[t])).filter((e=>e&&e.user_id!==t&&e.state!==ft.POST_DELETED&&e.create_at>s&&(!r||""===e.root_id))).length:0)),t=p(Xa,ce,Ye,((e,t,n)=>Object.values(e).filter((e=>""===e.root_id&&e.channel_id===n.id&&e.state!==ft.POST_DELETED)).reduce(((e,t)=>(e[t.id]=!0,e)),{}))),n=Qa();return function(s,r){let o=0;const i=Za(s,r.channelId),a=s.views.channel.lastChannelViewTime[r.channelId];if(!r.atLatestPost){let t=Ao(s,r.channelId);t&&(t=n(s,{postIds:t,lastViewedAt:a,channelId:r.channelId})),o=e(s,t,a)}return{rootPosts:t(s),lastViewedAt:a,newRecentMessagesCount:o,isCollapsedThreadsEnabled:Mn(s),unreadCountInChannel:el(s),channelMarkedAsUnread:i}}}),(function(e){return{actions:y({updateToastStatus:bc},e)}}))(ij));var lj="u3-cxx-2c44e3d0",cj="u3-cxx-6829ae4c",uj="u3-cxx-3355f0e4",dj="u3-cxx-3f05bd64",pj="u3-cxx-0cda3b69",hj="u3-cxx-80743e8a";const fj=50,mj=100,gj={padding:"14px 0px 7px"},vj={position:"absolute",bottom:"0",maxHeight:"100%"};class yj extends h.PureComponent{constructor(e){super(e),u(this,"getNewMessagesSeparatorIndex",(e=>e.findIndex((e=>0===e.indexOf($a.START_OF_NEW_MESSAGES))))),u(this,"handleWindowResize",(()=>{this.props.actions.checkAndSetMobileView();const e=We();if(e!==this.state.isMobile){const t=this.state.dynamicListStyle;this.state.postMenuOpened&&(e||"unset"!==t.willChange?e&&"transform"===t.willChange&&(t.willChange="unset"):t.willChange="transform"),this.setState({isMobile:e,dynamicListStyle:t}),this.scrollStopAction=new JA(this.handleScrollStop)}this.showSearchHintThreshold=this.getShowSearchHintThreshold()})),u(this,"togglePostMenu",(e=>{const t=this.state.dynamicListStyle;this.state.isMobile&&(t.willChange=e?"unset":"transform"),this.setState({postMenuOpened:e,dynamicListStyle:t})})),u(this,"renderRow",(({data:e,itemId:t,style:n})=>{const s=e.indexOf(t);let r="";const o="post-row__padding",i=-1!==s&&s<e.length-1?e[s+1]:"",a=s>0&&s<e.length?e[s-1]:"";(Wa(a)||Ka(a))&&(r+="post-row__padding bottom"),(Wa(i)||Ka(i))&&(r.includes(o)?r+=" top":r+="post-row__padding top");const l=t===this.state.postListIds[0];return m("div",{style:n,className:E(dj,r),children:m(BD,{listId:t,previousListId:tl(e,s),shouldHighlight:t===this.props.focusedPostId,loadOlderPosts:this.props.actions.loadOlderPosts,loadNewerPosts:this.props.actions.loadNewerPosts,togglePostMenu:this.togglePostMenu,isLastPost:l,loadingNewerPosts:this.props.loadingNewerPosts,loadingOlderPosts:this.props.loadingOlderPosts})})})),u(this,"scrollToFailed",(e=>{0===e?this.props.actions.changeUnreadChunkTimeStamp(""):this.props.actions.changeUnreadChunkTimeStamp(this.props.lastViewedAt)})),u(this,"onScroll",(({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n,clientHeight:s,scrollHeight:r})=>{if(r<=0)return;const o="forward"===e&&!n,i=r-s-t,a=i<1e3;if("backward"===e&&!n&&t<1e3&&!this.props.atOldestPost?this.props.actions.loadOlderPosts():o&&a&&!this.props.atLatestPost&&this.props.actions.loadNewerPosts(),this.state.isMobile&&(this.state.isScrolling||this.setState({isScrolling:!0}),this.scrollStopAction&&this.scrollStopAction.fireAfter(re.SCROLL_DELAY)),this.checkBottom(t,r,s),n){this.listRef.current._getRangeToRender()[3]<=1&&!this.props.atLatestPost&&this.props.actions.canLoadMorePosts(mt.AFTER_ID),!this.state.atBottom&&r&&this.setState({initScrollOffsetFromBottom:i})}this.state.isMobile&&this.state.showSearchHint&&this.setState({showSearchHint:!1}),this.state.isMobile||this.state.isSearchHintDismissed||this.setState({showSearchHint:i>this.showSearchHintThreshold})})),u(this,"getShowSearchHintThreshold",(()=>3*window.screen.height)),u(this,"checkBottom",((e,t,n)=>{this.updateAtBottom(this.isAtBottom(e,t,n))})),u(this,"isAtBottom",((e,t,n)=>t-n-e<=10&&t>0)),u(this,"updateAtBottom",(e=>{if(e!==this.state.atBottom){let t=Date.now();this.props.latestPostTimeStamp>t&&(t=this.props.latestPostTimeStamp),this.setState({atBottom:e,lastViewedBottom:t})}})),u(this,"updateLastViewedBottomAt",((e=Date.now())=>{this.setState({lastViewedBottom:e})})),u(this,"handleScrollStop",(()=>{this.mounted&&this.setState({isScrolling:!1})})),u(this,"handleSearchHintDismiss",(()=>{this.setState({showSearchHint:!1,isSearchHintDismissed:!0})})),u(this,"updateFloatingTimestamp",(e=>{this.state.isMobile&&this.props.postListIds&&this.setState({topPostId:nl(this.props.postListIds.slice(e))})})),u(this,"onItemsRendered",(({visibleStartIndex:e})=>{this.updateFloatingTimestamp(e)})),u(this,"initScrollToIndex",(()=>{if(this.props.focusedPostId){return{index:this.state.postListIds.findIndex((e=>e===this.props.focusedPostId)),position:"center"}}return{index:0,position:"end"}})),u(this,"scrollToLatestMessages",(()=>{this.props.atLatestPost?this.scrollToBottom():(this.updateNewMessagesAtInChannel(),this.props.actions.changeUnreadChunkTimeStamp(""))})),u(this,"scrollToBottom",(()=>{this.listRef.current?this.listRef.current.scrollToItem(0,"end"):setTimeout((()=>{this.listRef.current&&this.listRef.current.scrollToItem(0,"end")}),500)})),u(this,"scrollToNewMessage",(()=>{this.listRef.current?this.listRef.current.scrollToItem(Ja(this.state.postListIds),"start",-50):setTimeout((()=>{this.listRef.current&&this.listRef.current.scrollToItem(Ja(this.state.postListIds),"start",-50)}),500)})),u(this,"updateNewMessagesAtInChannel",((e=Date.now())=>{this.props.actions.updateNewMessagesAtInChannel(this.props.channelId,e)})),u(this,"renderToasts",(e=>m(aj,{atLatestPost:this.props.atLatestPost,postListIds:this.state.postListIds,atBottom:this.state.atBottom,width:e,lastViewedBottom:this.state.lastViewedBottom,latestPostTimeStamp:this.props.latestPostTimeStamp,scrollToNewMessage:this.scrollToNewMessage,scrollToLatestMessages:this.scrollToLatestMessages,updateNewMessagesAtInChannel:this.updateNewMessagesAtInChannel,updateLastViewedBottomAt:this.updateLastViewedBottomAt,channelId:this.props.channelId,focusedPostId:this.props.focusedPostId,initScrollOffsetFromBottom:this.state.initScrollOffsetFromBottom,onSearchHintDismiss:this.handleSearchHintDismiss,showSearchHintToast:this.state.showSearchHint})));const t=$a.CHANNEL_INTRO_MESSAGE,n=We();this.state={isScrolling:!1,isMobile:n,atBottom:null,lastViewedBottom:Date.now(),postListIds:[t],topPostId:"",postMenuOpened:!1,dynamicListStyle:{willChange:"transform"},initScrollCompleted:!1,initScrollOffsetFromBottom:0,showSearchHint:!1,isSearchHintDismissed:!1},this.listRef=h.createRef(),this.postListRef=h.createRef(),n&&(this.scrollStopAction=new JA(this.handleScrollStop)),this.initRangeToRender=this.props.focusedPostId?[0,mj]:[0,fj];let s=0;s=e.focusedPostId?this.props.postListIds.findIndex((e=>e===this.props.focusedPostId)):this.getNewMessagesSeparatorIndex(e.postListIds);const r=e.focusedPostId?mj:fj;this.initRangeToRender=[Math.max(s-30,0),Math.max(s+30,Math.min(e.postListIds.length-1,r))],this.showSearchHintThreshold=this.getShowSearchHintThreshold()}componentDidMount(){this.mounted=!0,this.props.actions.checkAndSetMobileView(),window.addEventListener("resize",this.handleWindowResize),_t.addListener(wt.POST_LIST_SCROLL_TO_BOTTOM,this.scrollToLatestMessages)}getSnapshotBeforeUpdate(e){if(this.postListRef&&this.postListRef.current){const t=this.props.postListIds&&this.props.postListIds.length!==e.postListIds.length&&this.props.postListIds[0]===e.postListIds[0],n=this.props.atOldestPost!==e.atOldestPost;if((t||n)&&!1===this.state.atBottom){const e=this.postListRef.current;return{previousScrollTop:e.parentElement.scrollTop,previousScrollHeight:e.scrollHeight}}}return null}componentDidUpdate(e,t,n){if(!this.postListRef.current)return;const s=e.postListIds.length,r=this.props.postListIds.length;if(n){const t=this.postListRef.current.scrollHeight,o=r!==s&&this.props.postListIds[0]===e.postListIds[0],i=this.props.atOldestPost!==e.atOldestPost;if((o||i)&&!this.state.atBottom&&n){const e=n.previousScrollTop+(t-n.previousScrollHeight);0!==e&&e-n.previousScrollTop!=0&&this.listRef.current.scrollTo(e,e-n.previousScrollTop,!0)}}}componentWillUnmount(){this.mounted=!1,window.removeEventListener("resize",this.handleWindowResize),_t.removeListener(wt.POST_LIST_SCROLL_TO_BOTTOM,this.scrollToLatestMessages)}static getDerivedStateFromProps(e){const t=e.postListIds;let n;return n=e.atOldestPost?[...t,$a.CHANNEL_INTRO_MESSAGE]:e.autoRetryEnable?[...t,$a.OLDER_MESSAGES_LOADER]:[...t,$a.LOAD_OLDER_MESSAGES_TRIGGER],e.atLatestPost||(n=e.autoRetryEnable?[$a.NEWER_MESSAGES_LOADER,...n]:[$a.LOAD_NEWER_MESSAGES_TRIGGER,...n]),{postListIds:n}}render(){const e=this.props.channelId;let t;this.props.latestAriaLabelFunc&&this.props.postListIds.indexOf($a.START_OF_NEW_MESSAGES)>=0&&(t=this.props.latestAriaLabelFunc(this.props.intl));const{dynamicListStyle:n}=this.state;return _("div",{role:"list",className:"a11y__region","aria-label":ds("accessibility.sections.centerContent","message list main region"),children:[this.state.isMobile&&_(h.Fragment,{children:[m(UL,{isScrolling:this.state.isScrolling,isMobile:!0,postId:this.state.topPostId}),m(VD,{isScrolling:this.state.isScrolling,atBottom:this.state.atBottom,onClick:this.scrollToBottom})]}),m("div",{role:"presentation",className:lj,children:m("div",{role:"presentation",className:cj,children:_("div",{id:"postListContent",className:uj,children:[m("span",{className:E(pj,"sr-only"),"aria-live":"polite",children:t}),m(vL,{children:({height:e,width:t})=>_(h.Fragment,{children:[m("div",{children:this.renderToasts(t)}),m(RL,{ref:this.listRef,height:e,width:t,className:hj,itemData:this.state.postListIds,overscanCountForward:80,overscanCountBackward:80,onScroll:this.onScroll,initScrollToIndex:this.initScrollToIndex,canLoadMorePosts:this.props.actions.canLoadMorePosts,innerRef:this.postListRef,style:a(a({},vj),n),innerListStyle:gj,initRangeToRender:this.initRangeToRender,loaderId:$a.OLDER_MESSAGES_LOADER,correctScrollToBottom:this.props.atLatestPost,onItemsRendered:this.onItemsRendered,scrollToFailed:this.scrollToFailed,children:this.renderRow})]})})]})})},"postlist-"+e)]})}}u(yj,"propTypes",{postListIds:M.array.isRequired,focusedPostId:M.string,channelId:M.string.isRequired,autoRetryEnable:M.bool,atOldestPost:M.bool,atLatestPost:M.bool,loadingNewerPosts:M.bool,loadingOlderPosts:M.bool,intl:uT.isRequired,latestPostTimeStamp:M.number,latestAriaLabelFunc:M.func,lastViewedAt:M.string,actions:M.shape({loadOlderPosts:M.func.isRequired,loadNewerPosts:M.func.isRequired,canLoadMorePosts:M.func.isRequired,checkAndSetMobileView:M.func.isRequired,changeUnreadChunkTimeStamp:M.func.isRequired,updateNewMessagesAtInChannel:M.func.isRequired}).isRequired});var bj=S(yj);class _j extends h.PureComponent{constructor(e){super(e),u(this,"autoRetriesCount"),u(this,"loadingMorePosts"),u(this,"actionsForPostList"),u(this,"mounted"),u(this,"extraPagesLoaded"),u(this,"postsOnLoad",(async e=>{const{focusedPostId:t,isFirstLoad:n,latestPostTimeStamp:s,isPrefetchingInProcess:r,actions:o}=this.props;t?await o.loadPostsAround(e,this.props.focusedPostId):n&&r||await o.loadLatestPosts(e),t||this.markChannelAsReadAndViewed(e),this.mounted&&this.setState({loadingOlderPosts:!1,loadingNewerPosts:!1})})),u(this,"callLoadPosts",(async(e,t,n)=>{const{error:s}=await this.props.actions.loadPosts({channelId:e,postId:t,type:n});return n===mt.BEFORE_ID?this.setState({loadingOlderPosts:!1}):this.setState({loadingNewerPosts:!1}),s?this.autoRetriesCount<3?(this.autoRetriesCount++,await this.callLoadPosts(e,t,n)):this.mounted&&this.setState({autoRetryEnable:!1}):(this.mounted&&this.setState({autoRetryEnable:!0}),this.state.autoRetryEnable||(this.autoRetriesCount=0)),{error:s}})),u(this,"markChannelAsReadAndViewed",(e=>{this.props.actions.markChannelAsViewed(e),this.props.actions.markChannelAsRead(e)})),u(this,"getOldestVisiblePostId",(()=>sl(this.props.postListIds))),u(this,"getLatestVisiblePostId",(()=>nl(this.props.postListIds))),u(this,"canLoadMorePosts",(async(e=mt.BEFORE_ID)=>{this.props.postListIds&&(this.state.loadingOlderPosts||this.state.loadingNewerPosts||(this.extraPagesLoaded>10?this.state.autoRetryEnable&&this.setState({autoRetryEnable:!1}):(this.props.atOldestPost||e!==mt.BEFORE_ID?this.props.atLatestPost||await this.getPostsAfter():await this.getPostsBefore(),this.extraPagesLoaded+=1)))})),u(this,"getPostsBefore",(async()=>{if(this.state.loadingOlderPosts)return;const e=this.getOldestVisiblePostId();this.setState({loadingOlderPosts:!0}),await this.callLoadPosts(this.props.channelId,e,mt.BEFORE_ID)})),u(this,"getPostsAfter",(async()=>{if(this.state.loadingNewerPosts)return;const e=this.getLatestVisiblePostId();this.setState({loadingNewerPosts:!0}),await this.callLoadPosts(this.props.channelId,e,mt.AFTER_ID)})),this.state={loadingNewerPosts:!1,loadingOlderPosts:!1,autoRetryEnable:!0},this.mounted=!1,this.autoRetriesCount=0,this.loadingMorePosts=null,this.extraPagesLoaded=0,this.actionsForPostList={loadOlderPosts:this.getPostsBefore,loadNewerPosts:this.getPostsAfter,checkAndSetMobileView:e.actions.checkAndSetMobileView,canLoadMorePosts:this.canLoadMorePosts,changeUnreadChunkTimeStamp:e.changeUnreadChunkTimeStamp,updateNewMessagesAtInChannel:this.props.actions.updateNewMessagesAtInChannel}}componentDidMount(){this.mounted=!0,this.props.channelId&&this.postsOnLoad(this.props.channelId)}componentDidUpdate(e){this.props.channelId!==e.channelId&&this.postsOnLoad(this.props.channelId)}componentWillUnmount(){this.props.channelManuallyUnread||this.markChannelAsReadAndViewed(this.props.channelId),this.mounted=!1}render(){return this.props.postListIds?m(bj,{loadingNewerPosts:this.state.loadingNewerPosts,loadingOlderPosts:this.state.loadingOlderPosts,atOldestPost:this.props.atOldestPost,atLatestPost:this.props.atLatestPost,focusedPostId:this.props.focusedPostId,channelId:this.props.channelId,autoRetryEnable:this.state.autoRetryEnable,actions:this.actionsForPostList,postListIds:this.props.formattedPostIds,latestPostTimeStamp:this.props.latestPostTimeStamp,latestAriaLabelFunc:this.props.latestAriaLabelFunc,latestPostId:this.props.latestPostId},"postlist-"+this.props.channelId):m(rl,{})}}const wj=(e,t)=>!e.entities.posts.postsInChannel[t],xj=Bs((e=>nl(e)));var Cj=v((function(){const e=ol(),t=Qa(),n=Ba();return function(s,r){let o,i,a,l,c=0,u=!1,d=!1;const{focusedPostId:p,unreadChunkTimeStamp:h,channelId:f}=r,m=s.views.channel,g=m.lastChannelViewTime[f],v=m.channelPrefetchStatus[f]===ze.STARTED,y=Za(s,f);if(i=p&&0!==h?e(s,p,f):h?il(s,f,h):al(s,f),i&&(o=i.order,u=!!i.recent,d=!!i.oldest),o&&(a=t(s,{postIds:o,lastViewedAt:g,indicateNewMessages:!0,channelId:f}),o.length)){const e=xj(o),t=bt(s,e);c=t.create_at,l=n(s,t)}return{lastViewedAt:g,isFirstLoad:wj(s,f),formattedPostIds:a,atLatestPost:u,atOldestPost:d,latestPostTimeStamp:c,postListIds:o,latestAriaLabelFunc:l,isPrefetchingInProcess:v,channelManuallyUnread:y}}}),(function(e){return{actions:y({loadUnreads:pc,loadPosts:mc,loadLatestPosts:fc,loadPostsAround:hc,checkAndSetMobileView:ic,syncPostsInChannel:gc,markChannelAsViewed:ll,markChannelAsRead:Pn,updateNewMessagesAtInChannel:Vc},e)}}))(_j);var Ej="u3-cxx-7890ffe3",Sj="u3-cxx-7c603677",Tj="u3-cxx-2610d44f";var Aj={makeNumberContainer:"u3-cxx-bd3c1e4e",numberTabList:"u3-cxx-2647f5d8",numberTabItem:"u3-cxx-29bd8ee1",tabSelected:"u3-cxx-3762d7d2",makeNumberContent:"u3-cxx-5e003b58",numberTitle:"u3-cxx-12be3868",makeNumberSection:"u3-cxx-744746e4",makeNumberGroup:"u3-cxx-bd55ea06",numberField:"u3-cxx-49aa7d74",fieldLabel:"u3-cxx-6efd5f24",fieldValue:"u3-cxx-74a905d1",numberFieldFull:"u3-cxx-42180530",inputNumber:"u3-cxx-4d0c97ea",inputResult:"u3-cxx-f55c489d",numberActions:"u3-cxx-2766de34",numberActionBtn:"u3-cxx-0bb510f7",numberButton:"u3-cxx-03b6e6e2",numberAlert:"u3-cxx-76ed66d1"};const Pj=e=>{const[t,n]=f.exports.useState(""),[s,r]=f.exports.useState([]),[o,i]=f.exports.useState(""),[a,l]=f.exports.useState(""),[c,u]=f.exports.useState(""),[d,p]=f.exports.useState([]),[h,g]=f.exports.useState(!1),v=Xp((()=>g(!1)),1e3);f.exports.useEffect((()=>{if(!t&&o){const e=[];for(let t=0;t<100;t++){const n=t<10?`0${t}`:t.toString(),s=n.split("");parseInt(s[0],10)+parseInt(s[1],10)===parseInt(o,10)&&e.push(n)}return r(e)}const e=t.split(""),n=[];for(let t=0;t<100;t++){const s=t<10?`0${t}`:t.toString(),r=s.split("");for(let t=0;t<e.length;t++)r[0]!==e[t]&&r[1]!==e[t]||-1===n.indexOf(s)&&n.push(s)}r(n)}),[t,o]),f.exports.useEffect((()=>{if(!c)return p([]);const e=c.split(","),t=[];for(let n=0;n<e.length;n++){const s=1==e[n].trim().length?`0${e[n].trim()}`:e[n].trim();s.length>0&&t.push(s)}p(t)}),[c]),f.exports.useEffect((()=>{h&&v()}),[h]);const y=((e,t,n,s)=>{let r=[...e];return t>0&&t<19&&(r=r.filter((e=>{const n=e.split("");return parseInt(n[0],10)+parseInt(n[1],10)===t}))),n.length>0&&(r=n.reduce(((e,t)=>(-1===e.indexOf(t)&&e.push(t),e)),r)),r=r.filter((e=>-1===s.indexOf(e))),r})(s,parseInt(o||"-1",10),d,a.split(","));return _("div",{className:E(Aj.makeNumberSection,Aj.firstTable),children:[_("div",{className:Aj.makeNumberGroup,children:[_("div",{className:E(Aj.numberField,"u3-col-span-8"),children:[m("label",{className:Aj.fieldLabel,children:"Chạm"}),m("input",{className:E(Aj.fieldValue,Aj.inputNumber),value:t,onChange:e=>n(e.target.value)})]}),_("div",{className:E(Aj.numberField,"u3-col-span-4"),children:[m("label",{className:Aj.fieldLabel,children:"Tổng"}),m("input",{className:E(Aj.fieldValue,Aj.inputNumber),value:o,onChange:e=>i(e.target.value),maxLength:2})]})]}),_("div",{className:Aj.makeNumberGroup,children:[_("div",{className:E(Aj.numberField,"u3-col-span-6"),children:[m("label",{className:Aj.fieldLabel,children:"Thêm"}),m("input",{className:Aj.inputNumber,value:c,onChange:e=>u(e.target.value)})]}),_("div",{className:E(Aj.numberField,"u3-col-span-6"),children:[m("label",{className:Aj.fieldLabel,children:"Bỏ"}),m("input",{className:Aj.inputNumber,value:a,onChange:e=>l(e.target.value)})]})]}),m("div",{className:E(Aj.numberField,Aj.numberFieldFull,"u3-mt-2"),children:m("textarea",{className:E(Aj.inputResult,{"u3-cursor-default":0===y.length}),value:y.join(","),readOnly:!0})}),_("div",{className:E(Aj.numberActions),children:[m("div",{className:E(Aj.numberActionBtn),children:m("button",{className:E(Aj.numberButton),onClick:function(){h||(g(!0),y&&0==y.length||gi(y))},children:h?"Đã sao chép":"Sao chép"})}),m("div",{className:E(Aj.numberAlert),children:y.length>0?_("label",{className:Aj.fieldLabel,children:["Có ",y.length," số"]}):null})]})]})},Ij=e=>{const[t,n]=f.exports.useState(""),[s,r]=f.exports.useState(""),[o,i]=f.exports.useState([]),[a,l]=f.exports.useState(""),[c,u]=f.exports.useState(""),[d,p]=f.exports.useState(""),[h,g]=f.exports.useState([]),[v,y]=f.exports.useState(!1),b=Xp((()=>y(!1)),1e3);f.exports.useEffect((()=>{if(!t&&!s&&a){const e=[];for(let t=0;t<100;t++){const n=t<10?`0${t}`:t.toString(),s=n.split("");parseInt(s[0],10)+parseInt(s[1],10)===parseInt(a,10)&&e.push(n)}return i(e)}if(t&&s)return i([`${t}${s}`]);const e=[];for(let n=0;n<100;n++){const r=n<10?`0${n}`:n.toString(),o=r.split("");o[0]!==t&&o[1]!==s||-1===e.indexOf(r)&&e.push(r)}i(e)}),[t,s,a]),f.exports.useEffect((()=>{if(!t&&!s)return g([]);const e=d.split(","),n=[];for(let t=0;t<e.length;t++){const s=1==e[t].trim().length?`0${e[t].trim()}`:e[t].trim();s.length>0&&n.push(s)}g(n)}),[d]),f.exports.useEffect((()=>{v&&b()}),[v]);const w=((e,t,n,s)=>{let r=[...e];return t>0&&t<19&&(r=r.filter((e=>{const n=e.split("");return parseInt(n[0],10)+parseInt(n[1],10)===t}))),n.length>0&&(r=n.reduce(((e,t)=>(-1===e.indexOf(t)&&e.push(t),e)),r)),r=r.filter((e=>-1===s.indexOf(e))),r})(o,parseInt(a||"-1",10),h,c.split(","));return _("div",{className:E(Aj.makeNumberSection,Aj.firstTable),children:[_("div",{className:Aj.makeNumberGroup,children:[_("div",{className:E(Aj.numberField,"u3-col-span-4"),children:[m("label",{className:Aj.fieldLabel,children:"Đầu"}),m("input",{className:E(Aj.fieldValue,Aj.inputNumber),value:t,onChange:e=>n(e.target.value),maxLength:1})]}),_("div",{className:E(Aj.numberField,"u3-col-span-4"),children:[m("label",{className:Aj.fieldLabel,children:"Đuôi"}),m("input",{className:E(Aj.fieldValue,Aj.inputNumber),value:s,onChange:e=>r(e.target.value),maxLength:1})]}),_("div",{className:E(Aj.numberField,"u3-col-span-4"),children:[m("label",{className:Aj.fieldLabel,children:"Tổng"}),m("input",{className:E(Aj.fieldValue,Aj.inputNumber),value:a,onChange:e=>l(e.target.value),maxLength:2})]})]}),_("div",{className:Aj.makeNumberGroup,children:[_("div",{className:E(Aj.numberField,"u3-col-span-6"),children:[m("label",{className:Aj.fieldLabel,children:"Thêm"}),m("input",{className:Aj.inputNumber,value:d,onChange:e=>p(e.target.value)})]}),_("div",{className:E(Aj.numberField,"u3-col-span-6"),children:[m("label",{className:Aj.fieldLabel,children:"Bỏ"}),m("input",{className:Aj.inputNumber,value:c,onChange:e=>u(e.target.value)})]})]}),m("div",{className:E(Aj.numberField,Aj.numberFieldFull,"u3-mt-2"),children:m("textarea",{className:E(Aj.inputResult,{"u3-cursor-default":0===w.length}),value:w.join(","),readOnly:!0})}),_("div",{className:E(Aj.numberActions),children:[m("div",{className:E(Aj.numberActionBtn),children:m("button",{className:E(Aj.numberButton),onClick:function(){v||(y(!0),w&&0==w.length||gi(w))},children:v?"Đã sao chép":"Sao chép"})}),m("div",{className:E(Aj.numberAlert),children:w.length>0?_("label",{className:Aj.fieldLabel,children:["Có ",w.length," số"]}):null})]})]})},Nj=(e,t)=>!1===e.includes(t)?[...e,t]:e,kj=(e,t)=>{let n=[`${e}${t}`];return n=Nj(n,`${t}${e}`),n=Nj(n,`${e+5}${t}`),n=Nj(n,`${t}${e+5}`),n=Nj(n,`${e}${t+5}`),n=Nj(n,`${t+5}${e}`),n=Nj(n,`${e+5}${t+5}`),n=Nj(n,`${t+5}${e+5}`),n},Rj=e=>{const[t,n]=f.exports.useState({}),[s,r]=f.exports.useState(""),[o,i]=f.exports.useState([]),[a,l]=f.exports.useState(""),[c,u]=f.exports.useState(""),[d,p]=f.exports.useState(""),[h,g]=f.exports.useState([]),[v,y]=f.exports.useState(!1);Xp((()=>y(!1)),1e3),f.exports.useEffect((()=>{const e={};for(let t=0;t<=4;t++)for(let n=t;n<=4;n++){const s=`${t}${n}`;e[s]||(e[s]=kj(t,n))}n(e)}),[]),f.exports.useEffect((()=>{if(!s&&a){const e=[];for(let t=0;t<100;t++){const n=t<10?`0${t}`:t.toString(),s=n.split("");parseInt(s[0],10)+parseInt(s[1],10)===parseInt(a,10)&&e.push(n)}return i(e)}if(2!=s.length)return i([]);if(t[s])return i(t[s]);for(const e in t)if(t[e].includes(s)){i(t[e]);break}}),[s,a]),f.exports.useEffect((()=>{if(!s)return g([]);const e=d.split(","),t=[];for(let n=0;n<e.length;n++){const s=1==e[n].trim().length?`0${e[n].trim()}`:e[n].trim();s.length>0&&t.push(s)}g(t)}),[d]);const b=((e,t,n,s)=>{let r=[...e];return t>0&&t<19&&(r=r.filter((e=>{const n=e.split("");return parseInt(n[0],10)+parseInt(n[1],10)===t}))),n.length>0&&(r=n.reduce(((e,t)=>(-1===e.indexOf(t)&&e.push(t),e)),r)),r=r.filter((e=>-1===s.indexOf(e))),r})(o,parseInt(a||"-1",10),h,c.split(","));return _("div",{className:E(Aj.makeNumberSection,Aj.firstTable),children:[_("div",{className:Aj.makeNumberGroup,children:[_("div",{className:E(Aj.numberField,"u3-col-span-7"),children:[m("label",{className:Aj.fieldLabel,children:"Bộ"}),m("input",{className:E(Aj.fieldValue,Aj.inputNumber),value:s,onChange:e=>r(e.target.value),maxLength:2})]}),_("div",{className:E(Aj.numberField,"u3-col-span-5"),children:[m("label",{className:Aj.fieldLabel,children:"Tổng"}),m("input",{className:E(Aj.fieldValue,Aj.inputNumber),value:a,onChange:e=>l(e.target.value),maxLength:2})]})]}),_("div",{className:Aj.makeNumberGroup,children:[_("div",{className:E(Aj.numberField,"u3-col-span-6"),children:[m("label",{className:Aj.fieldLabel,children:"Thêm"}),m("input",{className:Aj.inputNumber,value:d,onChange:e=>p(e.target.value)})]}),_("div",{className:E(Aj.numberField,"u3-col-span-6"),children:[m("label",{className:Aj.fieldLabel,children:"Bỏ"}),m("input",{className:Aj.inputNumber,value:c,onChange:e=>u(e.target.value)})]})]}),m("div",{className:E(Aj.numberField,Aj.numberFieldFull,"u3-mt-2"),children:m("textarea",{className:E(Aj.inputResult,{"u3-cursor-default":0===b.length}),value:b.join(","),readOnly:!0})}),_("div",{className:E(Aj.numberActions),children:[m("div",{className:E(Aj.numberActionBtn),children:m("button",{className:E(Aj.numberButton),onClick:function(){v||(y(!0),b&&0==b.length||gi(b))},children:v?"Đã sao chép":"Sao chép"})}),m("div",{className:E(Aj.numberAlert),children:b.length>0?_("label",{className:Aj.fieldLabel,children:["Có ",b.length," số"]}):null})]})]})},Mj=e=>m("div",{className:Aj.makeNumberContainer,children:_("div",{className:Aj.makeNumberContent,children:[m("div",{className:Aj.numberTitle,children:m("h3",{children:"Tạo Dàn 2D"})}),_(Zd.Group,{children:[_(Zd.List,{className:Aj.numberTabList,children:[m(Zd,{className:({selected:e})=>E(Aj.numberTabItem,{[Aj.tabSelected]:e}),children:"Chạm"},"number-cham"),m(Zd,{className:({selected:e})=>E(Aj.numberTabItem,{[Aj.tabSelected]:e}),children:"Đầu/Đuôi"},"number-dau-duoi"),m(Zd,{className:({selected:e})=>E(Aj.numberTabItem,{[Aj.tabSelected]:e}),children:"Bộ"},"number-list")]}),_(Zd.Panels,{className:"mt-2",children:[m(Zd.Panel,{children:m(Pj,{})},"number-cham"),m(Zd.Panel,{children:m(Ij,{})},"number-dau-duoi"),m(Zd.Panel,{children:m(Rj,{})},"number-list")]})]})]})});class Oj extends h.PureComponent{constructor(e){super(e),u(this,"changeUnreadChunkTimeStamp",(e=>{this.setState({unreadChunkTimeStamp:e,loaderForChangeOfPostsChunk:!1},(()=>{window.requestAnimationFrame((()=>{this.setState({loaderForChangeOfPostsChunk:!1})}))}))})),this.state={unreadChunkTimeStamp:e.lastViewedAt,loaderForChangeOfPostsChunk:!1,channelLoading:e.channelLoading}}static getDerivedStateFromProps(e,t){return null===t.unreadChunkTimeStamp&&e.lastViewedAt?{unreadChunkTimeStamp:e.lastViewedAt}:e.channelLoading!==t.channelLoading?{unreadChunkTimeStamp:e.lastViewedAt,channelLoading:e.channelLoading}:null}render(){return this.props.channelLoading||this.state.loaderForChangeOfPostsChunk?m("div",{id:"post-list",className:E(Ej,"bg-main-content"),children:m(rl,{})}):_("div",{id:"post-list",className:E(Ej,"bg-main-content"),role:"main",children:[m("div",{className:Sj,children:m(zE,{trigger:"click",placement:"left",content:m(Mj,{}),children:m("button",{className:Tj,children:"Tạo Dàn 2D"})})}),m("div",{className:"filter-x u3-filder-x",children:""}),m(Cj,{match:this.props.match,unreadChunkTimeStamp:this.state.unreadChunkTimeStamp,channelId:this.props.channelId,changeUnreadChunkTimeStamp:this.changeUnreadChunkTimeStamp,focusedPostId:this.props.focusedPostId})]})}}var Lj=v((function(){return function(e,t){const n=Sa(e,t.match.params.team);let s;const r=ee(e,t.channelId);let o=e.views.channel.lastChannelViewTime[t.channelId];r&&(r.type===re.DM_CHANNEL&&r.teammate_id&&(s=fn(e,r.teammate_id)),o=r.last_post_at?o:r.last_post_at);const i=es(e),a=((e,t,n,s,r)=>{const o=e.params;if(o.postid)return!1;if(t&&n){if(t.type!==re.DM_CHANNEL&&t.name!==o.identifier)return!0;if(t.type===re.DM_CHANNEL&&s&&o.identifier!==`@${s.username}`)return!0;const e=n.id;return!!(t.team_id&&t.team_id!==e||r&&!r[e])}return!0})(t.match,r,n,s,i);return{lastViewedAt:(new Date).getTime(),channelLoading:a}}}))(Oj),Dj=bp.jsx;var jj=function(e){return Dj("svg",l(a({},Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e)),{children:Dj("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}))};var Fj="u3-cxx-f2a4c836",Uj="u3-cxx-4818986a",Hj="u3-cxx-e70de9d5",Bj="u3-cxx-f887a06a",qj=e=>{const{emoji:t,spriteClassName:n}=e;return m("div",{className:E(Bj),children:m("img",{alt:t.aliases.join(" - "),src:Os(t),className:n,onClick:()=>{e.onItemClick(e.emoji)},role:"button"})})};const Gj=["smile","laughing","rofl","thumbsup","heart","slightly_frowning_face","neutral_face","sunglasses","scream","roll_eyes","vietnam","beated","after-boom","go","matrix","beat-brick","embarrassed","byebye","burn-joss-stick","sexy-girl","too-sad","boss","tire","hahaha","beauty","pudency"];var zj=v((function(e){return{customEmojisEnabled:"true"===e.entities.general.config.EnableCustomEmoji,customEmojiPage:e.views.emoji.emojiPickerCustomPage,emojiMap:Ms(e),recentEmojis:Fi(e),activeEmojis:Gj}}))((e=>{const[t,n]=f.exports.useState(e.show),[s,r]=f.exports.useState(!1),[o,i]=f.exports.useState([]),l=f.exports.useRef(null);let c;const u=()=>{e.target()&&l.current&&(c=Xm(e.target(),l.current,{placement:"top",strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,2]}}],onFirstUpdate:e=>{r(!0)}}))};return f.exports.useEffect((()=>(u(),()=>{c&&c.destroy()})),[]),f.exports.useEffect((()=>{t||r(!1),c?c.update():u()}),[t]),f.exports.useEffect((()=>{n(e.show)}),[e.show]),f.exports.useEffect((()=>{const{activeEmojis:t}=e;let n=[];ji.forEach((e=>{const s=e.map((e=>Li[e])).filter((e=>{var n;return!(n=t,!(e.aliases.findIndex((e=>n.includes(e)))>-1))}));n=n.concat(s)})),n=n.map((e=>{const t=a({},e);return t.filename=function(e){return e.filename||e.id}(e),t})),i(n)}),[e.recentEmojis]),m(f.exports.Fragment,t?{children:m("div",{role:"emoji-popper",ref:l,className:E(Fj,{"u3-opacity-0 u3-invisible":!s}),children:m("div",{className:Uj,children:m("div",{className:Hj,children:o.map(((t,n)=>m(qj,{emoji:t,onItemClick:e.onEmojiClick},`${t.filename}-${n}`)))})})})}:{})})),Vj=e=>m("svg",{"aria-hidden":"true",focusable:"false",className:E(e.className),role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",children:m("path",{fill:"currentColor",d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm4 72.6c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.1-8.4-25.3-7.1-33.8 3.1z"})});const Wj=h.forwardRef(((e,t)=>{const n=e,{component:s,title:{id:r,defaultMessage:o,values:i},className:u}=n,d=c(n,["component","title","className"]),{formatMessage:p}=b();return m("span",l(a({className:E("u3-inline-block",u)},d),{ref:t,title:p({id:r,defaultMessage:o},i),children:s}))}));Wj.displayName="LocalizedIcon";var Yj={postCreateForm:"u3-cxx-727acbd8",postCreateMain:"u3-cxx-26034f0e",postCreateTextbox:"u3-cxx-cd1dd672",postCreateActions:"u3-cxx-1acd2c51",sendButtonClass:"u3-cxx-65d5d4e7",sendButtonActive:"u3-cxx-703d3672",sendButtonDisabled:"u3-cxx-b6225820",emojiBtn:"u3-cxx-37ff8134",emojiBtnActive:"u3-cxx-d9ba0e76",emojiIcon:"u3-cxx-025ee21e",customReadOnlyText:"u3-cxx-224c0ab6",createPostComplex:"u3-cxx-1137398b"};const Kj=re.KeyCodes;function $j(e){return e.replace(/\s*$/,"")}class Jj extends h.PureComponent{constructor(e){super(e),u(this,"lastBlurAt"),u(this,"lastChannelSwitchAt"),u(this,"draftsForChannel"),u(this,"lastOrientation"),u(this,"saveDraftFrame"),u(this,"topDiv"),u(this,"textboxRef"),u(this,"fileUploadRef"),u(this,"createPostControlsRef"),u(this,"setShowPreview",(e=>{this.props.actions.setShowPreview(e)})),u(this,"setOrientationListeners",(()=>{window.screen.orientation&&"onchange"in window.screen.orientation?window.screen.orientation.addEventListener("change",this.onOrientationChange):"onorientationchange"in window&&window.addEventListener("orientationchange",this.onOrientationChange)})),u(this,"removeOrientationListeners",(()=>{window.screen.orientation&&"onchange"in window.screen.orientation?window.screen.orientation.removeEventListener("change",this.onOrientationChange):"onorientationchange"in window&&window.removeEventListener("orientationchange",this.onOrientationChange)})),u(this,"onOrientationChange",(()=>{if(!cl())return;let e="portrait";window.orientation&&(e=90===Math.abs(window.orientation)?"landscape":"portrait"),window.screen.orientation&&(e=window.screen.orientation.type.split("-")[0]),this.lastOrientation&&e!==this.lastOrientation&&"post_textbox"===(document.activeElement||{}).id&&this.textboxRef.current.blur(),this.lastOrientation=e})),u(this,"handlePostError",(e=>{this.setState({postError:e})})),u(this,"toggleEmojiPicker",(e=>{e.preventDefault(),this.setState({showEmojiPicker:!this.state.showEmojiPicker})})),u(this,"hideEmojiPicker",(()=>{this.handleEmojiClose()})),u(this,"doSubmit",(async e=>{const t=this.props.currentChannel.id;if(e&&e.preventDefault(),this.props.draft.uploadsInProgress.length>0||this.state.submitting)return;let n=this.state.message,s=!0;const r=this.state.serverError;r&&$o(r)&&r.submittedMessage===n&&(n=r.submittedMessage,s=!0);const o={file_ids:[]};if(o.message=n,0===o.message.trim().length&&0===this.props.draft.fileInfos.length)return;if(this.state.postError)return this.setState({errorClass:"animation--highlight"}),void setTimeout((()=>{this.setState({errorClass:null})}),re.ANIMATION_TIMEOUT);this.props.actions.addMessageIntoHistory(this.state.message),this.setState({submitting:!0,serverError:null});const i=yo.exec(o.message);if(0!==o.message.indexOf("/")||s)if(i&&this.props.emojiMap.has(i[2]))this.sendReaction(i),this.setState({message:""});else{const{error:e}=await this.sendMessage(o);e||this.setState({message:""})}else{this.setState({message:"",postError:null});let e={};e.channel_id=t,e.team_id=this.props.currentTeamId;const n=await this.props.actions.runSlashCommandWillBePostedHooks(o.message,e);n.error?this.setState({serverError:l(a({},n.error),{submittedMessage:o.message}),message:o.message}):!n.data.message&&n.data.args}this.setState({submitting:!1,postError:null}),cancelAnimationFrame(this.saveDraftFrame),this.props.actions.setDraft(zn.DRAFT+t,null),this.draftsForChannel[t]=null;const c=Date.now()-this.lastBlurAt<150;this.focusTextbox(c)})),u(this,"handleNotifyAllConfirmation",(e=>{this.hideNotifyAllModal(),this.doSubmit(e)})),u(this,"hideNotifyAllModal",(()=>{this.setState({showConfirmModal:!1})})),u(this,"showNotifyAllModal",(()=>{this.setState({showConfirmModal:!0})})),u(this,"getStatusFromSlashCommand",(()=>{const{message:e}=this.state,t=e.split(" ");return t.length>0?t[0].substring(1):""})),u(this,"isStatusSlashCommand",(e=>"online"===e||"away"===e||"dnd"===e||"offline"===e)),u(this,"handleSubmit",(async e=>{e&&e.preventDefault(),We()&&this.focusTextbox(!0);const{currentChannel:t,userIsOutOfOffice:n,channelMemberCountsByGroup:s,currentChannelMembersCount:r}=this.props,o=this.props.enableConfirmNotificationsToChannel&&this.props.useChannelMentions;let i=0,a=0,l=[];const c=!Xo(this.state.message);if(o&&r>re.NOTIFY_ALL_MEMBERS&&!c&&(i=r-1,l=["@all","@group"],this.props.isTimezoneEnabled)){const{data:e}=await this.props.actions.getChannelTimezones(this.props.currentChannel.id);a=e?e.length:0}if(i>0)return this.setState({channelTimezoneCount:a,memberNotifyCount:i,mentions:l}),void this.showNotifyAllModal();const u=this.getStatusFromSlashCommand();if(n&&this.isStatusSlashCommand(u)){const e={ModalId:Ur.RESET_STATUS,dialogType:m("div",{children:"ResetStatusModal"}),dialogProps:{newStatus:u}};return this.props.actions.openModal(e),void this.setState({message:""})}if("/header"===$j(this.state.message)){const e={modalId:Ur.EDIT_CHANNEL_HEADER,dialogType:m("div",{children:"EditChannelHeaderModal"}),dialogProps:{channel:t}};return this.props.actions.openModal(e),void this.setState({message:""})}const d=t.type===re.DM_CHANNEL||t.type===re.GM_CHANNEL;if(!d&&"/purpose"===$j(this.state.message)){const e={modalId:Ur.EDIT_CHANNEL_PURPOSE,dialogType:m("div",{children:"EditChannelPurposeModal"}),dialogProps:{channel:t}};return this.props.actions.openModal(e),void this.setState({message:""})}if(!d&&"/rename"===$j(this.state.message))return p=t,Uc.handleViewAction({type:Ee.TOGGLE_CHANNEL_NAME_UPDATE_MODAL,value:!0,channel:p}),void this.setState({message:""});var p;await this.doSubmit(e)})),u(this,"sendMessage",(async e=>{const{actions:t,currentChannel:n,currentUserId:s,draft:r,useChannelMentions:o}=this.props;let i=e;i.channel_id=n.id;const a=To(),l=s;i.pending_post_id=`${l}:${a}`,i.user_id=l,i.create_at=a,i.parent_id=this.state.parentId,i.metadata={},i.props={disable_group_highlight:!0},!o&&Xo(i.message,{checkAllMentions:!0})&&(i.props.mentionHighlightDisabled=!0);const c=await t.runMessageWillBePostedHooks(i);return c.error?(this.setState({serverError:c.error,submitting:!1}),c):(i=c.data,t.onSubmitPost(i,r.fileInfos),t.scrollPostListToBottom(),this.setState({submitting:!1}),{data:!0})})),u(this,"focusTextbox",((e=!1)=>{const t=this.props.readOnlyChannel||!this.props.canPost;this.textboxRef.current&&t?this.textboxRef.current.blur():!this.textboxRef.current||!e&&Tr()||this.textboxRef.current.focus()})),u(this,"postMsgKeyPress",(e=>{const{ctrlSend:t,codeBlockOnCtrlEnter:n}=this.props,{allowSending:s,withClosedCodeBlock:r,ignoreKeyPress:o,message:i}=Zo(e,this.state.message,t,n,Date.now(),this.lastChannelSwitchAt,this.state.caretPosition);if(o)return e.preventDefault(),void e.stopPropagation();s&&(e.persist&&e.persist(),this.textboxRef.current&&this.textboxRef.current.blur(),r&&i?this.setState({message:i},(()=>this.handleSubmit(e))):this.handleSubmit(e),this.setShowPreview(!1)),this.emitTypingEvent()})),u(this,"emitTypingEvent",(()=>{Yc(this.props.currentChannel.id,"")})),u(this,"handleChange",(e=>{const t=e.target.value,n=this.props.currentChannel.id;let s=this.state.serverError;$o(s)&&(s=null),this.setState({message:t,serverError:s});const r=l(a({},this.props.draft),{message:t});cancelAnimationFrame(this.saveDraftFrame),this.saveDraftFrame=requestAnimationFrame((()=>{this.props.actions.setDraft(zn.DRAFT+n,r)})),this.draftsForChannel[n]=r})),u(this,"pasteHandler",(e=>{if(!e.clipboardData||!e.clipboardData.items||"post_textbox"!==e.target.id)return;const{clipboardData:t}=e,n=dP(t);if(!n)return;e.preventDefault();let s=this.state.message;const r=s.length;s=fP(n,s.trim(),this.state.caretPosition);const o=s.length-(r-this.state.caretPosition);this.setMessageAndCaretPostion(s,o)})),u(this,"handleFileUploadChange",(()=>{this.focusTextbox()})),u(this,"handleUploadStart",((e,t)=>{const n=[...this.props.draft.uploadsInProgress,...e],s=l(a({},this.props.draft),{uploadsInProgress:n});this.props.actions.setDraft(zn.DRAFT+t,s),this.draftsForChannel[t]=s,this.focusTextbox()})),u(this,"handleUploadProgress",(({clientId:e,name:t,percent:n,type:s})=>{const r=l(a({},this.state.uploadsProgressPercent),{[e]:{percent:n,name:t,type:s}});this.setState({uploadsProgressPercent:r})})),u(this,"handleFileUploadComplete",((e,t,n)=>{const s=a({},this.draftsForChannel[n]);for(let r=0;r<t.length;r++)if(s.uploadsInProgress){const e=s.uploadsInProgress.indexOf(t[r]);-1!==e&&(s.uploadsInProgress=s.uploadsInProgress.filter(((t,n)=>e!==n)))}s.fileInfos&&(s.fileInfos=SC(s.fileInfos.concat(e),this.props.locale)),this.draftsForChannel[n]=s,this.props.actions.setDraft(zn.DRAFT+n,s)})),u(this,"handleUploadError",((e,t,n)=>{const s=a({},this.draftsForChannel[n]);let r=e;if("string"==typeof e&&(r=new Error(e)),-1!==t&&s.uploadsInProgress){const e=s.uploadsInProgress.indexOf(t);if(-1!==e){const t=s.uploadsInProgress.filter(((t,n)=>e!==n)),r=l(a({},s),{uploadsInProgress:t});this.props.actions.setDraft(zn.DRAFT+n,r),this.draftsForChannel[n]=r}}this.setState({serverError:r})})),u(this,"removePreview",(e=>{let t={};const n=a({},this.props.draft),s=this.props.currentChannel.id;this.setState({serverError:null});let r=n.fileInfos.findIndex((t=>t.id===e));if(-1===r){if(r=n.uploadsInProgress.indexOf(e),-1!==r){const s=n.uploadsInProgress.filter(((e,t)=>r!==t));t=l(a({},n),{uploadsInProgress:s}),this.fileUploadRef.current&&this.fileUploadRef.current&&this.fileUploadRef.current.cancelUpload(e)}}else{const e=n.fileInfos.filter(((e,t)=>r!==t));t=l(a({},n),{fileInfos:e})}this.props.actions.setDraft(zn.DRAFT+s,t),this.draftsForChannel[s]=t,this.handleFileUploadChange()})),u(this,"focusTextboxIfNecessary",(e=>{this.props.rhsExpanded||document.getElementsByClassName("channel-switch-modal").length||Jo(e,document.activeElement)&&this.focusTextbox()})),u(this,"documentKeyHandler",(e=>{const t=e.ctrlKey||e.metaKey,n=t&&Ns(e,Kj.FORWARD_SLASH),s=t&&e.shiftKey&&Ns(e,Kj.BACK_SLASH);if(n)return e.preventDefault(),void Uc.handleViewAction({type:Ee.TOGGLE_SHORTCUTS_MODAL,value:!0});s?this.reactToLastMessage(e):this.focusTextboxIfNecessary(e)})),u(this,"getFileCount",(()=>{const e=this.props.draft;return e.fileInfos.length+e.uploadsInProgress.length})),u(this,"getFileUploadTarget",(()=>this.textboxRef.current?this.textboxRef.current:null)),u(this,"getCreatePostControls",(()=>this.createPostControlsRef.current)),u(this,"handleMouseUpKeyUp",(e=>{const t=ti(e.target);this.setState({caretPosition:t})})),u(this,"handleSelect",(e=>{ni(this.textboxRef.current.getInputBox(),e)})),u(this,"handleKeyDown",(e=>{const t=e.ctrlKey||e.metaKey,n=0===this.state.message.length,s=0===this.props.draft.message.length,r=(this.props.ctrlSend||this.props.codeBlockOnCtrlEnter)&&Ns(e,Kj.ENTER)&&t,o=!t&&!e.altKey&&!e.shiftKey&&Ns(e,Kj.UP),i=!t&&!e.altKey&&e.shiftKey&&Ns(e,Kj.UP),a=jo(e)&&!e.altKey&&!e.shiftKey,l=Ns(e,Kj.B)||Ns(e,Kj.I),c=jo(e,!0)&&e.altKey,u=Ns(e,Kj.K);si(e)?this.setState({message:ri(e)}):r?this.postMsgKeyPress(e):o&&n?this.editLastPost(e):i&&n?this.replyToLastPost(e):a&&s&&Ns(e,Kj.UP)?this.loadPrevMessage(e):a&&s&&Ns(e,Kj.DOWN)?this.loadNextMessage(e):(a&&l||c&&u)&&this.applyHotkeyMarkdown(e)})),u(this,"editLastPost",(e=>{e.preventDefault();const t=this.props.currentUsersLatestPost;if(!t)return;let n;n=t.root_id&&t.root_id.length>0?ds("create_post.comment",ft.MESSAGE_TYPES.COMMENT):ds("create_post.post",ft.MESSAGE_TYPES.POST),this.textboxRef.current&&this.textboxRef.current.blur(),this.props.actions.setEditingPost(t.id,this.props.commentCountForPost,"post_textbox",n)})),u(this,"replyToLastPost",(e=>{e.preventDefault();const t=this.props.latestReplyablePostId,n=document.getElementById("reply_textbox");n&&n.focus(),t&&this.props.actions.selectPostFromRightHandSideSearchByPostId(t)})),u(this,"loadPrevMessage",(e=>{e.preventDefault(),this.props.actions.moveHistoryIndexBack(ft.MESSAGE_TYPES.POST).then((()=>this.fillMessageFromHistory()))})),u(this,"loadNextMessage",(e=>{e.preventDefault(),this.props.actions.moveHistoryIndexForward(ft.MESSAGE_TYPES.POST).then((()=>this.fillMessageFromHistory()))})),u(this,"applyHotkeyMarkdown",(e=>{const t=oi(e);this.setState({message:t.message},(()=>{const e=this.textboxRef.current.getInputBox();ii(e,t.selectionStart,t.selectionEnd)}))})),u(this,"reactToLastMessage",(e=>{e.preventDefault();const{rhsExpanded:t,actions:{emitShortcutReactToLastPostFrom:n}}=this.props,s=0===document.getElementsByClassName(ul.MODAL).length,r=0===document.getElementsByClassName(ul.POPUP).length;!t&&s&&r&&n(ei.CENTER)})),u(this,"handleBlur",(()=>{this.lastBlurAt=Date.now(),this.setState({textboxActive:!1})})),u(this,"handleFocus",(()=>{this.setState({textboxActive:!0})})),u(this,"showPostDeletedModal",(()=>{this.setState({showPostDeletedModal:!0})})),u(this,"hidePostDeletedModal",(()=>{this.setState({showPostDeletedModal:!1})})),u(this,"handleEmojiClose",(()=>{this.setState({showEmojiPicker:!1})})),u(this,"setMessageAndCaretPostion",((e,t)=>{const n=this.textboxRef.current.getInputBox();this.setState({message:e,caretPosition:t},(()=>{qo(n,t)}))})),u(this,"handleEmojiClick",(e=>{const t=e.name||e.aliases[0];if(t){if(""===this.state.message)this.setState({message:":"+t+": "});else{const{message:e}=this.state,{firstPiece:n,lastPiece:s}=No(this.state.caretPosition,e),r=""===n?`:${t}: ${s}`:`${n} :${t}: ${s}`,o=""===n?`:${t}: `.length:`${n} :${t}: `.length;this.setMessageAndCaretPostion(r,o)}this.handleEmojiClose()}})),u(this,"handleGifClick",(e=>{if(""===this.state.message)this.setState({message:e});else{const t=/\s+$/.test(this.state.message)?this.state.message+e:this.state.message+" "+e;this.setState({message:t})}this.handleEmojiClose()})),u(this,"handleHeightChange",((e,t)=>{this.setState({renderScrollbar:e>t}),window.requestAnimationFrame((()=>{this.textboxRef.current&&this.setState({scrollbarWidth:ai(this.textboxRef.current.getInputBox())})}))})),this.state={message:this.props.draft.message,caretPosition:this.props.draft.message.length,submitting:!1,showPostDeletedModal:!1,showEmojiPicker:!1,showConfirmModal:!1,channelTimezoneCount:0,uploadsProgressPercent:{},renderScrollbar:!1,scrollbarWidth:0,currentChannel:e.currentChannel,mentions:[],memberNotifyCount:0,textboxActive:!1,postError:null,serverError:null,errorClass:null,parentId:null,xsend:!1},this.lastBlurAt=0,this.lastChannelSwitchAt=0,this.draftsForChannel={},this.lastOrientation=null,this.saveDraftFrame=()=>{},this.topDiv=h.createRef(),this.textboxRef=h.createRef(),this.fileUploadRef=h.createRef(),this.createPostControlsRef=h.createRef()}static getDerivedStateFromProps(e,t){let n={currentChannel:e.currentChannel};return e.currentChannel.id!==t.currentChannel.id&&(n=l(a({},n),{message:e.draft.message,submitting:!1,serverError:null})),n}componentDidMount(){const{actions:e}=this.props;this.onOrientationChange(),e.setShowPreview(!1),e.clearDraftUploads(zn.DRAFT,((e,t)=>t?l(a({},t),{uploadsInProgress:[]}):t)),document.addEventListener("paste",this.pasteHandler),document.addEventListener("keydown",this.documentKeyHandler),this.setOrientationListeners()}componentDidUpdate(e,t){const{currentChannel:n,actions:s}=this.props;e.currentChannel.id!==n.id&&(this.lastChannelSwitchAt=Date.now(),this.focusTextbox()),n.id!==e.currentChannel.id&&s.setShowPreview(!1),t.showEmojiPicker&&!this.state.showEmojiPicker&&this.focusTextbox()}componentWillUnmount(){if(document.removeEventListener("paste",this.pasteHandler),document.removeEventListener("keydown",this.documentKeyHandler),this.removeOrientationListeners(),this.saveDraftFrame){const e=this.props.currentChannel.id;this.props.actions.setDraft(zn.DRAFT+e,this.draftsForChannel[e]),cancelAnimationFrame(this.saveDraftFrame)}}sendReaction(e){const t=this.props.currentChannel.id,n=e[1],s=e[2],r=this.props.latestReplyablePostId;r&&"+"===n?this.props.actions.addReaction(r,s):r&&"-"===n&&this.props.actions.removeReaction(r,s),this.props.actions.setDraft(zn.DRAFT+t,null),this.draftsForChannel[t]=null}fillMessageFromHistory(){const e=this.props.messageInHistoryItem;e&&this.setState({message:e})}createTutorialTip(){}shouldEnableSendButton(){return 0!==this.state.message.trim().length||0!==this.props.draft.fileInfos.length}render(){const{currentChannel:e,draft:t,fullWidthTextBox:n,customReadOnlyText:s,canPost:r,channelBlocked:o,userGuest:i}=this.props,a=this.props.readOnlyChannel||!r,{formatMessage:l}=this.props.intl,{renderScrollbar:c,channelTimezoneCount:u,mentions:d,memberNotifyCount:p,xsend:h}=this.state,g=ds("accessibility.sections.centerFooter","message input complimentary region");d.includes("@all")||d.includes("@group")||d.length>0&&(1===d.length?d[0]:(d.slice(0,-1).join(", "),d[d.length-1]));let v=null;this.state.serverError&&(v=m(iR,{id:"postServerError",error:this.state.serverError,submittedMessage:this.state.serverError.submittedMessage,handleSubmit:this.handleSubmit}));let y,b=null;if(this.state.postError){const e="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");b=m("label",{className:E(Yj.errorLabel,e),children:this.state.postError})}!a&&(t.fileInfos.length>0||t.uploadsInProgress.length>0)&&(y=m(BP,{fileInfos:t.fileInfos,onRemove:this.removePreview,uploadsInProgress:t.uploadsInProgress,uploadsProgressPercent:this.state.uploadsProgressPercent}));let w="post-create-footer";b&&(w+=" has-error");let x="";n||(x="center");let C="send-button theme";this.shouldEnableSendButton()||(C+=" disabled");let S="";this.props.canUploadFiles||(S=" post-create--attachment-disabled");let T=m("div",{className:"u3-w-3 u3-h-3"});a||this.props.shouldShowPreview||(T=m(Hk,{ref:this.fileUploadRef,fileCount:this.getFileCount(),getTarget:this.getFileUploadTarget,onFileUploadChange:this.handleFileUploadChange,onUploadStart:this.handleUploadStart,onFileUpload:this.handleFileUploadComplete,onUploadError:this.handleUploadError,onUploadProgress:this.handleUploadProgress,postType:"post",channelId:e.id}));let A=null;const P=l({id:"emoji_picker.emojiPicker",defaultMessage:"Emoji Picker"}).toLowerCase();let I;!this.props.enableEmojiPicker||a||this.props.shouldShowPreview||(A=_(f.exports.Fragment,{children:[m(zj,{show:this.state.showEmojiPicker,target:this.getCreatePostControls,onHide:this.hideEmojiPicker,onEmojiClose:this.handleEmojiClose,onEmojiClick:this.handleEmojiClick,onGifClick:this.handleGifClick,enableGifPicker:this.props.enableGifPicker}),m("button",{type:"button","aria-label":P,onClick:this.toggleEmojiPicker,className:E(Yj.emojiBtn,"emoji-picker__container","post-action",{"post-action--active":this.state.showEmojiPicker,[Yj.emojiBtnActive]:this.state.showEmojiPicker}),children:m(Vj,{id:"emojiPickerButton",className:Yj.emojiIcon})})]})),a?(I=ds("create_post.read_only","This channel is read-only. Only members with permission can post here."),s&&i&&(I=m("p",{className:Yj.customReadOnlyText,children:m(hT,{id:"create_post.read_only_custom",defaultMessage:s,disableLinks:!1})})),o&&(I=m("p",{className:Yj.customReadOnlyText,children:m(hT,{id:"create_post.channel_blocked",defaultMessage:"Không có quyền để chat. Liên hệ Admin để được hỗ trợ.",disableLinks:!1})}))):I=l({id:"create_post.write",defaultMessage:"Write to {channelDisplayName}"},{channelDisplayName:e.display_name});let N="";return c&&(N=" scroll"),_("form",{id:"create_post",ref:this.topDiv,className:E(Yj.postCreateForm,x),onSubmit:this.handleSubmit,children:[m("div",{className:E(Yj.postCreateMain,"post-create"+S+N,{"textbox-active":this.state.textboxActive}),style:this.state.renderScrollbar&&this.state.scrollbarWidth?{"--detected-scrollbar-width":`${this.state.scrollbarWidth}px`}:void 0,children:_("div",{role:"application","aria-label":g,tabIndex:-1,className:E(Yj.postCreateTextbox,"post-body__cell a11y__region"),"data-a11y-sort-order":"2",children:[T,m(oR,{rootId:this.props.currentUsersLatestPost?this.props.currentUsersLatestPost.root_id:"",onChange:this.handleChange,onKeyPress:this.postMsgKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onMouseUp:this.handleMouseUpKeyUp,onKeyUp:this.handleMouseUpKeyUp,onComposition:this.emitTypingEvent,onHeightChange:this.handleHeightChange,handlePostError:this.handlePostError,value:a?"":this.state.message,onBlur:this.handleBlur,onFocus:this.handleFocus,emojiEnabled:this.props.enableEmojiPicker,createMessage:I,channelId:e.id,id:"post_textbox",ref:this.textboxRef,disabled:a,characterLimit:this.props.maxPostSize,preview:this.props.shouldShowPreview,badConnection:this.props.badConnection,listenForMentionKeyClick:!0,useChannelMentions:this.props.useChannelMentions}),_("span",{ref:this.createPostControlsRef,className:E(Yj.postCreateActions,"post-body__actions"),children:[A,m("a",{role:"button",tabIndex:0,"aria-label":l({id:"create_post.send_message",defaultMessage:"Send a message"}),className:E(Yj.sendButtonClass,C,{[Yj.sendButtonDisabled]:a,[Yj.sendButtonActive]:h}),onClick:this.handleSubmit,children:m(Wj,{className:"u3-transform u3-rotate-90",title:{id:Sr("create_post.icon"),defaultMessage:"Create a post"},component:m(jj,{className:"u3-w-6 u3-h-6"})})})]})]})}),_("div",{id:"postCreateFooter",role:"form",className:w,children:[m("div",{className:"d-flex justify-content-between"}),_("div",{className:Yj.createPostComplex,children:[b,y,v]})]})]})}}u(Jj,"defaultProps",{latestReplyablePostId:""});var Xj=S(Jj);function Qj(e,t){return n=>{n(Co(e,t))}}var Zj=v((function(){const e=Io(),t=So(ft.MESSAGE_TYPES.POST);return(n,s)=>{const r=Ie(n),o=Ye(n)||{},i=qr(n,zn.DRAFT,o.id),a=yt(n,o.id),l=bt(n,a),c=dl(n),u=Kn(n)?Kn(n).member_count:1,d="true"===r.EnableTutorial,p=pl(n,he.TUTORIAL_STEP,ce(n),hl.FINISHED),h="true"===r.EnableEmojiPicker,f="true"===r.EnableGifPicker,m="true"===r.EnableConfirmNotificationsToChannel,g=ce(n),v=on(n),y=qt(n,g)===Qt.OUT_OF_OFFICE,b=XA(n)>1,_="true"===r.ExperimentalTimezone,w=ea(n),x=Ws(n,{channel:o.id,team:o.team_id,permission:vn.CREATE_POST}),C=Ws(n,{channel:o.id,team:o.team_id,permission:vn.USE_CHANNEL_MENTIONS}),E=rr(n,he.CATEGORY_CHANNEL_BLOCK,o.id,!1),S=an(v),T=li(n,o.id);return{currentTeamId:ne(n),currentChannel:o,currentChannelMembersCount:u,currentUserId:g,codeBlockOnCtrlEnter:js(n,Pe.CATEGORY_ADVANCED_SETTINGS,"code_block_ctrl_enter",!0),ctrlSend:js(n,he.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),fullWidthTextBox:rr(n,he.CATEGORY_DISPLAY_SETTINGS,he.CHANNEL_DISPLAY_MODE,he.CHANNEL_DISPLAY_MODE_DEFAULT)===he.CHANNEL_DISPLAY_MODE_FULL_SCREEN,showTutorialTip:d&&p===hl.POST_POPOVER,messageInHistoryItem:t(n),draft:i,commentCountForPost:e(n,{post:l}),latestReplyablePostId:c,locale:ts(n),currentUsersLatestPost:fl(n,l.id),readOnlyChannel:s.readOnlyChannel||!jt(n)&&"true"===r.ExperimentalTownSquareIsReadOnly&&o.name===re.DEFAULT_CHANNEL,canUploadFiles:PC(r),enableEmojiPicker:h,enableGifPicker:f,enableConfirmNotificationsToChannel:m,maxPostSize:parseInt(r.MaxPostSize||"0",10)||re.DEFAULT_CHARACTER_LIMIT,userIsOutOfOffice:y,rhsExpanded:oo(n),emojiMap:Ms(n),badConnection:b,isTimezoneEnabled:_,shortcutReactToLastPostEmittedFrom:w,canPost:x,useChannelMentions:C,channelBlocked:E,shouldShowPreview:iP(n),channelMemberCountsByGroup:T,userGuest:S,customReadOnlyText:r.CustomReadOnlyText}}}),(function(e){return{actions:y({addMessageIntoHistory:vo,onSubmitPost:Qj,moveHistoryIndexBack:fo,moveHistoryIndexForward:mo,addReaction:wo,removeReaction:xo,setDraft:Un,clearDraftUploads:Eo,selectPostFromRightHandSideSearchByPostId:ml,setEditingPost:go,emitShortcutReactToLastPostFrom:pi,openModal:mr,getChannelTimezones:di,runMessageWillBePostedHooks:QA,runSlashCommandWillBePostedHooks:ZA,scrollPostListToBottom:yc,setShowPreview:cP,getChannelMemberCountsByGroup:hi},e)}}))(Xj);const eF=e=>{let t=m(gl,{});return e.deactivatedChannel?t=m("div",{className:"post-create__container",id:"post-create",children:_("div",{className:"channel-archived__message",children:[m(hT,{id:"create_post.deactivated",defaultMessage:"You are viewing an archived channel with a **deactivated user**. New messages cannot be posted."}),m("button",{className:"btn btn-primary channel-archived__close-btn",onClick:e.onClickCloseChannel,children:m(D,{id:"center_panel.archived.closeChannel",defaultMessage:"Close Channel"})})]})}):e.channelIsArchived?t=m("div",{className:"post-create__container",id:"post-create",children:_("div",{id:"channelArchivedMessage",className:"channel-archived__message",children:[m(hT,{id:"archivedChannelMessage",defaultMessage:"You are viewing an **archived channel**. New messages cannot be posted."}),m("button",{className:"btn btn-primary channel-archived__close-btn",onClick:e.onClickCloseChannel,children:m(D,{id:"center_panel.archived.closeChannel",defaultMessage:"Close Channel"})})]})}):e.channelRolesLoading||(t=m("div",{className:"post-create__container",id:"post-create",children:m(Zj,{getChannelView:e.getChannelView})})),t};var tF="u3-cxx-c5aa377b",nF="u3-cxx-45892817",sF="u3-cxx-8d07adc3",rF="u3-cxx-aad6a280",oF="u3-cxx-df8e5faf",iF="u3-cxx-4ff62062";const aF=class extends h.PureComponent{constructor(e){super(e),u(this,"channelViewRef"),u(this,"onClickCloseChannel",(()=>{this.props.actions.goToLastViewedChannel()})),this.state={url:e.match.url,channelId:e.channelId,focusedPostId:e.match.params.postid,deferredPostView:aF.createDeferredPostView()},this.channelViewRef=h.createRef()}static getDerivedStateFromProps(e,t){let n={};const s=e.match.params.postid;return e.match.url!==t.url&&e.channelId!==t.channelId&&(n={deferredPostView:aF.createDeferredPostView(),url:e.match.url,focusedPostId:s}),e.channelId!==t.channelId&&(n=l(a({},n),{channelId:e.channelId,focusedPostId:s})),s&&s!==t.focusedPostId&&(n=l(a({},n),{focusedPostId:s})),Object.keys(n).length?n:null}async componentDidMount(){!this.props.showNextSteps&&!this.props.showNextStepsTips||this.props.isOnboardingHidden||this.props.actions.setShowNextStepsView(!0),this.props.channelMemberLoading&&this.props.actions.getMyChannelMember(this.props.channelId),this.props.channelRolesLoading&&this.props.actions.getRoleByName(this.props.channelRole),document.getElementById("u3-version")&&(document.getElementById("u3-version").innerText="v0.3.41: READY!")}componentDidUpdate(e){this.props.channelMemberLoading&&e.channelId!==this.props.channelId&&this.props.actions.getMyChannelMember(this.props.channelId),this.props.channelRolesLoading&&e.channelRole!==this.props.channelRole&&this.props.actions.getRoleByName(this.props.channelRole),e.channelId===this.props.channelId&&e.channelIsArchived===this.props.channelIsArchived||this.props.channelIsArchived&&!this.props.viewArchivedChannels&&this.props.actions.goToLastViewedChannel(),this.props.match.url!==e.match.url&&this.props.showNextStepsEphemeral&&this.props.actions.setShowNextStepsView(!1)}render(){const{channelIsArchived:e,deactivatedChannel:t,channelRolesLoading:n,channelBanned:s,match:r}=this.props,{focusedPostId:o,channelId:i}=this.state,a=this.state.deferredPostView;return this.props.channelWhiteList.includes(i)?s?m("div",{ref:this.channelViewRef,className:tF,children:_("div",{className:nF,children:[m("div",{className:sF,children:m(sL,{className:rF})}),_("div",{className:oF,children:[m("h3",{className:iF,children:"Đã bị chặn"}),m("p",{className:"u3-text-base",children:"Không có quyền xem nhóm này. Liên hệ Admin để được hỗ trợ."})]})]})}):_("div",{ref:this.channelViewRef,className:tF,children:[m(FA,{overlayType:"center"}),m(a,{match:r,channelId:i,focusedPostId:o}),this.channelViewRef.current?m(eF,{deactivatedChannel:t,channelIsArchived:e,channelRolesLoading:n,onClickCloseChannel:this.onClickCloseChannel,getChannelView:this.channelViewRef.current}):m(gl,{})]}):m(K,{to:"/error?type=group_not_found"})}};let lF=aF;u(lF,"createDeferredPostView",(()=>function(e,t){class n extends h.PureComponent{constructor(e,t){super(e,t),this.state={shouldRender:!1}}componentDidMount(){window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>this.setState({shouldRender:!0})))}))}render(){return this.state.shouldRender?m(e,a({},this.props)):t}}return V(n,e)}(Lj,m(rl,{}))));const cF=p(((e,t)=>aa(e,t)),(e=>Boolean(e&&e.delete_at)));var uF=v((function(e){const t=Ye(e),n=Ie(e),s=ms(e),r="true"===n.ExperimentalViewArchivedChannels,o=rr(e,Pe.CATEGORY_CHANNEL_BAN,t.id,!1),i=rr(e,Pe.CATEGORY_CHANNEL_BLOCK,t.id,!1);let a=!0,l=!0,c="";if(t&&t.id){const n=vl(e),s=yl(e);if(s[t.id]){l=!1;const e=s[t.id].values();for(const t of e){c=t,n[t]&&(a=!1);break}}}return{channelId:t?t.id:"",channelMemberLoading:l,channelRolesLoading:a,channelRole:c,deactivatedChannel:!!t&&cF(e,t.id),focusedPostId:e.views.channel.focusedPostId,channelIsArchived:!!t&&0!==t.delete_at,viewArchivedChannels:r,channelWhiteList:s,channelBanned:o,channelBlocked:i}}),(function(e){return{actions:y({goToLastViewedChannel:ac,getProfiles:bl,getMyChannelMember:Cn,getRoleByName:_l},e)}}))(lF);var dF="u3-cxx-099db256",pF="u3-cxx-10b98e0a",hF="u3-cxx-0ae3689f",fF="u3-cxx-c2575127",mF="u3-cxx-0f84c66a",gF="u3-cxx-c12e26b9",vF="u3-cxx-1e726ff4",yF="u3-cxx-bde9b0d0",bF="u3-cxx-15968e2a",_F="u3-cxx-e46db5c8",wF="u3-cxx-40759dfb",xF="u3-cxx-6b1c75be",CF="u3-cxx-2339ddd8",EF="u3-cxx-388c3643",SF="u3-cxx-d3d4f5f2",TF="u3-cxx-5e86ac34",AF="u3-cxx-3dda041c",PF=()=>_("div",{className:dF,children:[_("div",{className:E(pF,"bg-main-content"),children:[_("div",{className:E(hF,EF),children:[m("div",{className:E(fF,"u3-animate-pulse")}),_("div",{className:mF,children:[m("div",{className:E(gF,"u3-animate-pulse")}),m("div",{className:vF,children:m("div",{className:E(yF,"u3-animate-pulse")})}),_("div",{className:wF,children:[m("div",{className:E(xF,"u3-animate-pulse")}),m("div",{className:E(CF,"u3-animate-pulse")})]})]})]}),_("div",{className:hF,children:[m("div",{className:E(fF,"u3-invisible")}),_("div",{className:mF,children:[m("div",{className:vF,children:m("div",{className:E(yF,"u3-animate-pulse")})}),_("div",{className:wF,children:[m("div",{className:E(xF,"u3-animate-pulse")}),m("div",{className:E(CF,"u3-animate-pulse")})]})]})]}),_("div",{className:E(hF,SF,EF),children:[m("div",{className:fF}),_("div",{className:mF,children:[m("div",{className:E(gF,"u3-animate-pulse")}),_("div",{className:vF,children:[m("div",{className:E(yF,"u3-animate-pulse")}),m("div",{className:E(_F,"u3-animate-pulse")})]}),_("div",{className:wF,children:[m("div",{className:E(xF,"u3-animate-pulse")}),m("div",{className:E(CF,"u3-animate-pulse")})]})]})]}),_("div",{className:E(hF,EF),children:[m("div",{className:E(fF,"u3-animate-pulse")}),_("div",{className:mF,children:[m("div",{className:E(gF,"u3-animate-pulse")}),m("div",{className:vF,children:m("div",{className:E(bF,"u3-animate-pulse")})}),_("div",{className:wF,children:[m("div",{className:E(xF,"u3-animate-pulse")}),m("div",{className:E(CF,"u3-animate-pulse")})]})]})]})]}),m("div",{className:TF,children:_("div",{className:E(AF),children:[m("div",{className:E("u3-w-3/5 u3-h-4 u3-bg-gray-300 u3-rounded-md ","u3-animate-pulse")}),m("div",{className:E("u3-w-6 u3-h-6 u3-bg-gray-300 u3-rounded-lg","u3-animate-pulse")})]})})]});var IF=v(null,(function(e){return{actions:y({onChannelByIdentifierEnter:JO},e)}}))((e=>{let t;const[n,s]=f.exports.useState(!1),[r,o]=f.exports.useState(!1),i=function(e){const t=f.exports.useRef();return f.exports.useEffect((()=>{t.current=e})),t.current}(e),a=async e=>{r&&o(!1),await e.actions.onChannelByIdentifierEnter(e),o(!0)};return f.exports.useEffect((()=>(a(e),s(!0),()=>{t&&clearTimeout(t)})),[]),f.exports.useEffect((()=>{const s=e.match.params.team,r=null==i?void 0:i.match.params.team,o=e.match.params.identifier,l=null==i?void 0:i.match.params.identifier;n&&l&&(s===r&&o===l||(t&&clearTimeout(t),a(e),e.match.params.postid&&(t=setTimeout((()=>{const t=e.match.url.split("/").slice(0,-1).join("/");et.replace(t)}),re.PERMALINK_FADEOUT))))}),[e.match]),r?m(uF,{match:e.match}):m(PF,{})}));var NF={joinMoreTab:"u3-cxx-4fc21445",modalCard:"u3-cxx-75a7ba37",modalBody:"u3-cxx-1a176dc2",loader:"u3-cxx-725ae43c",channelListView:"u3-cxx-7e5806d9",itemView:"u3-cxx-5f752240",channelDetail:"u3-cxx-b33e89f7",channelName:"u3-cxx-24f829c9",channelPurpose:"u3-cxx-b78a06a5",channelActions:"u3-cxx-31c71fa3",channelBtn:"u3-cxx-197b8775",channelJoined:"u3-cxx-be447ad9",buttonGroup:"u3-cxx-814cb8df",buttonGroupItem:"u3-cxx-9971de1e",buttonView:"u3-cxx-361e020f",buttonExit:"u3-cxx-4d0fbb87"},kF=e=>{const[t,n]=f.exports.useState(e.channelJoinned),[s,r]=f.exports.useState([]);return f.exports.useEffect((()=>{t.length!==e.channelJoinned.length&&n(e.channelJoinned)}),[e.channelJoinned]),_("div",{className:NF.channelListView,children:[e.channels.length?m(f.exports.Fragment,{}):m("p",{className:NF.noChannels,children:"Hiện tại không có Nhóm nào để bạn tham gia!"}),e.channels.map(((o,i)=>_("div",{className:NF.itemView,children:[m("div",{className:NF.channelAvatar,children:m(Wf,{src:Ce.getChannelPictureUrl(o.id,o.last_picture_update),size:"xl",status:"",wrapperClass:NF.channelAvatarPicture,newStatusIcon:!1})}),_("div",{className:NF.channelDetail,children:[m("h3",{className:NF.channelName,children:o.display_name}),m("p",{className:NF.channelPurpose,children:o.purpose})]}),m("div",{className:NF.channelActions,children:t.includes(o.id)?_("div",{className:NF.buttonGroup,children:[m("button",{className:E(NF.buttonGroupItem,NF.buttonView),onClick:()=>e.onView(o.name),children:m(ch,{className:"u3-w-4 u3-h-4"})}),m("button",{className:E(NF.buttonGroupItem,NF.buttonExit),onClick:()=>e.onExit(o.id),children:m(dh,{className:"u3-w-4 u3-h-4"})})]}):m("button",{className:NF.channelBtn,onClick:()=>(async o=>{if(s.includes(o))return;r([...s,o]),await e.onJoin(o),n([...t,o]);let i=s.indexOf(o);s.splice(i,1),r(s)})(o.id),children:s.includes(o.id)?"Đang vào...":"Tham gia"})})]},`${i}-${o.id}`)))]})};const RF=h.forwardRef(((e,t)=>{const[n,s]=f.exports.useState(!1),[r,o]=f.exports.useState([]),i=k();f.exports.useEffect((()=>{(async(t,r)=>{n&&s(!1),r.length||s(!0);const{data:i}=await e.actions.fetchMyChannelsByIds(t,r);o(i.channels),s(!0)})(e.teamId,e.channelIds)}),[]);return m(f.exports.Fragment,{children:m("div",{className:NF.modalJoinMore,children:m("div",{className:"u3-min-h-screen u3-px-4 u3-text-center",children:m("div",{className:NF.modalCard,children:m("div",{className:NF.modalBody,children:n?m(kF,{teamName:e.teamName,channels:r,channelJoinned:e.channelJoinned,onJoin:function(t){return e.actions.joinChannelIntegrated(e.currentUser.id,e.teamId,t,"")},onView:function(t){i.push(`/${e.teamName}/group/${t}`)},onExit:async t=>{await e.actions.leaveChannel(t)}}):m("div",{className:NF.loader,children:m(ih,{})})})})})})})}));var MF=v((function(e){const t=ne(e),n=on(e),s=ms(e),r=Z(e,"all"),o=tt(e),i=St(e);return{currentUser:n,channelJoinned:r,channelIds:s,teamId:t,teamName:o.name,currentChannelId:i}}),(function(e){return{actions:y({fetchMyChannelsByIds:te,joinChannelIntegrated:gs,leaveChannel:cc},e)}}),null,{forwardRef:!0})(RF);var OF="u3-cxx-8c336b74";var LF=v((function(e){const t=Ie(e),n=on(e),s=an(n);return{channelIds:Z(e,"all"),userGuest:s,channelPublic:t.ChannelPublic}}))((e=>{const[t,n]=f.exports.useState("");return f.exports.useEffect((()=>{const t=e.channelIds;e.channelPublic?n(e.channelPublic):t[0]&&n(t[0])}),[]),t?!1===e.userGuest?m("div",{className:OF,children:m(MF,{})}):m(K,{to:`/${e.match.params.team}/group/${t}`}):m("div",{})}));var DF={channelCenter:"u3-cxx-360bbd0b",channelMain:"u3-cxx-093205c4"};var jF=v((function(e){return{lastChannelPath:"",lhsOpen:zO(e),rhsOpen:ss(e),rhsMenuOpen:wl(e),isCollapsedThreadsEnabled:Mn(e),hasSyncChannel:xl(e)}}),(function(e){return{actions:y({syncChannelOrder:Cl},e)}}))((e=>{const[t,n]=f.exports.useState(""),[s,r]=f.exports.useState("");f.exports.useEffect((()=>{e.hasSyncChannel||e.actions.syncChannelOrder()}),[]),f.exports.useEffect((()=>{var t,n;const{rhsOpen:s,rhsMenuOpen:r}=e;s?null==(t=nr())||t.classList.add("sidebar-right-active"):null==(n=nr())||n.classList.remove("sidebar-right-active")}),[e.rhsOpen,e.rhsMenuOpen]),f.exports.useEffect((()=>{s!==e.location.pathname&&e.location.pathname.includes("/pl/")?(r(e.location.pathname),n(s)):r(e.location.pathname)}),[e.location]);const{isCollapsedThreadsEnabled:o,match:i}=e;return m("div",{className:DF.channelCenter,children:m("div",{className:E(DF.channelMain,{[DF.collapsedReplies]:o}),children:_($,{children:[m(J,{path:`${i.path}/pl/:postId`,render:e=>m(KO,l(a({},e),{returnTo:t}))}),m(J,{path:"/:team/:path(group|messages)/:identifier/:postid?",component:IF}),m(J,{component:LF})]})})})}));const FF=e=>{const[t,n]=f.exports.useState(!0);return f.exports.useEffect((()=>{var e,t,n;return null==(e=nr())||e.classList.add("u3-app__body","u3-team-view"),El()?null==(t=nr())||t.classList.add("u3-os--windows"):Sl()&&(null==(n=nr())||n.classList.add("u3-os--mac")),function(){var e;null==(e=nr())||e.classList.remove("u3-app__body","u3-team-view")}}),[t]),_("div",{className:Ip,children:[m(Op,{}),m(OA,{}),_("div",{className:Np,children:[_("div",{className:kp,children:[!e.fetchingChannels&&m(J,{component:jF}),e.fetchingChannels&&_(f.exports.Fragment,{children:[m(rl,{}),m(rl,{})]})]}),m("div",{className:E(Rp,"team-sidebar-right"),children:m(jO,{})})]}),m(GO,{}),m(DA,{})]})};let UF,HF=Date.now();var BF=v((function(e){const t=on(e),n=pl(e,he.TUTORIAL_STEP,t.id,hl.INTRO_SCREENS);return{currentUser:t,currentTeamId:ne(e),currentChannelId:St(e),prevTeamId:rc(e),teamList:un(e),tutorialStep:n,lastSyncProfile:Al(e)}}),(function(e){return{actions:y({selectTeam:at,setPreviousTeamId:Pl,fetchMyChannelIds:Il,getTeamByName:Nl,addUserToTeam:kl,setDefaultProfileImage:Rl,savePreferences:me,syncMe:$l},e)}}))((e=>{(new Date).getTime(),clearInterval(UF),UF=window.setInterval((()=>{const e=(new Date).getTime();e>HF+6e4&&Tc(!1),HF=e}),3e4);const[t,n]=f.exports.useState(null),[s,r]=f.exports.useState(""),[o,i]=f.exports.useState(!0);f.exports.useEffect((()=>{(new Date).getTime()-e.lastSyncProfile>36e5&&e.actions.syncMe();const t=e.tutorialStep;if(0===t&&e.currentUser){const t=e.currentUser.id,n=[{user_id:t,category:he.TUTORIAL_STEP,name:t,value:hl.POST_POPOVER.toString()}];e.actions.setDefaultProfileImage(t),e.actions.savePreferences(t,n)}if([0,1].indexOf(t)>-1&&e.currentUser){const t=e.currentUser.id,n=he.CATEGORY_DISPLAY_SETTINGS,s=[{user_id:t,category:he.TUTORIAL_STEP,name:t,value:hl.CHANNEL_POPOVER.toString()},{user_id:t,category:n,name:he.USE_MILITARY_TIME,value:"true"},{user_id:t,category:n,name:he.CHANNEL_DISPLAY_MODE,value:"full"},{user_id:t,category:n,name:he.MESSAGE_DISPLAY,value:he.MESSAGE_DISPLAY_CLEAN},{user_id:t,category:n,name:he.MESSAGE_DISPLAY,value:he.MESSAGE_DISPLAY_CLEAN},{user_id:t,category:n,name:he.COLLAPSED_REPLY_THREADS,value:"off"},{user_id:t,category:n,name:he.LINK_PREVIEW_DISPLAY,value:"true"},{user_id:t,category:n,name:he.COLLAPSE_DISPLAY,value:"false"},{user_id:t,category:n,name:he.NAME_NAME_FORMAT,value:re.TEAMMATE_NAME_DISPLAY.SHOW_NICKNAME_FULLNAME}];e.actions.savePreferences(t,s)}const n=e.match.params.team,s=e.teamList.find((e=>e.name===n));s?a(s):l(n,!0)}),[]),f.exports.useEffect((()=>{const t=e.teamList.find((t=>t.name===e.match.params.team));t&&n(t)}),[e.match.params.team]),f.exports.useEffect((()=>{t&&a(t)}),[t]),we.setTeamIdJoinedOnLoad(null);const a=async t=>{t.name!==s&&(r(t.name),e.actions.selectTeam(t),e.actions.setPreviousTeamId(t.id),o||i(!0),await e.actions.fetchMyChannelIds(t.id,"",0,20),i(!1))},l=async(t,s)=>{var r;const{data:o}=await e.actions.getTeamByName(t);if(o&&0===o.delete_at){const{error:t}=await e.actions.addUserToTeam(o.id,null==(r=e.currentUser)?void 0:r.id);return t?void e.history.push("/error?type=team_not_found"):(s&&we.setTeamIdJoinedOnLoad(o.id),void n(o))}e.history.push("/error?type=team_not_found")};if(o)return m(Tl,{});return m($,{children:m(J,{render:e=>m(FF,{pathName:e.location.pathname,fetchingChannels:o})})})}));const qF=h.lazy((()=>Ml((()=>import("./index.82bd5af2.js")),["assets/index.82bd5af2.js","assets/vendor.458fa16b.js","assets/index.658feb03.js","assets/index.93158d10.css"]))),GF=h.lazy((()=>Ml((()=>import("./index.204edf18.js")),["assets/index.204edf18.js","assets/index.7176a304.css","assets/vendor.458fa16b.js","assets/index.658feb03.js","assets/index.93158d10.css"]))),zF=h.lazy((()=>Ml((()=>import("./index.78137cc8.js")),["assets/index.78137cc8.js","assets/index.1dd9397a.css","assets/vendor.458fa16b.js","assets/index.658feb03.js","assets/index.93158d10.css"]))),VF=h.lazy((()=>Ml((()=>import("./index.51da1c3b.js")),["assets/index.51da1c3b.js","assets/index.cc7114e0.css","assets/vendor.458fa16b.js","assets/index.658feb03.js","assets/index.93158d10.css"]))),WF=h.lazy((()=>Ml((()=>import("./index.e7bc8e58.js")),["assets/index.e7bc8e58.js","assets/index.5007f453.css","assets/vendor.458fa16b.js","assets/index.658feb03.js","assets/index.93158d10.css"]))),YF=h.lazy((()=>Ml((()=>import("./index.c62fe9ec.js")),["assets/index.c62fe9ec.js","assets/index.f20f6b5d.css","assets/vendor.458fa16b.js","assets/index.658feb03.js","assets/index.93158d10.css"]))),KF=Ol(qF),$F=Ol(GF),JF=Ol(zF),XF=Ol(VF),QF=Ol(WF),ZF=Ol(YF),eU=e=>{var t=e,{component:n}=t,s=c(t,["component"]);return m(J,l(a({},s),{render:e=>m(KF,l(a({},e),{children:m(n,a({},e))}))}))};var tU=e=>_($,{children:[m(J,{path:"/initial",component:ZF}),m(J,{path:"/error",component:$F}),m(J,{path:"/about",component:JF}),m(J,{path:"/connect",component:XF}),m(eU,{path:"/join",component:QF}),m(eU,{path:"/:team",component:BF}),m(K,{to:l(a({},e.location),{pathname:"/connect"})})]});var nU="u3-cxx-4867a1d2",sU="u3-cxx-a8097087",rU="u3-cxx-51220961",oU="u3-cxx-95a48f52",iU="u3-cxx-3bf73ec9",aU="u3-cxx-a00be263",lU="u3-cxx-e1db9588",cU="u3-cxx-acff64ad",uU="u3-cxx-7ab5ec44",dU="u3-cxx-704a4cff",pU=Xp,hU=I;var fU=function(e,t,n){var s=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return hU(n)&&(s="leading"in n?!!n.leading:s,r="trailing"in n?!!n.trailing:r),pU(e,t,{leading:s,maxWait:t,trailing:r})};class mU extends h.PureComponent{constructor(e){var t,n;super(e),u(this,"titleRef"),u(this,"debounceReload"),u(this,"reloadDebounce"),u(this,"handleConfigLoaded",(e=>{const{location:t,history:n,noAccounts:s,currentUserId:r}=this.props;(s||!r&&!e)&&n.push(`/connect?next=${encodeURIComponent(t.pathname)}`),this.setState({configLoaded:!0}),jl()(xt.dispatch,xt.getState)})),u(this,"handleLogoutLoginSignal",(e=>{const{clientId:t}=this.props;we.removeUserId(t),we.removeToken(t);const n=e=>e.storageArea===localStorage&&e.newValue;if(e.key===zn.LOGOUT&&n(e)&&(console.log("detected logout from a different tab"),Kc("/",!1,!1,this.props.history)),e.key===zn.LOGIN&&n(e)){if(on(xt.getState()))return}})),u(this,"handleDndEvent",(e=>{e.preventDefault(),e.stopPropagation()})),u(this,"handleExpanned",(()=>{var e,t;!0===this.state.expanded?null==(e=nr())||e.classList.add("u3-collapsed"):null==(t=nr())||t.classList.remove("u3-collapsed"),this.setState({expanded:!this.state.expanded})})),u(this,"handleReload",(()=>{this.debounceReload&&this.debounceReload.cancel(),this.setState({reload:!0}),this.debounceReload()})),u(this,"setTitle",(e=>{this.titleRef.current.innerHTML=e})),u(this,"selectDot",(e=>{this.setState({badge:e})})),this.titleRef=h.createRef(),Ll(Ul()),Hl(Oi),window.addEventListener("storage",this.handleLogoutLoginSignal),null==(t=nr())||t.addEventListener("drop",this.handleDndEvent),null==(n=nr())||n.addEventListener("dragover",this.handleDndEvent),this.debounceReload=fU((()=>{this.props.history.replace("/"),this.reloadDebounce()}),5e3,{trailing:!1}),this.reloadDebounce=GA.exports.debounce((()=>{this.setState({reload:!1})}),5e3),this.state={configLoaded:!!e.siteName,expanded:!0,reload:!1,badge:"",rootState:"initial"}}static async getDerivedStateFromProps(e,t){var n;if(e.clientId&&!0==!e.siteName){const t=!!document.querySelector("html")&&"true"===(null==(n=document.querySelector("html"))?void 0:n.dataset.loggedIn),s=we.getToken(e.clientId),r=we.getCsrf(e.clientId);if(s&&r){if(27===s.length&&t||26===s.length&&!t)return we.removeUserId(e.clientId),we.removeToken(e.clientId),null;Ce.setToken(s.substr(0,26)),Ce.setCSRF(r)}}return null}async componentDidMount(){var e,t,n;Ql(document.getElementById("u3-chatting"));const s=document.querySelector("meta[name=viewport]");s&&s.setAttribute("content","width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"),null==(t=nr())||t.style.setProperty("--u3-chatting-content-width",`${(null==(e=nr())?void 0:e.clientWidth)||440}px`),null==(n=nr())||n.classList.add("u3-chat-main");const r=this.props;if(!r.siteName&&r.clientId){let e=!1;const[t,n,s,o]=await r.actions.loadMeAndConfig(r.clientId);o||await r.actions.userConnect(),o&&o.data&&(e=!0,Jc(r.history)),this.handleConfigLoaded(e)}}componentDidUpdate(e){const{location:t,noAccounts:n,allowedDomains:s,clientValid:r}=this.props;!this.state.configLoaded||"/error"===t.pathname||r||-1!==s.indexOf(Dl())?"/"===t.pathname&&n&&!this.props.currentUserId&&e.history.replace("/connect"):e.history.replace("/initial")}componentWillUnmount(){window.removeEventListener("storage",this.handleLogoutLoginSignal)}render(){const{configLoaded:e,reload:t}=this.state;if(!e)return m(nu,{children:m(Fl,{message:"Tải cài đặt"})});let n=m(cu,{className:"u3-w-4 u3-h-4"});return this.state.expanded&&(n=m(uu,{className:"u3-w-4 u3-h-4"})),m(nu,{children:_(Zc,{value:{setTitle:this.setTitle,selectDot:this.selectDot},children:[_("div",{className:nU,children:[_("div",{className:sU,children:[m(su,{className:"u3-w-5 u3-h-5"}),m("div",{className:E(rU,{[iU]:"Unread"===this.state.badge,[oU]:"Mention"===this.state.badge,"u3-animate-ping":""!==this.state.badge})}),m("div",{className:E(rU,aU,{[iU]:"Unread"===this.state.badge,[oU]:"Mention"===this.state.badge})}),m("h3",{ref:this.titleRef,children:"U3 Chat"})]}),_("div",{className:lU,children:[m("button",{onClick:this.handleReload,className:cU,children:m(eu,{className:E("u3-h-3.5 u3-w-3.5 u3-text-white",{"u3-animate-spin":t})})}),m("button",{onClick:this.handleExpanned,className:uU,children:n}),m(Tp,{history:this.props.history})]})]}),m("div",{className:E(dU,{"u3-collapsed":!this.state.expanded}),children:m(tU,a({},this.props))})]})})}}var gU=mU;var vU=v((function(e){const t=Se(),n=Ie(e),s=_r(e),r=e.plugins.components.CustomRouteComponent,o=t.clientId===s.clientId,i=s.allowed,a=ce(e),l=we.getPreviousTeamId(ce(e)),c=ln(e,l);return{siteName:n.SiteName,noAccounts:"true"===n.NoAccounts,clientValid:o,clientId:t.clientId,allowedDomains:i,hasUserToken:!!t.userToken,permalinkRedirectTeamName:c?c.name:"",currentUserId:a,plugins:r}}),(function(e){return{actions:y({loadMeAndConfig:Vl,userConnect:Kl},e)}}))(gU),yU=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vU});export{qc as B,hT as F,su as M,_c as W,Kc as a,Jc as b,Sc as c,Kl as d,$c as e,yU as f,Ec as i,Vl as l,bp as r};
