!function(){function e(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);a&&(c=c.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,c)}return r}function a(a){for(var r=1;r<arguments.length;r++){var c=null!=arguments[r]?arguments[r]:{};r%2?e(Object(c),!0).forEach((function(e){t(a,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(c,e))}))}return a}function r(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var c,t,n=[],i=!0,u=!1;try{for(r=r.call(e);!(i=(c=r.next()).done)&&(n.push(c.value),!a||n.length!==a);i=!0);}catch(x){u=!0,t=x}finally{try{i||null==r.return||r.return()}finally{if(u)throw t}}return n}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return c(e,a);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,a){(null==a||a>e.length)&&(a=e.length);for(var r=0,c=new Array(a);r<a;r++)c[r]=e[r];return c}function t(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function n(e,a,r,c,t,n,i){try{var u=e[n](i),x=u.value}catch(d){return void r(d)}u.done?a(x):Promise.resolve(x).then(c,t)}var i=document.createElement("style");i.innerHTML=".u3-cxx-0ab94e09{position:relative;height:100%;width:100%;flex-grow:1}.u3-cxx-0ab94e09 .u3-cxx-37dabf16{position:absolute;top:0px;right:0px;bottom:0px;left:0px;display:flex;height:100%;width:100%;flex-direction:column;padding:.75rem}@media (min-width: 480px){.u3-cxx-0ab94e09 .u3-cxx-37dabf16{flex-direction:row;padding:1rem}}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161{position:relative;display:flex;height:100%;flex-grow:1;flex-direction:row;justify-content:center}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161{border-radius:.75rem;--tw-bg-opacity: 1;background-color:rgba(251,191,36,var(--tw-bg-opacity));background-position:center;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);background-image:url(https://cdn.jsdelivr.net/gh/gl-static/u3chat@v0.4.0/dist/assets/rank-bg.8c0e1ee0.png)}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-55367d64{position:absolute;top:0px;left:0px;width:100%;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-bg-opacity: .3;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity));z-index:10;display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding:.5rem .75rem}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-55367d64 .u3-cxx-eb978ca1 h3{font-weight:700!important}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-55367d64 .u3-cxx-cea3b1a4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-55367d64 .u3-cxx-cea3b1a4 .u3-cxx-fbc5e2fd{border-radius:9999px;border-width:1px;--tw-border-opacity: 1;border-color:rgba(255,255,255,var(--tw-border-opacity));padding:.125rem .75rem}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-55367d64 .u3-cxx-cea3b1a4 .u3-cxx-1836d1c0{border-color:transparent;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));font-weight:700;--tw-text-opacity: 1;color:rgba(217,119,6,var(--tw-text-opacity))}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-2e72d2ce{position:relative;height:100%;width:6rem;text-align:center}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-2e72d2ce .u3-cxx-c092ab8d{position:absolute;height:10rem;top:50%}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-2e72d2ce .u3-cxx-c092ab8d img{--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-2e72d2ce .u3-cxx-c092ab8d .u3-cxx-c52e7e80{border-radius:9999px;--tw-bg-opacity: 1;background-color:rgba(180,83,9,var(--tw-bg-opacity));padding:.125rem .375rem;font-size:.875rem;line-height:1.25rem;font-weight:700;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity));margin-top:.25rem;max-width:7rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-2e72d2ce .u3-cxx-c092ab8d .u3-cxx-e021896f{font-size:1rem;line-height:1.5rem;font-weight:700;--tw-text-opacity: 1;color:rgba(180,83,9,var(--tw-text-opacity))}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-2e72d2ce .u3-cxx-3968f8fa{margin-top:-9rem}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-2e72d2ce .u3-cxx-8ef5dbbe{margin-top:-5rem}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-f7a30161 .u3-cxx-2e72d2ce .u3-cxx-23f30cba{margin-top:-3.5rem;padding-left:.625rem}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-a571a93a{position:relative;width:50%;overflow-y:auto;border-radius:.375rem;padding-top:.75rem}@media (min-width: 480px){.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-a571a93a{padding-top:0;padding-left:1rem}}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-a571a93a .u3-cxx-434a3b0a{position:relative}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-a571a93a .u3-cxx-434a3b0a>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-a571a93a .u3-cxx-434a3b0a .u3-cxx-4261c8a5{display:flex;flex-direction:row;align-items:center}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-a571a93a .u3-cxx-434a3b0a .u3-cxx-4261c8a5>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-a571a93a .u3-cxx-434a3b0a .u3-cxx-4261c8a5{border-radius:.375rem;--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));padding:.5rem;--tw-shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-a571a93a .u3-cxx-434a3b0a .u3-cxx-4261c8a5:hover{--tw-bg-opacity: 1;background-color:rgba(254,243,199,var(--tw-bg-opacity));--tw-bg-opacity: .3}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-a571a93a .u3-cxx-434a3b0a .u3-cxx-4261c8a5 .u3-cxx-894fe5eb{width:2.5rem;flex-shrink:1;padding-left:.5rem;text-align:center;font-size:1.25rem;line-height:1.75rem;font-weight:700;font-style:italic;--tw-text-opacity: 1;color:rgba(115,115,115,var(--tw-text-opacity))}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-a571a93a .u3-cxx-434a3b0a .u3-cxx-4261c8a5 .u3-cxx-ddc4fb6c{width:3rem;flex-shrink:1;text-align:center}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-a571a93a .u3-cxx-434a3b0a .u3-cxx-4261c8a5 .u3-cxx-b1822956{flex:1 1 0%;font-size:1rem;line-height:1.5rem;font-weight:700}.u3-cxx-0ab94e09 .u3-cxx-37dabf16 .u3-cxx-a571a93a .u3-cxx-434a3b0a .u3-cxx-4261c8a5 .u3-cxx-490d4934{flex:none;padding-right:.5rem;font-weight:700;color:var(--u3-chat-primary-color)}\n",document.head.appendChild(i),System.register(["./vendor-legacy.75f81643.js","./index-legacy.f7d8aa93.js","./index-legacy.86592425.js"],(function(e){"use strict";var c,i,u,x,d,o,s,l,b,f,p,h,m,g,v,w;return{setters:[function(e){c=e.x,i=e.A,u=e.y,x=e.B,d=e.F,o=e.G},function(e){s=e.x,l=e.N,b=e.K,f=e.gI,p=e.U,h=e.b6},function(e){m=e.u,g=e.P,v=e.T,w=e.U}],execute:function(){var y={day:"1",week:"7",month:"30"};function N(e){return function(){var a,r=(a=regeneratorRuntime.mark((function a(r,c){var t,n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=y[e]||"",a.prev=1,a.next=4,s.getRanks(n);case 4:t=a.sent,a.next=11;break;case 7:return a.prev=7,a.t0=a.catch(1),l(a.t0,r,c),a.abrupt("return",{error:a.t0});case 11:return r(b([{type:f.RECEIVED_RANKS,data:{period:e,ranks:t.ranks}},{type:p.RECEIVED_PROFILES_LIST,data:t.users}])),a.abrupt("return",{data:t});case 13:case"end":return a.stop()}}),a,null,[[1,7]])})),function(){var e=this,r=arguments;return new Promise((function(c,t){var i=a.apply(e,r);function u(e){n(i,c,t,u,x,"next",e)}function x(e){n(i,c,t,u,x,"throw",e)}u(void 0)}))});return function(e,a){return r.apply(this,arguments)}}()}var k="u3-cxx-0ab94e09",P="u3-cxx-37dabf16",S="u3-cxx-f7a30161",I="u3-cxx-55367d64",O="u3-cxx-eb978ca1",j="u3-cxx-cea3b1a4",_="u3-cxx-fbc5e2fd",E="u3-cxx-1836d1c0",D="u3-cxx-2e72d2ce",R="u3-cxx-c092ab8d",T="u3-cxx-c52e7e80",C="u3-cxx-e021896f",z="u3-cxx-3968f8fa",A="u3-cxx-8ef5dbbe",U="u3-cxx-23f30cba",M="u3-cxx-a571a93a",L="u3-cxx-434a3b0a",B="u3-cxx-4261c8a5",F="u3-cxx-894fe5eb",V="u3-cxx-ddc4fb6c",H="u3-cxx-b1822956",K="u3-cxx-490d4934",G=[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11},{id:12},{id:13},{id:14},{id:15}],X=function(e){var a=(new Date).getTime();return c("div",{className:k,children:i("div",{className:P,children:[i("div",{className:S,children:[i("div",{className:I,children:[c("div",{className:O,children:c("h3",{children:"Bảng xếp hạng"})}),i("div",{className:j,children:[a>164097e7?c("button",{className:u(_,t({},E,"month"===e.period)),onClick:function(){return e.onSelect("month")},children:"Tháng"}):null,a>16387236e5?c("button",{className:u(_,t({},E,"week"===e.period)),onClick:function(){return e.onSelect("week")},children:"Tuần"}):null,c("button",{className:u(_,t({},E,"day"===e.period)),onClick:function(){return e.onSelect("day")},children:"Ngày"})]})]}),c("div",{className:u(D),children:i("div",{className:u(R,A),children:[c("div",{className:"u3-w-20 u3-h-20 u3-bg-gray-300 u3-rounded-full u3-animate-pulse"}),c("div",{className:u(T,"u3-h-6 u3-animate-pulse")}),c("div",{className:u(C,"u3-h-5 u3-mt-1 u3-bg-gray-200 u3-rounded u3-animate-pulse")})]})}),c("div",{className:u(D),children:i("div",{className:u(R,z),children:[c("div",{className:"u3-w-24 u3-h-24 u3-bg-gray-300 u3-rounded-full u3-animate-pulse"}),c("div",{className:u(T,"u3-h-6 u3-animate-pulse")}),c("div",{className:u(C,"u3-h-5 u3-mt-1 u3-bg-gray-200 u3-rounded u3-animate-pulse")})]})}),c("div",{className:u(D),children:i("div",{className:u(R,U),children:[c("div",{className:"u3-w-20 u3-h-20 u3-bg-gray-300 u3-rounded-full u3-animate-pulse"}),c("div",{className:u(T,"u3-h-6 u3-animate-pulse")}),c("div",{className:u(C,"u3-h-5 u3-mt-1 u3-bg-gray-200 u3-rounded u3-animate-pulse")})]})})]}),c("div",{className:u(M,"u3-overflow-hidden"),children:c("div",{className:u(L,"u3-overflow-hidden"),children:G.map((function(e,a){return a<3?c(x.exports.Fragment,{},"rank-".concat(a,"-").concat(e.id)):i("div",{className:B,children:[c("div",{className:F,children:a+1}),c("div",{className:u(V,"u3-pl-1"),children:c("div",{className:"u3-w-10 u3-h-10 u3-bg-gray-300 u3-rounded-full u3-animate-pulse"})}),c("div",{className:u(H,"u3-h-6 u3-bg-gray-300 u3-rounded u3-animate-pulse")}),c("div",{className:u(K,"u3-h-6 u3-w-8 u3-bg-gray-300 u3-rounded u3-animate-pulse")})]})}))})})]})})},$=function(e){var a=r(x.exports.useState("day"),2),n=a[0],d=a[1],o=r(x.exports.useState("day"),2),l=o[0],b=o[1],f=r(x.exports.useState(!0),2),p=f[0],h=f[1],y=m(),N=(new Date).getTime();function G(a){a!==n&&(h(!0),b(a),e.actions.fetchRanks(a))}if(x.exports.useEffect((function(){y.setTitle("Bảng Xếp Hạng"),e.actions.fetchRanks("day")}),[]),x.exports.useEffect((function(){d(e.period),h(!1)}),[e.period]),e.isLoading||p)return c(X,{period:l,onSelect:G});var $=e.ranksData[0],q=e.ranksData[1],J=e.ranksData[2];return c("div",{className:k,children:i("div",{className:P,children:[i("div",{className:S,children:[i("div",{className:I,children:[c("div",{className:O,children:c("h3",{children:"Bảng xếp hạng"})}),i("div",{className:j,children:[N>164097e7?c("button",{className:u(_,t({},E,"month"===n)),onClick:function(){return G("month")},children:"Tháng"}):null,N>16387236e5?c("button",{className:u(_,t({},E,"week"===n)),onClick:function(){return G("week")},children:"Tuần"}):null,c("button",{className:u(_,t({},E,"day"===n)),onClick:function(){return G("day")},children:"Ngày"})]})]}),c("div",{className:u(D),children:i("div",{className:u(R,A),children:[c(g,{src:s.getProfilePictureUrl(q.id,q.last_picture_update),size:"6xl",userId:q.id,hasMention:!1,username:q.username}),c("div",{className:T,children:c(v,{placement:"top",content:c(w,{userId:q.id,channelId:"",hideStatus:!0,disablePopover:!0}),children:c(w,{userId:q.id,channelId:"",hideStatus:!0,disablePopover:!0})})}),c("div",{className:C,children:q.score})]})}),c("div",{className:u(D),children:i("div",{className:u(R,z),children:[c(g,{src:s.getProfilePictureUrl($.id,$.last_picture_update),size:"7xl",userId:$.id,hasMention:!1,username:$.username}),c("div",{className:T,children:c(w,{userId:$.id,channelId:"",hideStatus:!0,disablePopover:!0})}),c("div",{className:C,children:$.score})]})}),c("div",{className:u(D),children:i("div",{className:u(R,U),children:[c(g,{src:s.getProfilePictureUrl(J.id,J.last_picture_update),size:"6xl",userId:J.id,hasMention:!1,username:J.username}),c("div",{className:T,children:c(w,{userId:J.id,channelId:"",hideStatus:!0,disablePopover:!0})}),c("div",{className:C,children:J.score})]})})]}),c("div",{className:M,children:c("div",{className:L,children:e.ranksData.map((function(e,a){return a<3?c(x.exports.Fragment,{},"rank-".concat(a,"-").concat(e.id)):i("div",{className:B,children:[c("div",{className:F,children:a+1}),c("div",{className:V,children:c(g,{src:s.getProfilePictureUrl(e.id,e.last_picture_update),size:"xl",userId:e.id,hasMention:!1,username:e.username})}),c("div",{className:H,children:c(w,{userId:e.id,channelId:"",hideStatus:!0,disablePopover:!0})}),c("div",{className:K,children:e.score})]})}))})})]})})};e("default",d((function(e){var r=function(e){return e.entities.ranks.ranks}(e),c=r.current||"",t=[];c&&(t=r[r.current]||[]);var n=!c;return!n&&t.length&&(t=t.map((function(r){return a(a({},h(e,r.user_id)),{},{score:r.score})}))),{ranksData:t,period:c,isLoading:n}}),(function(e){return{actions:o({fetchRanks:N},e)}}))($))}}}))}();
