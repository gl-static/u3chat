import{B as e,A as s,y as r,x as i,F as t,G as a}from"./vendor.5fb8f553.js";import{R as n,aY as c}from"./index.880e489e.js";import{b as o,d as l}from"./index.d6cbff67.js";var u="u3-cxx-60f4e87e",d="u3-cxx-8589d34b",f="u3-cxx-1d18b684",x="u3-cxx-8bc66879";const h=["/connect","/error","/initial"];var m=t=>{const[a,n]=e.exports.useState(!1),[c,l]=e.exports.useState(""),{currentUser:m,actions:p,location:v,history:g}=t,b=async()=>{""!==c&&l("");const{data:e,error:s}=await p.userConnect();if(e){const e=(r=v.search,new URLSearchParams(r).get("next")||"");return e&&-1===h.indexOf(e)?g.replace(e):y()}var r;s&&l(s.message)},y=async()=>{n(!0),await o(t.history)};return e.exports.useEffect((()=>{if(t.initializing||!m){if(t.initializing||m&&a)return()=>{};b()}else y()}),[]),s("div",{className:r(u),children:[s("div",{className:d,children:[s("svg",{viewBox:"-2000 -1000 4000 2000",children:[i("path",{id:"inf",d:"M354-354A500 500 0 1 1 354 354L-354-354A500 500 0 1 0-354 354z"}),i("use",{xlinkHref:"#inf",strokeDasharray:"1570 5143",strokeDashoffset:"6713px"})]}),i("p",{children:"Kết nối tài khoản"})]}),c?s("div",{className:f,children:[i("p",{children:c}),i("button",{className:x,onClick:b,children:"Thử lại"})]}):null]})};var p=t((function(e){return{initializing:e.requests.users.logout.status===n.SUCCESS||!e.storage.initialized,currentUser:c(e)}}),(function(e){return{actions:a({userConnect:l},e)}}))(m);export{p as default};
